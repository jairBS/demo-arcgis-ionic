"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8282],{721:(Mt,U,A)=>{A.d(U,{$X:()=>at,Gy:()=>X,P5:()=>K,SW:()=>bt,Tr:()=>vt,VV:()=>ht}),A(61320);const E=(g,y,b)=>[y,b],k=(g,y,b)=>[y,b,g[2]],w=(g,y,b)=>[y,b,g[2],g[3]];function ht(g){return g?{originPosition:"upper-left"===g.originPosition?"upperLeft":"lower-left"===g.originPosition?"lowerLeft":g.originPosition,scale:g.tolerance?[g.tolerance,g.tolerance]:[1,1],translate:null!=g.extent?[g.extent.xmin,g.extent.ymax]:[0,0]}:null}function G({scale:g,translate:y},b){return b*g[0]+y[0]}function S({scale:g,translate:y},b){return y[1]-b*g[1]}function q(g,y,b){const _=new Array(b.length);if(!b.length)return _;const[I,P]=g.scale;let C=G(g,b[0][0]),N=S(g,b[0][1]);_[0]=y(b[0],C,N);for(let T=1;T<b.length;T++){const z=b[T];C+=z[0]*I,N-=z[1]*P,_[T]=y(z,C,N)}return _}function W(g,y,b){const _=new Array(b.length);for(let I=0;I<b.length;I++)_[I]=q(g,y,b[I]);return _}function X(g,y,b,_,I){return y.x=function D({scale:g,translate:y},b){return Math.round((b-y[0])/g[0])}(g,b.x),y.y=function B({scale:g,translate:y},b){return Math.round((y[1]-b)/g[1])}(g,b.y),y!==b&&(_&&(y.z=b.z),I&&(y.m=b.m)),y}function bt(g,y,b,_,I){return null!=b&&(y.points=function tt(g,y,b,_){return q(g,b?_?w:k:_?k:E,y)}(g,b.points,_,I)),y}function vt(g,y,b,_,I){return null==b||(y.x=G(g,b.x),y.y=S(g,b.y),y!==b&&(_&&(y.z=b.z),I&&(y.m=b.m))),y}function at(g,y,b,_,I){return null!=b&&(y.rings=function nt(g,y,b,_){return W(g,b?_?w:k:_?k:E,y)}(g,b.rings,_,I)),y}function K(g,y,b,_,I){return null!=b&&(y.paths=function et(g,y,b,_){return W(g,b?_?w:k:_?k:E,y)}(g,b.paths,_,I)),y}},28282:(Mt,U,A)=>{A.r(U),A.d(U,{default:()=>V});var ut=A(69690),$=A(33894),E=A(32034),k=A(23743),ct=(A(3248),A(79139),A(2296),A(51995),A(721),A(6434),A(29141));A(69287),A(58701);class dt{constructor(f,x,v){this.uid=f,this.geometry=x,this.attributes=v,this.visible=!0,this.objectId=null,this.centroid=null}}class yt{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}var g=A(31732);function y(d,f){return f}function b(d,f,x,v){switch(x){case 0:return C(d,f+v,0);case 1:return"lowerLeft"===d.originPosition?C(d,f+v,1):function N({translate:d,scale:f},x,v){return d[v]-x*f[v]}(d,f+v,1)}}function _(d,f,x,v){return 2===x?C(d,f,2):b(d,f,x,v)}function I(d,f,x,v){return 2===x?C(d,f,3):b(d,f,x,v)}function P(d,f,x,v){return 3===x?C(d,f,3):_(d,f,x,v)}function C({translate:d,scale:f},x,v){return d[v]+x*f[v]}class T{constructor(f){this._options=f,this.geometryTypes=["point","multipoint","polyline","polygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=y,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{},this._missingAttributes=[]}get missingAttributes(){return this._missingAttributes}createFeatureResult(){return new yt}finishFeatureResult(f){if(this._options.applyTransform&&(f.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!f.hasZ)return;const x=(0,k.N)(f.geometryType,this._options.sourceSpatialReference,f.spatialReference);if(null!=x)for(const v of f.features)x(v.geometry)}createSpatialReference(){return new E.A}addField(f,x){f.fields.push(ct.A.fromJSON(x));const v=f.fields.map(M=>M.name);this._attributesConstructor=function(){for(const M of v)this[M]=null}}addFeature(f,x){(function K(d,f,x,v){if(null!=f&&f.size&&null!=x&&d)for(const M in d){if(!f.has(M))continue;const F=d[M];"string"==typeof F&&F.length>x&&(v(M),d[M]="")}})(x.attributes,this._options.maxStringAttributeFields,this._options.maxStringAttributeLength,F=>{const Z=x.attributes[f.objectIdFieldName];null!=Z&&this._missingAttributes.push({objectId:Z,attribute:F})}),f.features.push(x)}addQueryGeometry(f,x){const{queryGeometry:v,queryGeometryType:M}=x,F=(0,g.Ch)(v.clone(),v,!1,!1,this._transform),Z=(0,g.zv)(F,M,!1,!1);let j=null;switch(M){case"esriGeometryPoint":j="point";break;case"esriGeometryPolygon":j="polygon";break;case"esriGeometryPolyline":j="polyline";break;case"esriGeometryMultipoint":j="multipoint"}Z.type=j,f.queryGeometryType=M,f.queryGeometry=Z}prepareFeatures(f){var x;switch(this._transform=null!==(x=f.transform)&&void 0!==x?x:null,this._options.applyTransform&&f.transform&&(this._applyTransform=this._deriveApplyTransform(f)),this._vertexDimension=2,f.hasZ&&this._vertexDimension++,f.hasM&&this._vertexDimension++,f.geometryType){case"point":this.addCoordinate=(v,M,F)=>this.addCoordinatePoint(v,M,F),this.createGeometry=v=>this.createPointGeometry(v);break;case"polygon":this.addCoordinate=(v,M,F)=>this._addCoordinatePolygon(v,M,F),this.createGeometry=v=>this._createPolygonGeometry(v);break;case"polyline":this.addCoordinate=(v,M,F)=>this._addCoordinatePolyline(v,M,F),this.createGeometry=v=>this._createPolylineGeometry(v);break;case"multipoint":this.addCoordinate=(v,M,F)=>this._addCoordinateMultipoint(v,M,F),this.createGeometry=v=>this._createMultipointGeometry(v);break;case"mesh":case"extent":break;default:(0,ut.Xb)(f.geometryType)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,new dt((0,$.c)(),null,new this._attributesConstructor)}allocateCoordinates(){const f=this._lengths.reduce((x,v)=>x+v,0);this._coordinateBuffer=new Float64Array(f*this._vertexDimension),this._coordinateBufferPtr=0}addLength(f,x){0===this._lengths.length&&(this._toAddInCurrentPath=x),this._lengths.push(x)}createPointGeometry(f){const x={type:"point",x:0,y:0,spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM};return x.hasZ&&(x.z=0),x.hasM&&(x.m=0),x}addCoordinatePoint(f,x,v){const M=this._transform?this._applyTransform(this._transform,x,v,0):x;if(null!=M)switch(v){case 0:f.x=M;break;case 1:f.y=M;break;case 2:f.hasZ?f.z=M:f.m=M;break;case 3:f.m=M}}_transformPathLikeValue(f,x){let v=0;return x<=1&&(v=this._previousCoordinate[x],this._previousCoordinate[x]+=f),this._transform?this._applyTransform(this._transform,f,x,v):f}_addCoordinatePolyline(f,x,v){this._dehydratedAddPointsCoordinate(f.paths,x,v)}_addCoordinatePolygon(f,x,v){this._dehydratedAddPointsCoordinate(f.rings,x,v)}_addCoordinateMultipoint(f,x,v){0===v&&f.points.push([]);const M=this._transformPathLikeValue(x,v);f.points[f.points.length-1].push(M)}_createPolygonGeometry(f){return{type:"polygon",rings:[[]],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}}_createPolylineGeometry(f){return{type:"polyline",paths:[[]],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}}_createMultipointGeometry(f){return{type:"multipoint",points:[],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}}_dehydratedAddPointsCoordinate(f,x,v){0===v&&0==this._toAddInCurrentPath--&&(f.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const M=this._transformPathLikeValue(x,v),Z=this._coordinateBuffer;if(Z){if(0===v){const j=this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT;f[f.length-1].push(new Float64Array(Z.buffer,j,this._vertexDimension))}Z[this._coordinateBufferPtr++]=M}}_deriveApplyTransform(f){const{hasZ:x,hasM:v}=f;return x&&v?P:x?_:v?I:b}}var z=A(78304);class O{_parseFeatureQuery(f){var x;const v=new T(f.options),M=(0,z.m)(f.buffer,v),F={...M,spatialReference:null===(x=M.spatialReference)||void 0===x?void 0:x.toJSON(),fields:M.fields?M.fields.map(Z=>Z.toJSON()):void 0,missingAttributes:v.missingAttributes};return Promise.resolve(F)}}function V(){return new O}}}]);