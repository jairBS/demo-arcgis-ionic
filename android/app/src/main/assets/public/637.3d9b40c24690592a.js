"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[637],{29430:(G,B,o)=>{o.d(B,{$:()=>u,IB:()=>x,N2:()=>p,RH:()=>T,Ws:()=>F,ZD:()=>A});var y=o(68677);function x(s){return"r"in s&&"g"in s&&"b"in s}function D(s){return"h"in s&&"s"in s&&"v"in s}function E(s){return"l"in s&&"a"in s&&"b"in s}function I(s){return"l"in s&&"c"in s&&"h"in s}o(53781),o(89141);const K=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],V=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function W(s,_){const g=[];let O,P;if(s[0].length!==_.length)throw new Error("dimensions do not match");const U=s.length,S=s[0].length;let N=0;for(O=0;O<U;O++){for(N=0,P=0;P<S;P++)N+=s[O][P]*_[P];g.push(N)}return g}function C(s){const _=[s.r/255,s.g/255,s.b/255].map(O=>O<=.04045?O/12.92:((O+.055)/1.055)**2.4),g=W(K,_);return{x:100*g[0],y:100*g[1],z:100*g[2]}}function M(s){const _=W(V,[s.x/100,s.y/100,s.z/100]).map(g=>Math.min(1,Math.max(g<=.0031308?12.92*g:1.055*g**.4166666666666667-.055,0)));return{r:Math.round(255*_[0]),g:Math.round(255*_[1]),b:Math.round(255*_[2])}}function b(s){const _=[s.x/95.047,s.y/100,s.z/108.883].map(g=>g>.008856451679035631?g**.3333333333333333:7.787037037037035*g+.13793103448275862);return{l:116*_[1]-16,a:500*(_[0]-_[1]),b:200*(_[1]-_[2])}}function c(s){const _=s.l,g=[(_+16)/116+s.a/500,(_+16)/116,(_+16)/116-s.b/200].map(O=>O>6/29?O**3:3*(6/29)**2*(O-4/29));return{x:95.047*g[0],y:100*g[1],z:108.883*g[2]}}function u(s){return x(s)?s:I(s)?function a(s){return M(c(function i(s){const g=s.c,O=s.h;return{l:s.l,a:g*Math.cos(O),b:g*Math.sin(O)}}(s)))}(s):E(s)?function h(s){return M(c(s))}(s):function L(s){return"x"in s&&"y"in s&&"z"in s}(s)?M(s):D(s)?function d(s){const _=(s.h+360)%360/60,O=s.v/100*255,P=O*(s.s/100),U=P*(1-Math.abs(_%2-1));let S;switch(Math.floor(_)){case 0:S={r:P,g:U,b:0};break;case 1:S={r:U,g:P,b:0};break;case 2:S={r:0,g:P,b:U};break;case 3:S={r:0,g:U,b:P};break;case 4:S={r:U,g:0,b:P};break;case 5:case 6:S={r:P,g:0,b:U};break;default:S={r:0,g:0,b:0}}return S.r=Math.round(S.r+O-P),S.g=Math.round(S.g+O-P),S.b=Math.round(S.b+O-P),S}(s):s}function p(s){return D(s)?s:function f(s){const _=s.r,g=s.g,O=s.b,P=Math.max(_,g,O),U=P-Math.min(_,g,O);let S=P,N=0===U?0:P===_?(g-O)/U%6:P===g?(O-_)/U+2:(_-g)/U+4,z=0===U?0:U/S;return N<0&&(N+=6),N*=60,z*=100,S*=100/255,{h:N,s:z,v:S}}(u(s))}function A(s){return E(s)?s:function l(s){return b(C(s))}(u(s))}function T(s){return I(s)?s:function v(s){return function m(s){const _=s.l,g=s.a,O=s.b,P=Math.sqrt(g*g+O*O);let U=Math.atan2(O,g);return U=U>0?U:U+2*Math.PI,{l:_,c:P,h:U}}(b(C(s)))}(u(s))}function F(s,_){const{r:g,g:O,b:P}=null!=_&&_.ignoreAlpha?s:function H(s){let{r:_,g,b:O,a:P}=s;return P<1&&(_=Math.round(P*_+255*(1-P)),g=Math.round(P*g+255*(1-P)),O=Math.round(P*O+255*(1-P))),new y.A({r:_,g,b:O})}(s);return.2126*g+.7152*O+.0722*P}var R,s;(s=R||(R={}))[s.Low=160]="Low",s[s.High=225]="High"},40856:(G,B,o)=>{o.d(B,{X_:()=>x,i1:()=>D,zx:()=>K});var y=o(69287),j=o(82663);const w=96;function x(C,M){const b=M||C.extent,c=C.width,m=(0,j.GA)(null==b?void 0:b.spatialReference);return b&&c?b.width/c*m*j.dy*w:0}function D(C,M){return C/((0,j.GA)(M)*j.dy*w)}function K(C,M,b){return function V(C,M){return 0===M||(0,y.Sp)(C,M)||C<M}(C,M)&&function W(C,M){return 0===M||(0,y.Sp)(C,M)||C>M}(C,b)}},1684:(G,B,o)=>{o.d(B,{$:()=>c});var y=o(10467),j=o(68677),w=o(29430),x=o(77806),D=o(48218),E=o(32117),I=o(5922),L=o(35150),K=o(721);function V(m,i,l,h,v){if(null==m)return null;const a=m.referencesGeometry()&&v?function C(m,i,l){const{transform:h,hasZ:v,hasM:a}=l;W.has(i)||W.set(i,function M(m){const i={};switch(m){case"esriGeometryPoint":return(l,h,v,a)=>(0,K.Tr)(h,i,l,v,a);case"esriGeometryPolygon":return(l,h,v,a)=>(0,K.$X)(h,i,l,v,a);case"esriGeometryPolyline":return(l,h,v,a)=>(0,K.P5)(h,i,l,v,a);case"esriGeometryMultipoint":return(l,h,v,a)=>(0,K.SW)(h,i,l,v,a);default:return L.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new I.A("mapview-arcade",`Unable to handle geometryType: ${m}`)),l=>l}}(i));const f=W.get(i)(m.geometry,h,v,a);return{...m,geometry:f}}(i,h,v):i,f=m.repurposeFeature(a);try{return m.evaluate({...l,$feature:f},m.services)}catch(d){return L.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",d),null}}const W=new Map,b=m=>{if(!m)return[0,0,0,0];const{r:i,g:l,b:h,a:v}=m;return[i,l,h,255*v]};class c{static findApplicableOverrides(i,l,h){if(i&&l){if(i.primitiveName){let v=!1;for(const a of h)if(a.primitiveName===i.primitiveName){v=!0;break}if(!v)for(const a of l)a.primitiveName===i.primitiveName&&h.push(a)}switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(i.effects)for(const v of i.effects)c.findApplicableOverrides(v,l,h);if(i.symbolLayers)for(const v of i.symbolLayers)c.findApplicableOverrides(v,l,h);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(i.effects)for(const v of i.effects)c.findApplicableOverrides(v,l,h);if(i.markerPlacement&&c.findApplicableOverrides(i.markerPlacement,l,h),"CIMVectorMarker"===i.type){if(i.markerGraphics)for(const v of i.markerGraphics)c.findApplicableOverrides(v,l,h),c.findApplicableOverrides(v.symbol,l,h)}else"CIMCharacterMarker"===i.type?c.findApplicableOverrides(i.symbol,l,h):"CIMHatchFill"===i.type?c.findApplicableOverrides(i.lineSymbol,l,h):"CIMPictureMarker"===i.type&&c.findApplicableOverrides(i.animatedSymbolProperties,l,h)}}}static findEffectOverrides(i,l){if(!i)return null;if("CIMGeometricEffectDashes"===i.type&&(0,E.K3)(i),!l||!i.primitiveName)return{type:"cim-effect-info",effect:i,overrides:[]};const h=i.primitiveName,v=[];for(const a of l)a.primitiveName===h&&v.push({...a,propertyName:(0,E.YF)(a.propertyName)});return{type:"cim-effect-info",effect:i,overrides:v}}static resolveSymbolOverrides(i,l,h,v,a,f,d){return(0,y.A)(function*(){if(null==i||!i.symbol)return null;let{symbol:u,primitiveOverrides:p}=i;const A=!!p;if(!A&&!v)return u;u=(0,x.o8)(u),p=(0,x.o8)(p);let T=!0;if(l||(l={attributes:{}},T=!1),A){if(T||(p=p.filter($=>{var H;return!(null!==(H=$.valueExpressionInfo)&&void 0!==H&&H.expression.includes("$feature"))})),d||(p=p.filter($=>{var H;return!(null!==(H=$.valueExpressionInfo)&&void 0!==H&&H.expression.includes("$view"))})),p.length>0){const $={spatialReference:h,fields:(0,E.O2)(l.attributes),geometryType:a};yield c.createRenderExpressions(p,$),c.evaluateOverrides(p,l,null!=a?a:"esriGeometryPoint",f,d)}c.applyOverrides(u,p)}return v&&c.applyDictionaryTextOverrides(u,l,v,null),u})()}static createRenderExpressions(i,l){return(0,y.A)(function*(){const h=[];for(const v of i){const a=v.valueExpressionInfo;if(!a||c._expressionToRenderExpression.has(a.expression))continue;const f=(0,D.Ad)(a.expression,l.spatialReference,l.fields);h.push(f),f.then(d=>c._expressionToRenderExpression.set(a.expression,d))}h.length>0&&(yield Promise.all(h))})()}static evaluateOverrides(i,l,h,v,a){const f={$view:{scale:null==a?void 0:a.scale}};for(const d of i){d.value&&"object"==typeof d.value&&(0,w.IB)(d.value)&&("Color"===d.propertyName||"StrokeColor"===d.propertyName)&&(d.value=b(d.value));const u=d.valueExpressionInfo;if(!u)continue;const p=c._expressionToRenderExpression.get(u.expression);p&&(d.value=V(p,l,f,h,v))}}static applyDictionaryTextOverrides(i,l,h,v,a="Normal"){if(null!=i&&i.type)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const f=i.symbolLayers;if(!f)return;for(const d of f)d&&"CIMVectorMarker"===d.type&&c.applyDictionaryTextOverrides(d,l,h,v,"CIMTextSymbol"===i.type?i.textCase:a)}break;case"CIMVectorMarker":{const f=i.markerGraphics;if(!f)return;for(const d of f)d&&c.applyDictionaryTextOverrides(d,l,h,v)}break;case"CIMMarkerGraphic":{const f=i.textString;if(f&&f.includes("[")){const d=(0,E.gQ)(f,h);i.textString=(0,E.FM)(l,d,v,a)}}}}static applyOverrides(i,l,h,v){if(i.primitiveName)for(const a of l)if(a.primitiveName===i.primitiveName){const f=(0,E.YF)(a.propertyName);if(v&&v.push({cim:i,nocapPropertyName:f,value:i[f]}),h){let d=!1;for(const u of h)u.primitiveName===i.primitiveName&&(d=!0);d||h.push(a)}null!=a.value&&(i[f]=a.value)}switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(i.effects)for(const a of i.effects)c.applyOverrides(a,l,h,v);if(i.symbolLayers)for(const a of i.symbolLayers)c.applyOverrides(a,l,h,v);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(i.effects)for(const a of i.effects)c.applyOverrides(a,l,h,v);if("CIMVectorMarker"===i.type&&i.markerGraphics)for(const a of i.markerGraphics)c.applyOverrides(a,l,h,v),c.applyOverrides(a.symbol,l,h,v)}}static restoreOverrides(i){for(const l of i)l.cim[l.nocapPropertyName]=l.value}static buildOverrideKey(i){let l="";for(const h of i)void 0!==h.value&&(l+=`${h.primitiveName}${h.propertyName}${JSON.stringify(h.value)}`);return l}static toValue(i,l){if("DashTemplate"===i)return l.split(" ").map(h=>Number(h));if("Color"===i){const h=new j.A(l).toRgba();return h[3]*=255,h}return l}}c._expressionToRenderExpression=new Map},29459:(G,B,o)=>{o.d(B,{e:()=>f});var c,y=o(8189),j=o(31178),w=o(5605),x=o(5922),D=o(48900),E=o(85211),V=(o(3248),o(35150),o(40707),o(76576)),W=o(40856),C=o(88766),M=o(60746),b=o(66727);let m=c=class extends b.A{constructor(d){super(d),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new c({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,y._)([(0,E.MZ)({type:[Number,String],json:{write:!0}})],m.prototype,"left",void 0),(0,y._)([(0,E.MZ)({type:[Number,String],json:{write:!0}})],m.prototype,"right",void 0),(0,y._)([(0,E.MZ)({type:[Number,String],json:{write:!0}})],m.prototype,"top",void 0),(0,y._)([(0,E.MZ)({type:[Number,String],json:{write:!0}})],m.prototype,"bottom",void 0),m=c=(0,y._)([(0,V.$)("esri.views.layers.support.ClipRect")],m);const i=m;var l=o(75644);let h=class extends b.A{constructor(d){super(d),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,y._)([(0,E.MZ)({type:[[[Number]]],json:{write:!0}})],h.prototype,"path",void 0),h=(0,y._)([(0,V.$)("esri.views.layers.support.Path")],h);const a=j.A.ofType({key:"type",base:null,typeMap:{rect:i,path:h,geometry:l.A}}),f=d=>{let u=class extends d{constructor(){super(...arguments),this.attached=!1,this.clips=new a,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){var p,A,T,$;const H=null===(p=null===(A=this.view)||void 0===A?void 0:A.spatialReferenceLocked)||void 0===p||p;(null===(T=this.view)||void 0===T?void 0:T.spatialReference)&&H&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new x.A("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new C.m),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,D.wB)(()=>this.suspended,R=>{this.container&&(this.container.visible=!R)},D.pc),(0,D.wB)(()=>this.updateSuspended,R=>{this.view&&!R&&this.updateRequested&&this.view.requestUpdate()},D.pc),(0,D.wB)(()=>{var R,Z;return null!==(R=null===(Z=this.layer)||void 0===Z?void 0:Z.opacity)&&void 0!==R?R:1},R=>{this.container&&(this.container.opacity=R)},D.pc),(0,D.wB)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",R=>{this.container&&(this.container.blendMode=R)},D.pc),(0,D.wB)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,R=>{this.container&&(this.container.effect=R)},D.pc),(0,D.wB)(()=>this.highlightOptions,R=>this.container.highlightOptions=R,D.pc),(0,D.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},D.pc),(0,D.wB)(()=>{var R;return{scale:null===(R=this.view)||void 0===R?void 0:R.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}},({scale:R})=>{const Z=null!=R&&this.isVisibleAtScale(R);Z!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",Z)},D.pc)],"constructor"),null!==($=this.view)&&void 0!==$&&$.whenLayerView?this.view.whenLayerView(this.layer).then(R=>{R===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){var p;const A=null===(p=this.view)||void 0===p?void 0:p.spatialReference;return null==A||this.supportsSpatialReference(A)}get updateSuspended(){return this.suspended}get updating(){var p;return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(null===(p=this._updatingHandles)||void 0===p||!p.updating))}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(p){const A=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!A)return!0;const{minScale:T,maxScale:$}=A;return(0,W.zx)(p,T,$)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(p){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",p),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(p))):this.updateRequested=!1}hitTest(p,A){return Promise.resolve(null)}supportsSpatialReference(p){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const p=super.getSuspendInfo(),A=!this.spatialReferenceSupported,T=this.visibleAtCurrentScale;return A&&(p.spatialReferenceNotSupported=A),T&&(p.outsideScaleRange=T),p}addAttachHandles(p){this.addHandles(p,"attach")}};return(0,y._)([(0,E.MZ)()],u.prototype,"attached",void 0),(0,y._)([(0,E.MZ)({type:a,set(p){const A=(0,w.V)(p,this._get("clips"),a);this._set("clips",A)}})],u.prototype,"clips",void 0),(0,y._)([(0,E.MZ)()],u.prototype,"container",void 0),(0,y._)([(0,E.MZ)()],u.prototype,"moving",void 0),(0,y._)([(0,E.MZ)({readOnly:!0})],u.prototype,"spatialReferenceSupported",null),(0,y._)([(0,E.MZ)({readOnly:!0})],u.prototype,"updateParameters",void 0),(0,y._)([(0,E.MZ)()],u.prototype,"updateRequested",void 0),(0,y._)([(0,E.MZ)()],u.prototype,"updateSuspended",null),(0,y._)([(0,E.MZ)()],u.prototype,"updating",null),(0,y._)([(0,E.MZ)()],u.prototype,"view",void 0),(0,y._)([(0,E.MZ)({readOnly:!0})],u.prototype,"visibleAtCurrentScale",void 0),(0,y._)([(0,E.MZ)({type:M.A})],u.prototype,"highlightOptions",void 0),u=(0,y._)([(0,V.$)("esri.views.2d.layers.LayerView2D")],u),u}},57074:(G,B,o)=>{o.r(B),o.d(B,{default:()=>v});var y=o(10467),j=o(8189),w=o(81098),x=o(89952),D=o(31178),E=o(17715),I=o(48900),W=(o(35150),o(3248),o(5922),o(76576)),C=o(25735),M=o(29459),b=o(57052),c=o(80745),m=o(41474);const i="sublayers",l="layerView";let h=class extends((0,M.e)(m.A)){constructor(){super(...arguments),this._highlightIds=new Map}*graphicsViews(){null==this._graphicsViewsFeatureCollectionMap?null==this._graphicsViews?yield*[]:yield*this._graphicsViews:yield*this._graphicsViewsFeatureCollectionMap.keys()}hitTest(a,f){var d=this;return(0,y.A)(function*(){return Array.from(d.graphicsViews(),u=>{const p=u.hitTest(a);if(null!=d._graphicsViewsFeatureCollectionMap){const A=d._graphicsViewsFeatureCollectionMap.get(u);for(const T of p)!T.popupTemplate&&A.popupTemplate&&(T.popupTemplate=A.popupTemplate),T.sourceLayer=T.layer=d.layer}return p}).flat().map(u=>({type:"graphic",graphic:u,layer:d.layer,mapPoint:a}))})()}highlight(a){var f;let d;"number"==typeof a?d=[a]:a instanceof w.A?d=[a.uid]:Array.isArray(a)&&a.length>0?d="number"==typeof a[0]?a:a.map(p=>p&&p.uid):D.A.isCollection(a)&&(d=a.map(p=>p&&p.uid).toArray());const u=null===(f=d)||void 0===f?void 0:f.filter(x.Ru);return null!=u&&u.length?(this._addHighlight(u),(0,E.hA)(()=>this._removeHighlight(u))):(0,E.hA)()}update(a){for(const f of this.graphicsViews())f.processUpdate(a)}attach(){const a=this.view,f=()=>this.requestUpdate(),d=this.layer.featureCollections;if(null!=d&&d.length){this._graphicsViewsFeatureCollectionMap=new Map;for(const u of d){const p=new b.A(this.view.featuresTilingScheme),A=new c.A({view:a,graphics:u.source,renderer:u.renderer,requestUpdateCallback:f,container:p});this._graphicsViewsFeatureCollectionMap.set(A,u),this.container.addChild(A.container),this.addHandles([(0,I.wB)(()=>u.visible,T=>A.container.visible=T,I.Vh),(0,I.wB)(()=>A.updating,()=>this.notifyChange("updating"),I.Vh)],l)}this._updateHighlight()}else null!=this.layer.sublayers&&this.addHandles((0,I.on)(()=>this.layer.sublayers,"change",()=>this._createGraphicsViews(),{onListenerAdd:()=>this._createGraphicsViews(),onListenerRemove:()=>this._destroyGraphicsViews()}),i)}detach(){this._destroyGraphicsViews(),this.removeHandles(i)}moveStart(){}moveEnd(){}viewChange(){for(const a of this.graphicsViews())a.viewChange()}isUpdating(){for(const a of this.graphicsViews())if(a.updating)return!0;return!1}_destroyGraphicsViews(){this.container.removeAllChildren(),this.removeHandles(l);for(const a of this.graphicsViews())a.destroy();this._graphicsViews=null,this._graphicsViewsFeatureCollectionMap=null}_createGraphicsViews(){if(this._destroyGraphicsViews(),null==this.layer.sublayers)return;const a=[],f=this.view,d=()=>this.requestUpdate();for(const u of this.layer.sublayers){const p=new b.A(this.view.featuresTilingScheme);p.fadeTransitionEnabled=!0;const A=new c.A({view:f,graphics:u.graphics,requestUpdateCallback:d,container:p});this.addHandles([u.on("graphic-update",A.graphicUpdateHandler),(0,I.wB)(()=>u.visible,T=>A.container.visible=T,I.Vh),(0,I.wB)(()=>A.updating,()=>this.notifyChange("updating"),I.Vh)],l),this.container.addChild(A.container),a.push(A)}this._graphicsViews=a,this._updateHighlight()}_addHighlight(a){for(const f of a)if(this._highlightIds.has(f)){const d=this._highlightIds.get(f);this._highlightIds.set(f,d+1)}else this._highlightIds.set(f,1);this._updateHighlight()}_removeHighlight(a){for(const f of a)if(this._highlightIds.has(f)){const d=this._highlightIds.get(f)-1;0===d?this._highlightIds.delete(f):this._highlightIds.set(f,d)}this._updateHighlight()}_updateHighlight(){const a=Array.from(this._highlightIds.keys()),f=(0,C.$r)("highlight");for(const d of this.graphicsViews())d.setHighlight(a.map(u=>({objectId:u,highlightFlags:f})))}};h=(0,j._)([(0,W.$)("esri.views.2d.layers.MapNotesLayerView2D")],h);const v=h},57052:(G,B,o)=>{o.d(B,{A:()=>x});var y=o(69473),j=o(57641),w=o(62931);class x extends j.f{renderChildren(E){for(const I of this.children)I.setTransform(E.state);if(super.renderChildren(E),this.attributeView.update(),this.children.some(I=>I.hasData)){switch(E.drawPhase){case y.S5.MAP:this._renderChildren(E,y.RI.All);break;case y.S5.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(E)}this._boundsRenderer&&this._boundsRenderer.doRender(E)}}_renderHighlight(E){(0,w.lB)(E,!1,I=>{this._renderChildren(I,y.RI.Highlight)})}}},41474:(G,B,o)=>{o.d(B,{A:()=>b});var y=o(8189),j=o(98877),w=o(42425),x=o(3046),D=o(35150),E=o(11432),I=o(64261),L=o(85211),W=(o(3248),o(40707),o(76576)),C=o(56985);let M=class extends((0,x.sA)((0,I.g)(w.A.EventedMixin(j.A)))){constructor(c){super(c),this._updatingHandles=new C.U,this.layer=null,this.parent=null}initialize(){this.when().catch(c=>{if("layerview:create-error"!==c.name){var m;const i=this.layer&&this.layer.id||"no id",l=(null===(m=this.layer)||void 0===m?void 0:m.title)||"no title";D.A.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${l}', id: '${i}')`,c)}})}destroy(){this._updatingHandles=(0,E.pR)(this._updatingHandles)}get fullOpacity(){var c,m,i,l;return(null!==(c=null===(m=this.layer)||void 0===m?void 0:m.opacity)&&void 0!==c?c:1)*(null!==(i=null===(l=this.parent)||void 0===l?void 0:l.fullOpacity)&&void 0!==i?i:1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var c;return!this.suspended&&!0===(null===(c=this.layer)||void 0===c?void 0:c.legendEnabled)}get updating(){var c;return!!(null!==(c=this._updatingHandles)&&void 0!==c&&c.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var c;return!0===(null===(c=this.layer)||void 0===c?void 0:c.visible)}set visible(c){this._overrideIfSome("visible",c)}canResume(){var c,m,i;return this.visible&&(null===(c=this.layer)||void 0===c?void 0:c.loaded)&&!(null!==(m=this.parent)&&void 0!==m&&m.suspended)&&(null===(i=this.view)||void 0===i?void 0:i.ready)||!1}getSuspendInfo(){var c,m;const i=null!==(c=this.parent)&&void 0!==c&&c.suspended?this.parent.suspendInfo:{};return null!==(m=this.view)&&void 0!==m&&m.ready||(i.viewNotReady=!0),this.layer&&this.layer.loaded||(i.layerNotLoaded=!0),this.visible||(i.layerInvisible=!0),i}isUpdating(){return!1}};(0,y._)([(0,L.MZ)()],M.prototype,"fullOpacity",null),(0,y._)([(0,L.MZ)()],M.prototype,"layer",void 0),(0,y._)([(0,L.MZ)()],M.prototype,"parent",void 0),(0,y._)([(0,L.MZ)({readOnly:!0})],M.prototype,"suspended",null),(0,y._)([(0,L.MZ)({readOnly:!0})],M.prototype,"suspendInfo",null),(0,y._)([(0,L.MZ)({readOnly:!0})],M.prototype,"legendEnabled",null),(0,y._)([(0,L.MZ)({type:Boolean,readOnly:!0})],M.prototype,"updating",null),(0,y._)([(0,L.MZ)({readOnly:!0})],M.prototype,"updatingProgress",null),(0,y._)([(0,L.MZ)()],M.prototype,"visible",null),(0,y._)([(0,L.MZ)()],M.prototype,"view",void 0),M=(0,y._)([(0,W.$)("esri.views.layers.LayerView")],M);const b=M},66727:(G,B,o)=>{o.d(B,{A:()=>K});var y=o(8189),j=o(71065),w=o(85211),I=(o(3248),o(35150),o(40707),o(76576));let L=class extends j.oY{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,y._)([(0,w.MZ)({readOnly:!0})],L.prototype,"version",null),L=(0,y._)([(0,I.$)("esri.views.layers.support.ClipArea")],L);const K=L},75644:(G,B,o)=>{o.d(B,{A:()=>m});var M,y=o(8189),w=(o(21152),o(85211)),I=(o(3248),o(35150),o(40707),o(76576)),L=o(68643),K=o(61320),V=o(66727),W=o(28067),C=o(55861);const b={base:L.A,key:"type",typeMap:{extent:W.A,polygon:C.A}};let c=M=class extends V.A{constructor(i){super(i),this.type="geometry",this.geometry=null}clone(){var i,l;return new M({geometry:null!==(i=null===(l=this.geometry)||void 0===l?void 0:l.clone())&&void 0!==i?i:null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,y._)([(0,w.MZ)({types:b,json:{read:K.rS,write:!0}})],c.prototype,"geometry",void 0),c=M=(0,y._)([(0,I.$)("esri.views.layers.support.Geometry")],c);const m=c}}]);