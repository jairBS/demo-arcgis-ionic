"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2471],{82471:(mn,_e,h)=>{h.r(_e),h.d(_e,{executeScript:()=>yn,extend:()=>Ee,functionHelper:()=>gn});var p=h(10467),Be=h(50279),ve=h(48504),v=h(53787),i=h(55279),we=h(63145),m=h(61552),o=h(42686),Ie=h(63829),Me=h(78464),Re=h(98745),Oe=h(61501),b=h(39521),Fe=h(82050),Pe=h(35154),Le=h(61828),X=h(68643),xe=h(32034);function De(n){return n&&"function"==typeof n.then}const $=100;function E(n,e){return B.apply(this,arguments)}function B(){return(B=(0,p.A)(function*(n,e){const t=[];for(let r=0;r<e.arguments.length;r++)t.push(yield c(n,e.arguments[r]));return t})).apply(this,arguments)}function w(n,e,t){return I.apply(this,arguments)}function I(){return(I=(0,p.A)(function*(n,e,t){return!0===e.preparsed?t(n,null,e.arguments):t(n,e,yield E(n,e))})).apply(this,arguments)}class je extends m.fF{constructor(e,t){super(),this.definition=null,this.context=null,this.definition=e,this.context=t}createFunction(e){return(...t)=>{var r;const l={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,timeZone:null!==(r=this.context.timeZone)&&void 0!==r?r:null,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:e.depthCounter+1},globalScope:this.context.globalScope};if(l.depthCounter.depth>64)throw new i.D$(e,i.TX.MaximumCallDepth,null);return ge(this.definition,l,t,null)}}call(e,t){return D(e,t,(r,l,a)=>{var s;const u={spatialReference:e.spatialReference,services:e.services,console:e.console,libraryResolver:e.libraryResolver,exports:e.exports,lrucache:e.lrucache,timeZone:null!==(s=e.timeZone)&&void 0!==s?s:null,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:{depth:e.depthCounter.depth+1}};if(u.depthCounter.depth>64)throw new i.D$(e,i.TX.MaximumCallDepth,t);return ge(this.definition,u,a,t)})}marshalledCall(e,t,r,l){var a=this;return l(e,t,function(){var s=(0,p.A)(function*(u,f,d){var g;const T={spatialReference:e.spatialReference,globalScope:r.globalScope,depthCounter:{depth:e.depthCounter.depth+1},libraryResolver:e.libraryResolver,exports:e.exports,console:e.console,abortSignal:e.abortSignal,lrucache:e.lrucache,timeZone:null!==(g=e.timeZone)&&void 0!==g?g:null,interceptor:e.interceptor,localScope:{}};return d=d.map(C=>!(0,o.i)(C)||C instanceof m.CU?C:(0,m.o6)(C,e,l)),(0,m.o6)(yield ge(a.definition,T,d,t),r,l)});return function(u,f,d){return s.apply(this,arguments)}}())}}class x extends Be.x{constructor(e){super(e)}global(e){var t=this;return(0,p.A)(function*(){const r=t.executingContext.globalScope[e.toLowerCase()];if(r.valueset||(r.value=yield c(t.executingContext,r.node),r.valueset=!0),(0,o.i)(r.value)&&!(r.value instanceof m.CU)){const l=new m.CU;l.fn=r.value,l.parameterEvaluator=D,l.context=t.executingContext,r.value=l}return r.value})()}setGlobal(e,t){if((0,o.i)(t))throw new i.D$(null,i.TX.AssignModuleFunction,null);this.executingContext.globalScope[e.toLowerCase()]={value:t,valueset:!0,node:null}}hasGlobal(e){return void 0===this.executingContext.exports[e]&&(e=e.toLowerCase()),void 0!==this.executingContext.exports[e]}loadModule(e){var t=this;return(0,p.A)(function*(){var r,l;let a=e.spatialReference;null==a&&(a=new xe.A({wkid:102100})),t.moduleScope=Ce({},e.customfunctions,e.timeZone),t.executingContext={spatialReference:a,services:e.services,libraryResolver:new ve.a(e.libraryResolver._moduleSingletons,t.source.syntax.loadedModules),exports:{},abortSignal:null==e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:t.moduleScope,console:null!==(r=e.console)&&void 0!==r?r:Xe,lrucache:e.lrucache,timeZone:null!==(l=e.timeZone)&&void 0!==l?l:null,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}},yield c(t.executingContext,t.source.syntax)})()}}function D(n,e,t){return M.apply(this,arguments)}function M(){return(M=(0,p.A)(function*(n,e,t){if(!0===e.preparsed){const l=t(n,null,e.arguments);return De(l),l}const r=t(n,e,yield E(n,e));return De(r),r})).apply(this,arguments)}function c(n,e,t){return R.apply(this,arguments)}function R(){return R=(0,p.A)(function*(n,e,t){if(e.breakpoint&&!0!==t)return yield e.breakpoint(),c(n,e,!0);try{switch(null==e?void 0:e.type){case"VariableDeclarator":return yield function rn(n,e){return te.apply(this,arguments)}(n,e);case"ImportDeclaration":return yield function nn(n,e){return q.apply(this,arguments)}(n,e);case"ExportNamedDeclaration":return yield function tn(n,e){return ee.apply(this,arguments)}(n,e);case"VariableDeclaration":return yield be(n,e,0);case"BlockStatement":case"Program":return yield function Je(n,e){return H.apply(this,arguments)}(n,e);case"FunctionDeclaration":return yield function en(n,e){return J.apply(this,arguments)}(n,e);case"ReturnStatement":return yield function qe(n,e){return Y.apply(this,arguments)}(n,e);case"IfStatement":return yield function Ye(n,e){return V.apply(this,arguments)}(n,e);case"ExpressionStatement":return yield function Qe(n,e){return z.apply(this,arguments)}(n,e);case"UpdateExpression":return yield function Ve(n,e){return k.apply(this,arguments)}(n,e);case"AssignmentExpression":return yield function He(n,e){return G.apply(this,arguments)}(n,e);case"ForStatement":return yield function Ze(n,e){try{return null!==e.init?c(n,e.init).then(()=>new Promise((t,r)=>{S(n,e,{testResult:!0,lastAction:o.B},l=>{t(l)},l=>{r(l)},0)})):new Promise((t,r)=>{S(n,e,{testResult:!0,lastAction:o.B},l=>{t(l)},l=>{r(l)},0)})}catch(t){return Promise.reject(t)}}(n,e);case"WhileStatement":return yield function Ne(n,e){return P.apply(this,arguments)}(n,e);case"ForInStatement":return yield function ze(n,e){return Z.apply(this,arguments)}(n,e);case"BreakStatement":return o.C;case"EmptyStatement":return o.B;case"ContinueStatement":return o.D;case"TemplateElement":return yield function fn(n,e){return fe.apply(this,arguments)}(n,e);case"TemplateLiteral":return yield function dn(n,e){return pe.apply(this,arguments)}(n,e);case"Identifier":return yield ue(n,e);case"MemberExpression":return yield function on(n,e){return re.apply(this,arguments)}(n,e);case"Literal":return e.value;case"CallExpression":return yield function cn(n,e){return ce.apply(this,arguments)}(n,e);case"UnaryExpression":return yield function ln(n,e){return oe.apply(this,arguments)}(n,e);case"BinaryExpression":return yield function un(n,e){return le.apply(this,arguments)}(n,e);case"LogicalExpression":return yield function sn(n,e){return ae.apply(this,arguments)}(n,e);case"ArrayExpression":return yield function an(n,e){return ie.apply(this,arguments)}(n,e);case"ObjectExpression":return yield function Ue(n,e){return O.apply(this,arguments)}(n,e);case"Property":return yield function Ke(n,e){return F.apply(this,arguments)}(n,e);default:throw new i.D$(n,i.TX.Unrecognized,e)}}catch(r){throw(0,i.Nh)(n,e,r)}}),R.apply(this,arguments)}function O(){return(O=(0,p.A)(function*(n,e){const t=[];for(let s=0;s<e.properties.length;s++)t[s]=yield c(n,e.properties[s]);const r={},l=new Map;for(let s=0;s<t.length;s++){const u=t[s];if((0,o.i)(u.value))throw new i.D$(n,i.TX.NoFunctionInDictionary,e);if(!1===(0,o.c)(u.key))throw new i.D$(n,i.TX.KeyMustBeString,e);let f=u.key.toString();const d=f.toLowerCase();l.has(d)?f=l.get(d):l.set(d,f),r[f]=u.value===o.B?null:u.value}const a=new v.A(r);return a.immutable=!1,a})).apply(this,arguments)}function F(){return(F=(0,p.A)(function*(n,e){const t=yield c(n,e.value);return"Identifier"===e.key.type?{key:e.key.name,value:t}:{key:yield c(n,e.key),value:t}})).apply(this,arguments)}function P(){return(P=(0,p.A)(function*(n,e){const t={testResult:!0,lastAction:o.B};if(t.testResult=yield c(n,e.test),!1===t.testResult)return o.B;if(!0!==t.testResult)throw new i.D$(n,i.TX.BooleanConditionRequired,e);for(;!0===t.testResult&&(t.lastAction=yield c(n,e.body),t.lastAction!==o.C)&&!(t.lastAction instanceof o.z);)if(t.testResult=yield c(n,e.test),!0!==t.testResult&&!1!==t.testResult)throw new i.D$(n,i.TX.BooleanConditionRequired,e);return t.lastAction instanceof o.z?t.lastAction:o.B})).apply(this,arguments)}function Ae(n,e,t){return L.apply(this,arguments)}function L(){return(L=(0,p.A)(function*(n,e,t){const r=yield c(n,e.body);return t.lastAction=r,t.lastAction===o.C||t.lastAction instanceof o.z?(t.testResult=!1,t):(null!==e.update&&(yield c(n,e.update)),t)})).apply(this,arguments)}function j(){return(j=(0,p.A)(function*(n,e,t){if(null!==e.test){var r;const l=yield c(n,e.test);if(!0===(null===(r=n.abortSignal)||void 0===r?void 0:r.aborted))throw new i.D$(n,i.TX.Cancelled,e);if(t.testResult=l,!1===t.testResult)return t;if(!0!==t.testResult)throw new i.D$(n,i.TX.BooleanConditionRequired,e);return Ae(n,e,t)}return Ae(n,e,t)})).apply(this,arguments)}function S(n,e,t,r,l,a){try{(function We(n,e,t){return j.apply(this,arguments)})(n,e,t).then(()=>{try{!0===t.testResult?++a>$?(a=0,setTimeout(()=>{S(n,e,t,r,l,a)},0)):S(n,e,t,r,l,a):r(t.lastAction instanceof o.z?t.lastAction:o.B)}catch(s){l(s)}},s=>{l(s)})}catch(s){l(s)}}function U(n,e,t,r,l,a,s,u,f,d){try{if(r<=a)return void u(o.B);l.value="k"===s?t[a]:a,c(n,e.body).then(g=>{try{g instanceof o.z?u(g):g===o.C?u(o.B):++d>$?(d=0,setTimeout(()=>{U(n,e,t,r,l,a+1,s,u,f,d)},0)):U(n,e,t,r,l,a+1,s,u,f,d)}catch(T){f(T)}},g=>{f(g)})}catch(g){f(g)}}function K(n,e,t,r,l,a,s,u,f){try{if(t.length()<=l)return void s(o.B);r.value="k"===a?t.get(l):l,c(n,e.body).then(d=>{d instanceof o.z?s(d):d===o.C?s(o.B):++f>$?(f=0,setTimeout(()=>{K(n,e,t,r,l+1,a,s,u,f)},0)):K(n,e,t,r,l+1,a,s,u,f)},d=>{u(d)})}catch(d){u(d)}}function N(n,e,t,r,l,a){try{if(void 0===a&&(a="i"),0===t.length)return void r.resolve(o.B);U(n,e,t,t.length,l,0,a,s=>{r.resolve(s)},s=>{r.reject(s)},0)}catch(s){r.reject(s)}}function ke(n,e,t,r,l,a){try{if(void 0===a&&(a="i"),0===t.length)return void r.resolve(o.B);K(n,e,t,l,0,a,s=>{r.resolve(s)},s=>{r.reject(s)},0)}catch(s){r.reject(s)}}function W(n,e,t,r,l,a,s,u){try{n.next().then(f=>{try{if(null===f)a(o.B);else{const d=we.A.createFromGraphicLikeObject(f.geometry,f.attributes,r,e.timeZone);d._underlyingGraphic=f,l.value=d,c(e,t.body).then(g=>{try{g===o.C?a(o.B):g instanceof o.z?a(g):++u>$?(u=0,setTimeout(()=>{W(n,e,t,r,l,a,s,u)},0)):W(n,e,t,r,l,a,s,u)}catch(T){s(T)}},g=>{s(g)})}}catch(d){s(d)}},f=>{s(f)})}catch(f){s(f)}}function Z(){return(Z=(0,p.A)(function*(n,e){return new Promise((t,r)=>{c(n,e.right).then(l=>{try{let a=null;a="VariableDeclaration"===e.left.type?c(n,e.left):Promise.resolve(),a.then(()=>{try{let s="";if("VariableDeclaration"===e.left.type){const f=e.left.declarations[0].id;"Identifier"===f.type&&(s=f.name)}else"Identifier"===e.left.type&&(s=e.left.name);if(!s)throw new i.D$(n,i.TX.InvalidIdentifier,e);s=s.toLowerCase();let u=null;if(null!=n.localScope&&void 0!==n.localScope[s]&&(u=n.localScope[s]),null===u&&void 0!==n.globalScope[s]&&(u=n.globalScope[s]),null===u)return void r(new i.D$(n,i.TX.InvalidIdentifier,e));(0,o.o)(l)||(0,o.c)(l)?N(n,e,l,{reject:r,resolve:t},u):(0,o.q)(l)?ke(n,e,l,{reject:r,resolve:t},u):l instanceof v.A||(0,o.r)(l)?function Ge(n,e,t,r,l){try{N(n,e,t.keys(),r,l,"k")}catch(a){r.reject(a)}}(n,e,l,{reject:r,resolve:t},u):(0,o.u)(l)?W(l.iterator(n.abortSignal),n,e,l,u,f=>{t(f)},f=>{r(f)},0):N(n,e,[],{reject:r,resolve:t},u)}catch(s){r(s)}},r)}catch(a){r(a)}},r)})})).apply(this,arguments)}function k(){return(k=(0,p.A)(function*(n,e){const t=e.argument;if("MemberExpression"===t.type){const a={t:null},s=yield c(n,t.object);let u=null;a.t=s,!0===t.computed?u=yield c(n,t.property):"Identifier"===t.property.type&&(u=t.property.name);const f=a.t;let d;if((0,o.o)(f)){if(!(0,o.b)(u))throw new i.D$(n,i.TX.ArrayAccessorMustBeNumber,e);if(u<0&&(u=f.length+u),u<0||u>=f.length)throw new i.D$(n,i.TX.OutOfBounds,e);d=(0,o.g)(f[u]),f[u]="++"===e.operator?d+1:d-1}else if(f instanceof v.A){if(!1===(0,o.c)(u))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0!==f.hasField(u))throw new i.D$(n,i.TX.FieldNotFound,e,{key:u});d=(0,o.g)(f.field(u)),f.setField(u,"++"===e.operator?d+1:d-1)}else if(f instanceof x){if(!1===(0,o.c)(u))throw new i.D$(n,i.TX.ModuleAccessorMustBeString,e);if(!0!==f.hasGlobal(u))throw new i.D$(n,i.TX.ModuleExportNotFound,e);d=(0,o.g)(yield f.global(u)),f.setGlobal(u,"++"===e.operator?d+1:d-1)}else{if(!(0,o.r)(f))throw(0,o.q)(f)?new i.D$(n,i.TX.Immutable,e):new i.D$(n,i.TX.InvalidParameter,e);if(!1===(0,o.c)(u))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0!==f.hasField(u))throw new i.D$(n,i.TX.FieldNotFound,e,{key:u});d=(0,o.g)(f.field(u)),f.setField(u,"++"===e.operator?d+1:d-1)}return!1===e.prefix?d:"++"===e.operator?d+1:d-1}const r="Identifier"===e.argument.type?e.argument.name.toLowerCase():"";if(!r)throw new i.D$(n,i.TX.InvalidIdentifier,e);let l;if(null!=n.localScope&&void 0!==n.localScope[r])return l=(0,o.g)(n.localScope[r].value),n.localScope[r]={value:"++"===e.operator?l+1:l-1,valueset:!0,node:e},!1===e.prefix?l:"++"===e.operator?l+1:l-1;if(void 0!==n.globalScope[r])return l=(0,o.g)(n.globalScope[r].value),n.globalScope[r]={value:"++"===e.operator?l+1:l-1,valueset:!0,node:e},!1===e.prefix?l:"++"===e.operator?l+1:l-1;throw new i.D$(n,i.TX.InvalidIdentifier,e)})).apply(this,arguments)}function _(n,e,t,r,l){switch(e){case"=":return n===o.B?null:n;case"/=":return(0,o.g)(t)/(0,o.g)(n);case"*=":return(0,o.g)(t)*(0,o.g)(n);case"-=":return(0,o.g)(t)-(0,o.g)(n);case"+=":return(0,o.c)(t)||(0,o.c)(n)?(0,o.j)(t)+(0,o.j)(n):(0,o.g)(t)+(0,o.g)(n);case"%=":return(0,o.g)(t)%(0,o.g)(n);default:throw new i.D$(l,i.TX.UnsupportedOperator,r)}}function G(){return(G=(0,p.A)(function*(n,e){const t=e.left;if("MemberExpression"===t.type){const l=yield c(n,t.object);let a=null;if(!0===t.computed)a=yield c(n,t.property);else{if("Identifier"!==t.property.type)throw new i.D$(n,i.TX.InvalidIdentifier,e);a=t.property.name}const s=yield c(n,e.right);if((0,o.o)(l)){if(!(0,o.b)(a))throw new i.D$(n,i.TX.ArrayAccessorMustBeNumber,e);if(a<0&&(a=l.length+a),a<0||a>l.length)throw new i.D$(n,i.TX.OutOfBounds,e);if(a===l.length){if("="!==e.operator)throw new i.D$(n,i.TX.OutOfBounds,e);l[a]=_(s,e.operator,l[a],e,n)}else l[a]=_(s,e.operator,l[a],e,n)}else if(l instanceof v.A){if(!1===(0,o.c)(a))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0===l.hasField(a))l.setField(a,_(s,e.operator,l.field(a),e,n));else{if("="!==e.operator)throw new i.D$(n,i.TX.FieldNotFound,e,{key:a});l.setField(a,_(s,e.operator,null,e,n))}}else if(l instanceof x){if(!1===(0,o.c)(a))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0!==l.hasGlobal(a))throw new i.D$(n,i.TX.ModuleExportNotFound,e);l.setGlobal(a,_(s,e.operator,yield l.global(a),e,n))}else{if(!(0,o.r)(l))throw(0,o.q)(l)?new i.D$(n,i.TX.Immutable,e):new i.D$(n,i.TX.InvalidParameter,e);if(!1===(0,o.c)(a))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0===l.hasField(a))l.setField(a,_(s,e.operator,l.field(a),e,n));else{if("="!==e.operator)throw new i.D$(n,i.TX.FieldNotFound,e,{key:a});l.setField(a,_(s,e.operator,null,e,n))}}return o.B}const r=t.name.toLowerCase();if(null!=n.localScope&&void 0!==n.localScope[r]){const l=yield c(n,e.right);return n.localScope[r]={value:_(l,e.operator,n.localScope[r].value,e,n),valueset:!0,node:e.right},o.B}if(void 0!==n.globalScope[r]){const l=yield c(n,e.right);return n.globalScope[r]={value:_(l,e.operator,n.globalScope[r].value,e,n),valueset:!0,node:e.right},o.B}throw new i.D$(n,i.TX.InvalidIdentifier,e)})).apply(this,arguments)}function z(){return(z=(0,p.A)(function*(n,e){if("AssignmentExpression"===e.expression.type)return c(n,e.expression);if("CallExpression"===e.expression.type){const r=yield c(n,e.expression);return r===o.B?o.B:new o.A(r)}const t=yield c(n,e.expression);return t===o.B?o.B:new o.A(t)})).apply(this,arguments)}function V(){return(V=(0,p.A)(function*(n,e){const t=yield c(n,e.test);if(!0===t)return c(n,e.consequent);if(!1===t)return null!==e.alternate?c(n,e.alternate):o.B;throw new i.D$(n,i.TX.BooleanConditionRequired,e)})).apply(this,arguments)}function H(){return(H=(0,p.A)(function*(n,e){return Te(n,e,0)})).apply(this,arguments)}function Te(n,e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,p.A)(function*(n,e,t){if(t>=e.body.length)return o.B;const r=yield c(n,e.body[t]);return r instanceof o.z||r===o.C||r===o.D||t===e.body.length-1?r:Te(n,e,t+1)})).apply(this,arguments)}function Y(){return(Y=(0,p.A)(function*(n,e){if(null===e.argument)return new o.z(o.B);const t=yield c(n,e.argument);return new o.z(t)})).apply(this,arguments)}function J(){return(J=(0,p.A)(function*(n,e){const t=e.id.name.toLowerCase();return n.globalScope[t]={valueset:!0,node:null,value:new je(e,n)},o.B})).apply(this,arguments)}function q(){return(q=(0,p.A)(function*(n,e){var t,r;const l=e.specifiers[0].local.name.toLowerCase(),a=n.libraryResolver.loadLibrary(l);let s=null;return null!==(t=n.libraryResolver._moduleSingletons)&&void 0!==t&&t.has(a.uri)?s=n.libraryResolver._moduleSingletons.get(a.uri):(s=new x(a),yield s.loadModule(n),null===(r=n.libraryResolver._moduleSingletons)||void 0===r||r.set(a.uri,s)),n.globalScope[l]={value:s,valueset:!0,node:e},o.B})).apply(this,arguments)}function ee(){return(ee=(0,p.A)(function*(n,e){if(yield c(n,e.declaration),"FunctionDeclaration"===e.declaration.type)n.exports[e.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===e.declaration.type)for(const t of e.declaration.declarations)n.exports[t.id.name.toLowerCase()]="variable";return o.B})).apply(this,arguments)}function be(n,e,t){return ne.apply(this,arguments)}function ne(){return(ne=(0,p.A)(function*(n,e,t){return t>=e.declarations.length||(yield c(n,e.declarations[t]),t===e.declarations.length-1||(yield be(n,e,t+1))),o.B})).apply(this,arguments)}function te(){return(te=(0,p.A)(function*(n,e){let t=null;if(t=null===e.init?null:yield c(n,e.init),null!==n.localScope){if(t===o.B&&(t=null),"Identifier"!==e.id.type)throw new i.D$(n,i.TX.InvalidIdentifier,e);const l=e.id.name.toLowerCase();return null!=n.localScope&&(n.localScope[l]={value:t,valueset:!0,node:e.init}),o.B}if("Identifier"!==e.id.type)throw new i.D$(n,i.TX.InvalidIdentifier,e);const r=e.id.name.toLowerCase();return t===o.B&&(t=null),n.globalScope[r]={value:t,valueset:!0,node:e.init},o.B})).apply(this,arguments)}function re(){return(re=(0,p.A)(function*(n,e){const t=yield c(n,e.object);if(null===t)throw new i.D$(n,i.TX.MemberOfNull,e);if(!1===e.computed){if("Identifier"===e.property.type){if(t instanceof v.A||(0,o.r)(t))return t.field(e.property.name);if(t instanceof X.A)return(0,b.B)(t,e.property.name,n,e);if(t instanceof x){if(!t.hasGlobal(e.property.name))throw new i.D$(n,i.TX.InvalidIdentifier,e);return t.global(e.property.name)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}let r=yield c(n,e.property);if(t instanceof v.A||(0,o.r)(t)){if((0,o.c)(r))return t.field(r);throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if(t instanceof x){if((0,o.c)(r))return t.global(r);throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if(t instanceof X.A){if((0,o.c)(r))return(0,b.B)(t,r,n,e);throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if((0,o.o)(t)){if((0,o.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new i.D$(n,i.TX.OutOfBounds,e);return t[r]}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if((0,o.q)(t)){if((0,o.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length()+r),r>=t.length()||r<0)throw new i.D$(n,i.TX.OutOfBounds,e);return t.get(r)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if((0,o.c)(t)){if((0,o.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new i.D$(n,i.TX.OutOfBounds,e);return t[r]}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)})).apply(this,arguments)}function oe(){return(oe=(0,p.A)(function*(n,e){const t=yield c(n,e.argument);if((0,o.a)(t)){if("!"===e.operator)return!t;if("-"===e.operator)return-1*(0,o.g)(t);if("+"===e.operator)return 1*(0,o.g)(t);if("~"===e.operator)return~(0,o.g)(t);throw new i.D$(n,i.TX.UnsupportedUnaryOperator,e)}if("-"===e.operator)return-1*(0,o.g)(t);if("+"===e.operator)return 1*(0,o.g)(t);if("~"===e.operator)return~(0,o.g)(t);throw new i.D$(n,i.TX.UnsupportedUnaryOperator,e)})).apply(this,arguments)}function ie(){return(ie=(0,p.A)(function*(n,e){const t=[];for(let r=0;r<e.elements.length;r++)t.push(yield c(n,e.elements[r]));for(let r=0;r<t.length;r++){if((0,o.i)(t[r]))throw new i.D$(n,i.TX.NoFunctionInArray,e);t[r]===o.B&&(t[r]=null)}return t})).apply(this,arguments)}function le(){return(le=(0,p.A)(function*(n,e){const t=[];t[0]=yield c(n,e.left),t[1]=yield c(n,e.right);const r=t[0],l=t[1];switch(e.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,o.G)((0,o.g)(r),(0,o.g)(l),e.operator);case"==":return(0,o.F)(r,l);case"!=":return!(0,o.F)(r,l);case"<":case">":case"<=":case">=":return(0,o.E)(r,l,e.operator);case"+":return(0,o.c)(r)||(0,o.c)(l)?(0,o.j)(r)+(0,o.j)(l):(0,o.g)(r)+(0,o.g)(l);case"-":return(0,o.g)(r)-(0,o.g)(l);case"*":return(0,o.g)(r)*(0,o.g)(l);case"/":return(0,o.g)(r)/(0,o.g)(l);case"%":return(0,o.g)(r)%(0,o.g)(l);default:throw new i.D$(n,i.TX.UnsupportedOperator,e)}})).apply(this,arguments)}function ae(){return(ae=(0,p.A)(function*(n,e){const t=yield c(n,e.left);let r=null;if(!(0,o.a)(t))throw new i.D$(n,i.TX.LogicalExpressionOnlyBoolean,e);switch(e.operator){case"||":if(!0===t)return t;if(r=yield c(n,e.right),(0,o.a)(r))return r;throw new i.D$(n,i.TX.LogicExpressionOrAnd,e);case"&&":if(!1===t)return t;if(r=yield c(n,e.right),(0,o.a)(r))return r;throw new i.D$(n,i.TX.LogicExpressionOrAnd,e);default:throw new i.D$(n,i.TX.LogicExpressionOrAnd,e)}})).apply(this,arguments)}function ue(n,e){return se.apply(this,arguments)}function se(){return(se=(0,p.A)(function*(n,e){const t=e.name.toLowerCase();if(null!=n.localScope&&void 0!==n.localScope[t]){const r=n.localScope[t];if(!0===r.valueset)return r.value;if(null!==r.d)return r.d;r.d=c(n,r.node);const l=yield r.d;return r.value=l,r.valueset=!0,l}if(void 0!==n.globalScope[t]){const r=n.globalScope[t];if(!0===r.valueset)return r.value;if(null!==r.d)return r.d;r.d=c(n,r.node);const l=yield r.d;return r.value=l,r.valueset=!0,l}throw new i.D$(n,i.TX.InvalidIdentifier,e)})).apply(this,arguments)}function ce(){return(ce=(0,p.A)(function*(n,e){if("MemberExpression"===e.callee.type){const t=yield c(n,e.callee.object);if(!(t instanceof x))throw new i.D$(n,i.TX.FunctionNotFound,e);const r=!1===e.callee.computed?e.callee.property.name:yield c(n,e.callee.property);if(!t.hasGlobal(r))throw new i.D$(n,i.TX.FunctionNotFound,e);const l=yield t.global(r);if(!(0,o.i)(l))throw new i.D$(n,i.TX.CallNonFunction,e);return l.call(n,e)}if("Identifier"!==e.callee.type)throw new i.D$(n,i.TX.FunctionNotFound,e);if(null!=n.localScope&&void 0!==n.localScope[e.callee.name.toLowerCase()]){const t=n.localScope[e.callee.name.toLowerCase()];if((0,o.i)(t.value))return t.value.call(n,e);throw new i.D$(n,i.TX.CallNonFunction,e)}if(void 0!==n.globalScope[e.callee.name.toLowerCase()]){const t=n.globalScope[e.callee.name.toLowerCase()];if((0,o.i)(t.value))return t.value.call(n,e);throw new i.D$(n,i.TX.CallNonFunction,e)}throw new i.D$(n,i.TX.FunctionNotFound,e)})).apply(this,arguments)}function fe(){return(fe=(0,p.A)(function*(n,e){return e.value?e.value.cooked:""})).apply(this,arguments)}function pn(n,e,t){if((0,o.i)(n))throw new i.D$(e,i.TX.NoFunctionInTemplateLiteral,t);return n}function pe(){return(pe=(0,p.A)(function*(n,e){const t=[];for(let a=0;a<e.expressions.length;a++){const s=yield c(n,e.expressions[a]);t[a]=(0,o.j)(s)}let r="",l=0;for(const a of e.quasis)r+=a.value?a.value.cooked:"",!1===a.tail&&(r+=t[l]?pn(t[l],n,e):"",l++);return r})).apply(this,arguments)}const y={};function $e(n,e,t,r){return de.apply(this,arguments)}function de(){return(de=(0,p.A)(function*(n,e,t,r){const l=yield c(n,e.arguments[t]);if((0,o.F)(l,r))return c(n,e.arguments[t+1]);const a=e.arguments.length-t;return 1===a?c(n,e.arguments[t]):2===a?null:3===a?c(n,e.arguments[t+2]):$e(n,e,t+2,r)})).apply(this,arguments)}function Se(n,e,t,r){return he.apply(this,arguments)}function he(){return(he=(0,p.A)(function*(n,e,t,r){if(!0===r)return c(n,e.arguments[t+1]);if(e.arguments.length-t==3)return c(n,e.arguments[t+2]);const l=yield c(n,e.arguments[t+2]);if(!1===(0,o.a)(l))throw new i.D$(n,i.TX.ModuleExportNotFound,e.arguments[t+2]);return Se(n,e,t+2,l)})).apply(this,arguments)}function ge(n,e,t,r){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.A)(function*(n,e,t,r){const l=n.body;if(t.length!==n.params.length)throw new i.D$(e,i.TX.WrongNumberOfParameters,null);for(let s=0;s<t.length;s++){const u=n.params[s];"Identifier"===u.type&&null!=e.localScope&&(e.localScope[u.name.toLowerCase()]={d:null,value:t[s],valueset:!0,node:null})}const a=yield c(e,l);if(a instanceof o.z)return a.value;if(a===o.C)throw new i.D$(e,i.TX.UnexpectedToken,r);if(a===o.D)throw new i.D$(e,i.TX.UnexpectedToken,r);return a instanceof o.A?a.value:a})).apply(this,arguments)}(0,Re.d)(y,w),(0,Le.d)(y,w),(0,Fe.d)(y,w),(0,b.d)(y,w),(0,Pe.d)(y,w),(0,Oe.registerFunctions)({functions:y,compiled:!1,signatures:null,evaluateIdentifier:null,mode:"async",standardFunction:w,standardFunctionAsync:D}),y.iif=function(){var n=(0,p.A)(function*(e,t){(0,o.H)(null===t.arguments?[]:t.arguments,3,3,e,t);const r=yield c(e,t.arguments[0]);if(!1===(0,o.a)(r))throw new i.D$(e,i.TX.BooleanConditionRequired,t);return c(e,r?t.arguments[1]:t.arguments[2])});return function(e,t){return n.apply(this,arguments)}}(),y.defaultvalue=function(){var n=(0,p.A)(function*(e,t){(0,o.H)(null===t.arguments?[]:t.arguments,2,3,e,t);const r=yield c(e,t.arguments[0]);if(3===t.arguments.length){const a=yield c(e,t.arguments[1]);let s=[];if((0,o.q)(a))s=a.toArray();else{if(!(0,o.o)(a))throw new i.D$(e,i.TX.InvalidParameter,t);s=a}let u=r;if(null===u)return c(e,t.arguments[2]);for(const f of s)if((0,o.r)(u)){if(!1===(0,o.c)(f)||!u.hasField(f))return c(e,t.arguments[2]);u=u.field(f)}else if(u instanceof v.A){if(!1===(0,o.c)(f)||!u.hasField(f))return c(e,t.arguments[2]);u=u.field(f)}else if(u instanceof X.A){var l;if(!1===(0,o.c)(f)||(u=(0,b.B)(u,f,null,null,2),null===u)||"notfound"===(null===(l=u)||void 0===l?void 0:l.keystate))return c(e,t.arguments[2])}else if((0,o.o)(u)){if(!1===(0,o.b)(f)||(u=u[f],null==u))return c(e,t.arguments[2])}else if(!(0,o.q)(u)||!1===(0,o.b)(f)||(u=u.get(f),null==u))return c(e,t.arguments[2]);return u}return null==r||""===r?c(e,t.arguments[1]):r});return function(e,t){return n.apply(this,arguments)}}(),y.decode=function(){var n=(0,p.A)(function*(e,t){if(t.arguments.length<2)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);if(2===t.arguments.length)return c(e,t.arguments[1]);if((t.arguments.length-1)%2==0)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);return $e(e,t,1,yield c(e,t.arguments[0]))});return function(e,t){return n.apply(this,arguments)}}(),y.when=function(){var n=(0,p.A)(function*(e,t){if(t.arguments.length<3)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);if(t.arguments.length%2==0)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);const r=yield c(e,t.arguments[0]);if(!1===(0,o.a)(r))throw new i.D$(e,i.TX.BooleanConditionRequired,t.arguments[0]);return Se(e,t,0,r)});return function(e,t){return n.apply(this,arguments)}}();const hn={fixSpatialReference:o.x,parseArguments:E,standardFunction:w,standardFunctionAsync:D,evaluateIdentifier:ue};for(const n in y)y[n]={value:new m.UQ(y[n]),valueset:!0,node:null};const A=function(){};function Ce(n,e,t){const r=new A;null==n&&(n={}),null==e&&(e={});const l=new v.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});l.immutable=!1,r.textformatting={value:l,valueset:!0,node:null};for(const a in e)r[a]={value:new m.UQ(e[a]),native:!0,valueset:!0,node:null};for(const a in n)r[a]=n[a]&&"esri.Graphic"===n[a].declaredClass?{value:we.A.createFromGraphic(n[a],t),valueset:!0,node:null}:{value:n[a],valueset:!0,node:null};return r}function Xe(n){console.log(n)}A.prototype=y,A.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},A.prototype.pi={value:Math.PI,valueset:!0,node:null};const gn=hn;function Ee(n){const e={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:w,standardFunctionAsync:D,evaluateIdentifier:ue};for(let t=0;t<n.length;t++)n[t].registerFunctions(e);for(const t in e.functions)y[t]={value:new m.UQ(e.functions[t]),valueset:!0,node:null},A.prototype[t]=y[t];for(let t=0;t<e.signatures.length;t++)(0,Ie.WC)(e.signatures[t],"async")}function yn(n,e){return me.apply(this,arguments)}function me(){return(me=(0,p.A)(function*(n,e){var t,r;let l=e.spatialReference;null==l&&(l=new xe.A({wkid:102100}));let a=null;n.usesModules&&(a=new ve.a(new Map,n.loadedModules));const s=Ce(e.vars,e.customfunctions,e.timeZone),u={spatialReference:l,services:e.services,exports:{},libraryResolver:a,abortSignal:null==e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:s,console:null!==(t=e.console)&&void 0!==t?t:Xe,timeZone:null!==(r=e.timeZone)&&void 0!==r?r:null,lrucache:e.lrucache,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}};let f=yield c(u,n);if(f instanceof o.z&&(f=f.value),f instanceof o.A&&(f=f.value),f===o.B&&(f=null),f===o.C)throw new i.D$(u,i.TX.IllegalResult,null);if(f===o.D)throw new i.D$(u,i.TX.IllegalResult,null);if((0,o.i)(f))throw new i.D$(u,i.TX.IllegalResult,null);return f})).apply(this,arguments)}Ee([Me.A])}}]);