"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1978],{53781:(ee,q,d)=>{d.d(q,{a:()=>S,b:()=>x,c:()=>z,e:()=>K,f:()=>Z,g:()=>u,i:()=>Y,j:()=>y,l:()=>l,n:()=>N,s:()=>D,t:()=>p});var P=d(85952);function z(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function D(e,t,n,a,f){return e[0]=t,e[1]=n,e[2]=a,e[3]=f,e}function Z(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function W(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function L(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function A(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function x(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function F(e,t){const n=t[0]-e[0],a=t[1]-e[1],f=t[2]-e[2],g=t[3]-e[3];return Math.sqrt(n*n+a*a+f*f+g*g)}function C(e,t){const n=t[0]-e[0],a=t[1]-e[1],f=t[2]-e[2],g=t[3]-e[3];return n*n+a*a+f*f+g*g}function Y(e){const t=e[0],n=e[1],a=e[2],f=e[3];return Math.sqrt(t*t+n*n+a*a+f*f)}function y(e){const t=e[0],n=e[1],a=e[2],f=e[3];return t*t+n*n+a*a+f*f}function N(e,t){const n=t[0],a=t[1],f=t[2],g=t[3];let I=n*n+a*a+f*f+g*g;return I>0&&(I=1/Math.sqrt(I),e[0]=n*I,e[1]=a*I,e[2]=f*I,e[3]=g*I),e}function u(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function l(e,t,n,a){const f=t[0],g=t[1],I=t[2],_=t[3];return e[0]=f+a*(n[0]-f),e[1]=g+a*(n[1]-g),e[2]=I+a*(n[2]-I),e[3]=_+a*(n[3]-_),e}function p(e,t,n){const a=t[0],f=t[1],g=t[2],I=t[3];return e[0]=n[0]*a+n[4]*f+n[8]*g+n[12]*I,e[1]=n[1]*a+n[5]*f+n[9]*g+n[13]*I,e[2]=n[2]*a+n[6]*f+n[10]*g+n[14]*I,e[3]=n[3]*a+n[7]*f+n[11]*g+n[15]*I,e}function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function K(e,t){const n=e[0],a=e[1],f=e[2],g=e[3],I=t[0],_=t[1],j=t[2],Q=t[3],G=(0,P.FD)();return Math.abs(n-I)<=G*Math.max(1,Math.abs(n),Math.abs(I))&&Math.abs(a-_)<=G*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(f-j)<=G*Math.max(1,Math.abs(f),Math.abs(j))&&Math.abs(g-Q)<=G*Math.max(1,Math.abs(g),Math.abs(Q))}Object.freeze(Object.defineProperty({__proto__:null,add:Z,ceil:function B(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:z,copyVec3:function R(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},dist:F,distance:F,div:A,divide:A,dot:u,equals:K,exactEquals:S,floor:function k(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function w(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:Y,length:Y,lerp:l,max:function O(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},min:function h(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},mul:L,multiply:L,negate:function E(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:N,random:function i(e,t){const n=P.Ov;let a,f,g,I,_,j;t=t||1;do{a=2*n()-1,f=2*n()-1,_=a*a+f*f}while(_>=1);do{g=2*n()-1,I=2*n()-1,j=g*g+I*I}while(j>=1);const Q=Math.sqrt((1-_)/j);return e[0]=t*a,e[1]=t*f,e[2]=t*g*Q,e[3]=t*I*Q,e},round:function b(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:x,scaleAndAdd:function T(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e[3]=t[3]+n[3]*a,e},set:D,sqrDist:C,sqrLen:y,squaredDistance:C,squaredLength:y,str:function m(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:W,subtract:W,transformMat4:p,transformQuat:function M(e,t,n){const a=t[0],f=t[1],g=t[2],I=n[0],_=n[1],j=n[2],Q=n[3],G=Q*a+_*g-j*f,V=Q*f+j*a-I*g,X=Q*g+I*f-_*a,H=-I*a-_*f-j*g;return e[0]=G*Q+H*-I+V*-j-X*-_,e[1]=V*Q+H*-_+X*-I-G*-j,e[2]=X*Q+H*-j+G*-_-V*-I,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},28250:(ee,q,d)=>{function z(h){return null!=W(h)||null!=Z(h)}function R(h){return L.test(h)}function D(h){var O;return null!==(O=W(h))&&void 0!==O?O:Z(h)}function Z(h){const O=new Date(h);return function A(h,O){if(Number.isNaN(h.getTime()))return!1;let b=!0;if(k&&/\d+\W*$/.test(O)){const x=O.match(/[a-zA-Z]{2,}/);if(x){let T=!1,F=0;for(;!T&&F<=x.length;)T=!B.test(x[F]),F++;b=!T}}return b}(O,h)?Number.isNaN(O.getTime())?null:O.getTime()-6e4*O.getTimezoneOffset():null}function W(h){var O,b,x,T;const F=L.exec(h);if(null==F||!F.groups)return null;const C=F.groups,Y=+C.year,y=+C.month-1,E=+C.day,w=+(null!==(O=C.hours)&&void 0!==O?O:"0"),N=+(null!==(b=C.minutes)&&void 0!==b?b:"0"),u=+(null!==(x=C.seconds)&&void 0!==x?x:"0");if(w>23||N>59||u>59)return null;const l=null!==(T=C.ms)&&void 0!==T?T:"0",i=l?+l.padEnd(3,"0").substring(0,3):0;let p;return p=C.isUTC||!C.offsetSign?Date.UTC(Y,y,E,w,N,u,i):6e4*("+"===C.offsetSign?-1:1)*(60*+C.offsetHours+ +C.offsetMinutes)+Date.UTC(Y,y,E,w,N,u,i),Number.isNaN(p)?null:p}d.d(q,{Br:()=>R,Cq:()=>z,_U:()=>D});const L=(0,d(37027).A)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11}),B=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,k=!Number.isNaN(new Date("technology 10").getTime())},89141:(ee,q,d)=>{function P(){return[0,0,0,0]}function R(y,E,w,N){return[y,E,w,N]}function L(){return R(1,1,1,1)}function A(){return R(1,0,0,0)}function B(){return R(0,1,0,0)}function k(){return R(0,0,1,0)}function h(){return R(0,0,0,1)}d.d(q,{fA:()=>R,vt:()=>P});const b=L(),x=A(),T=B(),F=k(),C=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:b,UNIT_W:C,UNIT_X:x,UNIT_Y:T,UNIT_Z:F,ZEROS:[0,0,0,0],clone:function z(y){return[y[0],y[1],y[2],y[3]]},create:P,createView:function Z(y,E){return new Float64Array(y,E,4)},fromArray:function D(y,E=[0,0,0,0]){const w=Math.min(4,y.length);for(let N=0;N<w;++N)E[N]=y[N];return E},fromValues:R,ones:L,unitW:h,unitX:A,unitY:B,unitZ:k,zeros:function W(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},81570:(ee,q,d)=>{d.r(q),d.d(q,{default:()=>w});var P=d(10467),z=d(89563),R=d(89447),D=d(5922),Z=d(35150),W=d(56492),L=d(61320),A=d(58701),B=d(31732),k=d(64373),h=d(88840),O=d(40753),b=d(36761),x=d(89962),T=d(51248),F=d(73258),C=d(38965),Y=d(86300),y=d(22639);const E={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class w{constructor(){var u=this;this._queryEngine=null,this._snapshotFeatures=function(){var l=(0,P.A)(function*(i){const p=yield u._fetch(i);return u._createFeatures(p)});return function(i){return l.apply(this,arguments)}}()}destroy(){var u;null!==(u=this._queryEngine)&&void 0!==u&&u.destroy(),this._queryEngine=this._createDefaultAttributes=null}load(u,l={}){var i=this;return(0,P.A)(function*(){i._loadOptions={url:u.url,customParameters:u.customParameters};const p=[],[M]=yield Promise.all([u.url?i._fetch(null==l?void 0:l.signal):null,i._checkProjection(u.spatialReference)]),m=(0,b.BM)(M,{geometryType:u.geometryType}),S=u.fields||m.fields||[],K=null!=u.hasZ?u.hasZ:m.hasZ,J=m.geometryType;let $=u.objectIdField||m.objectIdFieldName||"__OBJECTID";const r=u.spatialReference||A.KK;let s=u.timeInfo;S===m.fields&&m.unknownFields.length>0&&p.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:m.unknownFields}});const o=new F.A(S);let c=o.get($);c?("esriFieldTypeString"!==c.type&&(c.type="esriFieldTypeOID"),c.editable=!1,c.nullable=!1,$=c.name):(c={alias:$,name:$,type:"string"===m.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},S.unshift(c));const v={};for(const _ of S){if(null==_.name&&(_.name=_.alias),null==_.alias&&(_.alias=_.name),!_.name)throw new D.A("geojson-layer:invalid-field-name","field name is missing",{field:_});if(!C.m.jsonValues.includes(_.type))throw new D.A("geojson-layer:invalid-field-type",`invalid type for field "${_.name}"`,{field:_});if(_.name!==c.name){const j=(0,Y.lD)(_);void 0!==j&&(v[_.name]=j)}null==_.length&&(_.length=(0,Y._b)(_))}if(s){if(s.startTimeField){const _=o.get(s.startTimeField);_?(s.startTimeField=_.name,_.type="esriFieldTypeDate"):s.startTimeField=null}if(s.endTimeField){const _=o.get(s.endTimeField);_?(s.endTimeField=_.name,_.type="esriFieldTypeDate"):s.endTimeField=null}if(s.trackIdField){const _=o.get(s.trackIdField);_?s.trackIdField=_.name:(s.trackIdField=null,p.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:s}}))}s.startTimeField||s.endTimeField||(p.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:s}}),s=null)}const U=J?(0,x.F0)(J):void 0,e=o.dateFields.length?{timeZoneIANA:y.n$}:null,t={warnings:p,featureErrors:[],layerDefinition:{...E,drawingInfo:null!=U?U:void 0,templates:(0,x.e2)(v),extent:void 0,geometryType:J,objectIdField:$,fields:S,hasZ:!!K,timeInfo:s,dateFieldsTimeReference:e}};i._queryEngine=new O.d({fieldsIndex:F.A.fromLayerJSON({fields:S,timeInfo:s,dateFieldsTimeReference:e}),geometryType:J,hasM:!1,hasZ:K,objectIdField:$,spatialReference:r,timeInfo:s,featureStore:new k.A({geometryType:J,hasM:!1,hasZ:K}),cacheSpatialQueries:!0});const n=i._queryEngine.fieldsIndex.requiredFields.indexOf(c);n>-1&&i._queryEngine.fieldsIndex.requiredFields.splice(n,1),i._createDefaultAttributes=(0,x.Vx)(v,$);const a=yield i._createFeatures(M);i._objectIdGenerator=i._createObjectIdGenerator(i._queryEngine,a);const f=i._normalizeFeatures(a,t.featureErrors);i._queryEngine.featureStore.addMany(f);const{fullExtent:g,timeExtent:I}=yield i._queryEngine.fetchRecomputedExtents();if(t.layerDefinition.extent=g,I){const{start:_,end:j}=I;t.layerDefinition.timeInfo.timeExtent=[_,j]}return t})()}applyEdits(u){var l=this;return(0,P.A)(function*(){const{spatialReference:i,geometryType:p}=l._queryEngine;return yield Promise.all([(0,T.$1)(i,p),(0,h.Nk)(u.adds,i),(0,h.Nk)(u.updates,i)]),yield l._waitSnapshotComplete(),l._applyEdits(u)})()}queryFeatures(u={},l={}){var i=this;return(0,P.A)(function*(){return yield i._waitSnapshotComplete(),i._queryEngine.executeQuery(u,l.signal)})()}queryFeatureCount(u={},l={}){var i=this;return(0,P.A)(function*(){return yield i._waitSnapshotComplete(),i._queryEngine.executeQueryForCount(u,l.signal)})()}queryObjectIds(u={},l={}){var i=this;return(0,P.A)(function*(){return yield i._waitSnapshotComplete(),i._queryEngine.executeQueryForIds(u,l.signal)})()}queryExtent(u={},l={}){var i=this;return(0,P.A)(function*(){return yield i._waitSnapshotComplete(),i._queryEngine.executeQueryForExtent(u,l.signal)})()}querySnapping(u,l={}){var i=this;return(0,P.A)(function*(){return yield i._waitSnapshotComplete(),i._queryEngine.executeQueryForSnapping(u,l.signal)})()}refresh(u){var l=this;return(0,P.A)(function*(){var i;l._loadOptions.customParameters=u,null!==(i=l._snapshotTask)&&void 0!==i&&i.abort(),l._snapshotTask=(0,R.UT)(l._snapshotFeatures),l._snapshotTask.promise.then(m=>{l._queryEngine.featureStore.clear(),l._objectIdGenerator=l._createObjectIdGenerator(l._queryEngine,m);const S=l._normalizeFeatures(m);S&&l._queryEngine.featureStore.addMany(S)},m=>{l._queryEngine.featureStore.clear(),(0,W.zf)(m)||Z.A.getLogger("esri.layers.GeoJSONLayer").error(new D.A("geojson-layer:refresh","An error occurred during refresh",{error:m}))}),yield l._waitSnapshotComplete();const{fullExtent:p,timeExtent:M}=yield l._queryEngine.fetchRecomputedExtents();return{extent:p,timeExtent:M}})()}_createFeatures(u){var l=this;return(0,P.A)(function*(){if(null==u)return[];const{geometryType:i,hasZ:p,objectIdField:M}=l._queryEngine,m=(0,b.bd)(u,{geometryType:i,hasZ:p,objectIdField:M});if(!(0,A.aI)(l._queryEngine.spatialReference,A.KK))for(const S of m)null!=S.geometry&&(S.geometry=(0,B.Ux)((0,h.Cv)((0,B.zv)(S.geometry,l._queryEngine.geometryType,l._queryEngine.hasZ,!1),A.KK,l._queryEngine.spatialReference)));return m})()}_waitSnapshotComplete(){var u=this;return(0,P.A)(function*(){if(u._snapshotTask&&!u._snapshotTask.finished){try{yield u._snapshotTask.promise}catch{}return u._waitSnapshotComplete()}})()}_fetch(u){var l=this;return(0,P.A)(function*(){const{url:i,customParameters:p}=l._loadOptions,M=(yield(0,z.A)(i,{responseType:"json",query:{...p},signal:u})).data;return(0,b.sO)(M),M})()}_normalizeFeatures(u,l){const{objectIdField:i,fieldsIndex:p}=this._queryEngine,M=[];for(const m of u){const S=this._createDefaultAttributes(),K=(0,T.MB)(p,S,m.attributes,!0);K?null==l||l.push(K):(this._assignObjectId(S,m.attributes,!0),m.attributes=S,m.objectId=S[i],M.push(m))}return M}_applyEdits(u){var l=this;return(0,P.A)(function*(){const{adds:i,updates:p,deletes:M}=u,m={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(null!=i&&i.length&&l._applyAddEdits(m,i),null!=p&&p.length&&l._applyUpdateEdits(m,p),null!=M&&M.length){for(const J of M)m.deleteResults.push((0,T.bP)(J));l._queryEngine.featureStore.removeManyById(M)}const{fullExtent:S,timeExtent:K}=yield l._queryEngine.fetchRecomputedExtents();return{extent:S,timeExtent:K,featureEditResults:m}})()}_applyAddEdits(u,l){const{addResults:i}=u,{geometryType:p,hasM:M,hasZ:m,objectIdField:S,spatialReference:K,featureStore:J,fieldsIndex:$}=this._queryEngine,r=[];for(const o of l){if(o.geometry&&p!==(0,L.$B)(o.geometry)){i.push((0,T.Yx)("Incorrect geometry type."));continue}const c=this._createDefaultAttributes(),v=(0,T.MB)($,c,o.attributes);if(v)i.push(v);else{if(this._assignObjectId(c,o.attributes),o.attributes=c,null!=o.uid&&(u.uidToObjectId[o.uid]=o.attributes[S]),null!=o.geometry){var s;const U=null!==(s=o.geometry.spatialReference)&&void 0!==s?s:K;o.geometry=(0,h.Cv)((0,T.CR)(o.geometry,U),U,K)}r.push(o),i.push((0,T.bP)(o.attributes[S]))}}J.addMany((0,B.Di)([],r,p,m,M,S))}_applyUpdateEdits({updateResults:u},l){const{geometryType:i,hasM:p,hasZ:M,objectIdField:m,spatialReference:S,featureStore:K,fieldsIndex:J}=this._queryEngine;for(const r of l){const{attributes:s,geometry:o}=r,c=null==s?void 0:s[m];if(null==c){u.push((0,T.Yx)(`Identifier field ${m} missing`));continue}if(!K.has(c)){u.push((0,T.Yx)(`Feature with object id ${c} missing`));continue}const v=(0,B.oN)(K.getFeature(c),i,M,p);if(null!=o){var $;if(i!==(0,L.$B)(o)){u.push((0,T.Yx)("Incorrect geometry type."));continue}const U=null!==($=o.spatialReference)&&void 0!==$?$:S;v.geometry=(0,h.Cv)((0,T.CR)(o,U),U,S)}if(s){const U=(0,T.MB)(J,v.attributes,s);if(U){u.push(U);continue}}K.add((0,B.E2)(v,i,M,p,m)),u.push((0,T.bP)(c))}}_createObjectIdGenerator(u,l){const i=u.fieldsIndex.get(u.objectIdField);if("esriFieldTypeString"===i.type)return()=>i.name+"-"+Date.now().toString(16);let p=Number.NEGATIVE_INFINITY;for(const M of l)M.objectId&&(p=Math.max(p,M.objectId));return p=Math.max(0,p)+1,()=>p++}_assignObjectId(u,l,i=!1){const p=this._queryEngine.objectIdField;u[p]=i&&p in l?l[p]:this._objectIdGenerator()}_checkProjection(u){return(0,P.A)(function*(){try{yield(0,h.Nk)(A.KK,u)}catch{throw new D.A("geojson-layer","Projection not supported")}})()}}},36761:(ee,q,d)=>{d.d(q,{BM:()=>J,bd:()=>$,sO:()=>K,xD:()=>A});var P=d(28250),z=d(5922),R=d(58701),D=d(42086),Z=d(13682),W=d(86300);const L={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function A(r){return L[r]}function*B(r){switch(r.type){case"Feature":yield r;break;case"FeatureCollection":for(const s of r.features)s&&(yield s)}}function*k(r){if(r)switch(r.type){case"Point":yield r.coordinates;break;case"LineString":case"MultiPoint":yield*r.coordinates;break;case"MultiLineString":case"Polygon":for(const s of r.coordinates)yield*s;break;case"MultiPolygon":for(const s of r.coordinates)for(const o of s)yield*o}}function O(r){for(const s of r)if(s.length>2)return!0;return!1}function T(r){let s=0;for(let o=0;o<r.length;o++){const c=r[o],v=r[(o+1)%r.length];s+=c[0]*v[1]-v[0]*c[1]}return s<=0}function F(r){const s=r[0],o=r[r.length-1];return s[0]===o[0]&&s[1]===o[1]&&s[2]===o[2]||r.push(s),r}function C(r,s,o){switch(s.type){case"LineString":return function Y(r,s,o){return p(r,s.coordinates,o),r}(r,s,o);case"MultiLineString":return function y(r,s,o){for(const c of s.coordinates)p(r,c,o);return r}(r,s,o);case"MultiPoint":return function E(r,s,o){return p(r,s.coordinates,o),r}(r,s,o);case"MultiPolygon":return function w(r,s,o){for(const c of s.coordinates){l(r,c[0],o);for(let v=1;v<c.length;v++)i(r,c[v],o)}return r}(r,s,o);case"Point":return function N(r,s,o){return m(r,s.coordinates,o),r}(r,s,o);case"Polygon":return function u(r,s,o){const c=s.coordinates;l(r,c[0],o);for(let v=1;v<c.length;v++)i(r,c[v],o);return r}(r,s,o)}}function l(r,s,o){const c=F(s);!function b(r){return!T(r)}(c)?p(r,c,o):M(r,c,o)}function i(r,s,o){const c=F(s);!function x(r){return T(r)}(c)?p(r,c,o):M(r,c,o)}function p(r,s,o){for(const c of s)m(r,c,o);r.lengths.push(s.length)}function M(r,s,o){for(let c=s.length-1;c>=0;c--)m(r,s[c],o);r.lengths.push(s.length)}function m(r,s,o){const[c,v,U]=s;r.coords.push(c,v),o.hasZ&&r.coords.push(U||0)}function S(r){switch(typeof r){case"string":return(0,P.Br)(r)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function K(r,s=4326){if(!r)throw new z.A("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==r.type&&"FeatureCollection"!==r.type)throw new z.A("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:r});const{crs:o}=r;if(!o)return;const c="string"==typeof o?o:"name"===o.type?o.properties.name:"EPSG"===o.type?o.properties.code:null,v=(0,R.oT)({wkid:s})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(`.*(${s})$`,"i");if(!c||!v.test(c))throw new z.A("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:o})}function J(r,s={}){var o,c;const v=[],U=new Set,e=new Set;let t,n=!1,a=null,f=!1,{geometryType:g=null}=s,I=!1;for(const j of B(r)){const{geometry:Q,properties:G,id:V}=j;if((!Q||(g||(g=A(Q.type)),A(Q.type)===g))&&(n||(n=O(k(Q))),f||(f=null!=V,f&&(t=typeof V,G&&(a=Object.keys(G).filter(X=>G[X]===V)))),G&&a&&f&&null!=V&&(a.length>1?a=a.filter(X=>G[X]===V):1===a.length&&(a=G[a[0]]===V?a:[])),!I&&G)){let X=!0;for(const H in G){if(U.has(H))continue;const te=G[H];if(null==te){X=!1,e.add(H);continue}const ne=S(te);if("unknown"===ne){e.add(H);continue}e.delete(H),U.add(H);const re=(0,W.rS)(H);re&&v.push({name:re,alias:H,type:ne})}I=X}}const _=null!==(o=(0,W.rS)(1===(null===(c=a)||void 0===c?void 0:c.length)&&a[0]||null))&&void 0!==o?o:void 0;if(_)for(const j of v)if(j.name===_&&(0,W.WA)(j)){j.type="esriFieldTypeOID";break}return{fields:v,geometryType:g,hasZ:n,objectIdFieldName:_,objectIdFieldType:t,unknownFields:Array.from(e)}}function $(r,s){return Array.from(function*h(r,s={}){const{geometryType:o,objectIdField:c}=s;for(const U of r){var v;const{geometry:e,properties:t,id:n}=U;if(e&&A(e.type)!==o)continue;const a=t||{};let f;c&&(f=a[c],null==n||f||(a[c]=f=n)),yield new D.Om(e?C(new Z.A,e,s):null,a,null,null!==(v=f)&&void 0!==v?v:void 0)}}(B(r),s))}},89962:(ee,q,d)=>{d.d(q,{F0:()=>Z,Vx:()=>A,e2:()=>B,f:()=>k});var P=d(3248),z=d(77806),R=d(78200),D=d(48254);function Z(h){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===h||"esriGeometryMultipoint"===h?D.Cb:"esriGeometryPolyline"===h?D.yM:D.WR}}}const W=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let L=1;function A(h,O){if((0,P.A)("esri-csp-restrictions"))return()=>({[O]:null,...h});try{let b=`this.${O} = null;`;for(const T in h)b+=`this${W.test(T)?`.${T}`:`["${T}"]`} = ${JSON.stringify(h[T])};`;const x=new Function(`\n      return class AttributesClass$${L++} {\n        constructor() {\n          ${b};\n        }\n      }\n    `)();return()=>new x}catch{return()=>({[O]:null,...h})}}function B(h={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,z.o8)(h)}}]}function k(h,O){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:h},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:O,supportsDelete:O,supportsEditing:O,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:O,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:R.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:O,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},51248:(ee,q,d)=>{d.d(q,{$1:()=>C,CR:()=>x,MB:()=>h,Yx:()=>L,bP:()=>B});var P=d(10467),z=d(28250),R=d(58701),D=d(86300);class Z{constructor(){this.code=null,this.description=null}}class W{constructor(E){this.error=new Z,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=E}}function L(y){return new W(y)}class A{constructor(E){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=E}}function B(y){return new A(y)}const k=new Set;function h(y,E,w,N=!1){k.clear();for(const l in w){const i=y.get(l);if(!i)continue;const p=O(i,w[l]);if(k.add(i.name),i&&(N||i.editable)){const M=(0,D.CJ)(i,p);if(M)return L((0,D.uo)(M,i,p));E[i.name]=p}}for(const l of null!==(u=null==y?void 0:y.requiredFields)&&void 0!==u?u:[]){var u;if(!k.has(l.name))return L(`missing required field "${l.name}"`)}return null}function O(y,E){let w=E;return(0,D.WA)(y)&&"string"==typeof E?w=parseFloat(E):(0,D.yM)(y)&&null!=E&&"string"!=typeof E?w=String(E):(0,D.vE)(y)&&"string"==typeof E&&(w=(0,z._U)(E)),(0,D.WX)(w)}let b;function x(y,E){if(!y||!(0,R.fn)(E))return y;if("rings"in y||"paths"in y){if(null==b)throw new TypeError("geometry engine not loaded");return b.simplify(E,y)}return y}function F(){return(F=(0,P.A)(function*(){return null==b&&(b=yield Promise.all([d.e(3930),d.e(2076),d.e(2296)]).then(d.bind(d,27815))),b})).apply(this,arguments)}function C(y,E){return Y.apply(this,arguments)}function Y(){return Y=(0,P.A)(function*(y,E){!(0,R.fn)(y)||"esriGeometryPolygon"!==E&&"esriGeometryPolyline"!==E||(yield function T(){return F.apply(this,arguments)}())}),Y.apply(this,arguments)}},48254:(ee,q,d)=>{d.d(q,{Cb:()=>R,HW:()=>A,JZ:()=>W,WR:()=>Z,b6:()=>B,nC:()=>L,yM:()=>D});const P=[252,146,31,255],R={type:"esriSMS",style:"esriSMSCircle",size:6,color:P,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},D={type:"esriSLS",style:"esriSLSSolid",width:.75,color:P},Z={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},W={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},L={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},A={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},B={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);