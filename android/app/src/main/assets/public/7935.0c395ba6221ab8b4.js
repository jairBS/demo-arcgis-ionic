"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7935,4098,3258],{99980:(q,z,s)=>{s.d(z,{A:()=>h});var v=s(8189),M=s(90660),K=s(71065),P=s(97442),U=s(85211),A=(s(3248),s(35150),s(40707),s(15463)),l=s(76576),i=s(26957);let _=class extends((0,M.O)(K.oY)){constructor(D){super(D),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,P.t)(this.value,this.unit,"milliseconds")}};(0,v._)([(0,A.e)(i.j,{nonNullable:!0})],_.prototype,"unit",void 0),(0,v._)([(0,U.MZ)({type:Number,json:{write:!0},nonNullable:!0})],_.prototype,"value",void 0),_=(0,v._)([(0,l.$)("esri.TimeInterval")],_);const h=_},33087:(q,z,s)=>{s.d(z,{q:()=>M});var v=s(60611);class M{constructor(P,U){this._storage=new v.F,this.id="",this.name="",this.size=0,this._storage.maxSize=P,this._storage.register(this),U&&this._storage.registerRemoveFunc("",U)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(P,U,g=1){this._storage.put(this,P,U,g,1)}pop(P){return this._storage.pop(this,P)}get(P){return this._storage.get(this,P)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(P){this._storage.maxSize=P}resetHitRate(){}}},60611:(q,z,s)=>{s.d(z,{F:()=>g,Mn:()=>U});var P,A,v=s(12438);(A=P||(P={}))[A.ALL=0]="ALL",A[A.SOME=1]="SOME";class U{constructor(l,i,_){this.name=l,this._storage=i,this.id=x+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),_&&(this._storage.registerRemoveFunc(this.id,_),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(l){return this._storage.getSize(this,l)}resetHitRate(){this._hit=this._miss=0}put(l,i,_,h=0){this._storage.put(this,l,i,_,h)}pop(l){const i=this._storage.pop(this,l);return void 0===i?++this._miss:++this._hit,i}get(l){const i=this._storage.get(this,l);return void 0===i?++this._miss:++this._hit,i}peek(l){return this._storage.peek(this,l)}updateSize(l,i,_){this._storage.updateSize(this,l,i,_)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class g{get size(){return this._size}constructor(l=10485760){this._maxSize=l,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new v.A,this._users=new v.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(l){this._users.push(l)}deregister(l){this._users.removeUnordered(l)}registerRemoveFunc(l,i){this._removeFuncs.push([l,i])}deregisterRemoveFunc(l){this._removeFuncs.filterInPlace(i=>i[0]!==l)}get maxSize(){return this._maxSize}set maxSize(l){this._maxSize=Math.max(l,-1),this._checkSize()}getSize(l,i){var _;const h=this._db.get(l.id+i);return null!==(_=null==h?void 0:h.size)&&void 0!==_?_:0}put(l,i,_,h,D){const d=this._db.get(i=l.id+i);if(d&&(this._size-=d.size,l.size-=d.size,this._db.delete(i),d.entry!==_&&this._notifyRemove(i,d.entry,d.size,P.ALL)),h>this._maxSize)return void this._notifyRemove(i,_,h,P.ALL);if(void 0===_)return void console.warn("Refusing to cache undefined entry ");if(!h||h<0)return console.warn(`Refusing to cache entry with size ${h} for key ${i}`),void this._notifyRemove(i,_,0,P.ALL);const E=1+Math.max(D,-4)- -3;this._db.set(i,new W(_,h,E)),this._size+=h,l.size+=h,this._checkSize()}updateSize(l,i,_,h){const D=this._db.get(i=l.id+i);if(D&&D.entry===_){for(this._size-=D.size,l.size-=D.size;h>this._maxSize;){const d=this._notifyRemove(i,_,h,P.SOME);if(!(null!=d&&d>0))return void this._db.delete(i);h=d}D.size=h,this._size+=h,l.size+=h,this._checkSize()}}pop(l,i){const _=this._db.get(i=l.id+i);if(_)return this._size-=_.size,l.size-=_.size,this._db.delete(i),++this._hit,_.entry;++this._miss}get(l,i){const _=this._db.get(i=l.id+i);if(void 0!==_)return this._db.delete(i),_.lives=_.lifetime,this._db.set(i,_),++this._hit,_.entry;++this._miss}peek(l,i){const _=this._db.get(l.id+i);return _?++this._hit:++this._miss,null==_?void 0:_.entry}get performanceInfo(){const l={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},_=new Array;this._db.forEach((d,E)=>{const I=d.lifetime;_[I]=(_[I]||0)+d.size,this._users.forAll(O=>{const{id:y,name:c}=O;E.startsWith(y)&&(i[c]=(i[c]||0)+d.size)})});const h={};this._users.forAll(d=>{const E=d.name;"hitRate"in d&&"number"==typeof d.hitRate&&!isNaN(d.hitRate)&&d.hitRate>0?(i[E]=i[E]||0,h[E]=Math.round(100*d.hitRate)+"%"):h[E]="0%"});const D=Object.keys(i);D.sort((d,E)=>i[E]-i[d]),D.forEach(d=>l[d]=Math.round(i[d]/2**20)+"MB / "+h[d]);for(let d=_.length-1;d>=0;--d){const E=_[d];E&&(l["Priority "+(d+-3-1)]=Math.round(E/this._size*100)+"%")}return l}resetStats(){this._hit=this._miss=0,this._users.forAll(l=>l.resetHitRate())}clear(l){const i=l.id;this._db.forEach((_,h)=>{h.startsWith(i)&&(this._size-=_.size,this._db.delete(h),this._notifyRemove(h,_.entry,_.size,P.ALL))}),l.size=0}clearAll(){this._db.forEach((l,i)=>this._notifyRemove(i,l.entry,l.size,P.ALL)),this._users.forAll(l=>l.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(l,i,_,h){let D;return this._removeFuncs.some(d=>{if(l.startsWith(d[0])){const E=d[1](i,h,_);return"number"==typeof E&&(D=E),!0}return!1}),D}_checkSize(){this._users.forAll(l=>this._checkSizeLimits(l)),this._checkSizeLimits()}_checkSizeLimits(l){const i=null!=l?l:this;if(i.maxSize<0||i.size<=i.maxSize)return;const _=null==l?void 0:l.id;let h=!0;for(;h;){h=!1;for(const[D,d]of this._db)if(0===d.lifetime&&(!_||D.startsWith(_))){if(this._purgeItem(D,d,l),i.size<=.9*i.maxSize)return;h||(h=this._db.has(D))}}for(const[D,d]of this._db)if((!_||D.startsWith(_))&&(this._purgeItem(D,d,l),i.size<=.9*i.maxSize))return}_purgeItem(l,i,_=this._users.find(h=>l.startsWith(h.id))){if(this._db.delete(l),i.lives<=1){this._size-=i.size,_&&(_.size-=i.size);const h=this._notifyRemove(l,i.entry,i.size,P.SOME);null!=h&&h>0&&(this._size+=h,_&&(_.size+=h),i.lives=i.lifetime,i.size=h,this._db.set(l,i))}else--i.lives,this._db.set(l,i)}}let x=0;class W{constructor(l,i,_){this.entry=l,this.size=i,this.lifetime=_,this.lives=_}}},24098:(q,z,s)=>{s.d(z,{GB:()=>M,Qo:()=>P,Y4:()=>K});var v=s(44549);class M{}function K(g){return g instanceof v.bo?g===M.instance:"unknown"===(null==g?void 0:g.toString().toLowerCase())}function P(g){return K(g)?M.instance:g}M.instance=new v.oh("Etc/UTC")},721:(q,z,s)=>{s.d(z,{$X:()=>ne,Gy:()=>J,P5:()=>de,SW:()=>le,Tr:()=>ie,VV:()=>g}),s(61320);const K=(a,o,m)=>[o,m],P=(a,o,m)=>[o,m,a[2]],U=(a,o,m)=>[o,m,a[2],a[3]];function g(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:a.tolerance?[a.tolerance,a.tolerance]:[1,1],translate:null!=a.extent?[a.extent.xmin,a.extent.ymax]:[0,0]}:null}function d({scale:a,translate:o},m){return m*a[0]+o[0]}function E({scale:a,translate:o},m){return o[1]-m*a[1]}function I(a,o,m){const L=new Array(m.length);if(!m.length)return L;const[F,H]=a.scale;let X=d(a,m[0][0]),k=E(a,m[0][1]);L[0]=o(m[0],X,k);for(let re=1;re<m.length;re++){const oe=m[re];X+=oe[0]*F,k-=oe[1]*H,L[re]=o(oe,X,k)}return L}function O(a,o,m){const L=new Array(m.length);for(let F=0;F<m.length;F++)L[F]=I(a,o,m[F]);return L}function J(a,o,m,L,F){return o.x=function W({scale:a,translate:o},m){return Math.round((m-o[0])/a[0])}(a,m.x),o.y=function A({scale:a,translate:o},m){return Math.round((o[1]-m)/a[1])}(a,m.y),o!==m&&(L&&(o.z=m.z),F&&(o.m=m.m)),o}function le(a,o,m,L,F){return null!=m&&(o.points=function c(a,o,m,L){return I(a,m?L?U:P:L?P:K,o)}(a,m.points,L,F)),o}function ie(a,o,m,L,F){return null==m||(o.x=d(a,m.x),o.y=E(a,m.y),o!==m&&(L&&(o.z=m.z),F&&(o.m=m.m))),o}function ne(a,o,m,L,F){return null!=m&&(o.rings=function C(a,o,m,L){return O(a,m?L?U:P:L?P:K,o)}(a,m.rings,L,F)),o}function de(a,o,m,L,F){return null!=m&&(o.paths=function S(a,o,m,L){return O(a,m?L?U:P:L?P:K,o)}(a,m.paths,L,F)),o}},64368:(q,z,s)=>{s.r(z),s.d(z,{default:()=>Re});var v=s(10467),M=s(8189),P=(s(21152),s(92165)),D=(s(79122),s(70176),s(92089),s(9826),s(15317),s(38582),s(73747),s(13318),s(85718),s(36156)),d=s(39693),E=s(85211),c=(s(3248),s(35150),s(40707),s(76576)),S=s(6434),C=s(95478),p=s(5922),f=s(55098),R=s(55225),Z=s(93327),Y=s(32034);let N=class extends f.A{constructor(){super(...arguments),this.featureDefinition=null,this.type="ogc-feature"}load(j){return this.addResolvingPromise(this._loadOGCServices(this.layer,j)),this.when()}getSource(){const{featureDefinition:{collection:j,layerDefinition:B,spatialReference:w,supportedCrs:V},layer:{apiKey:ee,customParameters:se,effectiveMaxRecordCount:ue}}=this;return{type:"ogc-source",collection:j,layerDefinition:B,maxRecordCount:ue,queryParameters:{apiKey:ee,customParameters:se},spatialReference:w,supportedCrs:V}}queryExtent(j,B={}){return null}queryFeatureCount(j,B={}){return null}queryFeatures(j,B={}){return this.queryFeaturesJSON(j,B).then(w=>Z.A.fromJSON(w))}queryFeaturesJSON(j,B={}){const w=this.getSource();return this.load(B).then(()=>(0,R.bW)(w,j,B))}queryObjectIds(j,B={}){return null}serviceSupportsSpatialReference(j){return!(!j.isWGS84&&!j.isWebMercator&&!this.featureDefinition.supportedCrs[j.wkid])}_conformsToType(j,B){var w;const V=new RegExp(`^${B}$`,"i");return null!==(w=j.conformsTo.some(ee=>V.test(ee)))&&void 0!==w&&w}_getCapabilities(j,B){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:j},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:B,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}_getMaxRecordCount(j){var B,w,V,ee;const se=null==j||null===(B=j.components)||void 0===B?void 0:B.parameters;return null!==(w=null==se||null===(V=se.limit)||void 0===V||null===(V=V.schema)||void 0===V?void 0:V.maximum)&&void 0!==w?w:null==se||null===(ee=se.limitFeatures)||void 0===ee||null===(ee=ee.schema)||void 0===ee?void 0:ee.maximum}_getStorageSpatialReference(j){var B;const w=null!==(B=j.storageCrs)&&void 0!==B?B:R.QE,V=(0,R.J0)(w);return null==V?Y.A.WGS84:new Y.A({wkid:V})}_getSupportedSpatialReferences(j,B){var w,V;const se=null!==(w=j.crs)&&void 0!==w?w:[R.QE],ue=se.includes("#/crs")?se.filter(ae=>"#/crs"!==ae).concat(null!==(V=B.crs)&&void 0!==V?V:[]):se,_e=/^http:\/\/www\.opengis.net\/def\/crs\/epsg\/.*\/3785$/i;return ue.filter(ae=>!_e.test(ae))}_loadOGCServices(j,B){var w=this;return(0,v.A)(function*(){const V=null!=B?B.signal:null,{apiKey:ee,collectionId:se,customParameters:ue,fields:_e,geometryType:ae,hasZ:pe,objectIdField:Se,timeInfo:ve,url:Te}=j,Ie={fields:null==_e?void 0:_e.map(ce=>ce.toJSON()),geometryType:S.Y.toJSON(ae),hasZ:null!=pe&&pe,objectIdField:Se,timeInfo:null==ve?void 0:ve.toJSON()},ye={apiKey:ee,customParameters:ue,signal:V},Ee=yield(0,R.Ki)(Te,ye),[ge,Pe]=yield Promise.all([(0,R.Px)(Ee,ye),(0,R.bV)(Ee,ye)]);if(!w._conformsToType(ge,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson"))throw new p.A("ogc-feature-layer:no-geojson-support","Server does not support geojson");const fe=Pe.collections.find(({id:ce})=>ce===se);if(!fe)throw new p.A("ogc-feature-layer:collection-not-found","Server does not contain the named collection");const Ae=w._conformsToType(ge,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30")?yield(0,R.GA)(Ee,ye):null,De=yield(0,R.GL)(fe,Ie,ye),xe=w._getMaxRecordCount(Ae),Le=w._getCapabilities(De.hasZ,xe),je=w._getStorageSpatialReference(fe).toJSON(),Ce=w._getSupportedSpatialReferences(fe,Pe),Ue=new RegExp(`^${R.vJ}`,"i"),Me={};for(const ce of Ce){const Oe=(0,R.J0)(ce);null!=Oe&&(Me[Oe]||(Me[Oe]=ce.replace(Ue,"")))}w.featureDefinition={capabilities:Le,collection:fe,layerDefinition:De,spatialReference:je,supportedCrs:Me}})()}};(0,M._)([(0,E.MZ)()],N.prototype,"featureDefinition",void 0),(0,M._)([(0,E.MZ)({constructOnly:!0})],N.prototype,"layer",void 0),(0,M._)([(0,E.MZ)()],N.prototype,"type",void 0),N=(0,M._)([(0,c.$)("esri.layers.graphics.sources.OGCFeatureSource")],N);var T=s(94376),J=s(93410),$=s(23e3),G=s(31446),te=s(61495),b=s(17049),le=s(43124),ie=s(85551),ne=s(1151),de=s(33036),a=s(84311),o=s(81687),m=s(47063),L=s(29141),F=s(3404),H=s(86300),X=s(20329),k=s(73975),re=s(87086),oe=s(41843),he=s(28067);const me=(0,F.p)();let Q=class extends((0,T.p)((0,$.d)((0,te.J)((0,G.F)((0,J.d)((0,le.f)((0,a.e)((0,de.j)((0,b.q)((0,ie.A)((0,ne.J)((0,d.P)(C.A))))))))))))){constructor(j){super(j),this.capabilities=null,this.collectionId=null,this.copyright=null,this.description=null,this.displayField=null,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.maxRecordCount=null,this.objectIdField=null,this.operationalLayerType="OGCFeatureLayer",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new N({layer:this}),this.spatialReference=null,this.title=null,this.type="ogc-feature",this.typeIdField=null,this.types=null,this.url=null}destroy(){var j;null===(j=this.source)||void 0===j||j.destroy()}load(j){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["OGCFeatureServer"]},j).then(()=>this._fetchService(j))),this.when()}get defaultPopupTemplate(){return this.createPopupTemplate()}get effectiveMaxRecordCount(){var j,B,w;return null!==(j=null!==(B=this.maxRecordCount)&&void 0!==B?B:null===(w=this.capabilities)||void 0===w?void 0:w.query.maxRecordCount)&&void 0!==j?j:5e3}get isTable(){return this.loaded&&null==this.geometryType}set renderer(j){(0,H.yp)(j,this.fieldsIndex),this._set("renderer",j)}on(j,B){return super.on(j,B)}createPopupTemplate(j){return(0,oe.tn)(this,j)}createQuery(){return new re.A}getField(j){return this.fieldsIndex.get(j)}getFieldDomain(j,B){var w;let V,ee=!1;const se=null==B||null===(w=B.feature)||void 0===w?void 0:w.attributes,ue=this.typeIdField&&(null==se?void 0:se[this.typeIdField]);return null!=ue&&this.types&&(ee=this.types.some(_e=>{var ae,pe;return _e.id==ue&&(V=null===(ae=_e.domains)||void 0===ae?void 0:ae[j],"inherited"===(null===(pe=V)||void 0===pe?void 0:pe.type)&&(V=this._getLayerDomain(j)),!0)})),ee||V||(V=this._getLayerDomain(j)),V}queryFeatures(j,B){return this.load().then(()=>this.source.queryFeatures(re.A.from(j)||this.createQuery(),B)).then(w=>{var V;return null!=w&&null!==(V=w.features)&&void 0!==V&&V.forEach(ee=>{ee.layer=ee.sourceLayer=this}),w})}serviceSupportsSpatialReference(j){var B,w;return null!==(B=null===(w=this.source)||void 0===w?void 0:w.serviceSupportsSpatialReference(j))&&void 0!==B&&B}_fetchService(j){var B=this;return(0,v.A)(function*(){yield B.source.load(j),B.read(B.source.featureDefinition,{origin:"service"}),(0,H.yp)(B.renderer,B.fieldsIndex),(0,H.sv)(B.timeInfo,B.fieldsIndex)})()}_getLayerDomain(j){if(!this.fields)return null;for(const B of this.fields)if(B.name===j&&B.domain)return B.domain;return null}};(0,M._)([(0,E.MZ)({readOnly:!0,json:{origins:{service:{read:!0}}}})],Q.prototype,"capabilities",void 0),(0,M._)([(0,E.MZ)({type:String,json:{write:!0}})],Q.prototype,"collectionId",void 0),(0,M._)([(0,E.MZ)({type:String})],Q.prototype,"copyright",void 0),(0,M._)([(0,E.MZ)({readOnly:!0})],Q.prototype,"defaultPopupTemplate",null),(0,M._)([(0,E.MZ)({readOnly:!0,type:String,json:{origins:{service:{name:"collection.description"}}}})],Q.prototype,"description",void 0),(0,M._)([(0,E.MZ)({type:String})],Q.prototype,"displayField",void 0),(0,M._)([(0,E.MZ)({type:Number})],Q.prototype,"effectiveMaxRecordCount",null),(0,M._)([(0,E.MZ)(o.Yj)],Q.prototype,"elevationInfo",void 0),(0,M._)([(0,E.MZ)({type:[L.A],json:{origins:{service:{name:"layerDefinition.fields"}}}})],Q.prototype,"fields",void 0),(0,M._)([(0,E.MZ)(me.fieldsIndex)],Q.prototype,"fieldsIndex",void 0),(0,M._)([(0,E.MZ)({readOnly:!0,type:he.A,json:{origins:{service:{name:"layerDefinition.extent"}}}})],Q.prototype,"fullExtent",void 0),(0,M._)([(0,E.MZ)({type:S.g.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:S.g.read}}}}})],Q.prototype,"geometryType",void 0),(0,M._)([(0,E.MZ)({type:Boolean,json:{origins:{service:{name:"layerDefinition.hasZ"}}}})],Q.prototype,"hasZ",void 0),(0,M._)([(0,E.MZ)({type:Boolean,readOnly:!0})],Q.prototype,"isTable",null),(0,M._)([(0,E.MZ)({type:[X.A],json:{origins:{"web-document":{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:k.w},write:!0}}}})],Q.prototype,"labelingInfo",void 0),(0,M._)([(0,E.MZ)(o.kF)],Q.prototype,"labelsVisible",void 0),(0,M._)([(0,E.MZ)(o.fV)],Q.prototype,"legendEnabled",void 0),(0,M._)([(0,E.MZ)({type:Number})],Q.prototype,"maxRecordCount",void 0),(0,M._)([(0,E.MZ)({type:String,json:{origins:{service:{name:"layerDefinition.objectIdField"}}}})],Q.prototype,"objectIdField",void 0),(0,M._)([(0,E.MZ)({type:["OGCFeatureLayer"]})],Q.prototype,"operationalLayerType",void 0),(0,M._)([(0,E.MZ)(o.M6)],Q.prototype,"popupEnabled",void 0),(0,M._)([(0,E.MZ)({type:P.A,json:{name:"popupInfo",write:!0}})],Q.prototype,"popupTemplate",void 0),(0,M._)([(0,E.MZ)({types:D.H,json:{origins:{service:{name:"layerDefinition.drawingInfo.renderer",write:!1},"web-scene":{types:D.X,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:!0}})],Q.prototype,"renderer",null),(0,M._)([(0,E.MZ)(o.PY)],Q.prototype,"screenSizePerspectiveEnabled",void 0),(0,M._)([(0,E.MZ)({readOnly:!0})],Q.prototype,"source",void 0),(0,M._)([(0,E.MZ)({readOnly:!0,type:Y.A,json:{origins:{service:{read:!0}}}})],Q.prototype,"spatialReference",void 0),(0,M._)([(0,E.MZ)({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"collection.title"}}}})],Q.prototype,"title",void 0),(0,M._)([(0,E.MZ)({readOnly:!0,json:{read:!1}})],Q.prototype,"type",void 0),(0,M._)([(0,E.MZ)({type:String,readOnly:!0})],Q.prototype,"typeIdField",void 0),(0,M._)([(0,E.MZ)({type:[m.A]})],Q.prototype,"types",void 0),(0,M._)([(0,E.MZ)(o.OZ)],Q.prototype,"url",void 0),Q=(0,M._)([(0,c.$)("esri.layers.OGCFeatureLayer")],Q);const Re=Q},78200:(q,z,s)=>{s.d(z,{F:()=>v});const v={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},94376:(q,z,s)=>{s.d(z,{p:()=>W});var v=s(8189),M=s(85211),g=(s(3248),s(35150),s(40707),s(76576));const W=A=>{let l=class extends A{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):function x(A){return"portalItem"in A}(this)?null===(i=this.portalItem)||void 0===i?void 0:i.apiKey:null}set apiKey(i){null!=i?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,v._)([(0,M.MZ)({type:String})],l.prototype,"apiKey",null),l=(0,v._)([(0,g.$)("esri.layers.mixins.APIKeyMixin")],l),l}},31446:(q,z,s)=>{s.d(z,{F:()=>A});var v=s(8189),M=s(85211),g=(s(3248),s(35150),s(40707),s(76576)),x=s(66722);const W={write:{allowNull:!0}},A=l=>{let i=class extends l{constructor(){super(...arguments),this.featureEffect=null}};return(0,v._)([(0,M.MZ)({type:x.A,json:{origins:{"web-map":W,"portal-item":W}}})],i.prototype,"featureEffect",void 0),i=(0,v._)([(0,g.$)("esri.layers.mixins.FeatureEffectLayer")],i),i}},43124:(q,z,s)=>{s.d(z,{f:()=>i});var v=s(8189),M=s(89221),K=s(85211),x=(s(3248),s(35150),s(40707),s(76576)),W=s(15848);function A(_,h,D){if(!_)return null;const d=_.find(I=>!!I.field);if(!d)return null;const E=new W.A;return E.read(d,D),[E]}function l(_,h,D,d){const E=_.find(I=>!!I.field);E&&(0,M.sM)(D,[E.toJSON()],h)}const i=_=>{let h=class extends _{constructor(){super(...arguments),this.orderBy=null}};return(0,v._)([(0,K.MZ)({type:[W.A],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:A},write:{target:"layerDefinition.orderBy",writer:l}}})],h.prototype,"orderBy",void 0),h=(0,v._)([(0,x.$)("esri.layers.mixins.OrderedLayer")],h),h}},84311:(q,z,s)=>{s.d(z,{e:()=>h});var v=s(8189),M=s(12849),K=s(99980),P=s(85211),W=(s(3248),s(35150),s(40707),s(17221)),A=s(76576),l=s(86300),i=s(38488),_=s(26957);const h=D=>{let d=class extends D{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(E,I){const O=I.timeInfo.exportOptions;if(!O)return null;const y=O.timeOffset,c=_.j.fromJSON(O.timeOffsetUnits);return y&&c?new K.A({value:y,unit:c}):null}set timeInfo(E){(0,l.sv)(E,this.fieldsIndex),this._set("timeInfo",E)}};return(0,v._)([(0,P.MZ)({type:M.A,json:{write:!1}})],d.prototype,"timeExtent",void 0),(0,v._)([(0,P.MZ)({type:K.A})],d.prototype,"timeOffset",void 0),(0,v._)([(0,W.w)("service","timeOffset",["timeInfo.exportOptions"])],d.prototype,"readOffset",null),(0,v._)([(0,P.MZ)({value:null,type:i.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],d.prototype,"timeInfo",null),(0,v._)([(0,P.MZ)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],d.prototype,"useViewTime",void 0),d=(0,v._)([(0,A.$)("esri.layers.mixins.TemporalLayer")],d),d}},66722:(q,z,s)=>{s.d(z,{A:()=>I});var _,v=s(8189),M=s(5922),K=s(71065),P=s(89221),U=s(85211),A=(s(3248),s(35150),s(40707),s(76576)),l=s(72211),i=s(95877);const h={read:{reader:l.LF},write:{writer:l.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},D={read:{reader:l.LF},write:{writer:l.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},d={name:"showExcludedLabels",default:!0};let E=_=class extends K.oY{constructor(O){super(O),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(O,y){const c=super.write(O,y);if(null!=y&&y.origin){var S;if(c.filter){var C;const p=Object.keys(c.filter);if(p.length>1||"where"!==p[0])return null!==(C=y.messages)&&void 0!==C&&C.push(new M.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:y.layer,effect:this})),null}if("showExcludedLabels"in c)return null!==(S=y.messages)&&void 0!==S&&S.push(new M.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:y.layer,effect:this})),null}return c}clone(){return new _({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,v._)([(0,U.MZ)({type:i.A,json:{write:{allowNull:!0,writer(O,y,c,S){const C=null==O?void 0:O.write({},S);C&&0!==Object.keys(C).length?(0,P.sM)(c,C,y):(0,P.sM)(c,null,y)}}}})],E.prototype,"filter",void 0),(0,v._)([(0,U.MZ)({json:{write:!0,origins:{"web-map":h,"portal-item":h}}})],E.prototype,"includedEffect",void 0),(0,v._)([(0,U.MZ)({json:{write:!0,origins:{"web-map":D,"portal-item":D}}})],E.prototype,"excludedEffect",void 0),(0,v._)([(0,U.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":d,"portal-item":d}}})],E.prototype,"excludedLabelsVisible",void 0),E=_=(0,v._)([(0,A.$)("esri.layers.support.FeatureEffect")],E);const I=E},95877:(q,z,s)=>{s.d(z,{A:()=>E});var _,v=s(8189),M=s(21152),K=s(12849),P=s(49976),U=s(71065),g=s(77806),x=s(85211),l=(s(3248),s(35150),s(76576)),i=s(87086);const h=new P.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),D=new P.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let d=_=class extends U.oY{constructor(I){super(I),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(I={}){const{where:O,geometry:y,spatialRelationship:c,timeExtent:S,objectIds:C,units:p,distance:f}=this;return new i.A({geometry:(0,g.o8)(y),objectIds:(0,g.o8)(C),spatialRelationship:c,timeExtent:(0,g.o8)(S),where:O,units:p,distance:f,...I})}clone(){const{where:I,geometry:O,spatialRelationship:y,timeExtent:c,objectIds:S,units:C,distance:p}=this;return new _({geometry:(0,g.o8)(O),objectIds:(0,g.o8)(S),spatialRelationship:y,timeExtent:(0,g.o8)(c),where:I,units:C,distance:p})}};(0,v._)([(0,x.MZ)({type:String,json:{write:!0}})],d.prototype,"where",void 0),(0,v._)([(0,x.MZ)({types:M.yR,json:{write:!0}})],d.prototype,"geometry",void 0),(0,v._)([(0,x.MZ)({type:h.apiValues,json:{name:"spatialRel",read:{reader:h.read},write:{allowNull:!1,writer:h.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],d.prototype,"spatialRelationship",void 0),(0,v._)([(0,x.MZ)({type:Number,json:{write:{overridePolicy(I){return{enabled:null!=I&&null!=this.geometry}}}}})],d.prototype,"distance",void 0),(0,v._)([(0,x.MZ)({type:[Number],json:{write:!0}})],d.prototype,"objectIds",void 0),(0,v._)([(0,x.MZ)({type:D.apiValues,json:{read:D.read,write:{writer:D.write,overridePolicy(I){return{enabled:null!=I&&null!=this.geometry}}}}})],d.prototype,"units",void 0),(0,v._)([(0,x.MZ)({type:K.A,json:{write:!0}})],d.prototype,"timeExtent",void 0),d=_=(0,v._)([(0,l.$)("esri.layers.support.FeatureFilter")],d);const E=d},47063:(q,z,s)=>{s.d(z,{A:()=>D});var v=s(8189),M=s(90660),K=s(71065),P=s(85211),W=(s(3248),s(35150),s(40707),s(17221)),A=s(76576),l=s(50305),i=s(84546),_=s(69741);let h=class extends((0,M.O)(K.oY)){constructor(d){super(d),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(d){const E={};for(const I of Object.keys(d))E[I]=(0,i.rS)(d[I]);return E}writeDomains(d,E){const I={};for(const y of Object.keys(d)){var O;d[y]&&(I[y]=null===(O=d[y])||void 0===O?void 0:O.toJSON())}E.domains=I}};(0,v._)([(0,P.MZ)({json:{write:!0}})],h.prototype,"id",void 0),(0,v._)([(0,P.MZ)({json:{write:!0}})],h.prototype,"name",void 0),(0,v._)([(0,P.MZ)({json:{write:!0}})],h.prototype,"domains",void 0),(0,v._)([(0,W.w)("domains")],h.prototype,"readDomains",null),(0,v._)([(0,l.K)("domains")],h.prototype,"writeDomains",null),(0,v._)([(0,P.MZ)({type:[_.A],json:{write:!0}})],h.prototype,"templates",void 0),h=(0,v._)([(0,A.$)("esri.layers.support.FeatureType")],h);const D=h},73258:(q,z,s)=>{s.d(z,{A:()=>h});var v=s(5922),M=s(71065),K=s(35150),P=s(60797),U=s(24098),g=s(86300),x=s(22639),W=s(44549);const _=new Map;class h{static fromJSON(y){return new h(y.fields,y.timeZoneByFieldName)}static fromLayer(y){var c;return new h(null!==(c=y.fields)&&void 0!==c?c:[],I(y))}static fromLayerJSON(y){var c;return new h(null!==(c=y.fields)&&void 0!==c?c:[],I(y))}constructor(y=[],c){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=y||[],this._timeZoneByFieldName=c?new Map(c):null;const S=[];for(const p of this.fields){const f=null==p?void 0:p.name,R=d(f);if(f&&R){var C;const Z=D(f);this._fieldsMap.set(f,p),this._fieldsMap.set(Z,p),this._normalizedFieldsMap.set(R,p),S.push(`${Z}:${p.type}:${null===(C=this._timeZoneByFieldName)||void 0===C?void 0:C.get(f)}`),(0,g.vE)(p)?(this.dateFields.push(p),this._dateFieldsSet.add(p)):(0,g.WA)(p)&&(this._numericFieldsSet.add(p),this.numericFields.push(p)),(0,g.te)(p)||(0,g.Xz)(p)||(p.editable=null==p.editable||!!p.editable,p.nullable=null==p.nullable||!!p.nullable)}}S.sort(),this.uid=S.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const y of this.fields)(0,g.te)(y)||(0,g.Xz)(y)||y.nullable||void 0!==(0,g.lD)(y)||this._requiredFields.push(y)}return this._requiredFields}equals(y){return this.uid===(null==y?void 0:y.uid)}has(y){return null!=this.get(y)}get(y){var c;if(!y)return;let S=this._fieldsMap.get(y);return S||(S=null!==(c=this._fieldsMap.get(D(y)))&&void 0!==c?c:this._normalizedFieldsMap.get(d(y)),S&&this._fieldsMap.set(y,S),S)}getTimeZone(y){const c=this.get(y&&"string"!=typeof y?y.name:y);return c?this._timeZoneByFieldName?this._timeZoneByFieldName.get(c.name):"date"===c.type||"esriFieldTypeDate"===c.type?(K.A.getLogger("esri.layers.support.FieldsIndex").error(new v.A("getTimeZone:no-timezone-information",`no time zone information for field '${c.name}'`)),x.n$):E.has(c.type)?x.L5:null:null}getLuxonTimeZone(y){const c=this.getTimeZone(y);return c?c===x.L5?U.GB.instance:c===x.n$?W.mQ.utcInstance:(0,P.tE)(_,c,()=>W.oh.create(c)):null}isDateField(y){return this._dateFieldsSet.has(this.get(y))}isTimeOnlyField(y){return(0,g.OH)(this.get(y))}isNumericField(y){return this._numericFieldsSet.has(this.get(y))}normalizeFieldName(y){var c,S;return null!==(c=null===(S=this.get(y))||void 0===S?void 0:S.name)&&void 0!==c?c:void 0}toJSON(){return{fields:this.fields.map(y=>(0,M.Wj)(y)?y.toJSON():y),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function D(O){return O.trim().toLowerCase()}function d(O){var y,c;return null!==(y=null===(c=(0,g.rS)(O))||void 0===c?void 0:c.toLowerCase())&&void 0!==y?y:""}const E=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function I(O){var y,c,S,C,p,f,R;const Z=new Map;if(!O.fields)return Z;const Y=!0===O.datesInUnknownTimezone,{timeInfo:N,editFieldsInfo:T}=O,J=null!==(y=N?"startField"in N?N.startField:N.startTimeField:"")&&void 0!==y?y:"",$=null!==(c=N?"endField"in N?N.endField:N.endTimeField:"")&&void 0!==c?c:"",G=function i(O){return"dateFieldsTimeZone"in O}(O)?null!==(S=O.dateFieldsTimeZone)&&void 0!==S?S:null:O.dateFieldsTimeReference?(0,x.ZS)(O.dateFieldsTimeReference):null,te=T?function A(O){return"timeZone"in O}(T)?null!==(C=T.timeZone)&&void 0!==C?C:G:T.dateFieldsTimeReference?(0,x.ZS)(T.dateFieldsTimeReference):null!=G?G:x.n$:null,b=N?function l(O){return"timeZone"in O}(N)?null!==(p=N.timeZone)&&void 0!==p?p:G:N.timeReference?(0,x.ZS)(N.timeReference):G:null,le=new Map([[D(null!==(f=null==T?void 0:T.creationDateField)&&void 0!==f?f:""),te],[D(null!==(R=null==T?void 0:T.editDateField)&&void 0!==R?R:""),te],[D(J),b],[D($),b]]);for(const{name:ne,type:de}of O.fields)if(E.has(de))Z.set(ne,x.L5);else if("date"!==de&&"esriFieldTypeDate"!==de)Z.set(ne,null);else if(Y)Z.set(ne,x.L5);else{var ie;const a=null!==(ie=le.get(D(null!=ne?ne:"")))&&void 0!==ie?ie:G;Z.set(ne,a)}return Z}},15848:(q,z,s)=>{s.d(z,{A:()=>_});var A,v=s(8189),M=s(49976),K=s(71065),P=s(85211),W=(s(3248),s(35150),s(40707),s(76576));const l=new M.J({asc:"ascending",desc:"descending"});let i=A=class extends K.oY{constructor(h){super(h),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new A({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,v._)([(0,P.MZ)({type:String,json:{write:!0}})],i.prototype,"field",void 0),(0,v._)([(0,P.MZ)({type:String,json:{write:!0}})],i.prototype,"valueExpression",void 0),(0,v._)([(0,P.MZ)({type:l.apiValues,json:{read:l.read,write:l.write}})],i.prototype,"order",void 0),i=A=(0,v._)([(0,W.$)("esri.layers.support.OrderByInfo")],i);const _=i},38488:(q,z,s)=>{s.d(z,{A:()=>E});var v=s(8189),M=s(12849),K=s(99980),P=s(90660),U=s(71065),g=s(85211),l=(s(3248),s(35150),s(40707),s(17221)),i=s(76576),_=s(50305),h=s(22639);function D(I,O){return K.A.fromJSON({value:I,unit:O})}let d=class extends((0,P.O)(U.oY)){constructor(I){super(I),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(I,O){if(!O.timeExtent||!Array.isArray(O.timeExtent)||2!==O.timeExtent.length)return null;const y=new Date(O.timeExtent[0]),c=new Date(O.timeExtent[1]);return new M.A({start:y,end:c})}writeFullTimeExtent(I,O){O.timeExtent=null!=(null==I?void 0:I.start)&&null!=I.end?[I.start.getTime(),I.end.getTime()]:null}readInterval(I,O){return O.timeInterval&&O.timeIntervalUnits?D(O.timeInterval,O.timeIntervalUnits):O.defaultTimeInterval&&O.defaultTimeIntervalUnits?D(O.defaultTimeInterval,O.defaultTimeIntervalUnits):null}writeInterval(I,O){var y,c;O.timeInterval=null!==(y=null==I?void 0:I.toJSON().value)&&void 0!==y?y:null,O.timeIntervalUnits=null!==(c=null==I?void 0:I.toJSON().unit)&&void 0!==c?c:null}};(0,v._)([(0,g.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],d.prototype,"cumulative",void 0),(0,v._)([(0,g.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"endField",void 0),(0,v._)([(0,g.MZ)({type:M.A,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0),(0,v._)([(0,l.w)("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null),(0,v._)([(0,_.K)("fullTimeExtent")],d.prototype,"writeFullTimeExtent",null),(0,v._)([(0,g.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0),(0,v._)([(0,g.MZ)({type:K.A,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0),(0,v._)([(0,l.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null),(0,v._)([(0,_.K)("interval")],d.prototype,"writeInterval",null),(0,v._)([(0,g.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"startField",void 0),(0,v._)([(0,g.MZ)((0,h.P6)("timeReference",!0))],d.prototype,"timeZone",void 0),(0,v._)([(0,g.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0),(0,v._)([(0,g.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],d.prototype,"useTime",void 0),d=(0,v._)([(0,i.$)("esri.layers.support.TimeInfo")],d);const E=d},4858:(q,z,s)=>{s.d(z,{BI:()=>D,D3:()=>_,XJ:()=>h,lc:()=>i,mX:()=>E,rU:()=>d,tH:()=>C});var v=s(1119);const M="__begin__",K="__end__",P=new RegExp(M,"ig"),U=new RegExp(K,"ig"),g=new RegExp("^"+M,"i"),x=new RegExp(K+"$","i"),W='"',A=W+" + ",l=" + "+W;function i(p){return p.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function _(p){return p.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function h(p){const f={expression:"",type:"none"};return p.labelExpressionInfo?p.labelExpressionInfo.value?(f.expression=p.labelExpressionInfo.value,f.type="conventional"):p.labelExpressionInfo.expression&&(f.expression=p.labelExpressionInfo.expression,f.type="arcade"):null!=p.labelExpression&&(f.expression=i(p.labelExpression),f.type="conventional"),f}function D(p){const f=h(p);if(!f)return null;switch(f.type){case"conventional":return E(f.expression);case"arcade":return f.expression}return null}function d(p){const f=h(p);if(!f)return null;switch(f.type){case"conventional":return function O(p){const f=null==p?void 0:p.match(I);return(null==f?void 0:f[1].trim())||null}(f.expression);case"arcade":return C(f.expression)}return null}function E(p){let f;return p?(f=(0,v.HC)(p,R=>M+'$feature["'+R+'"]'+K),f=g.test(f)?f.replace(g,""):W+f,f=x.test(f)?f.replace(x,""):f+W,f=f.replaceAll(P,A).replaceAll(U,l)):f='""',f}const I=/^\s*\{([^}]+)\}\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,c=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,S=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function C(p){if(!p)return null;let f=y.exec(p)||c.exec(p);return f?f[1]||f[3]:(f=S.exec(p),f?f[2]:null)}},26957:(q,z,s)=>{s.d(z,{j:()=>M});const M=(0,s(49976).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},78592:(q,z,s)=>{s.d(z,{O3:()=>A,PU:()=>x,YW:()=>i,ex:()=>U,hv:()=>l,zp:()=>g});var v=s(69287),M=s(67685),K=s(53781),P=s(89141);const U=2.4;function g(_){return(0,M.PN)(_*U)}function x(_){return(0,M.Lz)(_)/U}function W(_,h,D,d){let{color:E,ratio:I}=h,{color:O,ratio:y}=D;y===I&&(1===y?I-=1e-6:y+=1e-6);const c=(0,v.qE)((d-I)/(y-I),0,1);(0,K.l)(_,E.toArray(),O.toArray(),c)}function A(_){const D=new Uint8ClampedArray(2048);if((_=_.filter(({ratio:y})=>y>=0&&y<=1).sort((y,c)=>y.ratio-c.ratio).map(({color:y,ratio:c})=>({color:y,ratio:Math.max(c,.001)}))).length<1)return D;let d=_[0],E=_[0],I=1;const O=(0,P.vt)();for(let y=0;y<512;y++){const c=(y+.5)/512;for(;c>E.ratio&&I<_.length;)d=E,E=_[I++];W(O,d,E,c),D.set(O,4*y)}return D}function l(_,h,D){const d=Math.sqrt(_**2+h**2)/D;return d>1?0:3/(Math.PI*D**2)*(1-d**2)**2}function i(_){return"function"==typeof _?_:_?h=>+h[_]:()=>1}},93327:(q,z,s)=>{s.d(z,{A:()=>y});var E,v=s(8189),M=s(21152),K=s(81098),P=s(49976),U=s(71065),g=s(77806),x=s(85211),l=(s(3248),s(35150),s(17221)),i=s(76576),_=s(50305),h=s(32034),D=s(61320),d=s(29141);const I=new P.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let O=E=class extends U.oY{constructor(c){super(c),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(c,S){const C=h.A.fromJSON(S.spatialReference),p=[];for(let R=0;R<c.length;R++){var f;const Z=c[R],Y=K.A.fromJSON(Z),N=null===(f=Z.geometry)||void 0===f?void 0:f.spatialReference;null==Y.geometry||N||(Y.geometry.spatialReference=C);const T=Z.aggregateGeometries,J=Y.aggregateGeometries;if(T&&null!=J)for(const $ in J){const G=J[$],te=T[$];null==G||(null==te?void 0:te.spatialReference)||(G.spatialReference=C)}p.push(Y)}return p}writeGeometryType(c,S,C,p){if(c)return void I.write(c,S,C,p);const{features:f}=this;if(f)for(const R of f)if(null!=(null==R?void 0:R.geometry))return void I.write(R.geometry.type,S,C,p)}readQueryGeometry(c,S){if(!c)return null;const C=!!c.spatialReference,p=(0,D.rS)(c);return p&&!C&&S.spatialReference&&(p.spatialReference=h.A.fromJSON(S.spatialReference)),p}writeSpatialReference(c,S){if(c)return void(S.spatialReference=c.toJSON());const{features:C}=this;if(C)for(const p of C)if(p&&null!=p.geometry&&p.geometry.spatialReference)return void(S.spatialReference=p.geometry.spatialReference.toJSON())}clone(){return new E(this.cloneProperties())}cloneProperties(){return(0,g.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(c){const S=this.write();if(S.features&&Array.isArray(c)&&c.length>0)for(let C=0;C<S.features.length;C++){const p=S.features[C];if(p.geometry){const f=null==c?void 0:c[C];p.geometry=(null==f?void 0:f.toJSON())||p.geometry}}return S}quantize(c){const{scale:[S,C],translate:[p,f]}=c,Y=this.features,N=this._getQuantizationFunction(this.geometryType,T=>Math.round((T-p)/S),T=>Math.round((f-T)/C));for(let T=0,J=Y.length;T<J;T++)null!=N&&N(Y[T].geometry)||(Y.splice(T,1),T--,J--);return this.transform=c,this}unquantize(){var c,S;const{geometryType:C,features:p,transform:f}=this;if(!f)return this;const{translate:[R,Z],scale:[Y,N]}=f;let $=null,G=null;if(this.hasZ&&null!=(null==f||null===(c=f.scale)||void 0===c?void 0:c[2])){const{translate:[,,b],scale:[,,le]}=f;$=ie=>ie*le+b}if(this.hasM&&null!=(null==f||null===(S=f.scale)||void 0===S?void 0:S[3])){const{translate:[,,,b],scale:[,,,le]}=f;G=ie=>null==ie?ie:ie*le+b}const te=this._getHydrationFunction(C,b=>b*Y+R,b=>Z-b*N,$,G);for(const{geometry:b}of p)null!=b&&te&&te(b);return this.transform=null,this}_quantizePoints(c,S,C){let p,f;const R=[];for(let Z=0,Y=c.length;Z<Y;Z++){const N=c[Z];if(Z>0){const T=S(N[0]),J=C(N[1]);T===p&&J===f||(R.push([T-p,J-f]),p=T,f=J)}else p=S(N[0]),f=C(N[1]),R.push([p,f])}return R.length>0?R:null}_getQuantizationFunction(c,S,C){return"point"===c?p=>(p.x=S(p.x),p.y=C(p.y),p):"polyline"===c||"polygon"===c?p=>{const f=(0,D.Bi)(p)?p.rings:p.paths,R=[];for(let Z=0,Y=f.length;Z<Y;Z++){const T=this._quantizePoints(f[Z],S,C);T&&R.push(T)}return R.length>0?((0,D.Bi)(p)?p.rings=R:p.paths=R,p):null}:"multipoint"===c?p=>{const f=this._quantizePoints(p.points,S,C);return f&&f.length>0?(p.points=f,p):null}:"extent"===c?p=>p:null}_getHydrationFunction(c,S,C,p,f){return"point"===c?R=>{R.x=S(R.x),R.y=C(R.y),p&&(R.z=p(R.z))}:"polyline"===c||"polygon"===c?R=>{const Z=(0,D.Bi)(R)?R.rings:R.paths;let Y,N;for(let T=0,J=Z.length;T<J;T++){const $=Z[T];for(let G=0,te=$.length;G<te;G++){const b=$[G];G>0?(Y+=b[0],N+=b[1]):(Y=b[0],N=b[1]),b[0]=S(Y),b[1]=C(N)}}if(p&&f)for(let T=0,J=Z.length;T<J;T++){const $=Z[T];for(let G=0,te=$.length;G<te;G++){const b=$[G];b[2]=p(b[2]),b[3]=f(b[3])}}else if(p)for(let T=0,J=Z.length;T<J;T++){const $=Z[T];for(let G=0,te=$.length;G<te;G++){const b=$[G];b[2]=p(b[2])}}else if(f)for(let T=0,J=Z.length;T<J;T++){const $=Z[T];for(let G=0,te=$.length;G<te;G++){const b=$[G];b[2]=f(b[2])}}}:"extent"===c?R=>{R.xmin=S(R.xmin),R.ymin=C(R.ymin),R.xmax=S(R.xmax),R.ymax=C(R.ymax),p&&null!=R.zmax&&null!=R.zmin&&(R.zmax=p(R.zmax),R.zmin=p(R.zmin)),f&&null!=R.mmax&&null!=R.mmin&&(R.mmax=f(R.mmax),R.mmin=f(R.mmin))}:"multipoint"===c?R=>{const Z=R.points;let Y,N;for(let T=0,J=Z.length;T<J;T++){const $=Z[T];T>0?(Y+=$[0],N+=$[1]):(Y=$[0],N=$[1]),$[0]=S(Y),$[1]=C(N)}if(p&&f)for(let T=0,J=Z.length;T<J;T++){const $=Z[T];$[2]=p($[2]),$[3]=f($[3])}else if(p)for(let T=0,J=Z.length;T<J;T++){const $=Z[T];$[2]=p($[2])}else if(f)for(let T=0,J=Z.length;T<J;T++){const $=Z[T];$[2]=f($[2])}}:null}};(0,v._)([(0,x.MZ)({type:String,json:{write:!0}})],O.prototype,"displayFieldName",void 0),(0,v._)([(0,x.MZ)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],O.prototype,"exceededTransferLimit",void 0),(0,v._)([(0,x.MZ)({type:[K.A],json:{write:!0}})],O.prototype,"features",void 0),(0,v._)([(0,l.w)("features")],O.prototype,"readFeatures",null),(0,v._)([(0,x.MZ)({type:[d.A],json:{write:!0}})],O.prototype,"fields",void 0),(0,v._)([(0,x.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:I.read}}})],O.prototype,"geometryType",void 0),(0,v._)([(0,_.K)("geometryType")],O.prototype,"writeGeometryType",null),(0,v._)([(0,x.MZ)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],O.prototype,"hasM",void 0),(0,v._)([(0,x.MZ)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],O.prototype,"hasZ",void 0),(0,v._)([(0,x.MZ)({types:M.yR,json:{write:!0}})],O.prototype,"queryGeometry",void 0),(0,v._)([(0,l.w)("queryGeometry")],O.prototype,"readQueryGeometry",null),(0,v._)([(0,x.MZ)({type:h.A,json:{write:!0}})],O.prototype,"spatialReference",void 0),(0,v._)([(0,_.K)("spatialReference")],O.prototype,"writeSpatialReference",null),(0,v._)([(0,x.MZ)({json:{write:!0}})],O.prototype,"transform",void 0),O=E=(0,v._)([(0,i.$)("esri.rest.support.FeatureSet")],O),O.prototype.toJSON.isDefaultToJSON=!0;const y=O},91644:(q,z,s)=>{s.d(z,{A7:()=>W,Cx:()=>A,Hk:()=>l,JJ:()=>D,UK:()=>x,jM:()=>_,x3:()=>h}),s(3248);var M=s(88521),K=s(55417),P=s(46602),U=s(47705),g=s(48254);const x=P.A.fromJSON(g.Cb),W=K.A.fromJSON(g.yM),A=M.A.fromJSON(g.WR),l=U.A.fromJSON(g.JZ),_=P.A.fromJSON(g.nC),h=K.A.fromJSON(g.HW),D=M.A.fromJSON(g.b6)},48254:(q,z,s)=>{s.d(z,{Cb:()=>K,HW:()=>W,JZ:()=>g,WR:()=>U,b6:()=>A,nC:()=>x,yM:()=>P});const v=[252,146,31,255],K={type:"esriSMS",style:"esriSMSCircle",size:6,color:v,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},P={type:"esriSLS",style:"esriSLSSolid",width:.75,color:v},U={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},g={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},x={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},W={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},A={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},37027:(q,z,s)=>{s.d(z,{A:()=>P});var v=s(82284);function M(U,g){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,A){return W.__proto__=A,W})(U,g)}function P(){P=function(l,i){return new x(l,void 0,i)};var U=RegExp.prototype,g=new WeakMap;function x(A,l,i){var _=new RegExp(A,l);return g.set(_,i||g.get(A)),M(_,x.prototype)}function W(A,l){var i=g.get(l);return Object.keys(i).reduce(function(_,h){var D=i[h];if("number"==typeof D)_[h]=A[D];else{for(var d=0;void 0===A[D[d]]&&d+1<D.length;)d++;_[h]=A[D[d]]}return _},Object.create(null))}return function K(U,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(g&&g.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),g&&M(U,g)}(x,RegExp),x.prototype.exec=function(A){var l=U.exec.call(this,A);if(l){l.groups=W(l,this);var i=l.indices;i&&(i.groups=W(i,this))}return l},x.prototype[Symbol.replace]=function(A,l){if("string"==typeof l){var i=g.get(this);return U[Symbol.replace].call(this,A,l.replace(/\$<([^>]+)>/g,function(h,D){var d=i[D];return"$"+(Array.isArray(d)?d.join("$"):d)}))}if("function"==typeof l){var _=this;return U[Symbol.replace].call(this,A,function(){var h=arguments;return"object"!=(0,v.A)(h[h.length-1])&&(h=[].slice.call(h)).push(W(h,_)),l.apply(this,h)})}return U[Symbol.replace].call(this,A,l)},P.apply(this,arguments)}}}]);