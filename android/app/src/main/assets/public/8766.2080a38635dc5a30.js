"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8766],{40702:(G,I,h)=>{h.d(I,{$B:()=>A});var E=h(8189),y=h(98877),g=h(3248),O=h(77806),u=h(35150),_=h(85211),t=h(76576),o=h(79845),f=h(26073);let A=class extends y.A{constructor(a){super(a),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,g.A)("mapview-transitions-duration"),this.effects=[]}set effect(a){if(this._get("effect")!==(a=a||"")){this._set("effect",a);try{this._transitionTo(S(a))}catch(d){this._transitionTo([]),u.A.getLogger(this).warn("Invalid Effect",{effect:a,error:d})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(a){this._updateForScale(a)}get transitioning(){return null!==this._to}canTransitionTo(a){try{return this.scale>0&&U(this._current,S(a),this.scale)}catch{return!1}}transitionStep(a,d){this._applyTimeTransition(a),this._updateForScale(d)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(a){this.scale>0&&U(this._current,a,this.scale)?(this._final=a,this._to=(0,O.o8)(a),function W(a,d,l){var c,n;const i=a.length>d.length?a:d,s=a.length>d.length?d:a,r=s[s.length-1],R=null!==(c=null==r?void 0:r.scale)&&void 0!==c?c:l,C=null!==(n=null==r?void 0:r.effects)&&void 0!==n?n:[];for(let p=s.length;p<i.length;p++)s.push({scale:R,effects:[...C]});for(let p=0;p<i.length;p++)s[p].scale=-1===s[p].scale?l:s[p].scale,i[p].scale=-1===i[p].scale?l:i[p].scale,(0,f.O9)(s[p].effects,i[p].effects)}(this._current,this._to,this.scale),this._from=(0,O.o8)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=a),this._set("effects",this._current[0]?(0,O.o8)(this._current[0].effects):[])}_applyTimeTransition(a){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=a;const d=Math.min(1,this._time/this.duration);for(let l=0;l<this._current.length;l++){const c=this._current[l],n=this._from[l],i=this._to[l];c.scale=N(n.scale,i.scale,d);for(let s=0;s<c.effects.length;s++)c.effects[s].interpolate(n.effects[s],i.effects[s],d)}1===d&&(this._current=this._final,this._set("effects",this._current[0]?(0,O.o8)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(a){if(this._set("scale",a),0===this._current.length)return;const d=this._current,l=this._current.length-1;let c,n,i=1;if(1===d.length||a>=d[0].scale)n=c=d[0].effects;else if(a<=d[l].scale)n=c=d[l].effects;else for(let s=0;s<l;s++){const r=d[s],R=d[s+1];if(r.scale>=a&&R.scale<=a){i=(a-r.scale)/(R.scale-r.scale),c=r.effects,n=R.effects;break}}for(let s=0;s<this.effects.length;s++)this.effects[s].interpolate(c[s],n[s],i)}};function S(a){const d=(0,o.q)(a)||[];return function x(a){const d=a[0];return!!d&&"type"in d}(d)?[{scale:-1,effects:d}]:d}function U(a,d,l){var c,n,i,s;return null===(c=a[0])||void 0===c||!c.effects||null===(n=d[0])||void 0===n||!n.effects||!((-1===(null===(i=a[0])||void 0===i?void 0:i.scale)||-1===(null===(s=d[0])||void 0===s?void 0:s.scale))&&(a.length>1||d.length>1)&&l<=0)&&(0,f.mj)(a[0].effects,d[0].effects)}function N(a,d,l){return a+(d-a)*l}(0,E._)([(0,_.MZ)()],A.prototype,"_to",void 0),(0,E._)([(0,_.MZ)()],A.prototype,"duration",void 0),(0,E._)([(0,_.MZ)({value:""})],A.prototype,"effect",null),(0,E._)([(0,_.MZ)({readOnly:!0})],A.prototype,"effects",void 0),(0,E._)([(0,_.MZ)({readOnly:!0})],A.prototype,"hasEffects",null),(0,E._)([(0,_.MZ)({value:0})],A.prototype,"scale",null),(0,E._)([(0,_.MZ)({readOnly:!0})],A.prototype,"transitioning",null),A=(0,E._)([(0,t.$)("esri.layers.effects.EffectView")],A)},88766:(G,I,h)=>{h.d(I,{m:()=>u});var E=h(12273),y=h(40702),g=h(63888),O=h(62931);class u extends g.q{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this._children=[],this._effectView=null,this._highlightOptions=null,this._highlightGradient=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get children(){return this._children}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach(o=>o.clips=t)}get computedEffects(){var t,o;return null!==(t=null===(o=this._effectView)||void 0===o?void 0:o.effects)&&void 0!==t?t:null}get effect(){var t,o;return null!==(t=null===(o=this._effectView)||void 0===o?void 0:o.effect)&&void 0!==t?t:""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new y.$B),this._effectView.effect=t,this.requestRender())}get highlightOptions(){return this._highlightOptions}set highlightOptions(t){if(!t)return this._highlightOptions=null,void(this._highlightGradient&&(this._highlightGradient.destroy(),this._highlightGradient=null,this.requestRender()));this._highlightOptions&&this._highlightOptions.equals(t)||(this._highlightOptions=t,this._highlightGradient=(0,O.u4)(this._highlightGradient,t),this.requestRender())}get hasBlending(){return!!this.blendMode}get hasHighlight(){return this.children.some(t=>t.hasHighlight)}get hasLabels(){return this.children.some(t=>t.hasLabels)}get requiresDedicatedFBO(){return this.children.some(t=>"blendMode"in t&&t.blendMode&&"normal"!==t.blendMode)}updateTransitionProperties(t,o){super.updateTransitionProperties(t,o),this._effectView&&(this._effectView.transitionStep(t,o),this._effectView.transitioning&&this.requestRender())}doRender(t){var o;const f=this.createRenderParams(t),{painter:e}=f;e.beforeRenderLayer(f,null!==(o=this._clips)&&void 0!==o&&o.length?255:0,this.computedOpacity),this.renderChildren(f),e.afterRenderLayer(f,this.computedOpacity)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t,o=this.children.length){if(!t||this.contains(t))return t;this._needsSort=!0;const f=t.parent;return f&&f!==this&&f.removeChild(t),o>=this.children.length?this.children.push(t):this.children.splice(o,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t}contains(t){return this._childrenSet.has(t)}endTransitions(){super.endTransitions(),this._effectView&&(this._effectView.endTransitions(),this.requestRender())}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const o=this.children.splice(t,1)[0];return this._childrenSet.delete(o),this!==this.stage&&(o.clips=null),o.stage=null,o.parent=null,o}sortChildren(t){this._needsSort&&(this.children.sort(t),this._needsSort=!1)}beforeRender(t){super.beforeRender(t);for(const o of this.children)o.beforeRender(t)}afterRender(t){super.afterRender(t);for(const o of this.children)o.afterRender(t)}_createTransforms(){return{displayViewScreenMat3:(0,E.vt)()}}onAttach(){super.onAttach();const t=this.stage;for(const o of this.children)o.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const o of this.children)o.processRender(t)}createRenderParams(t){return{...t,requireFBO:this.requiresDedicatedFBO,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||t.highlightGradient}}}},63888:(G,I,h)=>{h.d(I,{q:()=>u});var E=h(42425),y=h(3248),g=h(56492);const O=0===(0,y.A)("mapview-transitions-duration")?0:1/(0,y.A)("mapview-transitions-duration");class u extends E.A{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this.parent=null,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this.requestRender())}get stage(){return this._stage}set stage(t){var o;if(this._stage===t)return;const f=this._stage;this._stage=t,t?null!==(o=this._stage)&&void 0!==o&&o.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):null==f||f.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return null==this._transforms&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this.requestRender())}get hasLabels(){return!1}get hasHighlight(){return!1}get hasBlending(){return!1}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.opacity=1,this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,g.Tw)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,g.Tw)(),this.requestRender()),this._fadeOutResolver.promise}endTransitions(){var t,o;null!==(t=this._fadeInResolver)&&void 0!==t&&t.call(this),this._fadeInResolver=null,null!==(o=this._fadeOutResolver)&&void 0!==o&&o.call(this),this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0,this.requestRender()}beforeRender(t){this.updateTransitionProperties(t.deltaTime,t.state.scale),this.setTransform(t.state)}afterRender(t){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var t;null===(t=this.parent)||void 0===t||t.removeChild(this)}setTransform(t){}processRender(t){this.stage&&this.computedVisible&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(t,o){if(this.fadeTransitionEnabled&&0!==O){const f=this._fadeOutResolver||!this.visible?0:this.opacity,e=this.computedOpacity;if(e===f)this.computedVisible=this.visible;else{const A=t*O;this.computedOpacity=e>f?Math.max(f,e-A):Math.min(f,e+A),this.computedVisible=this.computedOpacity>0;const S=f===this.computedOpacity;this.inFadeTransition=!S,S||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},25735:(G,I,h)=>{h.d(I,{$r:()=>O,M$:()=>u,mF:()=>g});var E=h(68677),y=h(60746);const g={selection:_=>new y.A({color:new E.A([_.color.r/2,_.color.g/2,_.color.b/2,_.color.a])}),highlight:_=>_,popup:_=>new y.A({color:new E.A([_.color.g,_.color.b,_.color.r,_.color.a])})};function O(_){if(!_)return 0;let t=1;for(const o in g){if(o===_)break;t<<=1}return t}const u=Object.keys(g)},47669:(G,I,h)=>{h.d(I,{$U:()=>q,C2:()=>R,CQ:()=>_,CR:()=>$,C_:()=>tt,Cp:()=>Y,DY:()=>x,Gh:()=>z,LY:()=>F,O5:()=>lt,Pq:()=>M,Qb:()=>ot,Sr:()=>w,TB:()=>_t,Tv:()=>e,Vl:()=>dt,Xh:()=>ct,YS:()=>P,YV:()=>A,_j:()=>et,_x:()=>ht,bg:()=>f,c5:()=>J,dV:()=>V,eG:()=>r,eI:()=>at,fq:()=>st,g0:()=>Q,hM:()=>K,ju:()=>W,lL:()=>H,mg:()=>k,n9:()=>B,nM:()=>b,nW:()=>it,qM:()=>g,r1:()=>rt,sn:()=>D,uM:()=>L,ue:()=>m,vN:()=>Z,vd:()=>j,yv:()=>nt,z2:()=>v});const g=1e-30,_=512,f=128,e=511,A=16777216,W=8,x=29,r=24,R=4,M=0,m=0,P=0,L=1,v=2,b=3,H=4,D=5,B=6,w=12,j=5,$=6,Y=5,Z=6;var V,T;(T=V||(V={}))[T.FilterFlags=0]="FilterFlags",T[T.Animation=1]="Animation",T[T.GPGPU=2]="GPGPU",T[T.VV=3]="VV",T[T.DD0=4]="DD0",T[T.DD1=5]="DD1",T[T.DD2=6]="DD2";const F=8,Q=F<<1,z=1.05,J=1,q=5,k=6,tt=1.15,K=2,et=128-2*K,it=2,st=10,nt=1024,ot=128,rt=4,lt=1,ht=1<<20,at=.75,ct=10,dt=.75,_t=256},22049:(G,I,h)=>{h.d(I,{Ci:()=>O,HQ:()=>y,No:()=>u,XK:()=>g,aY:()=>E});const E=1,y=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=256,u={outlineWidth:1.3,outerHaloWidth:.4,innerHaloWidth:.4,outlinePosition:0}},69473:(G,I,h)=>{var E,y,g,O,u,_,t,o,f,e;h.d(I,{Be:()=>u,Gn:()=>g,RI:()=>t,S5:()=>y,ch:()=>o,uC:()=>f}),(e=E||(E={}))[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL",function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(y||(y={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(g||(g={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(O||(O={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(u||(u={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(_||(_={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(t||(t={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(o||(o={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(f||(f={}))},23070:(G,I,h)=>{h.d(I,{Eq:()=>A,L4:()=>f,Pr:()=>d,QA:()=>N,Qu:()=>a,dJ:()=>e,r3:()=>W,vT:()=>x});var E=h(3248),y=h(82663),g=h(47669),O=h(69473),u=h(50915);const _={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:l=>l.stencilRef,compare:u.MT.EQUAL,mask:255,op:{fail:u.eA.KEEP,zFail:u.eA.KEEP,zPass:u.eA.REPLACE}}}},t={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},o={..._,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function f({pixelRatio:l,state:c,displayLevel:n,requiredLevel:i},s){const r=1/2**(n-s.key.level),R=1/2**(i-s.key.level);return{displayMat3:Array.from(c.displayMat3),displayViewMat3:Array.from(c.displayViewMat3),displayViewScreenMat3:Array.from(s.transforms.displayViewScreenMat3),viewMat3:Array.from(c.viewMat3),tileMat3:Array.from(s.transforms.tileMat3),displayZoomFactor:r,requiredZoomFactor:R,tileOffset:[s.x,s.y],currentScale:c.scale,currentZoom:n,metersPerSRUnit:(0,y.GA)(c.spatialReference),rotation:c.rotation,pixelRatio:l}}function e(l){var c;return"highlight"===(null===(c=l.passOptions)||void 0===c?void 0:c.type)}function A(l){var c;return"hittest"===(null===(c=l.passOptions)||void 0===c?void 0:c.type)}function S(l){if(!A(l))return null;const{position:c}=l.passOptions,n=l.pixelRatio,i=(0,E.A)("esri-mobile");return{position:c,distance:(0,E.A)(i?"hittest-2d-mobile-tolerance":"hittest-2d-desktop-tolerance")*n,smallSymbolDistance:(0,E.A)(i?"hittest-2d-mobile-tolerance":"hittest-2d-small-symbol-tolerance")*n,smallSymbolSizeThreshold:(0,E.A)("hittest-2d-small-symbol-tolerance-threshold")}}function U(l){if(!e(l))return null;const{activeReasons:c,highlightAll:n}=l.passOptions;return{activeReasons:c,highlightAll:n?1:0}}function W(l,c,n){const i={};for(const s in n)i[s]=n[s]instanceof Function?n[s](l,c):n[s];return i}function N(l,c){const{attributeView:n,context:i}=l;return{storage:n.getUniforms(i),view:f(l,c),hittestRequest:S(l),highlight:U(l)}}function x(l){return{inside:l.selection===O.RI.InsideEffect,outside:l.selection===O.RI.OutsideEffect}}function a(l){return A(l)?t:e(l)&&"clear"===l.passOptions.stepType?o:_}function d(l){const{row:c,col:n}=l.key,i=n*g.CQ,s=c*g.CQ;return{tileOffsetFromLocalOrigin:[i%g.YV,s%g.YV],maxIntsToLocalOrigin:[Math.floor(i/g.YV),Math.floor(s/g.YV)]}}},62931:(G,I,h)=>{h.d(I,{H_:()=>d,u4:()=>l,lB:()=>c});var E=h(49976),y=h(35150),g=h(25735),O=h(47669),u=h(22049),_=h(50915),t=h(26136),o=h(4931);const f=()=>y.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient"),A=[0,0,0,0];class S{constructor(){this.type="single",this._convertedHighlightOptions={fillColor:[.2*.75,.6*.75,.675,.75],outlineColor:[.2*.9,.54,.81,.9],outlinePosition:u.No.outlinePosition,outlineWidth:u.No.outlineWidth,innerHaloWidth:u.No.innerHaloWidth,outerHaloWidth:u.No.outerHaloWidth},this._shadeTexChanged=!0,this._texelData=new Uint8Array(4*u.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(i){const s=this._convertedHighlightOptions;!function e(n,i){i.fillColor[0]=n.color.r/255,i.fillColor[1]=n.color.g/255,i.fillColor[2]=n.color.b/255,i.fillColor[3]=n.color.a,n.haloColor?(i.outlineColor[0]=n.haloColor.r/255,i.outlineColor[1]=n.haloColor.g/255,i.outlineColor[2]=n.haloColor.b/255,i.outlineColor[3]=n.haloColor.a):(i.outlineColor[0]=i.fillColor[0],i.outlineColor[1]=i.fillColor[1],i.outlineColor[2]=i.fillColor[2],i.outlineColor[3]=i.fillColor[3]),i.fillColor[3]*=n.fillOpacity,i.outlineColor[3]*=n.haloOpacity,i.fillColor[0]*=i.fillColor[3],i.fillColor[1]*=i.fillColor[3],i.fillColor[2]*=i.fillColor[3],i.outlineColor[0]*=i.outlineColor[3],i.outlineColor[1]*=i.outlineColor[3],i.outlineColor[2]*=i.outlineColor[3],i.outlineWidth=u.No.outlineWidth,i.outerHaloWidth=u.No.outerHaloWidth,i.innerHaloWidth=u.No.innerHaloWidth,i.outlinePosition=u.No.outlinePosition}(i,s);const r=s.outlinePosition-s.outlineWidth/2-s.outerHaloWidth,R=s.outlinePosition-s.outlineWidth/2,C=s.outlinePosition+s.outlineWidth/2,p=s.outlinePosition+s.outlineWidth/2+s.innerHaloWidth,M=Math.sqrt(Math.PI/2)*u.aY,m=Math.abs(r)>M?Math.round(10*(Math.abs(r)-M))/10:0,P=Math.abs(p)>M?Math.round(10*(Math.abs(p)-M))/10:0;let L;m&&!P?f().error("The outer rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!m&&P?f().error("The inner rim of the highlight is "+P+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):m&&P&&f().error("The highlight is "+Math.max(m,P)+"px away from the edge of the feature; consider reducing some width values.");const v=[void 0,void 0,void 0,void 0];function b(D,B,w){v[0]=(1-w)*D[0]+w*B[0],v[1]=(1-w)*D[1]+w*B[1],v[2]=(1-w)*D[2]+w*B[2],v[3]=(1-w)*D[3]+w*B[3]}const{_texelData:H}=this;for(let D=0;D<u.Ci;++D)L=r+D/(u.Ci-1)*(p-r),L<r?(v[0]=0,v[1]=0,v[2]=0,v[3]=0):L<R?b(A,s.outlineColor,(L-r)/(R-r)):L<C?[v[0],v[1],v[2],v[3]]=s.outlineColor:L<p?b(s.outlineColor,s.fillColor,(L-C)/(p-C)):[v[0],v[1],v[2],v[3]]=s.fillColor,H[4*D]=255*v[0],H[4*D+1]=255*v[1],H[4*D+2]=255*v[2],H[4*D+3]=255*v[3];this._minMaxDistance[0]=r,this._minMaxDistance[1]=p,this._shadeTexChanged=!0}applyHighlightOptions(i,s){if(!this._shadeTex){const r=new o.R;r.wrapMode=_.pF.CLAMP_TO_EDGE,r.width=u.Ci,r.height=1,this._shadeTex=new t.g(i,r)}this._shadeTexChanged&&(this._shadeTex.updateData(0,0,0,u.Ci,1,this._texelData),this._shadeTexChanged=!1),i.bindTexture(this._shadeTex,O.CR),s.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var i;null!==(i=this._shadeTex)&&void 0!==i&&i.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<g.M$.length)-1,activeGradient:this}]}}class U{constructor(){this.type="multi";const i={};for(const s in g.mF)i[s]=new S;this.gradients=i}setHighlightOptions(i){for(const s in g.mF){const r=g.mF[s](i);this.gradients[s].setHighlightOptions(r)}}applyHighlightOptions(i,s,r){this.gradients[r].applyHighlightOptions(i,s)}destroy(){for(const i in g.mF)this.gradients[i].destroy()}getReasonsWithGradients(){let i=1;const s=[];for(const r in this.gradients)s.push({activeReasons:i,activeGradient:this.gradients[r]}),i<<=1;return s}}var W=h(23070);function d(n){const{bandCount:i,attributeTable:s,colormap:r,pixelType:R}=n.raster.rasterInfo;return 1===i&&(null!=s||null!=r||"u8"===R||"s8"===R)}function l(n,i){var s,r;return"single"===(null===(s=n)||void 0===s?void 0:s.type)&&i.multiHighlightEnabled&&(n.destroy(),n=null),"multi"!==(null===(r=n)||void 0===r?void 0:r.type)||i.multiHighlightEnabled||(n.destroy(),n=null),n||(n=i.multiHighlightEnabled?new U:new S),n.setHighlightOptions(i),n}function c(n,i,s){const{painter:r,highlightGradient:R}=n,{highlight:C}=r.effects;if(!R)return;const p=n.passOptions,M=R.getReasonsWithGradients();for(let m=0;m<M.length;m++){const P={...n,passOptions:{type:"highlight",activeGradient:M[m].activeGradient,activeReasons:M[m].activeReasons,stepType:"burn",highlightAll:i}};if(C.bind(P),s(P),m<M.length-1){let v=0;for(let b=m+1;b<M.length;b++)v|=M[b].activeReasons;s({...n,passOptions:{type:"highlight",activeGradient:M[m].activeGradient,activeReasons:v,stepType:"clear",highlightAll:i}})}const L={...n,passOptions:{type:"highlight",activeGradient:M[m].activeGradient,activeReasons:M[m].activeReasons,stepType:"draw",highlightAll:i}};r.setPipelineState((0,W.Qu)(n)),r.updatePipelineState(n.context),C.draw(L),C.unbind()}n.passOptions=p}new E.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"})}}]);