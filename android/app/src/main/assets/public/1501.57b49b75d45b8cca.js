"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1501,6773],{61501:(An,H,g)=>{g.r(H),g.d(H,{registerFunctions:()=>nn});var A=g(10467),j=g(77469),M=g(45369),X=g(53787),s=g(55279),f=g(73446),i=g(42686),T=g(32832),N=g(29417),C=g(55316),G=g(82663),F=g(28067),l=g(68643),m=g(16773),b=g(21870),S=g(13303),K=g(55861),$=g(93615),Q=g(61320),Z=g(73874),J=g(89563);function Y(u,t,r){return z.apply(this,arguments)}function z(){return(z=(0,A.A)(function*(u,t,r){var d;if(!(null==j.id?void 0:j.id.findCredential(u.restUrl)))return null;if("loaded"===u.loadStatus&&""===t&&null!==(d=u.user)&&void 0!==d&&d.sourceJSON&&!1===r)return u.user.sourceJSON;const n={responseType:"json",query:{f:"json"}};if(r&&(n.query.returnUserLicenseTypeExtensions=!0),""===t){const c=yield(0,J.A)(u.restUrl+"/community/self",n);if(c.data){const h=c.data;if(null!=h&&h.username)return h}return null}const e=yield(0,J.A)(u.restUrl+"/community/users/"+t,n);if(e.data){const c=e.data;return c.error?null:c}return null})).apply(this,arguments)}function q(u){return 0===j.rE.indexOf("4.")?K.A.fromExtent(u):new K.A({spatialReference:u.spatialReference,rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]})}function R(u,t,r){if((0,i.H)(u,2,2,t,r),!(u[0]instanceof l.A&&u[1]instanceof l.A||u[0]instanceof l.A&&null===u[1]||u[1]instanceof l.A&&null===u[0]||null===u[0]&&null===u[1]))throw new s.D$(t,s.TX.InvalidParameter,r)}function k(u,t){return V.apply(this,arguments)}function V(){return(V=(0,A.A)(function*(u,t){if("polygon"!==u.type&&"polyline"!==u.type&&"extent"!==u.type)return 0;let r=1;(u.spatialReference.vcsWkid||u.spatialReference.latestVcsWkid)&&(r=(0,N.G9)(u.spatialReference)/(0,G.GA)(u.spatialReference));let d=0;if("polyline"===u.type)for(const n of u.paths)for(let e=1;e<n.length;e++)d+=(0,N.BM)(n[e],n[e-1],r);else if("polygon"===u.type)for(const n of u.rings){for(let e=1;e<n.length;e++)d+=(0,N.BM)(n[e],n[e-1],r);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(d+=(0,N.BM)(n[0],n[n.length-1],r))}else"extent"===u.type&&(d+=2*(0,N.BM)([u.xmin,u.ymin,0],[u.xmax,u.ymin,0],r),d+=2*(0,N.BM)([u.xmin,u.ymin,0],[u.xmin,u.ymax,0],r),d*=2,d+=4*Math.abs((0,i.K)(u.zmax,0)*r-(0,i.K)(u.zmin,0)*r));const y=new $.A({hasZ:!1,hasM:!1,spatialReference:u.spatialReference,paths:[[0,0],[0,d]]});return(0,m.planarLength)(y,t)})).apply(this,arguments)}function nn(u){"async"===u.mode&&(u.functions.disjoint=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null===n[0]||null===n[1]||(0,m.disjoint)(n[0],n[1])))},u.functions.intersects=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,m.intersects)(n[0],n[1])))},u.functions.touches=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,m.touches)(n[0],n[1])))},u.functions.crosses=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,m.crosses)(n[0],n[1])))},u.functions.within=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,m.within)(n[0],n[1])))},u.functions.contains=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,m.contains)(n[0],n[1])))},u.functions.overlaps=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,m.overlaps)(n[0],n[1])))},u.functions.equals=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>((0,i.H)(n,2,2,t,r),n[0]===n[1]||(n[0]instanceof l.A&&n[1]instanceof l.A?(0,m.equals)(n[0],n[1]):((0,i.k)(n[0])&&(0,i.k)(n[1])||!!((0,i.n)(n[0])&&(0,i.n)(n[1])||(0,i.m)(n[0])&&(0,i.m)(n[1])))&&n[0].equals(n[1]))))},u.functions.relate=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,3,3,t,r),n[0]instanceof l.A&&n[1]instanceof l.A)return(0,m.relate)(n[0],n[1],(0,i.j)(n[2]));if(n[0]instanceof l.A&&null===n[1]||n[1]instanceof l.A&&null===n[0]||null===n[0]&&null===n[1])return!1;throw new s.D$(t,s.TX.InvalidParameter,r)})},u.functions.intersection=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null===n[0]||null===n[1]?null:(0,m.intersect)(n[0],n[1])))},u.functions.union=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{const e=[];if(0===(n=(0,i.I)(n)).length)throw new s.D$(t,s.TX.WrongNumberOfParameters,r);if(1===n.length)if((0,i.o)(n[0])){const c=(0,i.I)(n[0]);for(let h=0;h<c.length;h++)if(null!==c[h]){if(!(c[h]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);e.push(c[h])}}else{if(!(0,i.q)(n[0])){if(n[0]instanceof l.A)return(0,i.x)((0,f.Yq)(n[0]),t.spatialReference);if(null===n[0])return null;throw new s.D$(t,s.TX.InvalidParameter,r)}{const c=(0,i.I)(n[0].toArray());for(let h=0;h<c.length;h++)if(null!==c[h]){if(!(c[h]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);e.push(c[h])}}}else for(let c=0;c<n.length;c++)if(null!==n[c]){if(!(n[c]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);e.push(n[c])}return 0===e.length?null:(0,m.union)(e)})},u.functions.difference=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null!==n[0]&&null===n[1]?(0,f.Yq)(n[0]):null===n[0]?null:(0,m.difference)(n[0],n[1])))},u.functions.symmetricdifference=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>(R(n=(0,i.I)(n),t,r),null===n[0]&&null===n[1]?null:null===n[0]?(0,f.Yq)(n[1]):null===n[1]?(0,f.Yq)(n[0]):(0,m.symmetricDifference)(n[0],n[1])))},u.functions.clip=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),!(n[1]instanceof F.A)&&null!==n[1])throw new s.D$(t,s.TX.InvalidParameter,r);if(null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return null===n[1]?null:(0,m.clip)(n[0],n[1])})},u.functions.cut=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),!(n[1]instanceof $.A)&&null!==n[1])throw new s.D$(t,s.TX.InvalidParameter,r);if(null===n[0])return[];if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return null===n[1]?[(0,f.Yq)(n[0])]:(0,m.cut)(n[0],n[1])})},u.functions.area=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumArea((0,f.uf)((0,i.K)(e[1],-1)),!1,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.J)(e[0],t.spatialReference);return null===c?0:(0,m.planarArea)(c,(0,f.uf)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.planarArea)(e[0],(0,f.uf)((0,i.K)(e[1],-1)))});return function(y,n,e){return d.apply(this,arguments)}}())},u.functions.areageodetic=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumArea((0,f.uf)((0,i.K)(e[1],-1)),!0,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.J)(e[0],t.spatialReference);return null===c?0:(0,m.geodesicArea)(c,(0,f.uf)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.geodesicArea)(e[0],(0,f.uf)((0,i.K)(e[1],-1)))});return function(y,n,e){return d.apply(this,arguments)}}())},u.functions.length=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumLength((0,f.SQ)((0,i.K)(e[1],-1)),!1,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.L)(e[0],t.spatialReference);return null===c?0:(0,m.planarLength)(c,(0,f.SQ)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.planarLength)(e[0],(0,f.SQ)((0,i.K)(e[1],-1)))});return function(y,n,e){return d.apply(this,arguments)}}())},u.functions.length3d=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if((0,i.H)(n,1,2,t,r),null===(n=(0,i.I)(n))[0])return 0;if((0,i.o)(n[0])||(0,i.q)(n[0])){const e=(0,i.L)(n[0],t.spatialReference);return null===e?0:!0===e.hasZ?k(e,(0,f.SQ)((0,i.K)(n[1],-1))):(0,m.planarLength)(e,(0,f.SQ)((0,i.K)(n[1],-1)))}if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return!0===n[0].hasZ?k(n[0],(0,f.SQ)((0,i.K)(n[1],-1))):(0,m.planarLength)(n[0],(0,f.SQ)((0,i.K)(n[1],-1)))})},u.functions.lengthgeodetic=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumLength((0,f.SQ)((0,i.K)(e[1],-1)),!0,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.L)(e[0],t.spatialReference);return null===c?0:(0,m.geodesicLength)(c,(0,f.SQ)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.geodesicLength)(e[0],(0,f.SQ)((0,i.K)(e[1],-1)))});return function(y,n,e){return d.apply(this,arguments)}}())},u.functions.distance=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{n=(0,i.I)(n),(0,i.H)(n,2,3,t,r);let e=n[0];((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.M)(n[0],t.spatialReference));let c=n[1];if(((0,i.o)(n[1])||(0,i.q)(n[1]))&&(c=(0,i.M)(n[1],t.spatialReference)),!(e instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(c instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.distance)(e,c,(0,f.SQ)((0,i.K)(n[2],-1)))})},u.functions.distancegeodetic=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{n=(0,i.I)(n),(0,i.H)(n,2,3,t,r);const e=n[0],c=n[1];if(!(e instanceof S.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(c instanceof S.A))throw new s.D$(t,s.TX.InvalidParameter,r);const h=new $.A({paths:[],spatialReference:e.spatialReference});return h.addPath([e,c]),(0,m.geodesicLength)(h,(0,f.SQ)((0,i.K)(n[2],-1)))})},u.functions.densify=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);if(e<=0)throw new s.D$(t,s.TX.InvalidParameter,r);return n[0]instanceof K.A||n[0]instanceof $.A?(0,m.densify)(n[0],e,(0,f.SQ)((0,i.K)(n[2],-1))):n[0]instanceof F.A?(0,m.densify)(q(n[0]),e,(0,f.SQ)((0,i.K)(n[2],-1))):n[0]})},u.functions.densifygeodetic=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);if(e<=0)throw new s.D$(t,s.TX.InvalidParameter,r);return n[0]instanceof K.A||n[0]instanceof $.A?(0,m.geodesicDensify)(n[0],e,(0,f.SQ)((0,i.K)(n[2],-1))):n[0]instanceof F.A?(0,m.geodesicDensify)(q(n[0]),e,(0,f.SQ)((0,i.K)(n[2],-1))):n[0]})},u.functions.generalize=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,4,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.generalize)(n[0],e,(0,i.h)((0,i.K)(n[2],!0)),(0,f.SQ)((0,i.K)(n[3],-1)))})},u.functions.buffer=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);return 0===e?(0,f.Yq)(n[0]):(0,m.buffer)(n[0],e,(0,f.SQ)((0,i.K)(n[2],-1)))})},u.functions.buffergeodetic=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);return 0===e?(0,f.Yq)(n[0]):(0,m.geodesicBuffer)(n[0],e,(0,f.SQ)((0,i.K)(n[2],-1)))})},u.functions.offset=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,6,t,r),null===n[0])return null;if(!(n[0]instanceof K.A||n[0]instanceof $.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);const c=(0,i.g)((0,i.K)(n[4],10));if(isNaN(c))throw new s.D$(t,s.TX.InvalidParameter,r);const h=(0,i.g)((0,i.K)(n[5],0));if(isNaN(h))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.offset)(n[0],e,(0,f.SQ)((0,i.K)(n[2],-1)),(0,i.j)((0,i.K)(n[3],"round")).toLowerCase(),c,h)})},u.functions.rotate=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{n=(0,i.I)(n),(0,i.H)(n,2,3,t,r);let e=n[0];if(null===e)return null;if(!(e instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);e instanceof F.A&&(e=K.A.fromExtent(e));const c=(0,i.g)(n[1]);if(isNaN(c))throw new s.D$(t,s.TX.InvalidParameter,r);const h=(0,i.K)(n[2],null);if(null===h)return(0,m.rotate)(e,c);if(h instanceof S.A)return(0,m.rotate)(e,c,h);throw new s.D$(t,s.TX.InvalidParameter,r)})},u.functions.centroid=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.M)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return e instanceof S.A?(0,i.x)((0,f.Yq)(n[0]),t.spatialReference):e instanceof K.A?e.centroid:e instanceof $.A?(0,N.tI)(e):e instanceof b.A?(0,N.e0)(e):e instanceof F.A?e.center:null})},u.functions.measuretocoordinate=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.L)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e instanceof $.A))throw new s.D$(t,s.TX.InvalidParameter,r);if((0,i.b)(!1===n[1]))throw new s.D$(t,s.TX.InvalidParameter,r);const c=(0,C.EP)(e,n[1]);return c?X.A.convertObjectToArcadeDictionary(c,(0,i.N)(t),!1,!0):null})},u.functions.pointtocoordinate=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.L)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e instanceof $.A))throw new s.D$(t,s.TX.InvalidParameter,r);const c=n[1];if(null===c)return null;if(!(c instanceof S.A))throw new s.D$(t,s.TX.InvalidParameter,r);if((0,i.b)(!1===n[1]))throw new s.D$(t,s.TX.InvalidParameter,r);const h=(0,C.sO)(e,c);return h?X.A.convertObjectToArcadeDictionary(h,(0,i.N)(t),!1,!0):null})},u.functions.distancetocoordinate=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.L)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e instanceof $.A))throw new s.D$(t,s.TX.InvalidParameter,r);if((0,i.b)(!1===n[1]))throw new s.D$(t,s.TX.InvalidParameter,r);const c=(0,C.du)(e,n[1]);return c?X.A.convertObjectToArcadeDictionary(c,(0,i.N)(t),!1,!0):null})},u.functions.multiparttosinglepart=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){e=(0,i.I)(e),(0,i.H)(e,1,1,t,r);const c=[];if(null===e[0])return null;if(!(e[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(e[0]instanceof S.A)return[(0,i.x)((0,f.Yq)(e[0]),t.spatialReference)];if(e[0]instanceof F.A)return[(0,i.x)((0,f.Yq)(e[0]),t.spatialReference)];const h=yield(0,m.simplify)(e[0]);if(h instanceof K.A){const I=[],w=[];for(let x=0;x<h.rings.length;x++)if(h.isClockwise(h.rings[x])){const _=(0,Q.rS)({rings:[h.rings[x]],hasZ:!0===h.hasZ,hazM:!0===h.hasM,spatialReference:h.spatialReference.toJSON()});I.push(_)}else w.push({ring:h.rings[x],pt:h.getPoint(x,0)});for(let x=0;x<w.length;x++)for(let _=0;_<I.length;_++)if(I[_].contains(w[x].pt)){I[_].addRing(w[x].ring);break}return I}if(h instanceof $.A){const I=[];for(let w=0;w<h.paths.length;w++){const x=(0,Q.rS)({paths:[h.paths[w]],hasZ:!0===h.hasZ,hazM:!0===h.hasM,spatialReference:h.spatialReference.toJSON()});I.push(x)}return I}if(e[0]instanceof b.A){const I=(0,i.x)((0,f.Yq)(e[0]),t.spatialReference);for(let w=0;w<I.points.length;w++)c.push(I.getPoint(w));return c}return null});return function(y,n,e){return d.apply(this,arguments)}}())},u.functions.issimple=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return!0;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.isSimple)(n[0])})},u.functions.simplify=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.simplify)(n[0])})},u.functions.convexhull=function(t,r){return u.standardFunctionAsync(t,r,(d,y,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return null;if(!(n[0]instanceof l.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,m.convexHull)(n[0])})},u.functions.getuser=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){(0,i.H)(e,0,2,t,r);let c=(0,i.K)(e[1],""),h=!0===c;if(c=!0===c||!1===c?"":(0,i.j)(c),0===e.length||e[0]instanceof M.A){var I;let _=null;_=null!==(I=t.services)&&void 0!==I&&I.portal?t.services.portal:Z.A.getDefault(),e.length>0&&(_=(0,T.R)(e[0],_));const O=yield Y(_,c,h);if(O){const L=JSON.parse(JSON.stringify(O));for(const P of["lastLogin","created","modified"])null!=L[P]&&(L[P]=new Date(L[P]));return X.A.convertObjectToArcadeDictionary(L,(0,i.N)(t))}return null}let w=null;if((0,i.u)(e[0])&&(w=e[0]),w){var x;if(h=!1,c)return null;yield w.load();const _=yield w.getOwningSystemUrl();if(!_){if(!c){const P=yield w.getIdentityUser();return P?X.A.convertObjectToArcadeDictionary({username:P},(0,i.N)(t)):null}return null}let O=null;O=null!==(x=t.services)&&void 0!==x&&x.portal?t.services.portal:Z.A.getDefault(),O=(0,T.R)(new M.A(_),O);const L=yield Y(O,c,h);if(L){const P=JSON.parse(JSON.stringify(L));for(const U of["lastLogin","created","modified"])null!=P[U]&&(P[U]=new Date(P[U]));return X.A.convertObjectToArcadeDictionary(P,(0,i.N)(t))}return null}throw new s.D$(t,s.TX.InvalidParameter,r)});return function(y,n,e){return d.apply(this,arguments)}}())}),u.functions.nearestcoordinate=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){if(e=(0,i.I)(e),(0,i.H)(e,2,2,t,r),!(e[0]instanceof l.A||null===e[0]))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e[1]instanceof S.A||null===e[1]))throw new s.D$(t,s.TX.InvalidParameter,r);if(null===e[0]||null===e[1])return null;const c=yield(0,m.nearestCoordinate)(e[0],e[1]);return null===c?null:X.A.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?"straddle":c.isRightSide?"right":"left"},(0,i.N)(t),!1,!0)});return function(y,n,e){return d.apply(this,arguments)}}())},u.functions.nearestvertex=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(y,n,e){if(e=(0,i.I)(e),(0,i.H)(e,2,2,t,r),!(e[0]instanceof l.A||null===e[0]))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e[1]instanceof S.A||null===e[1]))throw new s.D$(t,s.TX.InvalidParameter,r);if(null===e[0]||null===e[1])return null;const c=yield(0,m.nearestVertex)(e[0],e[1]);return null===c?null:X.A.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?"straddle":c.isRightSide?"right":"left"},(0,i.N)(t),!1,!0)});return function(y,n,e){return d.apply(this,arguments)}}())}}},32832:(An,H,g)=>{g.d(H,{R:()=>j});var A=g(73874);function j(M,X){return null===M?X:new A.A({url:M.field("url")})}},16773:(An,H,g)=>{g.r(H),g.d(H,{buffer:()=>U,changeDefaultSpatialReferenceTolerance:()=>Kn,clearDefaultSpatialReferenceTolerance:()=>Ln,clip:()=>$,contains:()=>Y,convexHull:()=>y,crosses:()=>z,cut:()=>Z,densify:()=>Xn,difference:()=>e,disjoint:()=>V,distance:()=>gn,equals:()=>W,extendedSpatialReferenceInfo:()=>K,flipHorizontal:()=>Tn,flipVertical:()=>Pn,generalize:()=>_n,geodesicArea:()=>On,geodesicBuffer:()=>vn,geodesicDensify:()=>$n,geodesicLength:()=>Nn,intersect:()=>w,intersectLinesToPoints:()=>Fn,intersects:()=>q,isSimple:()=>t,nearestCoordinate:()=>xn,nearestVertex:()=>wn,nearestVertices:()=>In,offset:()=>L,overlaps:()=>nn,planarArea:()=>Sn,planarLength:()=>Rn,relate:()=>u,rotate:()=>Dn,simplify:()=>r,symmetricDifference:()=>h,touches:()=>R,union:()=>_,within:()=>k});var A=g(10467),M=(g(21152),g(19284)),X=g(13303),s=g(61320);function f(a){var o;return Array.isArray(a)?null===(o=a[0])||void 0===o?void 0:o.spatialReference:null==a?void 0:a.spatialReference}function i(a){return a&&(Array.isArray(a)?a.map(i):a.toJSON?a.toJSON():a)}function T(a){return Array.isArray(a)?a.map(o=>(0,s.rS)(o)):(0,s.rS)(a)}let C;function G(){return F.apply(this,arguments)}function F(){return(F=(0,A.A)(function*(){return C||(C=(0,M.ho)("geometryEngineWorker",{strategy:"distributed"})),C})).apply(this,arguments)}function l(a,o){return m.apply(this,arguments)}function m(){return(m=(0,A.A)(function*(a,o){return(yield G()).invoke("executeGEOperation",{operation:a,parameters:i(o)})})).apply(this,arguments)}function b(a,o){return S.apply(this,arguments)}function S(){return(S=(0,A.A)(function*(a,o){const p=yield G();return Promise.all(p.broadcast("executeGEOperation",{operation:a,parameters:i(o)}))})).apply(this,arguments)}function K(a){return l("extendedSpatialReferenceInfo",[a])}function $(a,o){return Q.apply(this,arguments)}function Q(){return(Q=(0,A.A)(function*(a,o){return T(yield l("clip",[f(a),a,o]))})).apply(this,arguments)}function Z(a,o){return J.apply(this,arguments)}function J(){return(J=(0,A.A)(function*(a,o){return T(yield l("cut",[f(a),a,o]))})).apply(this,arguments)}function Y(a,o){return l("contains",[f(a),a,o])}function z(a,o){return l("crosses",[f(a),a,o])}function gn(a,o,p){return l("distance",[f(a),a,o,p])}function W(a,o){return l("equals",[f(a),a,o])}function q(a,o){return l("intersects",[f(a),a,o])}function R(a,o){return l("touches",[f(a),a,o])}function k(a,o){return l("within",[f(a),a,o])}function V(a,o){return l("disjoint",[f(a),a,o])}function nn(a,o){return l("overlaps",[f(a),a,o])}function u(a,o,p){return l("relate",[f(a),a,o,p])}function t(a){return l("isSimple",[f(a),a])}function r(a){return d.apply(this,arguments)}function d(){return(d=(0,A.A)(function*(a){return T(yield l("simplify",[f(a),a]))})).apply(this,arguments)}function y(a){return n.apply(this,arguments)}function n(){return(n=(0,A.A)(function*(a,o=!1){return T(yield l("convexHull",[f(a),a,o]))})).apply(this,arguments)}function e(a,o){return c.apply(this,arguments)}function c(){return(c=(0,A.A)(function*(a,o){return T(yield l("difference",[f(a),a,o]))})).apply(this,arguments)}function h(a,o){return I.apply(this,arguments)}function I(){return(I=(0,A.A)(function*(a,o){return T(yield l("symmetricDifference",[f(a),a,o]))})).apply(this,arguments)}function w(a,o){return x.apply(this,arguments)}function x(){return(x=(0,A.A)(function*(a,o){return T(yield l("intersect",[f(a),a,o]))})).apply(this,arguments)}function _(a){return O.apply(this,arguments)}function O(){return(O=(0,A.A)(function*(a,o=null){const p=function N(a,o){let p;return Array.isArray(a)?p=a:(p=[],p.push(a),null!=o&&p.push(o)),p}(a,o);return T(yield l("union",[f(p),p]))})).apply(this,arguments)}function L(a,o,p,v,D,E){return P.apply(this,arguments)}function P(){return(P=(0,A.A)(function*(a,o,p,v,D,E){return T(yield l("offset",[f(a),a,o,p,v,D,E]))})).apply(this,arguments)}function U(a,o,p){return tn.apply(this,arguments)}function tn(){return(tn=(0,A.A)(function*(a,o,p,v=!1){const D=[f(a),a,o,p,v];return T(yield l("buffer",D))})).apply(this,arguments)}function vn(a,o,p,v,D,E){return en.apply(this,arguments)}function en(){return(en=(0,A.A)(function*(a,o,p,v,D,E){const En=[f(a),a,o,p,v,D,E];return T(yield l("geodesicBuffer",En))})).apply(this,arguments)}function xn(a,o){return rn.apply(this,arguments)}function rn(){return(rn=(0,A.A)(function*(a,o,p=!0){const v=yield l("nearestCoordinate",[f(a),a,o,p]);return{...v,coordinate:X.A.fromJSON(v.coordinate)}})).apply(this,arguments)}function wn(a,o){return an.apply(this,arguments)}function an(){return(an=(0,A.A)(function*(a,o){const p=yield l("nearestVertex",[f(a),a,o]);return{...p,coordinate:X.A.fromJSON(p.coordinate)}})).apply(this,arguments)}function In(a,o,p,v){return un.apply(this,arguments)}function un(){return(un=(0,A.A)(function*(a,o,p,v){return(yield l("nearestVertices",[f(a),a,o,p,v])).map(D=>({...D,coordinate:X.A.fromJSON(D.coordinate)}))})).apply(this,arguments)}function sn(a){var o;return"xmin"in a?a.center:"x"in a?a:null===(o=a.extent)||void 0===o?void 0:o.center}function Dn(a,o,p){return on.apply(this,arguments)}function on(){return(on=(0,A.A)(function*(a,o,p){var v;if(null==a)throw new B;const D=a.spatialReference;if(null==(p=null!==(v=p)&&void 0!==v?v:sn(a)))throw new B;const E=a.constructor.fromJSON(yield l("rotate",[D,a,o,p]));return E.spatialReference=D,E})).apply(this,arguments)}function Tn(a,o){return cn.apply(this,arguments)}function cn(){return(cn=(0,A.A)(function*(a,o){var p;if(null==a)throw new B;const v=a.spatialReference;if(null==(o=null!==(p=o)&&void 0!==p?p:sn(a)))throw new B;const D=a.constructor.fromJSON(yield l("flipHorizontal",[v,a,o]));return D.spatialReference=v,D})).apply(this,arguments)}function Pn(a,o){return ln.apply(this,arguments)}function ln(){return(ln=(0,A.A)(function*(a,o){var p;if(null==a)throw new B;const v=a.spatialReference;if(null==(o=null!==(p=o)&&void 0!==p?p:sn(a)))throw new B;const D=a.constructor.fromJSON(yield l("flipVertical",[v,a,o]));return D.spatialReference=v,D})).apply(this,arguments)}function _n(a,o,p,v){return fn.apply(this,arguments)}function fn(){return(fn=(0,A.A)(function*(a,o,p,v){return T(yield l("generalize",[f(a),a,o,p,v]))})).apply(this,arguments)}function Xn(a,o,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,A.A)(function*(a,o,p){return T(yield l("densify",[f(a),a,o,p]))})).apply(this,arguments)}function $n(a,o,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,A.A)(function*(a,o,p,v=0){return T(yield l("geodesicDensify",[f(a),a,o,p,v]))})).apply(this,arguments)}function Sn(a,o){return l("planarArea",[f(a),a,o])}function Rn(a,o){return l("planarLength",[f(a),a,o])}function On(a,o,p){return l("geodesicArea",[f(a),a,o,p])}function Nn(a,o,p){return l("geodesicLength",[f(a),a,o,p])}function Fn(a,o){return yn.apply(this,arguments)}function yn(){return(yn=(0,A.A)(function*(a,o){return T(yield l("intersectLinesToPoints",[f(a),a,o]))})).apply(this,arguments)}function Kn(a,o){return hn.apply(this,arguments)}function hn(){return(hn=(0,A.A)(function*(a,o){yield b("changeDefaultSpatialReferenceTolerance",[a,o])})).apply(this,arguments)}function Ln(a){return mn.apply(this,arguments)}function mn(){return(mn=(0,A.A)(function*(a){yield b("clearDefaultSpatialReferenceTolerance",[a])})).apply(this,arguments)}class B extends Error{constructor(){super("Illegal Argument Exception")}}}}]);