"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3073,9927],{32954:(pe,Y,a)=>{function S(){return[1,0,0,0,1,0,0,0,1]}function Q(B,y,$,D,W,N,E,T,M){return[B,y,$,D,W,N,E,T,M]}a.d(Y,{fA:()=>Q,vt:()=>S,zK:()=>H});const H=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:H,clone:function d(B){return[B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],B[8]]},create:S,createView:function G(B,y){return new Float64Array(B,y,9)},fromValues:Q},Symbol.toStringTag,{value:"Module"}))},15584:(pe,Y,a)=>{a.d(Y,{b3:()=>$,jZ:()=>y});var S=a(71065),d=a(51995),Q=a(83065),G=a(15268),H=a(61320),V=a(20914),B=a(58701);function y(m){return D(m,!0)}function $(m){return D(m,!1)}function D(m,u){if(null==m)return null;const p=m.spatialReference,h=(0,B.Vp)(p),g=(0,S.Wj)(m)?m.toJSON():m;if(!h)return g;const I=(0,B.K8)(p)?102100:4326,x=V.j7[I].maxX,P=V.j7[I].minX;if((0,H.fT)(g))return N(g,x,P);if((0,H.U9)(g))return g.points=g.points.map(f=>N(f,x,P)),g;if((0,H.ZC)(g))return function W(m,u){if(!u)return m;const p=function E(m,u){const p=[],{ymin:h,ymax:g,xmin:I,xmax:x}=m,P=m.xmax-m.xmin,[f,v]=u.valid,{x:U,frameId:j}=T(m.xmin,u),{x:K,frameId:Z}=T(m.xmax,u),F=U===K&&P>0;if(P>2*v){const ne={xmin:I<x?U:K,ymin:h,xmax:v,ymax:g},z={xmin:f,ymin:h,xmax:I<x?K:U,ymax:g},Me={xmin:0,ymin:h,xmax:v,ymax:g},Se={xmin:f,ymin:h,xmax:0,ymax:g},me=[],le=[];M(ne,Me)&&me.push(j),M(ne,Se)&&le.push(j),M(z,Me)&&me.push(Z),M(z,Se)&&le.push(Z);for(let fe=j+1;fe<Z;fe++)me.push(fe),le.push(fe);p.push(new C(ne,[j]),new C(z,[Z]),new C(Me,me),new C(Se,le))}else U>K||F?p.push(new C({xmin:U,ymin:h,xmax:v,ymax:g},[j]),new C({xmin:f,ymin:h,xmax:K,ymax:g},[Z])):p.push(new C({xmin:U,ymin:h,xmax:K,ymax:g},[j]));return p}(m,u).map(h=>h.extent);return p.length<2?p[0]||m:p.length>2?(m.xmin=u.valid[0],m.xmax=u.valid[1],m):{rings:p.map(h=>[[h.xmin,h.ymin],[h.xmin,h.ymax],[h.xmax,h.ymax],[h.xmax,h.ymin],[h.xmin,h.ymin]])}}(g,h);if((0,H.Bi)(g)||(0,H.Rg)(g)){const f=(0,Q.Rg)(q,g),v={xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3]},U=(0,V.kd)(v.xmin,P)*(2*x),j=0===U?g:(0,V.kS)(g,U);return v.xmin+=U,v.xmax+=U,v.xmax>x?L(j,x,u):v.xmin<P?L(j,P,u):j}return g}function N(m,u,p){if(Array.isArray(m)){const h=m[0];if(h>u){const g=(0,V.kd)(h,u);m[0]=h+g*(-2*u)}else if(h<p){const g=(0,V.kd)(h,p);m[0]=h+g*(-2*p)}}else{const h=m.x;if(h>u){const g=(0,V.kd)(h,u);m.x+=g*(-2*u)}else if(h<p){const g=(0,V.kd)(h,p);m.x+=g*(-2*p)}}return m}function T(m,u){const[p,h]=u.valid,g=2*h;let I,x=0;return m>h?(I=Math.ceil(Math.abs(m-h)/g),m-=I*g,x=I):m<p&&(I=Math.ceil(Math.abs(m-p)/g),m+=I*g,x=-I),{x:m,frameId:x}}function M(m,u){const{xmin:p,ymin:h,xmax:g,ymax:I}=u;return O(m,p,h)&&O(m,p,I)&&O(m,g,I)&&O(m,g,h)}function O(m,u,p){return u>=m.xmin&&u<=m.xmax&&p>=m.ymin&&p<=m.ymax}function L(m,u,p=!0){const h=!(0,H.Rg)(m);if(h&&(0,G.m3)(m),p)return(new ie).cut(m,u);const g=h?m.rings:m.paths,I=h?4:2,x=g.length,P=-2*u;for(let f=0;f<x;f++){const v=g[f];if(v&&v.length>=I){const U=[];for(const j of v)U.push([j[0]+P,j[1]]);g.push(U)}}return h?m.rings=g:m.paths=g,m}class C{constructor(u,p){this.extent=u,this.frameIds=p}}const q=(0,d.vt)();class ie{constructor(){this._linesIn=[],this._linesOut=[]}cut(u,p){let h;if(this._xCut=p,u.rings)this._closed=!0,h=u.rings,this._minPts=4;else{if(!u.paths)return null;this._closed=!1,h=u.paths,this._minPts=2}for(const I of h){if(!I||I.length<this._minPts)continue;let x=!0;for(const P of I)x?(this.moveTo(P),x=!1):this.lineTo(P);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),h=[];for(const I of this._linesIn)I&&I.length>=this._minPts&&h.push(I);const g=-2*this._xCut;for(const I of this._linesOut)if(I&&I.length>=this._minPts){for(const x of I)x[0]+=g;h.push(I)}return this._closed?u.rings=h:u.paths=h,u}moveTo(u){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(u[0]),this._moveTo(u[0],u[1],this._prevSide),this._prevPt=u,this._firstPt=u}lineTo(u){const p=this._side(u[0]);if(p*this._prevSide==-1){const h=this._intersect(this._prevPt,u);this._lineTo(this._xCut,h,0),this._prevSide=0,this._lineTo(u[0],u[1],p)}else this._lineTo(u[0],u[1],p);this._prevSide=p,this._prevPt=u}close(){const u=this._firstPt,p=this._prevPt;u[0]===p[0]&&u[1]===p[1]||this.lineTo(u),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(u,p,h){this._closed?(this._lineIn.push([h<=0?u:this._xCut,p]),this._lineOut.push([h>=0?u:this._xCut,p])):(h<=0&&this._lineIn.push([u,p]),h>=0&&this._lineOut.push([u,p]))}_lineTo(u,p,h){this._closed?(this._addPolyVertex(this._lineIn,h<=0?u:this._xCut,p),this._addPolyVertex(this._lineOut,h>=0?u:this._xCut,p)):h<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([u,p])):h>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([u,p])):this._prevSide<0?(this._lineIn.push([u,p]),this._lineOut.push([u,p])):this._prevSide>0&&(this._lineOut.push([u,p]),this._lineIn.push([u,p]))}_addPolyVertex(u,p,h){const g=u.length;g>1&&u[g-1][0]===p&&u[g-2][0]===p?u[g-1][1]=h:u.push([p,h])}_checkClosingPt(u){const p=u.length;p>3&&u[0][0]===this._xCut&&u[p-2][0]===this._xCut&&u[1][0]===this._xCut&&(u[0][1]=u[p-2][1],u.pop())}_side(u){return u<this._xCut?-1:u>this._xCut?1:0}_intersect(u,p){return u[1]+(this._xCut-u[0])/(p[0]-u[0])*(p[1]-u[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}},92072:(pe,Y,a)=>{a.r(Y),a.d(Y,{default:()=>At});var S=a(10467),d=a(8189),Q=a(31178),G=a(5922),H=a(35150),V=a(39693),B=a(56492),y=a(85211),$=a(48669),N=(a(40707),a(3248),a(17221)),E=a(76576),T=a(50305),M=a(26514),O=a(95478),L=a(93410),C=a(17049),q=a(85551),ie=a(33036),m=a(89563),u=a(48116),p=a(45272),h=a(43085),g=a(3046),I=a(55098),x=a(98877),P=a(71065),f=a(10249),v=a(67685),U=a(31610),j=a(32954),K=a(83953),Z=a(45475),F=a(13303),ne=a(55861),z=a(11817),Me=a(32034),Se=a(90660);let me=class extends Se.P{projectOrWarn(e,t){if(null==e)return e;const{geometry:s,pending:l}=(0,z.projectOrLoad)(e,t);return l?null:l||s?s:(H.A.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};me=(0,d._)([(0,E.$)("esri.layers.support.GeoreferenceBase")],me);const le=me,fe=(0,j.vt)(),b=(0,Z.vt)();let Le=class extends x.A{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,d._)([(0,y.MZ)()],Le.prototype,"sourcePoint",void 0),(0,d._)([(0,y.MZ)({type:F.A})],Le.prototype,"mapPoint",void 0),Le=(0,d._)([(0,E.$)("esri.layers.support.ControlPoint")],Le);let re=class extends((0,P.Te)(le)){constructor(e){super(e),this.controlPoints=null,this.height=0,this.type="control-points",this.width=0}readControlPoints(e,t){const s=Me.A.fromJSON(t.spatialReference),l=(0,j.fA)(...t.coefficients,1);return e.map(c=>((0,K.hZ)(b,c.x,c.y),(0,f.W)(b,b,l),{sourcePoint:c,mapPoint:new F.A({x:b[0],y:b[1],spatialReference:s})}))}writeControlPoints(e,t,s,l){if(null!=this.transform)null!=e&&ee(e[0])&&(t.controlPoints=e.map(c=>{const _=c.sourcePoint;return{x:_.x,y:_.y}}),t.spatialReference=e[0].mapPoint.spatialReference.toJSON(),t.coefficients=this.transform.slice(0,8));else{const c=new G.A("web-document-write:invalid-georeference","Invalid 'controlPoints', 'width', 'height' configuration.",{layer:null==l?void 0:l.layer,georeference:this});null!=l&&l.messages?l.messages.push(c):H.A.getLogger(this).error(c.name,c.message)}}get coords(){if(null==this.controlPoints)return null;const e=this._updateTransform(fe);return null!=e&&ee(this.controlPoints[0])?function rt(e,t,s,l){const c=(0,Z.fA)(0,s),_=(0,Z.fA)(0,0),R=(0,Z.fA)(t,0),A=(0,Z.fA)(t,s);return(0,f.W)(c,c,e),(0,f.W)(_,_,e),(0,f.W)(R,R,e),(0,f.W)(A,A,e),new ne.A({rings:[[c,_,R,A,c]],spatialReference:l})}(e,this.width,this.height,this.controlPoints[0].mapPoint.spatialReference):null}set coords(e){if(null==this.controlPoints||!ee(this.controlPoints[0]))return;const t=this.controlPoints[0].mapPoint.spatialReference;if(null==(e=this.projectOrWarn(e,t)))return;const{width:s,height:l}=this,{rings:[[c,_,R,A]]}=e,w={sourcePoint:(0,v.tc)(0,l),mapPoint:new F.A({x:c[0],y:c[1],spatialReference:t})},J={sourcePoint:(0,v.tc)(0,0),mapPoint:new F.A({x:_[0],y:_[1],spatialReference:t})},X={sourcePoint:(0,v.tc)(s,0),mapPoint:new F.A({x:R[0],y:R[1],spatialReference:t})},te={sourcePoint:(0,v.tc)(s,l),mapPoint:new F.A({x:A[0],y:A[1],spatialReference:t})};ee(w)&&ee(J)&&ee(X)&&ee(te)&&(Ge(fe,w,J,X,te),this.controlPoints=this.controlPoints.map(({sourcePoint:oe})=>((0,K.hZ)(b,oe.x,oe.y),(0,f.W)(b,b,fe),{sourcePoint:oe,mapPoint:new F.A({x:b[0],y:b[1],spatialReference:t})})))}get inverseTransform(){return null==this.transform?null:(0,U.B8)((0,j.vt)(),this.transform)}get transform(){return this._updateTransform()}toMap(e){if(null==e||null==this.transform||null==this.controlPoints||!ee(this.controlPoints[0]))return null;(0,K.hZ)(b,e.x,e.y);const t=this.controlPoints[0].mapPoint.spatialReference;return(0,f.W)(b,b,this.transform),new F.A({x:b[0],y:b[1],spatialReference:t})}toSource(e){if(null==e||null==this.inverseTransform||null==this.controlPoints||!ee(this.controlPoints[0]))return null;const t=this.controlPoints[0].mapPoint.spatialReference;return e=e.normalize(),null==(e=(0,z.projectOrLoad)(e,t).geometry)?null:((0,K.hZ)(b,e.x,e.y),(0,f.W)(b,b,this.inverseTransform),(0,v.tc)(b[0],b[1]))}toSourceNormalized(e){const t=this.toSource(e);return null!=t&&(t.x/=this.width,t.y/=this.height),t}_updateTransform(e){const{controlPoints:t,width:s,height:l}=this;if(!(null!=t&&s>0&&l>0))return null;const[c,_,R,A]=t;if(!ee(c))return null;const w=c.mapPoint.spatialReference,J=this._projectControlPoint(_,w),X=this._projectControlPoint(R,w),te=this._projectControlPoint(A,w);if(!(J.valid&&X.valid&&te.valid&&ee(J.controlPoint)))return null;null==e&&(e=(0,j.vt)());let oe=null;return oe=ee(X.controlPoint)&&ee(te.controlPoint)?Ge(e,c,J.controlPoint,X.controlPoint,te.controlPoint):ee(X.controlPoint)?function tt(e,t,s,l){return he(ae,ue,t),he(ce,de,s),he(Ee,xe,l),(0,K.Cc)(ye,ae,ce,.5),(0,K.e$)(ye,Ee,ye,Math.PI),(0,K.Cc)(ve,ue,de,.5),(0,K.e$)(ve,xe,ve,Math.PI),We(e,ae,ce,Ee,ye,ue,de,xe,ve)}(e,c,J.controlPoint,X.controlPoint):function et(e,t,s){return he(ae,ue,t),he(ce,de,s),(0,K.e$)(Ee,ce,ae,Ce),(0,K.e$)(ye,ae,ce,Ce),(0,K.e$)(xe,de,ue,-Ce),(0,K.e$)(ve,ue,de,-Ce),We(e,ae,ce,Ee,ye,ue,de,xe,ve)}(e,c,J.controlPoint),oe.every(Ae=>0===Ae)?null:oe}_projectControlPoint(e,t){if(!ee(e))return{valid:!0,controlPoint:e};const{sourcePoint:s,mapPoint:l}=e,{geometry:c,pending:_}=(0,z.projectOrLoad)(l,t);return _?{valid:!1,controlPoint:null}:_||c?{valid:!0,controlPoint:{sourcePoint:s,mapPoint:c}}:(H.A.getLogger(this).warn("map point could not be projected to the spatial reference",{georeference:this,controlPoint:e,sourceSpatialReference:l.spatialReference,targetSpatialReference:t}),{valid:!1,controlPoint:null})}};function ee(e){return null!=(null==e?void 0:e.sourcePoint)&&null!=e.mapPoint}(0,d._)([(0,y.MZ)({type:[Le],json:{write:{allowNull:!1,isRequired:!0}}})],re.prototype,"controlPoints",void 0),(0,d._)([(0,N.w)("controlPoints")],re.prototype,"readControlPoints",null),(0,d._)([(0,T.K)("controlPoints")],re.prototype,"writeControlPoints",null),(0,d._)([(0,y.MZ)()],re.prototype,"coords",null),(0,d._)([(0,y.MZ)({json:{write:!0}})],re.prototype,"height",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],re.prototype,"inverseTransform",null),(0,d._)([(0,y.MZ)({readOnly:!0})],re.prototype,"transform",null),(0,d._)([(0,y.MZ)({json:{write:!0}})],re.prototype,"width",void 0),re=(0,d._)([(0,E.$)("esri.layers.support.ControlPointsGeoreference")],re);const ae=(0,Z.vt)(),ce=(0,Z.vt)(),Ee=(0,Z.vt)(),ye=(0,Z.vt)(),ue=(0,Z.vt)(),de=(0,Z.vt)(),xe=(0,Z.vt)(),ve=(0,Z.vt)(),Ce=Math.PI/2;function he(e,t,s){(0,K.hZ)(e,s.sourcePoint.x,s.sourcePoint.y),(0,K.hZ)(t,s.mapPoint.x,s.mapPoint.y)}function Ge(e,t,s,l,c){return he(ae,ue,t),he(ce,de,s),he(Ee,xe,l),he(ye,ve,c),We(e,ae,ce,Ee,ye,ue,de,xe,ve)}const nt=new Array(8).fill(0),ot=new Array(8).fill(0);function Fe(e,t,s,l,c){return e[0]=t[0],e[1]=t[1],e[2]=s[0],e[3]=s[1],e[4]=l[0],e[5]=l[1],e[6]=c[0],e[7]=c[1],e}function We(e,t,s,l,c,_,R,A,w){return(0,f.O)(e,Fe(nt,t,s,l,c),Fe(ot,_,R,A,w))}const Be=re,Te=(0,Z.vt)();let _e=class extends le{constructor(e){super(e),this.bottomLeft=null,this.bottomRight=null,this.topLeft=null,this.topRight=null,this.type="corners"}get coords(){let{topLeft:e,topRight:t,bottomLeft:s,bottomRight:l}=this;if(null==e||null==t||null==s||null==l)return null;const c=e.spatialReference;return t=this.projectOrWarn(t,c),s=this.projectOrWarn(s,c),l=this.projectOrWarn(l,c),null==t||null==s||null==l?null:new ne.A({rings:[[[s.x,s.y],[e.x,e.y],[t.x,t.y],[l.x,l.y],[s.x,s.y]]],spatialReference:c})}set coords(e){const{topLeft:t}=this;if(null==t)return;const s=t.spatialReference;if(null==(e=this.projectOrWarn(e,s)))return;const{rings:[[l,c,_,R]]}=e;this.bottomLeft=new F.A({x:l[0],y:l[1],spatialReference:s}),this.topLeft=new F.A({x:c[0],y:c[1],spatialReference:s}),this.topRight=new F.A({x:_[0],y:_[1],spatialReference:s}),this.bottomRight=new F.A({x:R[0],y:R[1],spatialReference:s})}toSourceNormalized(e){const{topLeft:t,topRight:s,bottomRight:l,bottomLeft:c}=this;if(null==e||null==t||null==s||null==l||null==c)return null;const _=t.spatialReference;e=e.normalize();const R=(0,z.projectOrLoad)(e,_).geometry;if(null==R)return null;(0,K.hZ)(Te,R.x,R.y);const A=(0,f.O)((0,j.vt)(),[t.x,t.y,c.x,c.y,s.x,s.y,l.x,l.y],[0,0,0,1,1,0,1,1]);return(0,f.W)(Te,Te,A),(0,v.tc)(Te[0],Te[1])}};(0,d._)([(0,y.MZ)()],_e.prototype,"coords",null),(0,d._)([(0,y.MZ)({type:F.A})],_e.prototype,"bottomLeft",void 0),(0,d._)([(0,y.MZ)({type:F.A})],_e.prototype,"bottomRight",void 0),(0,d._)([(0,y.MZ)({type:F.A})],_e.prototype,"topLeft",void 0),(0,d._)([(0,y.MZ)({type:F.A})],_e.prototype,"topRight",void 0),_e=(0,d._)([(0,E.$)("esri.layers.support.CornersGeoreference")],_e);const st=_e;var we=a(69287),it=a(85952),Ke=a(28067);let Oe=class extends le{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:s,ymax:l,spatialReference:c}=this.extent;let _;if(this.rotation){const{x:R,y:A}=this.extent.center,w=Ze(R,A,this.rotation);_=[w(e,t),w(e,l),w(s,l),w(s,t)],_.push(_[0])}else _=[[e,t],[e,l],[s,l],[s,t],[e,t]];return new ne.A({rings:[_],spatialReference:c})}set coords(e){var t;if(null==e||null==this.extent)return;const s=this.extent.spatialReference;if(null==(null===(t=e=this.projectOrWarn(e,s))||void 0===t?void 0:t.extent))return;const{rings:[[l,c,_]],extent:{center:{x:R,y:A}}}=e,w=(0,we.KJ)(Math.PI/2-Math.atan2(c[1]-l[1],c[0]-l[0])),J=Ze(R,A,-w),[X,te]=J(l[0],l[1]),[oe,Ae]=J(_[0],_[1]);this.extent=new Ke.A({xmin:X,ymin:te,xmax:oe,ymax:Ae,spatialReference:s}),this.rotation=w}toSourceNormalized(e){const{extent:t,rotation:s}=this;if(null==e||null==t)return null;const{xmin:l,ymin:c,xmax:_,ymax:R,center:A,spatialReference:w}=t;e=e.normalize();const J=(0,z.projectOrLoad)(e,w).geometry;if(null==J)return null;let X=J.x,te=J.y;return s&&([X,te]=Ze(A.x,A.y,-s)(X,te)),(0,v.tc)((0,we.hs)(X,l,_,0,1),(0,we.hs)(te,R,c,0,1))}};function Ze(e,t,s){const l=(0,it.DF)(s),c=Math.cos(l),_=Math.sin(l);return(R,A)=>[c*(R-e)+_*(A-t)+e,c*(A-t)-_*(R-e)+t]}(0,d._)([(0,y.MZ)()],Oe.prototype,"coords",null),(0,d._)([(0,y.MZ)({type:Ke.A})],Oe.prototype,"extent",void 0),(0,d._)([(0,y.MZ)({type:Number})],Oe.prototype,"rotation",void 0),Oe=(0,d._)([(0,E.$)("esri.layers.support.ExtentAndRotationGeoreference")],Oe);const lt={key:"type",base:le,typeMap:{"control-points":Be,corners:st,"extent-and-rotation":Oe}},at={key:"type",base:le,typeMap:{"control-points":Be}};let Ie=class extends((0,g.PH)((0,V.P)(I.A))){constructor(e){super(e),this.georeference=null,this.opacity=1}readGeoreference(e){return Be.fromJSON(e)}get contentWidth(){return 0}get contentHeight(){return 0}toSource(e){const{georeference:t,contentWidth:s,contentHeight:l}=this;if(null==e||null==t||0===s||0===l)return null;const c=t.toSourceNormalized(e);return null==c?null:(c.x*=s,c.y*=l,c)}};(0,d._)([(0,y.MZ)({types:lt,json:{write:!0,types:at}})],Ie.prototype,"georeference",void 0),(0,d._)([(0,N.w)("georeference")],Ie.prototype,"readGeoreference",null),(0,d._)([(0,y.MZ)({json:{read:!1,write:!1}})],Ie.prototype,"opacity",void 0),Ie=(0,d._)([(0,E.$)("esri.layers.support.MediaElementBase")],Ie);const $e=Ie;a(21152);var ct=a(58701);function ze(e,t){const s=(0,M.aB)(t);return function dt(e){return"media"===(null==e?void 0:e.type)}(e)&&!!e.portalItem&&null!=s&&s>M.Gr.PORTAL_ITEM}var ht=a(20368),De=a(88135);let se=class extends $e{constructor(e){super(e),this.animationOptions=null,this.content=null,this.image=null,this.type="image",this.image=null}load(){const e=this.image;if("string"==typeof e){const t=(0,u.M5)(e).then(s=>{this._set("content",s)});this.addResolvingPromise(t)}else if(e instanceof HTMLImageElement){const t=e.decode().then(()=>{this._set("content",e)});this.addResolvingPromise(t)}else e?this._set("content",e):this.addResolvingPromise(Promise.reject(new G.A("image-element:invalid-image-type","Invalid image type",{image:e})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(e,t,s){return(0,De.f)(t.url,s)}writeImage(e,t,s,l){if(null==e)return;const c=null==l?void 0:l.portalItem,_=null==l?void 0:l.resources;if(!c||!_)return void("string"==typeof e&&(t[s]=(0,De.t)(e,l)));const R=function pt(e){return"string"==typeof e&&!(0,p.DB)(e)&&!(0,p.w8)(e)}(e)?e:null;if(R){if(null==(0,De.i)(R))return void(t[s]=R);const A=(0,De.t)(R,{...l,verifyItemRelativeUrls:null!=l&&l.verifyItemRelativeUrls?{writtenUrls:l.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},De.M.NO);if(c&&A&&!(0,p.oP)(A))return _.toKeep.push({resource:c.resourceFromPath(A),compress:!1}),void(t[s]=A)}t[s]="<pending>",_.pendingOperations.push(function mt(e){return Ve.apply(this,arguments)}(e).then(A=>{const w=function yt(e,t){const s=(0,h.lk)(),l=`${(0,p.fj)("media",s)}.${(0,ht.n)({type:"blob",blob:e})}`;return t.resourceFromPath(l)}(A,c);t[s]=w.itemRelativeUrl,_.toAdd.push({resource:w,content:{type:"blob",blob:A},compress:!1,finish:J=>{this.image=J.url}})}))}write(e,t){const s=super.write(e,t);return"mediaType"in s&&!s.url&&delete s.mediaType,s}};(0,d._)([(0,y.MZ)()],se.prototype,"animationOptions",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],se.prototype,"content",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],se.prototype,"contentWidth",null),(0,d._)([(0,y.MZ)({readOnly:!0})],se.prototype,"contentHeight",null),(0,d._)([(0,y.MZ)({json:{name:"url",type:String,write:{overridePolicy:(e,t,s)=>({enabled:!ze(null==s?void 0:s.layer,null==s?void 0:s.origin)})}}})],se.prototype,"image",void 0),(0,d._)([(0,N.w)("image",["url"])],se.prototype,"readImage",null),(0,d._)([(0,T.K)("image")],se.prototype,"writeImage",null),(0,d._)([(0,y.MZ)({readOnly:!0,json:{read:!1,write:{target:"mediaType",ignoreOrigin:!0}}})],se.prototype,"type",void 0),se=(0,d._)([(0,E.$)("esri.layers.support.ImageElement")],se);const be=se;function Ve(){return(Ve=(0,S.A)(function*(e){return"string"==typeof e?(0,p.DB)(e)?(0,p.N9)(e):(yield(0,m.A)(e,{responseType:"blob"})).data:new Promise(t=>function ft(e){if(e instanceof HTMLCanvasElement)return e;const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,s=e instanceof HTMLImageElement?e.naturalHeight:e.height,l=document.createElement("canvas"),c=l.getContext("2d");return l.width=t,l.height=s,e instanceof HTMLImageElement?c.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&c.putImageData(e,0,0),l}(e).toBlob(t))})).apply(this,arguments)}var vt=a(5605),_t=a(42425),gt=a(64261),Pt=a(48900),Et=a(51995),xt=a(62928),Mt=a(59894),Ot=a(28),It=a(40611);let Pe=class extends $e{constructor(e){super(e),this.autoplay=!0,this.content=null,this.type="video"}load(){const e=this.video;if("string"==typeof e){const t=document.createElement("video");t.src=e,t.crossOrigin="anonymous",t.autoplay=!0,t.muted=!0,t.loop=!0,this.addResolvingPromise(this._loadVideo(t).then(()=>{this._set("content",t)}))}else e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then(()=>{this._set("content",e)})):this.addResolvingPromise(Promise.reject(new G.A("video-element:invalid-video-type","Invalid video type",{video:e})));return Promise.resolve(this)}get contentWidth(){var e,t;return null!==(e=null===(t=this.content)||void 0===t?void 0:t.videoWidth)&&void 0!==e?e:0}get contentHeight(){var e,t;return null!==(e=null===(t=this.content)||void 0===t?void 0:t.videoHeight)&&void 0!==e?e:0}set video(e){"not-loaded"===this.loadStatus?this._set("video",e):H.A.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}_loadVideo(e){return new Promise((t,s)=>{var l;const c=(0,It.Oo)(e,"canplay",()=>{this.removeHandles("canplay"),this.autoplay?e.play().then(t,s):t()});this.addHandles(c,"canplay"),"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",null!==(l=e.src)&&void 0!==l&&l.includes("blob:")||(e.src=e.src))})}};(0,d._)([(0,y.MZ)()],Pe.prototype,"autoplay",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],Pe.prototype,"content",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],Pe.prototype,"contentWidth",null),(0,d._)([(0,y.MZ)({readOnly:!0})],Pe.prototype,"contentHeight",null),(0,d._)([(0,y.MZ)()],Pe.prototype,"video",null),Pe=(0,d._)([(0,E.$)("esri.layers.support.VideoElement")],Pe);const Je=Pe,Ye=Q.A.ofType({key:"type",defaultKeyValue:"image",base:$e,typeMap:{image:be,video:Je}});let Re=class extends(I.A.LoadableMixin((0,gt.g)(_t.A.EventedAccessor))){constructor(e){super(e),this._index=new Mt.F,this._elementViewsMap=new Map,this._elementsIndexes=new Map,this._elementsChangedHandler=t=>{for(const l of t.removed){const c=this._elementViewsMap.get(l);this._elementViewsMap.delete(l),this._index.delete(c),this.removeHandles(c),c.destroy(),this.notifyChange("fullExtent")}const{spatialReference:s}=this;for(const l of t.added){if(this._elementViewsMap.get(l))continue;const c=new Ot._({spatialReference:s,element:l});this._elementViewsMap.set(l,c);const _=(0,Pt.wB)(()=>c.coords,()=>this._updateIndexForElement(c,!1));this._updateIndexForElement(c,!0),this.addHandles(_,c)}this._elementsIndexes.clear(),this.elements.forEach((l,c)=>this._elementsIndexes.set(l,c)),this.emit("refresh")},this.elements=new Ye}load(e){var t=this;return(0,S.A)(function*(){if((0,B.Te)(e),!t.spatialReference){const s=t.elements.find(l=>{var c;return null!=(null===(c=l.georeference)||void 0===c?void 0:c.coords)});t._set("spatialReference",s?s.georeference.coords.spatialReference:Me.A.WGS84)}return t._elementsChangedHandler({added:t.elements.items,removed:[]}),t.addHandles(t.elements.on("change",t._elementsChangedHandler)),t})()}destroy(){this._index.clear(),this._elementViewsMap.clear(),this._elementsIndexes.clear()}set elements(e){this._set("elements",(0,vt.V)(e,this._get("elements"),Ye))}get fullExtent(){if("not-loaded"===this.loadStatus)return null;const e=this._index.fullBounds;return null==e?null:new Ke.A({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:this.spatialReference})}set spatialReference(e){"not-loaded"===this.loadStatus?this._set("spatialReference",e):H.A.getLogger(this).error("#spatialReference","spatialReference cannot be changed after the source is loaded.")}queryElements(e,t){var s=this;return(0,S.A)(function*(){yield s.load(),yield(0,z.initializeProjection)(e.spatialReference,s.spatialReference,null,t);const l=(0,ct.aI)(e.spatialReference,s.spatialReference)?e:(0,z.project)(e,s.spatialReference);if(!l)return[];const c=l.normalize(),_=[];for(const R of c)s._index.forEachInBounds((0,Et.VY)(R),({normalizedCoords:A,element:w})=>{null!=A&&(0,xt.fA)(R,A)&&_.push(w)});return _.sort((R,A)=>s._elementsIndexes.get(R)-s._elementsIndexes.get(A)),_})()}_updateIndexForElement(e,t){const s=e.normalizedBounds,l=this._index.has(e),c=null!=s;this._index.delete(e),c&&this._index.set(e,s),this.notifyChange("fullExtent"),t||(l!==c?this.emit("refresh"):this.emit("change",{element:e.element}))}};(0,d._)([(0,y.MZ)()],Re.prototype,"elements",null),(0,d._)([(0,y.MZ)({readOnly:!0})],Re.prototype,"fullExtent",null),(0,d._)([(0,y.MZ)()],Re.prototype,"spatialReference",null),Re=(0,d._)([(0,E.$)("esri.layers.support.LocalMediaElementSource")],Re);const Ue=Re;var je=a(71655);function Ne(e){return"object"==typeof e&&null!=e&&"type"in e}function Qe(e){return Ne(e)&&"image"===e.type}let k=class extends((0,L.d)((0,ie.j)((0,C.q)((0,q.A)((0,V.P)(O.A)))))){constructor(e){var t;super(e),t=this,this.effectiveSource=null,this.georeference=null,this.copyright=null,this.operationalLayerType="MediaLayer",this.spatialReference=null,this.type="media",this._debouncedSaveOperations=(0,B.sg)(function(){var s=(0,S.A)(function*(l,c,_){const{save:R,saveAs:A}=yield Promise.all([a.e(2076),a.e(3145)]).then(a.bind(a,44905));switch(l){case je.X.SAVE:return R(t,c);case je.X.SAVE_AS:return A(t,_,c)}});return function(l,c,_){return s.apply(this,arguments)}}()),this.source=new Ue}load(e){return this.addResolvingPromise(this._doLoad(e)),Promise.resolve(this)}_doLoad(e){var t=this;return(0,S.A)(function*(){yield t.loadFromPortal({supportedTypes:["Media Layer"]},e);let s=t.source;if(!s)throw new G.A("media-layer:source-missing","Set 'MediaLayer.source' before loading the layer.");const l=t._getSourceOverride(s,t.georeference);l&&(t.setAtOrigin("source",l,"web-map"),s=l);const c=Ne(s)?new Ue({elements:new Q.A([s])}):s;t._set("effectiveSource",c),t.spatialReference&&(c.spatialReference=t.spatialReference),yield c.load(e),t.spatialReference=c.spatialReference})()}destroy(){var e,t;null!==(e=this.effectiveSource)&&void 0!==e&&e.destroy(),null===(t=this.source)||void 0===t||t.destroy()}readGeoreference(e,t){return e&&"itemId"in t&&t.itemId?e:void 0}get fullExtent(){return this.loaded?this.effectiveSource.fullExtent:null}set source(e){"loaded"!==this.loadStatus&&"failed"!==this.loadStatus?this._set("source",e):H.A.getLogger(this).error("#source","source cannot be changed after the layer is loaded.")}castSource(e){return e?Array.isArray(e)?new Ue({elements:new Q.A(e)}):e instanceof Q.A?new Ue({elements:e}):e:null}readSource(e,t,s){if("itemId"in t&&t.itemId)return;const l=this._createSource(t);return null!=l&&l.read(t,s),l}writeSource(e,t,s,l){var c;Qe(e)?e.write(t,l):null!=l&&l.messages&&(null==l||null===(c=l.messages)||void 0===c||c.push(new G.A("media-layer:unsupported-source","source must be an 'ImageElement'")))}save(e){var t=this;return(0,S.A)(function*(){return t._debouncedSaveOperations(je.X.SAVE,e)})()}saveAs(e,t){var s=this;return(0,S.A)(function*(){return s._debouncedSaveOperations(je.X.SAVE_AS,t,e)})()}_createSource(e){if("mediaType"in e)switch(e.mediaType){case"image":return new be;case"video":return new Je}return null}_getSourceOverride(e,t){if(Ne(e)&&this.originIdOf("source")===M.Gr.PORTAL_ITEM&&t&&this.originIdOf("georeference")===M.Gr.WEB_MAP){const s=e.toJSON(),l=this._createSource(s);return l.read({...s},{origin:"portal-item"}),l.read({georeference:t},{origin:"web-map"}),l}return null}};(0,d._)([(0,y.MZ)({readOnly:!0})],k.prototype,"effectiveSource",void 0),(0,d._)([(0,y.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!1}}}})],k.prototype,"georeference",void 0),(0,d._)([(0,N.w)("web-map","georeference")],k.prototype,"readGeoreference",null),(0,d._)([(0,y.MZ)({type:String})],k.prototype,"copyright",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],k.prototype,"fullExtent",null),(0,d._)([(0,y.MZ)({type:["MediaLayer"]})],k.prototype,"operationalLayerType",void 0),(0,d._)([(0,y.MZ)({type:["show","hide"]})],k.prototype,"listMode",void 0),(0,d._)([(0,y.MZ)({nonNullable:!0,json:{write:{enabled:!0,allowNull:!1,overridePolicy(e,t,s){return{enabled:!0,allowNull:!1,ignoreOrigin:ze(this,null==s?void 0:s.origin)&&Qe(e)&&!!e.georeference&&e.originIdOf("georeference")>M.Gr.PORTAL_ITEM}}}}})],k.prototype,"source",null),(0,d._)([(0,$.w)("source")],k.prototype,"castSource",null),(0,d._)([(0,N.w)("source",["url"])],k.prototype,"readSource",null),(0,d._)([(0,T.K)("source")],k.prototype,"writeSource",null),(0,d._)([(0,y.MZ)()],k.prototype,"spatialReference",void 0),(0,d._)([(0,y.MZ)({readOnly:!0})],k.prototype,"type",void 0),k=(0,d._)([(0,E.$)("esri.layers.MediaLayer")],k);const At=k},72211:(pe,Y,a)=>{a.d(Y,{LF:()=>H,M9:()=>V,zu:()=>D});var S=a(5922),d=a(89221),Q=a(79845),G=a(26073);function H(E,T,M){try{return function y(E){if(!E||0===E.length)return null;if(function $(E){const T=E[0];return!!T&&"scale"in T}(E)){const T=[];for(const M of E)T.push({scale:M.scale,value:D(M.value)});return T}return D(E)}(E)}catch(L){var O;null==M||null===(O=M.messages)||void 0===O||O.push(L)}return null}function V(E,T,M,O){try{const L=function B(E){const T=(0,Q.q)(E);return T?(0,G.dw)(T)?T.map(M=>M.toJSON()):T.map(({scale:M,effects:O})=>({scale:M,value:O.map(L=>L.toJSON())})):null}(E);(0,d.sM)(M,L,T)}catch(L){O.messages&&O.messages.push(L)}}function D(E){if(null==E||!E.length)return"";const T=[];for(const M of E){let O=[];switch(M.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":O=[W(M,"amount")];break;case"blur":O=[W(M,"radius","pt")];break;case"hue-rotate":O=[W(M,"angle","deg")];break;case"drop-shadow":O=[W(M,"xoffset","pt"),W(M,"yoffset","pt"),W(M,"blurRadius","pt"),N(M,"color")];break;case"bloom":O=[W(M,"strength"),W(M,"radius","pt"),W(M,"threshold")]}const L=`${M.type}(${O.filter(Boolean).join(" ")})`;(0,Q.q)(L),T.push(L)}return T.join(" ")}function W(E,T,M){if(null==E[T])throw new S.A("effect:missing-parameter",`Missing parameter '${T}' in ${E.type} effect`,{effect:E});return M?E[T]+M:""+E[T]}function N(E,T){if(null==E[T])throw new S.A("effect:missing-parameter",`Missing parameter '${T}' in ${E.type} effect`,{effect:E});const M=E[T];return`rgba(${M[0]||0}, ${M[1]||0}, ${M[2]||0}, ${M[3]/255||0})`}},93410:(pe,Y,a)=>{a.d(Y,{d:()=>$});var S=a(8189),d=a(85211),V=(a(3248),a(35150),a(40707),a(76576)),B=a(72211);const y={read:{reader:B.LF},write:{allowNull:!0,writer:B.M9}},$=D=>{let W=class extends D{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,S._)([(0,d.MZ)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],W.prototype,"blendMode",void 0),(0,S._)([(0,d.MZ)({json:{read:!1,write:!1,origins:{"web-map":y,"portal-item":y}}})],W.prototype,"effect",void 0),W=(0,S._)([(0,V.$)("esri.layers.mixins.BlendLayer")],W),W}},85551:(pe,Y,a)=>{a.d(Y,{A:()=>p});var S=a(10467),d=a(8189),Q=a(23098),G=a(77469),H=a(89563),V=a(89447),B=a(5922),y=a(35150),$=a(11432),D=a(56492),W=a(45272),N=a(85211),M=(a(3248),a(40707),a(17221)),O=a(76576),L=a(50305),C=a(58443),q=a(73874),ie=a(46577),m=a(52606),u=a(69927);const p=g=>{let I=class extends g{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,$.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(x){x!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",x))}readPortalItem(x,P,f){if(P.itemId)return new ie.default({id:P.itemId,portal:null==f?void 0:f.portal})}writePortalItem(x,P){null!=x&&x.id&&(P.itemId=x.id)}loadFromPortal(x,P){var f=this;return(0,S.A)(function*(){var v;if(null!==(v=f.portalItem)&&void 0!==v&&v.id)try{const{load:U}=yield Promise.all([a.e(5565),a.e(2076),a.e(6180)]).then(a.bind(a,56180));return(0,D.Te)(P),yield U({instance:f,supportedTypes:x.supportedTypes,validateItem:x.validateItem,supportsData:x.supportsData,layerModuleTypeMap:x.layerModuleTypeMap},P)}catch(U){throw(0,D.zf)(U)||y.A.getLogger(f).warn(`Failed to load layer (${f.title}, ${f.id}) portal item (${f.portalItem.id})\n  ${U}`),U}})()}finishLoadEditablePortalLayer(x){var P=this;return(0,S.A)(function*(){P._set("userHasEditingPrivileges",yield P._fetchUserHasEditingPrivileges(x).catch(f=>((0,D.QP)(f),!0)))})()}setUserPrivileges(x,P){var f=this;return(0,S.A)(function*(){if(!Q.A.userPrivilegesApplied)return f.finishLoadEditablePortalLayer(P);if(f.url)try{const{features:{edit:v,fullEdit:U},content:{updateItem:j}}=yield f._fetchUserPrivileges(x,P);f._set("userHasEditingPrivileges",v),f._set("userHasFullEditingPrivileges",U),f._set("userHasUpdateItemPrivileges",j)}catch(v){(0,D.QP)(v)}})()}_fetchUserPrivileges(x,P){var f=this;return(0,S.A)(function*(){let v=f.portalItem;if(!x||!v||!v.loaded||v.sourceUrl)return f._fetchFallbackUserPrivileges(P);const U=x===v.id;if(U&&v.portal.user)return(0,u.It)(v);let j,K;if(U)j=v.portal.url;else try{j=yield(0,C.wI)(f.url,P)}catch(z){(0,D.QP)(z)}if(!j||!(0,W.b8)(j,v.portal.url))return f._fetchFallbackUserPrivileges(P);try{const z=null!=P?P.signal:null;K=yield null==G.id?void 0:G.id.getCredential(`${j}/sharing`,{prompt:!1,signal:z})}catch(z){(0,D.QP)(z)}if(!K)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(U?yield v.reload():(v=new ie.default({id:x,portal:{url:j}}),yield v.load(P)),v.portal.user)return(0,u.It)(v)}catch(z){(0,D.QP)(z)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(x){var P=this;return(0,S.A)(function*(){let f=!0;try{f=yield P._fetchUserHasEditingPrivileges(x)}catch(v){(0,D.QP)(v)}return{features:{edit:f,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(x){var P=this;return(0,S.A)(function*(){const f=P.url?null==G.id?void 0:G.id.findCredential(P.url):null;if(!f)return!0;const v=h.credential===f?h.user:yield P._fetchEditingUser(x);return h.credential=f,h.user=v,null==(null==v?void 0:v.privileges)||v.privileges.includes("features:user:edit")})()}_fetchEditingUser(x){var P=this;return(0,S.A)(function*(){var f,v;const U=null===(f=P.portalItem)||void 0===f||null===(f=f.portal)||void 0===f?void 0:f.user;if(U)return U;const j=G.id.findServerInfo(null!==(v=P.url)&&void 0!==v?v:"");if(null==j||!j.owningSystemUrl)return null;const K=`${j.owningSystemUrl}/sharing/rest`,Z=q.A.getDefault();if(Z&&Z.loaded&&(0,W.S8)(Z.restUrl)===(0,W.S8)(K))return Z.user;const F=`${K}/community/self`,ne=null!=x?x.signal:null,z=yield(0,V.Ke)((0,H.A)(F,{authMode:"no-prompt",query:{f:"json"},signal:ne}));return z.ok?m.A.fromJSON(z.value.data):null})()}read(x,P){P&&(P.layer=this),super.read(x,P)}write(x,P){var f;const v=null==P?void 0:P.portal,U=(null===(f=this.portalItem)||void 0===f?void 0:f.id)&&(this.portalItem.portal||q.A.getDefault());return v&&U&&!(0,W.ut)(U.restUrl,v.restUrl)?(P.messages&&P.messages.push(new B.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(x,{...P,layer:this})}};return(0,d._)([(0,N.MZ)({type:ie.default})],I.prototype,"portalItem",null),(0,d._)([(0,M.w)("web-document","portalItem",["itemId"])],I.prototype,"readPortalItem",null),(0,d._)([(0,L.K)("web-document","portalItem",{itemId:{type:String}})],I.prototype,"writePortalItem",null),(0,d._)([(0,N.MZ)({clonable:!1})],I.prototype,"resourceReferences",void 0),(0,d._)([(0,N.MZ)({type:Boolean,readOnly:!0})],I.prototype,"userHasEditingPrivileges",void 0),(0,d._)([(0,N.MZ)({type:Boolean,readOnly:!0})],I.prototype,"userHasFullEditingPrivileges",void 0),(0,d._)([(0,N.MZ)({type:Boolean,readOnly:!0})],I.prototype,"userHasUpdateItemPrivileges",void 0),I=(0,d._)([(0,O.$)("esri.layers.mixins.PortalLayer")],I),I},h={credential:null,user:null}},33036:(pe,Y,a)=>{a.d(Y,{j:()=>B});var S=a(8189),d=a(85211),V=(a(3248),a(35150),a(40707),a(76576));const B=$=>{let D=class extends ${constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const W={minScale:this.minScale,maxScale:this.maxScale},N=this.parent;N&&"effectiveScaleRange"in N&&function y($,D){$.minScale=$.minScale>0?D.minScale>0?Math.min($.minScale,D.minScale):$.minScale:D.minScale,$.maxScale=$.maxScale>0?D.maxScale>0?Math.max($.maxScale,D.maxScale):$.maxScale:D.maxScale}(W,N.effectiveScaleRange);const E=this._get("effectiveScaleRange");return E&&E.minScale===W.minScale&&E.maxScale===W.maxScale?E:W}};return(0,S._)([(0,d.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],D.prototype,"minScale",void 0),(0,S._)([(0,d.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],D.prototype,"maxScale",void 0),(0,S._)([(0,d.MZ)({readOnly:!0})],D.prototype,"effectiveScaleRange",null),D=(0,S._)([(0,V.$)("esri.layers.mixins.ScaleRangeLayer")],D),D}},69927:(pe,Y,a)=>{a.d(Y,{It:()=>M,LG:()=>B,OM:()=>D,Sm:()=>W,Y:()=>y,bK:()=>$,mm:()=>T,sQ:()=>N});var S=a(10467),d=a(11817),Q=a(32034),G=a(55039);function V(){return(V=(0,S.A)(function*(O){const L=O.spatialReference;if(L.isWGS84)return O.clone();if(L.isWebMercator)return(0,G.ci)(O);const C=Q.A.WGS84;return yield(0,d.initializeProjection)(L,C),(0,d.project)(O,C)})).apply(this,arguments)}function B(O,L){if(!y(O,L)){const C=O.typeKeywords;C?C.push(L):O.typeKeywords=[L]}}function y(O,L){var C;return!(null===(C=O.typeKeywords)||void 0===C||!C.includes(L))}function $(O){return y(O,T.HOSTED_SERVICE)}function D(O,L){const C=O.typeKeywords;if(C){const q=C.indexOf(L);q>-1&&C.splice(q,1)}}function W(O,L,C){C?B(O,L):D(O,L)}function N(O){return E.apply(this,arguments)}function E(){return E=(0,S.A)(function*(O){const L=O.clone().normalize();let C;if(L.length>1)for(const q of L)C?q.width>C.width&&(C=q):C=q;else C=L[0];return function H(O){return V.apply(this,arguments)}(C)}),E.apply(this,arguments)}const T={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function M(O){var L;const{portal:C,isOrgItem:q,itemControl:ie}=O,m=null===(L=C.user)||void 0===L?void 0:L.privileges;let u=!m||m.includes("features:user:edit"),p=!!q&&!(null==m||!m.includes("features:user:fullEdit"));const h="update"===ie||"admin"===ie;return h?p=u=!0:p&&(u=!0),{features:{edit:u,fullEdit:p},content:{updateItem:h}}}},71655:(pe,Y,a)=>{var S,d;a.d(Y,{X:()=>S}),(d=S||(S={}))[d.SAVE=0]="SAVE",d[d.SAVE_AS=1]="SAVE_AS"}}]);