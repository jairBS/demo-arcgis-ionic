"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6396],{55144:(X,$,y)=>{y.d($,{T:()=>A,d:()=>W});const A={Base64:0,Hex:1,String:2,Raw:3},h=8,z=(1<<h)-1;function E(l,c){const r=(65535&l)+(65535&c);return(l>>16)+(c>>16)+(r>>16)<<16|65535&r}function B(l,c,r,o,i,s){return E(function K(l,c){return l<<c|l>>>32-c}(E(E(c,l),E(o,s)),i),r)}function I(l,c,r,o,i,s,a){return B(c&r|~c&o,l,c,i,s,a)}function b(l,c,r,o,i,s,a){return B(c&o|r&~o,l,c,i,s,a)}function p(l,c,r,o,i,s,a){return B(c^r^o,l,c,i,s,a)}function M(l,c,r,o,i,s,a){return B(r^(c|~o),l,c,i,s,a)}function W(l,c=A.Hex){const r=c||A.Base64,o=function Q(l,c){l[c>>5]|=128<<c%32,l[14+(c+64>>>9<<4)]=c;let r=1732584193,o=-271733879,i=-1732584194,s=271733878;for(let a=0;a<l.length;a+=16){const P=r,F=o,H=i,d=s;r=I(r,o,i,s,l[a],7,-680876936),s=I(s,r,o,i,l[a+1],12,-389564586),i=I(i,s,r,o,l[a+2],17,606105819),o=I(o,i,s,r,l[a+3],22,-1044525330),r=I(r,o,i,s,l[a+4],7,-176418897),s=I(s,r,o,i,l[a+5],12,1200080426),i=I(i,s,r,o,l[a+6],17,-1473231341),o=I(o,i,s,r,l[a+7],22,-45705983),r=I(r,o,i,s,l[a+8],7,1770035416),s=I(s,r,o,i,l[a+9],12,-1958414417),i=I(i,s,r,o,l[a+10],17,-42063),o=I(o,i,s,r,l[a+11],22,-1990404162),r=I(r,o,i,s,l[a+12],7,1804603682),s=I(s,r,o,i,l[a+13],12,-40341101),i=I(i,s,r,o,l[a+14],17,-1502002290),o=I(o,i,s,r,l[a+15],22,1236535329),r=b(r,o,i,s,l[a+1],5,-165796510),s=b(s,r,o,i,l[a+6],9,-1069501632),i=b(i,s,r,o,l[a+11],14,643717713),o=b(o,i,s,r,l[a],20,-373897302),r=b(r,o,i,s,l[a+5],5,-701558691),s=b(s,r,o,i,l[a+10],9,38016083),i=b(i,s,r,o,l[a+15],14,-660478335),o=b(o,i,s,r,l[a+4],20,-405537848),r=b(r,o,i,s,l[a+9],5,568446438),s=b(s,r,o,i,l[a+14],9,-1019803690),i=b(i,s,r,o,l[a+3],14,-187363961),o=b(o,i,s,r,l[a+8],20,1163531501),r=b(r,o,i,s,l[a+13],5,-1444681467),s=b(s,r,o,i,l[a+2],9,-51403784),i=b(i,s,r,o,l[a+7],14,1735328473),o=b(o,i,s,r,l[a+12],20,-1926607734),r=p(r,o,i,s,l[a+5],4,-378558),s=p(s,r,o,i,l[a+8],11,-2022574463),i=p(i,s,r,o,l[a+11],16,1839030562),o=p(o,i,s,r,l[a+14],23,-35309556),r=p(r,o,i,s,l[a+1],4,-1530992060),s=p(s,r,o,i,l[a+4],11,1272893353),i=p(i,s,r,o,l[a+7],16,-155497632),o=p(o,i,s,r,l[a+10],23,-1094730640),r=p(r,o,i,s,l[a+13],4,681279174),s=p(s,r,o,i,l[a],11,-358537222),i=p(i,s,r,o,l[a+3],16,-722521979),o=p(o,i,s,r,l[a+6],23,76029189),r=p(r,o,i,s,l[a+9],4,-640364487),s=p(s,r,o,i,l[a+12],11,-421815835),i=p(i,s,r,o,l[a+15],16,530742520),o=p(o,i,s,r,l[a+2],23,-995338651),r=M(r,o,i,s,l[a],6,-198630844),s=M(s,r,o,i,l[a+7],10,1126891415),i=M(i,s,r,o,l[a+14],15,-1416354905),o=M(o,i,s,r,l[a+5],21,-57434055),r=M(r,o,i,s,l[a+12],6,1700485571),s=M(s,r,o,i,l[a+3],10,-1894986606),i=M(i,s,r,o,l[a+10],15,-1051523),o=M(o,i,s,r,l[a+1],21,-2054922799),r=M(r,o,i,s,l[a+8],6,1873313359),s=M(s,r,o,i,l[a+15],10,-30611744),i=M(i,s,r,o,l[a+6],15,-1560198380),o=M(o,i,s,r,l[a+13],21,1309151649),r=M(r,o,i,s,l[a+4],6,-145523070),s=M(s,r,o,i,l[a+11],10,-1120210379),i=M(i,s,r,o,l[a+2],15,718787259),o=M(o,i,s,r,l[a+9],21,-343485551),r=E(r,P),o=E(o,F),i=E(i,H),s=E(s,d)}return[r,o,i,s]}(function U(l){const c=[];for(let r=0,o=l.length*h;r<o;r+=h)c[r>>5]|=(l.charCodeAt(r/h)&z)<<r%32;return c}(l),l.length*h);switch(r){case A.Raw:return o;case A.Hex:return function J(l){const c="0123456789abcdef",r=[];for(let o=0,i=4*l.length;o<i;o++)r.push(c.charAt(l[o>>2]>>o%4*8+4&15)+c.charAt(l[o>>2]>>o%4*8&15));return r.join("")}(o);case A.String:return function T(l){const c=[];for(let r=0,o=32*l.length;r<o;r+=h)c.push(String.fromCharCode(l[r>>5]>>>r%32&z));return c.join("")}(o);case A.Base64:return function D(l){const o=[];for(let i=0,s=4*l.length;i<s;i+=3){const a=(l[i>>2]>>i%4*8&255)<<16|(l[i+1>>2]>>(i+1)%4*8&255)<<8|l[i+2>>2]>>(i+2)%4*8&255;for(let P=0;P<4;P++)o.push(8*i+6*P>32*l.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6*(3-P)&63))}return o.join("")}(o)}}},99305:(X,$,y)=>{function A(h){return h&&"getAtOrigin"in h&&"originOf"in h}y.d($,{H:()=>A})},89957:(X,$,y)=>{y.r($),y.d($,{default:()=>q});var A=y(10467),h=y(8189),z=y(31555);function E(u,x){return U(u)===U(x)}function U(u){if(null==u)return null;let w=null;return w=null!=u.objectId?u.objectId:null!=u.layer&&"objectIdField"in u.layer&&null!=u.layer.objectIdField&&null!=u.attributes?u.attributes[u.layer.objectIdField]:u.uid,null==w?null:`o-${null!=u.layer?u.layer.id:""}-${w}`}const T={json:{write:{writer:function J(u,x){var w;null!=(null==u||null===(w=u.layer)||void 0===w?void 0:w.objectIdField)&&null!=u.attributes&&(x.feature={layerId:u.layer.id,objectId:u.attributes[u.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function D(u){if(null!=u.layerId&&null!=u.objectId)return{uid:null,layer:{id:u.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:u.objectId}}}}}}};var K=y(98877),B=y(90660),I=y(71065),b=y(11432),p=y(85211),l=(y(3248),y(35150),y(40707),y(76576)),c=y(25968),r=y(13303),o=y(88485);let i=class extends((0,I.Te)((0,B.O)(K.A))){constructor(u){super(u),this.position=null,this.elevationInfo=null,this.feature=null}equals(u){return(0,b.CM)(this.position,u.position)&&(0,b.CM)(this.elevationInfo,u.elevationInfo)&&E(this.feature,u.feature)}};(0,h._)([(0,p.MZ)({type:r.A,json:{write:{isRequired:!0}}})],i.prototype,"position",void 0),(0,h._)([(0,p.MZ)({type:o.A}),(0,c.P)()],i.prototype,"elevationInfo",void 0),(0,h._)([(0,p.MZ)(T)],i.prototype,"feature",void 0),i=(0,h._)([(0,l.$)("esri.analysis.LineOfSightAnalysisObserver")],i);const s=i;let a=class extends((0,I.Te)(B.P)){constructor(u){super(u),this.position=null,this.elevationInfo=null,this.feature=null}equals(u){return(0,b.CM)(this.position,u.position)&&(0,b.CM)(this.elevationInfo,u.elevationInfo)&&E(this.feature,u.feature)}};(0,h._)([(0,p.MZ)({type:r.A}),(0,c.P)()],a.prototype,"position",void 0),(0,h._)([(0,p.MZ)({type:o.A}),(0,c.P)()],a.prototype,"elevationInfo",void 0),(0,h._)([(0,p.MZ)(T)],a.prototype,"feature",void 0),a=(0,h._)([(0,l.$)("esri.analysis.LineOfSightAnalysisTarget")],a);const P=a;var F=y(31178),H=y(5605),d=y(48900),v=y(11817),f=y(2296),m=y(73812);const O=F.A.ofType(P);let g=class extends z.A{constructor(u){super(u),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,d.wB)(()=>this._computeExtent(),u=>{null==(null==u?void 0:u.pending)&&this._set("extent",null!=u?u.extent:null)},d.pc))}get targets(){return this._get("targets")||new O}set targets(u){this._set("targets",(0,H.V)(u,this.targets,O))}get spatialReference(){var u;return null!=(null===(u=this.observer)||void 0===u?void 0:u.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){var u;return[null===(u=this.observer)||void 0===u?void 0:u.position]}waitComputeExtent(){var u=this;return(0,A.A)(function*(){const x=u._computeExtent();return null!=x?x.pending:Promise.resolve()})()}_computeExtent(){var u;const x=this.spatialReference;if(null==(null===(u=this.observer)||void 0===u?void 0:u.position)||null==x)return null;const w=G=>"absolute-height"===(0,m.w7)(G.position,G.elevationInfo),N=this.observer.position,k=(0,f.fA)(N.x,N.y,N.z,N.x,N.y,N.z);for(const G of this.targets)if(null!=G.position){const V=(0,v.projectOrLoad)(G.position,x);if(null!=V.pending)return{pending:V.pending,extent:null};if(null!=V.geometry){const{x:_,y:tt,z:et}=V.geometry;(0,f.iT)(k,[_,tt,et])}}const Y=(0,f.w1)(k,x);return w(this.observer)&&this.targets.every(w)||(Y.zmin=void 0,Y.zmax=void 0),{pending:null,extent:Y}}clear(){this.observer=null,this.targets.removeAll()}};(0,h._)([(0,p.MZ)({type:["line-of-sight"]})],g.prototype,"type",void 0),(0,h._)([(0,p.MZ)({type:s,json:{read:!0,write:!0}})],g.prototype,"observer",void 0),(0,h._)([(0,p.MZ)({cast:H.H,type:O,nonNullable:!0,json:{read:!0,write:!0}})],g.prototype,"targets",null),(0,h._)([(0,p.MZ)({value:null,readOnly:!0})],g.prototype,"extent",void 0),(0,h._)([(0,p.MZ)({readOnly:!0})],g.prototype,"spatialReference",null),(0,h._)([(0,p.MZ)({readOnly:!0})],g.prototype,"requiredPropertiesForEditing",null),g=(0,h._)([(0,l.$)("esri.analysis.LineOfSightAnalysis")],g);const Z=g;var S=y(39693),R=y(95478),C=y(17049);const j=F.A.ofType(P);let L=class extends((0,C.q)((0,S.P)(R.A))){constructor(u){super(u),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new Z,this.opacity=1}initialize(){this.addHandles((0,d.wB)(()=>this.analysis,(u,x)=>{null!=x&&x.parent===this&&(x.parent=null),null!=u&&(u.parent=this)},d.pc))}load(){var u=this;return(0,A.A)(function*(){return null!=u.analysis&&u.addResolvingPromise(u.analysis.waitComputeExtent()),u})()}get observer(){var u;return null===(u=this.analysis)||void 0===u?void 0:u.observer}set observer(u){const{analysis:x}=this;x&&(x.observer=u)}get targets(){return null!=this.analysis?this.analysis.targets:new F.A}set targets(u){var x;(0,H.V)(u,null===(x=this.analysis)||void 0===x?void 0:x.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(u){this.analysis===u&&(this.analysis=new Z)}};(0,h._)([(0,p.MZ)({json:{read:!1},readOnly:!0})],L.prototype,"type",void 0),(0,h._)([(0,p.MZ)({type:["LineOfSightLayer"]})],L.prototype,"operationalLayerType",void 0),(0,h._)([(0,p.MZ)({type:s,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],L.prototype,"observer",null),(0,h._)([(0,p.MZ)({type:j,json:{read:!0,write:{ignoreOrigin:!0}}})],L.prototype,"targets",null),(0,h._)([(0,p.MZ)({nonNullable:!0,json:{read:!1,write:!1}})],L.prototype,"analysis",void 0),(0,h._)([(0,p.MZ)({readOnly:!0})],L.prototype,"fullExtent",null),(0,h._)([(0,p.MZ)({readOnly:!0})],L.prototype,"spatialReference",null),(0,h._)([(0,p.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],L.prototype,"opacity",void 0),(0,h._)([(0,p.MZ)({type:["show","hide"]})],L.prototype,"listMode",void 0),L=(0,h._)([(0,l.$)("esri.layers.LineOfSightLayer")],L);const q=L},73812:(X,$,y)=>{function T(d,v){return function E(d,v){return null!=v&&v.mode?v.mode:function z(d){return d?F:H}(d).mode}(null!=d&&d.hasZ,v)}function o(d,v,f){return f&&f.mode!==v?`${d} only support ${v} elevation mode`:null}function i(d,v,f){return(null==f?void 0:f.mode)===v?`${d} do not support ${v} elevation mode`:null}function s(d,v){return null!=(null==v?void 0:v.featureExpressionInfo)&&"0"!==v.featureExpressionInfo.expression?`${d} do not support featureExpressionInfo`:null}function a(d,v){v&&d.warn(".elevationInfo=",v)}y.d($,{$7:()=>i,B:()=>o,XF:()=>a,tW:()=>s,w7:()=>T}),y(82663),y(82575);const F={mode:"absolute-height",offset:0},H={mode:"on-the-ground",offset:null}}}]);