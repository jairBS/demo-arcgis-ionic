"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[13],{31033:(de,ft,V)=>{V.d(ft,{D_:()=>N,L8:()=>U,Z7:()=>c,dr:()=>b});var c,C,ot=V(1119);(C=c||(c={})).InvalidFunctionParameters="InvalidFunctionParameters",C.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",C.UnsupportedSqlFunction="UnsupportedSqlFunction",C.UnsupportedOperator="UnsupportedOperator",C.UnsupportedSyntax="UnsupportedSyntax",C.UnsupportedIsRhs="UnsupportedIsRhs",C.UnsupportedIsLhs="UnsupportedIsLhs",C.InvalidDataType="InvalidDataType",C.CannotCastValue="CannotCastValue",C.FunctionNotRecognized="FunctionNotRecognized",C.InvalidTime="InvalidTime",C.InvalidParameterCount="InvalidParameterCount",C.InvalidTimeStamp="InvalidTimeStamp",C.InvalidDate="InvalidDate",C.InvalidOperator="InvalidOperator",C.IllegalInterval="IllegalInterval",C.YearMonthIntervals="YearMonthIntervals",C.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",C.MissingStatisticParameters="MissingStatisticParameters";const B={[c.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[c.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[c.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[c.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[c.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[c.UnsupportedOperator]:"Unsupported operator - {operator}",[c.UnsupportedSyntax]:"Unsupported syntax - {node}",[c.UnsupportedSqlFunction]:"Sql function not found = {function}",[c.InvalidDataType]:"Invalid sql data type",[c.InvalidDate]:"Invalid date encountered",[c.InvalidOperator]:"Invalid operator encountered",[c.InvalidTime]:"Invalid time encountered",[c.IllegalInterval]:"Illegal interval",[c.FunctionNotRecognized]:"Function not recognized",[c.InvalidTimeStamp]:"Invalid timestamp encountered",[c.InvalidParameterCount]:"Invalid parameter count for call to {name}",[c.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[c.YearMonthIntervals]:"Year-Month Intervals not supported",[c.CannotCastValue]:"Cannot cast value to the required data type"};class U extends Error{constructor(at,nt){super((0,ot.HC)(B[at],nt)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,U)}}var N;!function(C){C.NeverReach="NeverReach",C.NotImplemented="NotImplemented",C.Cancelled="Cancelled",C.InvalidStatResponse="InvalidStatResponse",C.InvalidRequest="InvalidRequest",C.RequestFailed="RequestFailed",C.MissingFeatures="MissingFeatures",C.AggregationFieldNotFound="AggregationFieldNotFound",C.DataElementsNotFound="DataElementsNotFound"}(N||(N={}));const J={[N.Cancelled]:"Cancelled",[N.InvalidStatResponse]:"Invalid statistics response from service",[N.InvalidRequest]:"Invalid request",[N.RequestFailed]:"Request failed - {reason}",[N.MissingFeatures]:"Missing features",[N.AggregationFieldNotFound]:"Aggregation field not found",[N.DataElementsNotFound]:"Data elements not found on service",[N.NeverReach]:"Encountered unreachable logic",[N.NotImplemented]:"Not implemented"};class b extends Error{constructor(at,nt){super((0,ot.HC)(J[at],nt)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,b)}}},16924:(de,ft,V)=>{V.d(ft,{g:()=>B});var ot=V(44549);function c(U){return Number.isNaN(U)||0===U?U:Math.trunc(U)}class B{constructor(N){this._timeStampOffset=N,this._date=null}toDateTime(){var N;return null!==(N=this._date)&&void 0!==N||(this._date=ot.c9.fromISO(this._timeStampOffset,{setZone:!0})),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return c(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return c(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return B.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(N){return new B(ot.c9.fromJSDate(N).toISO({includeOffset:!0}))}static fromDateTime(N){return new B(N.toISO({includeOffset:!0}))}static fromParts(N,J,b=0,C=0,at=0,nt=0,pt=0,vt=!1,yt=0,Vt=0){const Jt=`${N.toString().padStart(4,"0")}-${J.toString().padStart(2,"0")}-${b.toString().padStart(2,"0")}`;let mt="";nt<10&&(mt="0");let Z=`${C.toString().padStart(2,"0")}:${at.toString().padStart(2,"0")}:${mt+nt.toString()}`;0!==pt&&(Z+="."+pt.toString().padStart(3,"0"));const j=`${vt?"-":"+"}${yt.toString().padStart(2,"0")}:${Vt.toString().padStart(2,"0")}`;return new B(Jt+"T"+Z+j)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let N=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return N&&(N=N.replace(".000","")),N}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(N){const J=this.toDateTime().plus(N);return B.fromDateTime(J)}}},40013:(de,ft,V)=>{V.r(ft),V.d(ft,{WhereClause:()=>Wt,defaultAttributeAdapter:()=>dt});var ot=V(61299),c=V(31033),B=V(3248),U=V(87257),N=V(16924),J=V(29752),b=V(44549);function at(i,r){const s=nt[i.toLowerCase()];return null!=s&&r>=s.minParams&&r<=s.maxParams}const nt={min:{minParams:1,maxParams:1,evaluate:i=>yt(i[0],"min")},max:{minParams:1,maxParams:1,evaluate:i=>yt(i[0],"max")},avg:{minParams:1,maxParams:1,evaluate:i=>pt(i[0])},sum:{minParams:1,maxParams:1,evaluate:i=>function Vt(i){if(null===i)return null;let r=0;for(let s=0;s<i.length;s++){const f=i[s];if(null!==f){if(!vt(f))throw new c.L8(c.Z7.InvalidValueForAggregateFunction);r+=f}}return r}(i[0])},stddev:{minParams:1,maxParams:1,evaluate:i=>function Jt(i){if(null===i)return null;const r=mt(i);return null===r?null:Math.sqrt(r)}(i[0])},count:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].length},var:{minParams:1,maxParams:1,evaluate:i=>mt(i[0])}};function pt(i){if(null===i)return null;let r=0,s=0;for(let f=0;f<i.length;f++){const l=i[f];if(null!==l){if(!vt(l))throw new c.L8(c.Z7.InvalidValueForAggregateFunction);s++,r+=l}}return 0===s?null:r/i.length}function vt(i){return"number"==typeof i}function yt(i,r){if(null===i)return null;let s=null,f=null;for(const l of i){let h=l;h=l instanceof U.n||l instanceof J.k?l.toNumber():l instanceof b.c9?l.toMillis():l instanceof N.g?l.toMilliseconds():l,(null===s||"max"===r&&null!==f&&null!==h&&f<=h||"min"===r&&null!==f&&null!==h&&f>=h)&&(s=l,f=h)}return s}function mt(i){if(null===i||0===(i=i.filter(f=>null!==f)).length)return null;const r=pt(i);if(null===r)return null;let s=0;for(const f of i){if(!vt(f))throw new c.L8(c.Z7.InvalidValueForAggregateFunction);s+=(r-f)**2}return s/(i.length-1)}class Z{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(r){if(null!==r.precision||null!==r.secondary)throw new c.L8(c.Z7.PrimarySecondaryQualifiers)}static _parseSecondsComponent(r,s){if(s.includes(".")){const f=s.split(".");r.second=parseFloat(f[0]),r.millis=parseInt(f[1],10)}else r.second=parseFloat(s)}static createFromMilliseconds(r){const s=new Z;return s.second=r/1e3,s}static createFromValueAndQualifier(r,s,f){let l=null;const h=new Z;if(h.op="-"===f?"-":"+","interval-period"===s.type){Z._fixDefaults(s);const m=new RegExp("^[0-9]{1,}$");if("year"===s.period||"month"===s.period)throw new c.L8(c.Z7.YearMonthIntervals);if("second"===s.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(r))throw new c.L8(c.Z7.IllegalInterval);Z._parseSecondsComponent(h,r)}else{if(!m.test(r))throw new c.L8(c.Z7.IllegalInterval);h[s.period]=parseFloat(r)}}else{if(Z._fixDefaults(s.start),Z._fixDefaults(s.end),"year"===s.start.period||"month"===s.start.period||"year"===s.end.period||"month"===s.end.period)throw new c.L8(c.Z7.YearMonthIntervals);switch(s.start.period){case"day":switch(s.end.period){case"hour":if(l=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);h[s.start.period]=parseFloat(r.split(" ")[0]),h[s.end.period]=parseFloat(r.split(" ")[1]);break;case"minute":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{h[s.start.period]=parseFloat(r.split(" ")[0]);const m=r.split(" ")[1].split(":");h.hour=parseFloat(m[0]),h.minute=parseFloat(m[1])}break;case"second":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{h[s.start.period]=parseFloat(r.split(" ")[0]);const m=r.split(" ")[1].split(":");h.hour=parseFloat(m[0]),h.minute=parseFloat(m[1]),Z._parseSecondsComponent(h,m[2])}break;default:throw new c.L8(c.Z7.IllegalInterval)}break;case"hour":switch(s.end.period){case"minute":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);h.hour=parseFloat(r.split(":")[0]),h.minute=parseFloat(r.split(":")[1]);break;case"second":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{const m=r.split(":");h.hour=parseFloat(m[0]),h.minute=parseFloat(m[1]),Z._parseSecondsComponent(h,m[2])}break;default:throw new c.L8(c.Z7.IllegalInterval)}break;case"minute":if("second"!==s.end.period)throw new c.L8(c.Z7.IllegalInterval);if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{const m=r.split(":");h.minute=parseFloat(m[0]),Z._parseSecondsComponent(h,m[1])}break;default:throw new c.L8(c.Z7.IllegalInterval)}}return h}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var j=V(24098);const Sn=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,On=/^(\d{1,2}):(\d{1,2})$/,Cn=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,pe=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,An=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,Zn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,xn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,bn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function Tt(i,r){if(r instanceof b.bo)return r===j.GB.instance?b.c9.fromMillis(i.getTime(),{zone:j.GB.instance}):b.c9.fromJSDate(i,{zone:r});switch(r){case"system":case"local":case null:return b.c9.fromJSDate(i);default:return"unknown"===(null==r?void 0:r.toLowerCase())?b.c9.fromMillis(i.getTime(),{zone:j.GB.instance}):b.c9.fromJSDate(i,{zone:r})}}function k(i){return"number"==typeof i}function H(i){return"string"==typeof i||i instanceof String}function it(i){return i instanceof Z}function Q(i){return i instanceof Date}function M(i){return i instanceof b.c9}function E(i){return i instanceof U.n}function D(i){return i instanceof J.k}function F(i){return i instanceof N.g}function qt(i){let r=Sn.exec(i);if(null!==r){const[,s,f,l]=r,h=J.k.fromParts(parseInt(s,10),parseInt(f,10),parseInt(l,10),0);if(null!==h)return h;throw new c.L8(c.Z7.InvalidTime)}if(r=On.exec(i),null!==r){const[,s,f]=r,l=J.k.fromParts(parseInt(s,10),parseInt(f,10),0,0);if(null!==l)return l;throw new c.L8(c.Z7.InvalidTime)}if(r=Cn.exec(i),null!==r){const[,s,f,l,h]=r,m=J.k.fromParts(parseInt(s,10),parseInt(f,10),parseInt(l,10),parseInt(h,10));if(null!==m)return m;throw new c.L8(c.Z7.InvalidTime)}throw new c.L8(c.Z7.InvalidTime)}function Lt(i,r,s=!1){let f=An.exec(i);if(null!==f){const[,l,h,m,e,O,y,L]=f,W=b.c9.fromObject({year:parseInt(l,10),month:parseInt(h,10),day:parseInt(m,10),hour:parseInt(e,10),minute:parseInt(O,10),second:parseInt(y,10),millisecond:L?parseInt(L.replace(".",""),10):0},{zone:(0,j.Qo)(r)});if(!1===W.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return W}if(f=Zn.exec(i),null!==f){const[,l,h,m,e,O,y,L,W,Y,x]=f,P=N.g.fromParts(parseInt(l,10),parseInt(h,10),parseInt(m,10),parseInt(e,10),parseInt(O,10),parseInt(y,10),L?parseInt(L.replace(".",""),10):0,"-"===W,parseInt(Y,10),parseInt(x,10));if(!1===P.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return P}if(f=xn.exec(i),null!==f){const[,l,h,m,e,O,y,L,W]=f,Y=N.g.fromParts(parseInt(l,10),parseInt(h,10),parseInt(m,10),parseInt(e,10),parseInt(O,10),0,0,"-"===y,parseInt(L,10),parseInt(W,10));if(!1===Y.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return Y}if(f=bn.exec(i),null!==f){const[,l,h,m,e,O]=f,y=b.c9.fromObject({year:parseInt(l,10),month:parseInt(h,10),day:parseInt(m,10),hour:parseInt(e,10),minute:parseInt(O,10),second:0},{zone:(0,j.Qo)(r)});if(!1===y.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return y}if(f=pe.exec(i),null!==f){const[,l,h,m]=f,e=b.c9.fromObject({year:parseInt(l,10),month:parseInt(h,10),day:parseInt(m,10),hour:0,minute:0,second:0},{zone:(0,j.Qo)(r)});if(!1===e.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return e}throw new c.L8(c.Z7.InvalidTimeStamp)}function ve(i,r){const s=pe.exec(i);if(null===s)try{return Lt(i,r)}catch{throw new c.L8(c.Z7.InvalidDate)}const[,f,l,h]=s,m=U.n.fromParts(parseInt(f,10),parseInt(l,10),parseInt(h,10));if(null===m)throw new c.L8(c.Z7.InvalidDate);return m}var Mn=V(1119);const En=321408e5,Fn=26784e5,_n=864e5,Dn=36e5,Pn=6e4;function zt(i){return!!M(i)||!!F(i)}function Nt(i){if(M(i))return i.toMillis();if(E(i))return i.toNumber();if(F(i))return i.toMilliseconds();throw new c.L8(c.Z7.InvalidDataType)}function G(i,r,s,f){if(null==i||null==r)return null;if(k(i)){if(k(r))return X(i,r,s);if(H(r))return function Rn(i,r,s){const f=parseFloat(r);if(!isNaN(f))return X(i,f,s);const l=i.toString();switch(s){case"<>":return l!==r;case"=":return l===r;case">":return l>r;case"<":return l<r;case">=":return l>=r;case"<=":return l<=r}}(i,r,s);if(function Un(i){return!!(M(i)||E(i)||F(i)||D(i))}(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))throw new c.L8(c.Z7.InvalidOperator)}else if(H(i)){if(k(r))return function Vn(i,r,s){const f=parseFloat(i);if(!isNaN(f))return X(f,r,s);const l=r.toString();switch(s){case"<>":return i!==l;case"=":return i===l;case">":return i>l;case"<":return i<l;case">=":return i>=l;case"<=":return i<=l}}(i,r,s);if(H(r))return function Jn(i,r,s){switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}(i,r,s);if(M(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))throw new c.L8(c.Z7.InvalidOperator);if(D(r))throw new c.L8(c.Z7.InvalidOperator);if(F(r))throw new c.L8(c.Z7.InvalidOperator)}else if(M(i)){if(zt(r)){if(i instanceof b.c9&&(0,j.Y4)(i.zone)){if(r instanceof b.c9&&!1===(0,j.Y4)(r.zone)||r instanceof N.g)return ht(i,r,s)}else if(r instanceof b.c9&&(0,j.Y4)(r.zone)&&(i instanceof b.c9&&!1===(0,j.Y4)(i.zone)||i instanceof N.g))return ht(i,r,s);return X(Nt(i),Nt(r),s)}if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))return function qn(i,r,s){const f=r.toDateTimeLuxon(i.zone);return X((i=i.startOf("day")).toMillis(),f.toMillis(),s)}(i,r,s);if(D(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator)}else if(E(i)){if(F(r))return function kn(i,r,s){const f=i.toDateTimeLuxon(r.toDateTime().zone);return r=r.startOfDay(),X(f.toMillis(),r.toMilliseconds(),s)}(i,r,s);if(M(r))return function $n(i,r,s){const f=i.toDateTimeLuxon(r.zone);return r=r.startOf("day"),X(f.toMillis(),r.toMillis(),s)}(i,r,s);if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))return X(i.toNumber(),r.toNumber(),s);if(D(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator)}else if(D(i)){if(D(r))return X(i.toNumber(),r.toNumber(),s);if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))throw new c.L8(c.Z7.InvalidOperator);if(zt(r))throw new c.L8(c.Z7.InvalidOperator)}else if(F(i)){if(zt(r))return r instanceof b.c9&&(0,j.Y4)(r.zone)?ht(i,r,s):X(Nt(i),Nt(r),s);if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))return function zn(i,r,s){const f=r.toDateTimeLuxon(i.toDateTime().zone);return X((i=i.startOfDay()).toMilliseconds(),f.toMillis(),s)}(i,r,s);if(D(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator)}switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function X(i,r,s){switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function ht(i,r,s){i instanceof N.g&&(i=i.toDateTime()),r instanceof N.g&&(r=r.toDateTime());const f=me(i),l=me(r);switch(s){case"<>":return f!==l;case"=":return f===l;case">":return f>l;case"<":return f<l;case">=":return f>=l;case"<=":return f<=l}}function me(i){return i.year*En+i.month*Fn+i.day*_n+i.hour*Dn+i.minute*Pn+1e3*i.second+i.millisecond}function $t(i,r,s){const f=we[i.toLowerCase()];if(null==f)throw new c.L8(c.Z7.FunctionNotRecognized);if(r.length<f.minParams||r.length>f.maxParams)throw new c.L8(c.Z7.InvalidParameterCount,{name:i.toUpperCase()});return f.evaluate(r,s)}function St(i){return"string"==typeof i||i instanceof String}function kt(i){return!(Q(i)||E(i)||M(i)||D(i)||F(i))}function he(i){return E(i)||D(i)?i.toString():F(i)?i.toSQLValue():M(i)?0===i.millisecond?i.toFormat("yyyy-LL-dd HH:mm:ss"):i.toSQL({includeOffset:!1}):Q(i)?he(b.c9.fromJSDate(i)):i.toString()}const we={extract:{minParams:2,maxParams:2,evaluate:([i,r])=>{if(null==r)return null;if(Q(r))switch(i.toUpperCase()){case"SECOND":return r.getSeconds();case"MINUTE":return r.getMinutes();case"HOUR":return r.getHours();case"DAY":return r.getDate();case"MONTH":return r.getMonth()+1;case"YEAR":return r.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(M(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(E(r))switch(i.toUpperCase()){case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(D(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour}else if(F(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":return r.timezoneOffsetHour;case"TIMEZONE_MINUTE":return r.timezoneOffsetMinutes}throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:i=>{if(2===i.length){const[r,s]=i;return null==r||null==s?null:r.toString().substring(s-1)}if(3===i.length){const[r,s,f]=i;return null==r||null==s||null==f?null:f<=0?"":r.toString().substring(s-1,s+f-1)}}},position:{minParams:2,maxParams:2,evaluate:([i,r])=>null==i||null==r?null:r.indexOf(i)+1},trim:{minParams:2,maxParams:3,evaluate:i=>{const r=3===i.length,s=r?i[1]:" ",f=r?i[2]:i[1];if(null==s||null==f)return null;const l=`(${(0,Mn.Cj)(s)})`;switch(i[0]){case"BOTH":return f.replaceAll(new RegExp(`^${l}*|${l}*$`,"g"),"");case"LEADING":return f.replaceAll(new RegExp(`^${l}*`,"g"),"");case"TRAILING":return f.replaceAll(new RegExp(`${l}*$`,"g"),"")}throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.abs(i[0])},ceiling:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.ceil(i[0])},floor:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.floor(i[0])},log:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])},log10:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sin(i[0])},cos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cos(i[0])},tan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tan(i[0])},asin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.asin(i[0])},acos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.acos(i[0])},atan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.atan(i[0])},sign:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0]>0?1:i[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]**i[1]},mod:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]%i[1]},round:{minParams:1,maxParams:2,evaluate:i=>{const r=i[0],s=2===i.length?10**i[1]:1;return null==r?null:Math.round(r*s)/s}},truncate:{minParams:1,maxParams:2,evaluate:i=>null==i[0]?null:1===i.length?parseInt(i[0].toFixed(0),10):parseFloat(i[0].toFixed(i[1]))},char_length:{minParams:1,maxParams:1,evaluate:i=>St(i[0])?i[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:i=>{let r="";for(let s=0;s<i.length;s++){if(null==i[s])return null;r+=i[s].toString()}return r}},lower:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:i=>{for(const r of i)if(null!==r)return r;return null}},cosh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cosh(i[0])},sinh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sinh(i[0])},tanh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tanh(i[0])},nullif:{minParams:2,maxParams:2,evaluate:(i,r)=>G(i[0],i[1],"=")?null:i[0]},cast:{minParams:2,maxParams:2,evaluate:(i,r)=>{const s=i[0],f=i[1];if(null===s)return null;switch(f.type){case"integer":{if(!kt(s))throw new c.L8(c.Z7.CannotCastValue);const l=parseInt(s,10);if(isNaN(l))throw new c.L8(c.Z7.CannotCastValue);return l}case"smallint":{if(!kt(s))throw new c.L8(c.Z7.CannotCastValue);const l=parseInt(s,10);if(isNaN(l))throw new c.L8(c.Z7.CannotCastValue);if(l>32767||l<-32767)throw new c.L8(c.Z7.CannotCastValue);return l}case"float":case"real":{if(!kt(s))throw new c.L8(c.Z7.CannotCastValue);const l=parseFloat(s);if(isNaN(l))throw new c.L8(c.Z7.CannotCastValue);return l}case"time":return function jn(i){if(Q(i))return J.k.fromDateJS(i);if(M(i))return J.k.fromDateTime(i);if(E(i))throw new c.L8(c.Z7.CannotCastValue);if(D(i))return i;if(F(i))return J.k.fromSqlTimeStampOffset(i);if(St(i))return qt(i);throw new c.L8(c.Z7.CannotCastValue)}(s);case"date":return function Wn(i){if(Q(i))return U.n.fromDateJS(i);if(M(i))return U.n.fromParts(i.year,i.month,i.day);if(E(i))return i;if(D(i))throw new c.L8(c.Z7.CannotCastValue);if(F(i)&&null===U.n.fromParts(i.year,i.month,i.day))throw new c.L8(c.Z7.CannotCastValue);if(St(i)){const r=U.n.fromReader(i);if(null!==r&&r.isValid)return r}throw new c.L8(c.Z7.CannotCastValue)}(s);case"timestamp":return function Yn(i,r,s){if(Q(i))return Tt(i,r);if(M(i))return i;if(E(i))return i.toDateTimeLuxon("unknown");if(D(i))throw new c.L8(c.Z7.CannotCastValue);if(F(i))return i;if(St(i))return Lt(i,"unknown",s);throw new c.L8(c.Z7.CannotCastValue)}(s,r,!0===f.withtimezone);case"varchar":{const l=he(s);if(l.length>f.size)throw new c.L8(c.Z7.CannotCastValue);return l}default:throw new c.L8(c.Z7.InvalidDataType)}}}};function Ie(i,r,s,f){if("||"===i)return $t("concat",[r,s],f);if(null===r||null===s)return null;if(k(r)){if(k(s))return Ht(r,s,i);if(it(s))return function nr(i,r,s){switch(s){case"+":return Z.createFromMilliseconds(i+r.valueInMilliseconds());case"-":return Z.createFromMilliseconds(i-r.valueInMilliseconds());case"*":return Z.createFromMilliseconds(i*r.valueInMilliseconds());case"/":return Z.createFromMilliseconds(i/r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(D(s))return function dr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function pr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(F(s))return function fr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function lr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(H(s))return function vr(i,r,s){const f=parseFloat(r);if(isNaN(f))throw new c.L8(c.Z7.InvalidOperator);return Ht(i,f,s)}(r,s,i);throw new c.L8(c.Z7.InvalidOperator)}if(E(r)){if(k(s))return function sr(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function rr(i,r,s){switch(s){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(D(s))return function Lr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function Tr(i,r,s){if("-"===s)return i.toDateTimeLuxon("UTC").diff(r.toDateTimeLuxon("UTC")).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(F(s))return function yr(i,r,s){if("-"===s)return i.toDateTimeLuxon(r.toDateTime().zone).diff(r.toDateTime()).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(M(s))return function gr(i,r,s){if("-"===s)return i.toDateTimeLuxon(r.zone).diff(r).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function Dr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(D(r)){if(k(s))return function ur(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function Kn(i,r,s){switch(s){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(D(s))return function br(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function Zr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(F(s))return function xr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function Ar(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(H(s))return function Pr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(it(r)){if(k(s))return function er(i,r,s){switch(s){case"+":return Z.createFromMilliseconds(i.valueInMilliseconds()+r);case"-":return Z.createFromMilliseconds(i.valueInMilliseconds()-r);case"*":return Z.createFromMilliseconds(i.valueInMilliseconds()*r);case"/":return Z.createFromMilliseconds(i.valueInMilliseconds()/r)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function tr(i,r,s){switch(s){case"+":return Z.createFromMilliseconds(i.valueInMilliseconds()+r.valueInMilliseconds());case"-":return Z.createFromMilliseconds(i.valueInMilliseconds()-r.valueInMilliseconds());case"*":return Z.createFromMilliseconds(i.valueInMilliseconds()*r.valueInMilliseconds());case"/":return Z.createFromMilliseconds(i.valueInMilliseconds()/r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(D(s))return function Qn(i,r,s){if("+"===s)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(E(s))return function Gn(i,r,s){if("+"===s)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(F(s))return function Xn(i,r,s){if("+"===s)return r.addMilliseconds(i.valueInMilliseconds());throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(M(s))return function Bn(i,r,s){switch(s){case"+":return r.plus({milliseconds:i.valueInMilliseconds()});case"-":return i.valueInMilliseconds()-r.toMillis()}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function wr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(M(r)){if(k(s))return function or(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus({milliseconds:f});case"-":return i.minus({milliseconds:f})}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function ar(i,r,s){switch(s){case"+":return i.plus({milliseconds:r.valueInMilliseconds()});case"-":return i.minus({milliseconds:r.valueInMilliseconds()})}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(D(s))return function _r(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function Er(i,r,s){if("-"===s)return i.diff(r.toDateTimeLuxon(i.zone)).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(F(s))return function Fr(i,r,s){if("-"===s)return i.diff(r.toDateTime()).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(M(s))return function Mr(i,r,s){if("-"===s)return i.diff(r).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function Ur(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(F(r)){if(k(s))return function cr(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.addMilliseconds(f);case"-":return i.addMilliseconds(-1*f)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function ir(i,r,s){switch(s){case"+":return i.addMilliseconds(r.valueInMilliseconds());case"-":return i.addMilliseconds(-1*r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(D(s))return function Nr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function Sr(i,r,s){if("-"===s)return i.toDateTime().diff(r.toDateTimeLuxon(i.toDateTime().zone)).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(F(s))return function Cr(i,r,s){if("-"===s)return i.toDateTime().diff(r.toDateTime()).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(M(s))return function Or(i,r,s){if("-"===s)return i.toDateTime().diff(r).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function Rr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(H(r)){if(k(s))return function mr(i,r,s){const f=parseFloat(i);if(isNaN(f))throw new c.L8(c.Z7.InvalidOperator);return Ht(f,r,s)}(r,s,i);if(it(s))return function Ir(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(D(s))return function Vr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function Jr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(F(s))return function zr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function qr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(H(s))return function hr(i,r,s){if("+"===s)return i+r;throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);throw new c.L8(c.Z7.InvalidOperator)}throw new c.L8(c.Z7.InvalidOperator)}function Ht(i,r,s){switch(s){case"+":return i+r;case"-":return i-r;case"*":return i*r;case"/":return i/r}throw new c.L8(c.Z7.InvalidOperator)}V(93293);var ge,Te={exports:{}};(ge=Te).exports&&(ge.exports=function(){function r(l,h,m,e){var O=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(O,r.prototype),O.expected=h,O.found=m,O.location=e,O.name="SyntaxError",O}function s(l,h,m){return m=m||" ",l.length>h?l:l+(m+=m.repeat(h-=l.length)).slice(0,h)}return function i(l,h){function m(){this.constructor=l}m.prototype=h.prototype,l.prototype=new m}(r,Error),r.prototype.format=function(l){var h="Error: "+this.message;if(this.location){var m,e=null;for(m=0;m<l.length;m++)if(l[m].source===this.location.source){e=l[m].text.split(/\r\n|\n|\r/g);break}var O=this.location.start,y=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(O):O,L=this.location.source+":"+y.line+":"+y.column;if(e){var W=this.location.end,Y=s("",y.line.toString().length," "),x=e[O.line-1],P=(O.line===W.line?W.column:x.length+1)-O.column||1;h+="\n --\x3e "+L+"\n"+Y+" |\n"+y.line+" | "+x+"\n"+Y+" | "+s("",O.column-1," ")+s("",P,"^")}else h+="\n at "+L}return h},r.buildMessage=function(l,h){var m={literal:function(x){return'"'+O(x.text)+'"'},class:function(x){var P=x.parts.map(function(K){return Array.isArray(K)?y(K[0])+"-"+y(K[1]):y(K)});return"["+(x.inverted?"^":"")+P.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(x){return x.description}};function e(x){return x.charCodeAt(0).toString(16).toUpperCase()}function O(x){return x.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(P){return"\\x0"+e(P)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(P){return"\\x"+e(P)})}function y(x){return x.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(P){return"\\x0"+e(P)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(P){return"\\x"+e(P)})}function L(x){return m[x.type](x)}return"Expected "+function W(x){var P,K,q=x.map(L);if(q.sort(),q.length>0){for(P=1,K=1;P<q.length;P++)q[P-1]!==q[P]&&(q[K]=q[P],K++);q.length=K}switch(q.length){case 1:return q[0];case 2:return q[0]+" or "+q[1];default:return q.slice(0,-1).join(", ")+", or "+q[q.length-1]}}(l)+" but "+function Y(x){return x?'"'+O(x)+'"':"end of input"}(h)+" found."},{SyntaxError:r,parse:function f(l,h){var m,e={},O=(h=void 0!==h?h:{}).grammarSource,y={start:ke},L=ke,W="!",Y="=",x=">=",P=">",K="<=",q="<>",Br="<",Ae="!=",Qt="+",Gt="-",Ze="||",Qr="*",Gr="/",Kr="@",xe="'",be="N'",Ct="''",Xr=".",ta="null",ea="true",na="false",ra="in",aa="is",ia="like",oa="escape",sa="not",ua="and",la="or",ca="between",fa="from",da="for",pa="substring",va="extract",ma="trim",ha="position",wa="timestamp",Ia="date",ga="time",ya="leading",Ta="trailing",La="both",Na="cast",Sa="as",Oa="integer",Ca="smallint",Aa="float",Za="real",xa="varchar",ba="to",Ma="interval",Ea="year",Fa="timezone_hour",_a="timezone_minute",Da="month",Pa="day",Ua="hour",Ra="minute",Va="second",Ja="case",qa="end",za="when",$a="then",ka="else",Ha=",",Wa="(",Ya=")",Me="`",ja=/^[A-Za-z_\x80-\uFFFF]/,Ba=/^[A-Za-z0-9_]/,Ee=/^[A-Za-z0-9_.\x80-\uFFFF]/,Qa=/^["]/,Fe=/^[^']/,Ga=/^[0-9]/,Ka=/^[eE]/,Xa=/^[+\-]/,ti=/^[ \t\n\r]/,_e=/^[^`]/,ei=g("!",!1),De=g("=",!1),ni=g(">=",!1),ri=g(">",!1),ai=g("<=",!1),ii=g("<>",!1),oi=g("<",!1),si=g("!=",!1),Kt=g("+",!1),Xt=g("-",!1),ui=g("||",!1),li=g("*",!1),ci=g("/",!1),fi=et([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),di=et([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Pe=et([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),pi=et(['"'],!1,!1),vi=g("@",!1),Ue=g("'",!1),mi=g("N'",!1),Re=g("''",!1),Ve=et(["'"],!0,!1),hi=g(".",!1),wi=et([["0","9"]],!1,!1),Ii=et(["e","E"],!1,!1),gi=et(["+","-"],!1,!1),yi=g("NULL",!0),Ti=g("TRUE",!0),Li=g("FALSE",!0),Ni=g("IN",!0),Si=g("IS",!0),Oi=g("LIKE",!0),Ci=g("ESCAPE",!0),Ai=g("NOT",!0),Zi=g("AND",!0),xi=g("OR",!0),bi=g("BETWEEN",!0),Mi=g("FROM",!0),Ei=g("FOR",!0),Fi=g("SUBSTRING",!0),_i=g("EXTRACT",!0),Di=g("TRIM",!0),Pi=g("POSITION",!0),Ui=g("TIMESTAMP",!0),Ri=g("DATE",!0),Vi=g("TIME",!0),Ji=g("LEADING",!0),qi=g("TRAILING",!0),zi=g("BOTH",!0),$i=g("CAST",!0),ki=g("AS",!0),Hi=g("INTEGER",!0),Wi=g("SMALLINT",!0),Yi=g("FLOAT",!0),ji=g("REAL",!0),Bi=g("VARCHAR",!0),Qi=g("TO",!0),Gi=g("INTERVAL",!0),Ki=g("YEAR",!0),Xi=g("TIMEZONE_HOUR",!0),to=g("TIMEZONE_MINUTE",!0),eo=g("MONTH",!0),no=g("DAY",!0),ro=g("HOUR",!0),ao=g("MINUTE",!0),io=g("SECOND",!0),oo=g("CASE",!0),so=g("END",!0),uo=g("WHEN",!0),lo=g("THEN",!0),co=g("ELSE",!0),fo=g(",",!1),po=g("(",!1),vo=g(")",!1),mo=et([" ","\t","\n","\r"],!1,!1),Je=g("`",!1),qe=et(["`"],!0,!1),ho=function(t){return t},wo=function(t,a){var o={type:"expression-list"},u=function tc(t,a,o){return function Xl(t,a){for(var o=[t],u=0;u<a.length;u++)o.push(a[u][3]);return o}(t,a)}(t,a);return o.value=u,o},Io=function(t,a){return gt(t,a)},go=function(t,a){return gt(t,a)},yo=function(t){return function Kl(t,a){return{type:"unary-expression",operator:t,expr:a}}("NOT",t)},To=function(t,a){return""==a||null==a||null==a?t:"arithmetic"==a.type?gt(t,a.tail):Nn(a.op,t,a.right,a.escape)},Lo=function(t){return{type:"arithmetic",tail:t}},No=function(t,a){return{op:t+"NOT",right:a}},So=function(t,a){return{op:t,right:a}},Oo=function(t,a,o){return{op:"NOT"+t,right:{type:"expression-list",value:[a,o]}}},Co=function(t,a,o){return{op:t,right:{type:"expression-list",value:[a,o]}}},Ao=function(t){return t[0]+" "+t[2]},Zo=function(t){return t[0]+" "+t[2]},xo=function(t,a,o){return{op:t,right:a,escape:o.value}},bo=function(t,a){return{op:t,right:a,escape:""}},Mo=function(t,a){return{op:t,right:a}},Eo=function(t){return{op:t,right:{type:"expression-list",value:[]}}},Fo=function(t,a){return{op:t,right:a}},_o=function(t,a){return gt(t,a)},Do=function(t,a){return gt(t,a)},Po=function(t){return t.paren=!0,t},Uo=function(t){return/^CURRENT_DATE$/i.test(t)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(t)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:t}},Ro=function(t){return{type:"column-reference",table:"",column:t,delimited:!0}},Vo=function(t){return t},Jo=function(t,a){return t+a.join("")},qo=function(t,a){return t+a.join("")},zo=function(t){return t},$o=function(t){return t.join("")},ko=function(){return'"'},Ho=function(t){return{type:"parameter",value:t[1]}},Wo=function(t,a){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:t},a]}}},Yo=function(t,a,o){return{type:"function",name:"substring",args:{type:"expression-list",value:o?[t,a,o[2]]:[t,a]}}},jo=function(t,a){return{type:"function",name:"cast",args:{type:"expression-list",value:[t,a]}}},Bo=function(){return{type:"data-type",value:{type:"integer"}}},Qo=function(){return{type:"data-type",value:{type:"smallint"}}},Go=function(){return{type:"data-type",value:{type:"float"}}},Ko=function(){return{type:"data-type",value:{type:"real"}}},Xo=function(){return{type:"data-type",value:{type:"date"}}},ts=function(){return{type:"data-type",value:{type:"timestamp"}}},es=function(){return{type:"data-type",value:{type:"time"}}},ns=function(t){return{type:"data-type",value:{type:"varchar",size:parseInt(t)}}},rs=function(t,a,o){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null!=t?t:"BOTH"},a,o]}}},as=function(t,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null!=t?t:"BOTH"},a]}}},is=function(t,a){return{type:"function",name:"position",args:{type:"expression-list",value:[t,a]}}},os=function(t,a){return{type:"function",name:t,args:a||{type:"expression-list",value:[]}}},ss=function(t){return"string"===t.type&&function ec(t){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&ee("Timestamp literal is invalid")}(t.value),{type:"timestamp",value:t.value}},us=function(t){return"string"===t.type&&function nc(t){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(t)&&ee("Time literal is invalid")}(t.value),{type:"time",value:t.value}},ls=function(t,a,o){return{type:"interval",value:a,qualifier:o,op:t}},cs=function(t,a){return{type:"interval",value:t,qualifier:a,op:""}},fs=function(t,a){return{type:"interval-qualifier",start:t,end:a}},ds=function(t,a){return{type:"interval-period",period:t.value,precision:a,secondary:null}},ps=function(t){return{type:"interval-period",period:t.value,precision:null,secondary:null}},vs=function(t){return{type:"interval-period",period:t.value,precision:null,secondary:null}},ms=function(t,a){return{type:"interval-period",period:"second",precision:t,secondary:a}},hs=function(t){return{type:"interval-period",period:"second",precision:t,secondary:null}},ws=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Is=function(t,a){return{type:"interval-period",period:t.value,precision:a,secondary:null}},gs=function(t){return{type:"interval-period",period:t.value,precision:null,secondary:null}},ys=function(t,a){return{type:"interval-period",period:"second",precision:t,secondary:a}},Ts=function(t){return{type:"interval-period",period:"second",precision:t,secondary:null}},Ls=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Ns=function(){return{type:"string",value:"day"}},Ss=function(){return{type:"string",value:"hour"}},Os=function(){return{type:"string",value:"minute"}},Cs=function(){return{type:"string",value:"month"}},As=function(){return{type:"string",value:"year"}},Zs=function(t){return parseFloat(t)},xs=function(t){return parseFloat(t)},bs=function(t){return"string"===t.type&&function rc(t){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&ee("Date literal is invalid")}(t.value),{type:"date",value:t.value}},Ms=function(){return{type:"null",value:null}},Es=function(){return{type:"boolean",value:!0}},Fs=function(){return{type:"boolean",value:!1}},ze=function(){return"'"},_s=function(t){return{type:"string",value:t.join("")}},Ds=function(t,a){return{type:"case-expression",format:"simple",operand:t,clauses:a,else:null}},Ps=function(t,a,o){return{type:"case-expression",format:"simple",operand:t,clauses:a,else:o.value}},Us=function(t){return{type:"case-expression",format:"searched",clauses:t,else:null}},Rs=function(t,a){return{type:"case-expression",format:"searched",clauses:t,else:a.value}},Vs=function(t,a){return{type:"when-clause",operand:t,value:a}},Js=function(t,a){return{type:"when-clause",operand:t,value:a}},qs=function(t){return{type:"else-clause",value:t}},zs=function(t){return{type:"number",value:t}},$s=function(t,a,o){return parseFloat(t+a+o)},ks=function(t,a){return parseFloat(t+a)},Hs=function(t,a){return parseFloat(t+a)},Ws=function(t){return parseFloat(t)},Ys=function(t,a){return t[0]+a},js=function(t){return"."+(null!=t?t:"")},Bs=function(t,a){return t+a},Qs=function(t){return t.join("")},Gs=function(t,a){return"e"+(null===a?"":a)},Ks=function(){return"IN"},Xs=function(){return"IS"},tu=function(){return"LIKE"},eu=function(){return"ESCAPE"},nu=function(){return"NOT"},ru=function(){return"AND"},au=function(){return"OR"},iu=function(){return"BETWEEN"},ou=function(){return"FROM"},su=function(){return"FOR"},uu=function(){return"SUBSTRING"},lu=function(){return"EXTRACT"},cu=function(){return"TRIM"},fu=function(){return"POSITION"},du=function(){return"TIMESTAMP"},pu=function(){return"DATE"},vu=function(){return"TIME"},mu=function(){return"LEADING"},hu=function(){return"TRAILING"},wu=function(){return"BOTH"},Iu=function(){return"CAST"},gu=function(){return"AS"},yu=function(){return"INTEGER"},Tu=function(){return"SMALLINT"},Lu=function(){return"FLOAT"},Nu=function(){return"REAL"},Su=function(){return"VARCHAR"},Ou=function(){return"TO"},Cu=function(){return"INTERVAL"},Au=function(){return"YEAR"},Zu=function(){return"TIMEZONE_HOUR"},xu=function(){return"TIMEZONE_MINUTE"},bu=function(){return"MONTH"},Mu=function(){return"DAY"},Eu=function(){return"HOUR"},Fu=function(){return"MINUTE"},_u=function(){return"SECOND"},Du=function(){return"CASE"},Pu=function(){return"END"},Uu=function(){return"WHEN"},Ru=function(){return"THEN"},Vu=function(){return"ELSE"},Ju=function(t){return t},qu=function(t){return t.join("")},n=0,v=0,At=[{line:1,column:1}],tt=0,te=[],d=0;if("startRule"in h){if(!(h.startRule in y))throw new Error("Can't start parsing from rule \""+h.startRule+'".');L=y[h.startRule]}function ee(t,a){throw function $u(t,a){return new r(t,null,null,a)}(t,a=void 0!==a?a:ne(v,n))}function g(t,a){return{type:"literal",text:t,ignoreCase:a}}function et(t,a,o){return{type:"class",parts:t,inverted:a,ignoreCase:o}}function $e(t){var a,o=At[t];if(o)return o;for(a=t-1;!At[a];)a--;for(o={line:(o=At[a]).line,column:o.column};a<t;)10===l.charCodeAt(a)?(o.line++,o.column=1):o.column++,a++;return At[t]=o,o}function ne(t,a,o){var u=$e(t),I=$e(a),S={source:O,start:{offset:t,line:u.line,column:u.column},end:{offset:a,line:I.line,column:I.column}};return o&&O&&"function"==typeof O.offset&&(S.start=O.offset(S.start),S.end=O.offset(S.end)),S}function w(t){n<tt||(n>tt&&(tt=n,te=[]),te.push(t))}function ke(){var t,a;return t=n,p(),(a=R())!==e?(p(),v=t,t=ho(a)):(n=t,t=e),t}function He(){var t,a,o,u,I,S,A,_;if(t=n,(a=R())!==e){for(o=[],u=n,I=p(),(S=Rt())!==e?(A=p(),(_=R())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(S=Rt())!==e?(A=p(),(_=R())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);v=t,t=wo(a,o)}else n=t,t=e;return t}function R(){var t,a,o,u,I,S,A,_;if(t=n,(a=re())!==e){for(o=[],u=n,I=p(),(S=un())!==e?(A=p(),(_=re())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(S=un())!==e?(A=p(),(_=re())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);v=t,t=Io(a,o)}else n=t,t=e;return t}function re(){var t,a,o,u,I,S,A,_;if(t=n,(a=Zt())!==e){for(o=[],u=n,I=p(),(S=Dt())!==e?(A=p(),(_=Zt())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(S=Dt())!==e?(A=p(),(_=Zt())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);v=t,t=go(a,o)}else n=t,t=e;return t}function Zt(){var t,a,o,u,I;return t=n,(a=It())===e&&(a=n,33===l.charCodeAt(n)?(o=W,n++):(o=e,0===d&&w(ei)),o!==e?(u=n,d++,61===l.charCodeAt(n)?(I=Y,n++):(I=e,0===d&&w(De)),d--,I===e?u=void 0:(n=u,u=e),u!==e?a=o=[o,u]:(n=a,a=e)):(n=a,a=e)),a!==e?(o=p(),(u=Zt())!==e?(v=t,t=yo(u)):(n=t,t=e)):(n=t,t=e),t===e&&(t=function Hu(){var t,a,o;return t=n,(a=rt())!==e?(p(),(o=function Wu(){var t;return(t=function Yu(){var t,a,o,u,I,S,A;if(t=n,a=[],o=n,u=p(),(I=We())!==e?(S=p(),(A=rt())!==e?o=u=[u,I,S,A]:(n=o,o=e)):(n=o,o=e),o!==e)for(;o!==e;)a.push(o),o=n,u=p(),(I=We())!==e?(S=p(),(A=rt())!==e?o=u=[u,I,S,A]:(n=o,o=e)):(n=o,o=e);else a=e;return a!==e&&(v=t,a=Lo(a)),a}())===e&&(t=function Gu(){var t,a,o,u;return t=n,(a=ae())!==e?(p(),(o=z())!==e?(p(),(u=He())!==e?(p(),$()!==e?(v=t,t=Mo(a,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ae())!==e?(p(),(o=z())!==e?(p(),(u=$())!==e?(v=t,t=Eo(a)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ae())!==e?(p(),(o=ue())!==e?(v=t,t=Fo(a,o)):(n=t,t=e)):(n=t,t=e))),t}())===e&&(t=function Bu(){var t,a,o,u,I,S;return t=n,(a=It())!==e?(p(),(o=ln())!==e?(p(),(u=rt())!==e?(p(),(I=Dt())!==e?(p(),(S=rt())!==e?(v=t,t=Oo(o,u,S)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ln())!==e?(p(),(o=rt())!==e?(p(),(u=Dt())!==e?(p(),(I=rt())!==e?(v=t,t=Co(a,o,I)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function ju(){var t,a,o,u;return t=n,(a=on())!==e?(p(),(o=It())!==e?(p(),(u=rt())!==e?(v=t,t=No(a,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=on())!==e?(p(),(o=rt())!==e?(v=t,t=So(a,o)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function Qu(){var t,a,o,u;return t=n,(a=Ye())!==e?(p(),(o=ut())!==e?(p(),function El(){var t,a,o,u;return t=n,l.substr(n,6).toLowerCase()===oa?(a=l.substr(n,6),n+=6):(a=e,0===d&&w(Ci)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=eu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(u=le())!==e?(v=t,t=xo(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=Ye())!==e?(p(),(o=ut())!==e?(v=t,t=bo(a,o)):(n=t,t=e)):(n=t,t=e)),t}()),t}())===e&&(o=null),v=t,t=To(a,o)):(n=t,t=e),t}()),t}function We(){var t;return l.substr(n,2)===x?(t=x,n+=2):(t=e,0===d&&w(ni)),t===e&&(62===l.charCodeAt(n)?(t=P,n++):(t=e,0===d&&w(ri)),t===e&&(l.substr(n,2)===K?(t=K,n+=2):(t=e,0===d&&w(ai)),t===e&&(l.substr(n,2)===q?(t=q,n+=2):(t=e,0===d&&w(ii)),t===e&&(60===l.charCodeAt(n)?(t=Br,n++):(t=e,0===d&&w(oi)),t===e&&(61===l.charCodeAt(n)?(t=Y,n++):(t=e,0===d&&w(De)),t===e&&(l.substr(n,2)===Ae?(t=Ae,n+=2):(t=e,0===d&&w(si)))))))),t}function Ye(){var t,a,o,u,I;return t=n,a=n,(o=It())!==e?(u=p(),(I=sn())!==e?a=o=[o,u,I]:(n=a,a=e)):(n=a,a=e),a!==e&&(v=t,a=Ao(a)),(t=a)===e&&(t=sn()),t}function ae(){var t,a,o,u,I;return t=n,a=n,(o=It())!==e?(u=p(),(I=ce())!==e?a=o=[o,u,I]:(n=a,a=e)):(n=a,a=e),a!==e&&(v=t,a=Zo(a)),(t=a)===e&&(t=ce()),t}function rt(){var t,a,o,u,I,S,A,_;if(t=n,(a=ie())!==e){for(o=[],u=n,I=p(),(S=je())!==e?(A=p(),(_=ie())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(S=je())!==e?(A=p(),(_=ie())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);v=t,t=_o(a,o)}else n=t,t=e;return t}function je(){var t;return 43===l.charCodeAt(n)?(t=Qt,n++):(t=e,0===d&&w(Kt)),t===e&&(45===l.charCodeAt(n)?(t=Gt,n++):(t=e,0===d&&w(Xt)),t===e&&(l.substr(n,2)===Ze?(t=Ze,n+=2):(t=e,0===d&&w(ui)))),t}function ie(){var t,a,o,u,I,S,A,_;if(t=n,(a=oe())!==e){for(o=[],u=n,I=p(),(S=Be())!==e?(A=p(),(_=oe())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(S=Be())!==e?(A=p(),(_=oe())!==e?u=I=[I,S,A,_]:(n=u,u=e)):(n=u,u=e);v=t,t=Do(a,o)}else n=t,t=e;return t}function Be(){var t;return 42===l.charCodeAt(n)?(t=Qr,n++):(t=e,0===d&&w(li)),t===e&&(47===l.charCodeAt(n)?(t=Gr,n++):(t=e,0===d&&w(ci))),t}function oe(){var t,a;return(t=function pl(){var t;return(t=le())===e&&(t=function Cl(){var t,a,o,u;return t=n,(a=function Al(){var t,a,o,u;return t=n,(a=_t())!==e&&(o=nn())!==e&&(u=rn())!==e?(v=t,t=$s(a,o,u)):(n=t,t=e),t===e&&(t=n,(a=_t())!==e&&(o=nn())!==e?(v=t,t=ks(a,o)):(n=t,t=e),t===e&&(t=n,(a=_t())!==e&&(o=rn())!==e?(v=t,t=Hs(a,o)):(n=t,t=e),t===e&&(t=n,(a=_t())!==e&&(v=t,a=Ws(a)),t=a))),t}())!==e?(o=n,d++,u=se(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=zs(a)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Ll(){var t,a;return t=n,(a=function bl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ea?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Ti)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?t=a=[a,o]:(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Es()),(t=a)===e&&(t=n,(a=function Ml(){var t,a,o,u;return t=n,l.substr(n,5).toLowerCase()===na?(a=l.substr(n,5),n+=5):(a=e,0===d&&w(Li)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?t=a=[a,o]:(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Fs()),t=a),t}())===e&&(t=function Tl(){var t,a;return t=n,(a=function xl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ta?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(yi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?t=a=[a,o]:(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Ms()),a}())===e&&(t=function yl(){var t,a;return t=n,dn()!==e?(p(),(a=ut())!==e?(v=t,t=bs(a)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function vl(){var t,a;return t=n,fn()!==e?(p(),(a=ut())!==e?(v=t,t=ss(a)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function hl(){var t,a,o,u;return t=n,vn()!==e?(p(),45===l.charCodeAt(n)?(a=Gt,n++):(a=e,0===d&&w(Xt)),a===e&&(43===l.charCodeAt(n)?(a=Qt,n++):(a=e,0===d&&w(Kt))),a!==e?(p(),(o=ut())!==e?(p(),(u=tn())!==e?(v=t,t=ls(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,vn()!==e?(p(),(a=ut())!==e?(p(),(o=tn())!==e?(v=t,t=cs(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function ml(){var t,a;return t=n,pn()!==e?(p(),(a=ut())!==e?(v=t,t=us(a)):(n=t,t=e)):(n=t,t=e),t}()),t}())===e&&(t=function il(){var t,a,o;return t=n,function Dl(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===va?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(_i)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=lu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=function dl(){var t;return(t=mn())===e&&(t=hn())===e&&(t=wn())===e&&(t=In())===e&&(t=gn())===e&&(t=ct())===e&&(t=function jl(){var t,a,o,u;return t=n,l.substr(n,13).toLowerCase()===Fa?(a=l.substr(n,13),n+=13):(a=e,0===d&&w(Xi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Zu()):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Bl(){var t,a,o,u;return t=n,l.substr(n,15).toLowerCase()===_a?(a=l.substr(n,15),n+=15):(a=e,0===d&&w(to)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=xu()):(n=t,t=e)):(n=t,t=e),t}()),t}())!==e?(p(),fe()!==e?(p(),(o=R())!==e?(p(),$()!==e?(v=t,t=Wo(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function ol(){var t,a,o,u,I,S,A;return t=n,function _l(){var t,a,o,u;return t=n,l.substr(n,9).toLowerCase()===pa?(a=l.substr(n,9),n+=9):(a=e,0===d&&w(Fi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=uu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=R())!==e?(p(),fe()!==e?(p(),(o=R())!==e?(p(),u=n,(I=function Fl(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===da?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(Ei)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=su()):(n=t,t=e)):(n=t,t=e),t}())!==e?(S=p(),(A=R())!==e?u=I=[I,S,A,p()]:(n=u,u=e)):(n=u,u=e),u===e&&(u=null),(I=$())!==e?(v=t,t=Yo(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function ll(){var t,a,o,u;return t=n,cn()!==e?(p(),z()!==e?(p(),(a=Xe())===e&&(a=null),p(),(o=R())!==e?(p(),fe()!==e?(p(),(u=R())!==e?(p(),$()!==e?(v=t,t=rs(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,cn()!==e?(p(),z()!==e?(p(),(a=Xe())===e&&(a=null),p(),(o=R())!==e?(p(),$()!==e?(v=t,t=as(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function cl(){var t,a,o;return t=n,function Pl(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===ha?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(Pi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=fu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=R())!==e?(p(),ce()!==e?(p(),(o=R())!==e?(p(),$()!==e?(v=t,t=is(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function sl(){var t,a,o;return t=n,function Jl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Na?(a=l.substr(n,4),n+=4):(a=e,0===d&&w($i)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Iu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=R())!==e?(p(),function ql(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===Sa?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(ki)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=gu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(o=function ul(){var t,a,o;return t=n,(a=function zl(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===Oa?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(Hi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=yu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Bo()),(t=a)===e&&(t=n,(a=function $l(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===Ca?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(Wi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Tu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Qo()),(t=a)===e&&(t=n,(a=function kl(){var t,a,o,u;return t=n,l.substr(n,5).toLowerCase()===Aa?(a=l.substr(n,5),n+=5):(a=e,0===d&&w(Yi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Lu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Go()),(t=a)===e&&(t=n,(a=function Hl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Za?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(ji)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Nu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Ko()),(t=a)===e&&(t=n,(a=dn())!==e&&(v=t,a=Xo()),(t=a)===e&&(t=n,(a=fn())!==e&&(v=t,a=ts()),(t=a)===e&&(t=n,(a=pn())!==e&&(v=t,a=es()),(t=a)===e&&(t=n,(a=function Wl(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===xa?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(Bi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Su()):(n=t,t=e)):(n=t,t=e),t}())!==e?(p(),z()!==e?(p(),(o=lt())!==e?(p(),$()!==e?(v=t,t=ns(o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)))))))),t}())!==e?(p(),$()!==e?(v=t,t=jo(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function fl(){var t,a,o;return t=n,(a=function Gl(){var t,a,o,u;if(t=n,(a=Qe())!==e&&(v=t,a=Ju(a)),(t=a)===e)if(t=n,96===l.charCodeAt(n)?(a=Me,n++):(a=e,0===d&&w(Je)),a!==e){if(o=[],_e.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(qe)),u!==e)for(;u!==e;)o.push(u),_e.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(qe));else o=e;o!==e?(96===l.charCodeAt(n)?(u=Me,n++):(u=e,0===d&&w(Je)),u!==e?(v=t,t=qu(o)):(n=t,t=e)):(n=t,t=e)}else n=t,t=e;return t}())!==e?(p(),z()!==e?(p(),(o=He())===e&&(o=null),p(),$()!==e?(v=t,t=os(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Nl(){var t;return(t=function Sl(){var t,a,o,u,I;if(t=n,Pt()!==e)if(p(),(a=R())!==e){for(p(),o=[],u=Ft();u!==e;)o.push(u),u=Ft();u=p(),(I=Ut())!==e?(v=t,t=Ds(a,o)):(n=t,t=e)}else n=t,t=e;else n=t,t=e;if(t===e)if(t=n,Pt()!==e)if(p(),(a=R())!==e){for(p(),o=[],u=Ft();u!==e;)o.push(u),u=Ft();u=p(),(I=en())!==e?(p(),Ut()!==e?(v=t,t=Ps(a,o,I)):(n=t,t=e)):(n=t,t=e)}else n=t,t=e;else n=t,t=e;return t}())===e&&(t=function Ol(){var t,a,o,u;if(t=n,Pt()!==e){for(p(),a=[],o=Et();o!==e;)a.push(o),o=Et();o=p(),(u=Ut())!==e?(v=t,t=Us(a)):(n=t,t=e)}else n=t,t=e;if(t===e)if(t=n,Pt()!==e){for(p(),a=[],o=Et();o!==e;)a.push(o),o=Et();o=p(),(u=en())!==e?(p(),Ut()!==e?(v=t,t=Rs(a,u)):(n=t,t=e)):(n=t,t=e)}else n=t,t=e;return t}()),t}())===e&&(t=function Ku(){var t,a;return t=n,(a=function Xu(){var t,a;return t=n,(a=function tl(){var t,a,o,u;if(t=n,(a=se())!==e){for(o=[],u=Ge();u!==e;)o.push(u),u=Ge();v=t,t=Jo(a,o)}else n=t,t=e;return t}())!==e&&(v=t,a=Vo(a)),a}())!==e&&(v=t,a=Uo(a)),(t=a)===e&&(t=n,(a=function el(){var t,a;return t=n,xt()!==e?(a=function nl(){var t,a,o;for(t=n,a=[],o=Ke();o!==e;)a.push(o),o=Ke();return v=t,$o(a)}(),xt()!==e?(v=t,t=zo(a)):(n=t,t=e)):(n=t,t=e),t}())!==e&&(v=t,a=Ro(a)),t=a),t}())===e&&(t=ue())===e&&(t=n,z()!==e?(p(),(a=R())!==e?(p(),$()!==e?(v=t,t=Po(a)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}function Qe(){var t,a,o,u;if(t=n,(a=se())!==e){for(o=[],u=T();u!==e;)o.push(u),u=T();v=t,t=qo(a,o)}else n=t,t=e;return t}function se(){var t;return ja.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(fi)),t}function T(){var t;return Ba.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(di)),t}function Ge(){var t;return Ee.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(Pe)),t}function Ke(){var t;return(t=function al(){var t;return Ee.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(Pe)),t}())===e&&(t=function rl(){var t;return t=n,xt()!==e&&xt()!==e?(v=t,t=ko()):(n=t,t=e),t}()),t}function xt(){var t;return Qa.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(pi)),t}function ue(){var t,a,o,u;return t=n,a=n,64===l.charCodeAt(n)?(o=Kr,n++):(o=e,0===d&&w(vi)),o!==e&&(u=Qe())!==e?a=o=[o,u]:(n=a,a=e),a!==e&&(v=t,a=Ho(a)),a}function Xe(){var t;return(t=function Ul(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===ya?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(Ji)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=mu()):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Rl(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===Ta?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(qi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=hu()):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Vl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===La?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(zi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=wu()):(n=t,t=e)):(n=t,t=e),t}()),t}function tn(){var t,a,o;return t=n,(a=function wl(){var t,a,o;return t=n,(a=wt())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),$()!==e?(v=t,t=ds(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=wt())!==e&&(v=t,a=ps(a)),t=a),t}())!==e?(p(),function Yl(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===ba?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(Qi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Ou()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(o=function Il(){var t,a,o,u;return t=n,(a=wt())!==e&&(v=t,a=vs(a)),(t=a)===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),Rt()!==e?(p(),(u=bt())!==e?(p(),$()!==e?(v=t,t=ms(o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),$()!==e?(v=t,t=hs(o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e&&(v=t,a=ws()),t=a))),t}())!==e?(v=t,t=fs(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=function gl(){var t,a,o,u;return t=n,(a=wt())!==e?(p(),z()!==e?(p(),(o=bt())!==e?(p(),$()!==e?(v=t,t=Is(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=wt())!==e&&(v=t,a=gs(a)),(t=a)===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),Rt()!==e?(p(),(u=bt())!==e?(p(),$()!==e?(v=t,t=ys(o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=bt())!==e?(p(),$()!==e?(v=t,t=Ts(o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e&&(v=t,a=Ls()),t=a)))),t}()),t}function wt(){var t,a;return t=n,(a=wn())!==e&&(v=t,a=Ns()),(t=a)===e&&(t=n,(a=In())!==e&&(v=t,a=Ss()),(t=a)===e&&(t=n,(a=gn())!==e&&(v=t,a=Os()),(t=a)===e&&(t=n,(a=hn())!==e&&(v=t,a=Cs()),(t=a)===e&&(t=n,(a=mn())!==e&&(v=t,a=As()),t=a)))),t}function bt(){var t,a;return t=n,(a=lt())!==e&&(v=t,a=Zs(a)),a}function Mt(){var t,a;return t=n,(a=lt())!==e&&(v=t,a=xs(a)),a}function ut(){var t;return(t=le())===e&&(t=ue()),t}function le(){var t,a,o,u,I;if(t=n,39===l.charCodeAt(n)?(a=xe,n++):(a=e,0===d&&w(Ue)),a===e&&(l.substr(n,2)===be?(a=be,n+=2):(a=e,0===d&&w(mi))),a!==e){for(o=[],u=n,l.substr(n,2)===Ct?(I=Ct,n+=2):(I=e,0===d&&w(Re)),I!==e&&(v=u,I=ze()),(u=I)===e&&(Fe.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(Ve)));u!==e;)o.push(u),u=n,l.substr(n,2)===Ct?(I=Ct,n+=2):(I=e,0===d&&w(Re)),I!==e&&(v=u,I=ze()),(u=I)===e&&(Fe.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(Ve)));39===l.charCodeAt(n)?(u=xe,n++):(u=e,0===d&&w(Ue)),u!==e?(v=t,t=_s(o)):(n=t,t=e)}else n=t,t=e;return t}function Et(){var t,a,o;return t=n,yn()!==e?(p(),(a=R())!==e?(p(),Tn()!==e?(p(),(o=R())!==e?(v=t,t=Vs(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}function Ft(){var t,a,o;return t=n,yn()!==e?(p(),(a=R())!==e?(p(),Tn()!==e?(p(),(o=R())!==e?(v=t,t=Js(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}function en(){var t,a;return t=n,function Ql(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ka?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(co)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Vu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(a=R())!==e?(v=t,t=qs(a)):(n=t,t=e)):(n=t,t=e),t}function _t(){var t,a,o;return(t=lt())===e&&(t=n,45===l.charCodeAt(n)?(a=Gt,n++):(a=e,0===d&&w(Xt)),a===e&&(43===l.charCodeAt(n)?(a=Qt,n++):(a=e,0===d&&w(Kt))),a!==e&&(o=lt())!==e?(v=t,t=Ys(a,o)):(n=t,t=e)),t}function nn(){var t,a,o;return t=n,46===l.charCodeAt(n)?(a=Xr,n++):(a=e,0===d&&w(hi)),a!==e?((o=lt())===e&&(o=null),v=t,t=js(o)):(n=t,t=e),t}function rn(){var t,a,o;return t=n,(a=function Zl(){var t,a,o;return t=n,Ka.test(l.charAt(n))?(a=l.charAt(n),n++):(a=e,0===d&&w(Ii)),a!==e?(Xa.test(l.charAt(n))?(o=l.charAt(n),n++):(o=e,0===d&&w(gi)),o===e&&(o=null),v=t,t=Gs(a,o)):(n=t,t=e),t}())!==e&&(o=lt())!==e?(v=t,t=Bs(a,o)):(n=t,t=e),t}function lt(){var t,a,o;if(t=n,a=[],(o=an())!==e)for(;o!==e;)a.push(o),o=an();else a=e;return a!==e&&(v=t,a=Qs(a)),a}function an(){var t;return Ga.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(wi)),t}function ce(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===ra?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(Ni)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Ks()):(n=t,t=e)):(n=t,t=e),t}function on(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===aa?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(Si)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Xs()):(n=t,t=e)):(n=t,t=e),t}function sn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ia?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Oi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=tu()):(n=t,t=e)):(n=t,t=e),t}function It(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===sa?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(Ai)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=nu()):(n=t,t=e)):(n=t,t=e),t}function Dt(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===ua?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(Zi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=ru()):(n=t,t=e)):(n=t,t=e),t}function un(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===la?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(xi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=au()):(n=t,t=e)):(n=t,t=e),t}function ln(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===ca?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(bi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=iu()):(n=t,t=e)):(n=t,t=e),t}function fe(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===fa?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Mi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=ou()):(n=t,t=e)):(n=t,t=e),t}function cn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ma?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Di)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=cu()):(n=t,t=e)):(n=t,t=e),t}function fn(){var t,a,o,u;return t=n,l.substr(n,9).toLowerCase()===wa?(a=l.substr(n,9),n+=9):(a=e,0===d&&w(Ui)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=du()):(n=t,t=e)):(n=t,t=e),t}function dn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ia?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Ri)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=pu()):(n=t,t=e)):(n=t,t=e),t}function pn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ga?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Vi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=vu()):(n=t,t=e)):(n=t,t=e),t}function vn(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===Ma?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(Gi)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Cu()):(n=t,t=e)):(n=t,t=e),t}function mn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ea?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Ki)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Au()):(n=t,t=e)):(n=t,t=e),t}function hn(){var t,a,o,u;return t=n,l.substr(n,5).toLowerCase()===Da?(a=l.substr(n,5),n+=5):(a=e,0===d&&w(eo)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=bu()):(n=t,t=e)):(n=t,t=e),t}function wn(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===Pa?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(no)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Mu()):(n=t,t=e)):(n=t,t=e),t}function In(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ua?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(ro)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Eu()):(n=t,t=e)):(n=t,t=e),t}function gn(){var t,a,o,u;return t=n,l.substr(n,6).toLowerCase()===Ra?(a=l.substr(n,6),n+=6):(a=e,0===d&&w(ao)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Fu()):(n=t,t=e)):(n=t,t=e),t}function ct(){var t,a,o,u;return t=n,l.substr(n,6).toLowerCase()===Va?(a=l.substr(n,6),n+=6):(a=e,0===d&&w(io)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=_u()):(n=t,t=e)):(n=t,t=e),t}function Pt(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ja?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(oo)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Du()):(n=t,t=e)):(n=t,t=e),t}function Ut(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===qa?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(so)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Pu()):(n=t,t=e)):(n=t,t=e),t}function yn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===za?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(uo)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Uu()):(n=t,t=e)):(n=t,t=e),t}function Tn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===$a?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(lo)),a!==e?(o=n,d++,u=T(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(v=t,t=Ru()):(n=t,t=e)):(n=t,t=e),t}function Rt(){var t;return 44===l.charCodeAt(n)?(t=Ha,n++):(t=e,0===d&&w(fo)),t}function z(){var t;return 40===l.charCodeAt(n)?(t=Wa,n++):(t=e,0===d&&w(po)),t}function $(){var t;return 41===l.charCodeAt(n)?(t=Ya,n++):(t=e,0===d&&w(vo)),t}function p(){var t,a;for(t=[],a=Ln();a!==e;)t.push(a),a=Ln();return t}function Ln(){var t;return ti.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(mo)),t}function Nn(t,a,o,u){var I={type:"binary-expression",operator:t,left:a,right:o};return void 0!==u&&(I.escape=u),I}function gt(t,a){for(var o=t,u=0;u<a.length;u++)o=Nn(a[u][1],o,a[u][3]);return o}if((m=L())!==e&&n===l.length)return m;throw m!==e&&n<l.length&&w({type:"end"}),function ku(t,a,o){return new r(r.buildMessage(t,a),t,a,o)}(te,tt<l.length?l.charAt(tt):null,ne(tt,tt<l.length?tt+1:tt))}}}());var $r=Te.exports;class kr{static parse(r){return $r.parse(r)}}const Hr=new Set(["current_timestamp","current_date","current_time"]);class Wr{static makeBool(r){return Le(r)}static featureValue(r,s,f,l){return Ce(r,s,f,l)}static equalsNull(r){return null===r}static applyLike(r,s,f){return Bt(r,s,f)}static ensureArray(r){return Yt(r)}static applyIn(r,s){return jt(r,s)}static currentDate(r){return U.n.fromNow(r)}static makeSqlInterval(r,s,f){return Z.createFromValueAndQualifier(r,s,f)}static convertInterval(r){return r instanceof Z?r.valueInMilliseconds():r}static currentTimestamp(r){return Tt(new Date,r)}static compare(r,s,f,l){return G(s,f,r)}static calculate(r,s,f,l){return Ie(r,s,f,l)}static evaluateTime(r){return qt(r)}static evaluateTimestamp(r,s,f){return Lt(r,s,f)}static evaluateDate(r,s){return ve(r,s)}static evaluateFunction(r,s,f){return $t(r,s,f)}static lookup(r,s){const f=s[r];return void 0===f?null:f}static between(r,s,f){return null==r||null==s[0]||null==s[1]?null:G(r,s[0],">=")&&G(r,s[1],"<=")}static notbetween(r,s,f){return null==r||null==s[0]||null==s[1]?null:G(r,s[0],"<")||G(r,s[1],">")}static ternaryNot(r){return Ot(r)}static ternaryAnd(r,s){return Ne(r,s)}static ternaryOr(r,s){return Se(r,s)}}class Wt{constructor(r,s,f="UTC"){this.fieldsIndex=s,this.timeZone=f,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=kr.parse(r);const{isStandardized:l,isAggregate:h,referencedFieldNames:m}=this._extractExpressionInfo(s);this._referencedFieldNames=m,this.isStandardized=l,this.isAggregate=h}static convertValueToStorageFormat(r,s=null){if(null===s)return Q(r)?r.getTime():M(r)?r.toMillis():F(r)?r.toStorageFormat():D(r)?r.toStorageString():E(r)?r.toStorageFormat():r;switch(s){case"date":return Q(r)?r.getTime():M(r)?r.toMillis():F(r)?r.toMilliseconds():E(r)?r.toNumber():r;case"date-only":return Q(r)?U.n.fromDateJS(r).toString():F(r)?U.n.fromSqlTimeStampOffset(r).toString():M(r)?U.n.fromDateTime(r).toString():r;case"time-only":return Q(r)?J.k.fromDateJS(r).toStorageString():M(r)?J.k.fromDateTime(r).toStorageString():F(r)?J.k.fromSqlTimeStampOffset(r).toStorageString():D(r)?r.toStorageString():r;case"timestamp-offset":if(Q(r))return N.g.fromJSDate(r).toStorageFormat();if(M(r))return N.g.fromDateTime(r).toStorageFormat();if(F(r))return r.toStorageFormat()}return r}static create(r,s,f="UTC"){return new Wt(r,s,f)}get fieldNames(){return this._referencedFieldNames}testSet(r,s=dt){return!!this._evaluateNode(this.parseTree,null,s,r)}calculateValue(r,s=dt){const f=this._evaluateNode(this.parseTree,r,s,null);return f instanceof Z?f.valueInMilliseconds()/864e5:f}calculateValueCompiled(r,s=dt){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone):(0,B.A)("esri-csp-restrictions")?this.calculateValue(r,s):(this._compileMe(),this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone))}testFeature(r,s=dt){return!!this._evaluateNode(this.parseTree,r,s,null)}testFeatureCompiled(r,s=dt){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone):(0,B.A)("esri-csp-restrictions")?this.testFeature(r,s):(this._compileMe(),!!this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,r=>{"current-time"===r.type?this._hasDateFunctions=!0:"function"===r.type&&(this._hasDateFunctions=this._hasDateFunctions||Hr.has(r.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const r=new Set;return this._visitAll(this.parseTree,s=>{"function"===s.type&&r.add(s.name.toLowerCase())}),Array.from(r)}getExpressions(){const r=new Map;return this._visitAll(this.parseTree,s=>{if("function"===s.type){const f=s.name.toLowerCase(),l=s.args.value[0];if("column-reference"===l.type){const h=l.column,m=`${f}-${h}`;r.has(m)||r.set(m,{aggregateType:f,field:h})}}}),[...r.values()]}getVariables(){const r=new Set;return this._visitAll(this.parseTree,s=>{"parameter"===s.type&&r.add(s.value.toLowerCase())}),Array.from(r)}_compileMe(){const r="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",r).bind(Wr)}_extractExpressionInfo(r){const s=[],f=new Set;let l=!0,h=!1;return this._visitAll(this.parseTree,m=>{switch(m.type){case"column-reference":{var e;const O=null==r?void 0:r.get(m.column);let y,L;O?y=L=null!==(e=O.name)&&void 0!==e?e:"":(L=m.column,y=L.toLowerCase()),f.has(y)||(f.add(y),s.push(L)),m.column=L;break}case"function":{const{name:O,args:y}=m,L=y.value.length;l&&(l=function Hn(i,r){const s=we[i.toLowerCase()];return null!=s&&r>=s.minParams&&r<=s.maxParams}(O,L)),!1===h&&(h=at(O,L));break}}}),{referencedFieldNames:Array.from(s),isStandardized:l,isAggregate:h}}_visitAll(r,s){if(null!=r)switch(s(r),r.type){case"when-clause":this._visitAll(r.operand,s),this._visitAll(r.value,s);break;case"case-expression":for(const f of r.clauses)this._visitAll(f,s);"simple"===r.format&&this._visitAll(r.operand,s),null!==r.else&&this._visitAll(r.else,s);break;case"expression-list":for(const f of r.value)this._visitAll(f,s);break;case"unary-expression":this._visitAll(r.expr,s);break;case"binary-expression":this._visitAll(r.left,s),this._visitAll(r.right,s);break;case"function":this._visitAll(r.args,s)}}evaluateNodeToJavaScript(r){switch(r.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(r.value)+", "+JSON.stringify(r.qualifier)+","+JSON.stringify(r.op)+")";case"case-expression":{let s="";if("simple"===r.format){const f=this.evaluateNodeToJavaScript(r.operand);s="( ";for(let l=0;l<r.clauses.length;l++)s+=" (this.compare('=',"+f+","+this.evaluateNodeToJavaScript(r.clauses[l].operand)+") ? ("+this.evaluateNodeToJavaScript(r.clauses[l].value)+") : ";s+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",s+=" )"}else{s="( ";for(let f=0;f<r.clauses.length;f++)s+=" this.makeBool("+this.evaluateNodeToJavaScript(r.clauses[f].operand)+")===true ? ("+this.evaluateNodeToJavaScript(r.clauses[f].value)+") : ";s+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",s+=" )"}return s}case"parameter":return"this.lookup("+JSON.stringify(r.value.toLowerCase())+",lookups)";case"expression-list":{let s="[";for(const f of r.value)"["!==s&&(s+=","),s+=this.evaluateNodeToJavaScript(f);return s+="]",s}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(r.expr)+")";case"binary-expression":switch(r.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"IS":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")";case"ISNOT":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)"}throw new c.L8(c.Z7.UnsupportedOperator,{operator:r.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(r.value);case"time":return"this.evaluateTime(JSON.stringify(node.value))";case"date":return"this.evaluateDate(JSON.stringify(node.value), 'unknown')";case"timestamp":return"this.evaluateTimestamp(JSON.stringify(node.value), 'unknown')";case"current-time":return"date"===r.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(r.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(r.name)+","+this.evaluateNodeToJavaScript(r.args)+", timeZone)"}throw new c.L8(c.Z7.UnsupportedSyntax,{node:r.type})}_evaluateNode(r,s,f,l){var h,m;let e;switch(r.type){case"interval":{const y=this._evaluateNode(r.value,s,f,l);return Z.createFromValueAndQualifier(y,r.qualifier,r.op)}case"case-expression":if("simple"===r.format){const y=this._evaluateNode(r.operand,s,f,l);for(let L=0;L<r.clauses.length;L++)if(G(y,this._evaluateNode(r.clauses[L].operand,s,f,l),"="))return this._evaluateNode(r.clauses[L].value,s,f,l);if(null!==r.else)return this._evaluateNode(r.else,s,f,l)}else{for(let y=0;y<r.clauses.length;y++)if(Le(this._evaluateNode(r.clauses[y].operand,s,f,l)))return this._evaluateNode(r.clauses[y].value,s,f,l);if(null!==r.else)return this._evaluateNode(r.else,s,f,l)}return null;case"parameter":return e=this.parameters[r.value.toLowerCase()],Q(e)?b.c9.fromJSDate(e):e instanceof ot.lY?e.toDateTime():e;case"expression-list":{const y=[];for(const L of r.value)y.push(this._evaluateNode(L,s,f,l));return y}case"unary-expression":return Ot(this._evaluateNode(r.expr,s,f,l));case"binary-expression":switch(r.operator){case"AND":return Ne(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l));case"OR":return Se(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l));case"IS":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return null===this._evaluateNode(r.left,s,f,l);case"ISNOT":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return null!==this._evaluateNode(r.left,s,f,l);case"IN":{const y=Yt(this._evaluateNode(r.right,s,f,l));return jt(this._evaluateNode(r.left,s,f,l),y)}case"NOT IN":{const y=Yt(this._evaluateNode(r.right,s,f,l));return Ot(jt(this._evaluateNode(r.left,s,f,l),y))}case"BETWEEN":{const y=this._evaluateNode(r.left,s,f,l),L=this._evaluateNode(r.right,s,f,l);return null==y||null==L[0]||null==L[1]?null:G(y,L[0],">=")&&G(y,L[1],"<=")}case"NOTBETWEEN":{const y=this._evaluateNode(r.left,s,f,l),L=this._evaluateNode(r.right,s,f,l);return null==y||null==L[0]||null==L[1]?null:G(y,L[0],"<")||G(y,L[1],">")}case"LIKE":return Bt(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.escape);case"NOT LIKE":return Ot(Bt(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return G(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.operator);case"-":case"+":case"*":case"/":case"||":return Ie(r.operator,this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),this.timeZone)}case"null":case"boolean":case"string":case"number":return r.value;case"date":return null!==(h=r.parsedValue)&&void 0!==h||(r.parsedValue=ve(r.value,"unknown")),r.parsedValue;case"timestamp":return null!==(m=r.parsedValue)&&void 0!==m||(r.parsedValue=Lt(r.value,"unknown")),r.parsedValue;case"time":return qt(r.value);case"current-time":return"date"===r.mode?U.n.fromNow(this.timeZone):Tt(new Date,this.timeZone);case"column-reference":return Ce(s,r.column,this.fieldsIndex,f);case"data-type":return r.value;case"function":{if(this.isAggregate&&at(r.name,r.args.value.length)){const L=[];for(const W of(null===(O=r.args)||void 0===O?void 0:O.value)||[]){var O;const Y=[];for(const x of l||[])Y.push(this._evaluateNode(W,x,f,null));L.push(Y)}return function C(i,r){const s=nt[i.toLowerCase()];if(null==s)throw new c.L8(c.Z7.FunctionNotRecognized);if(r.length<s.minParams||r.length>s.maxParams)throw new c.L8(c.Z7.InvalidParameterCount,{name:i.toUpperCase()});return s.evaluate(r)}(r.name,L)}const y=this._evaluateNode(r.args,s,f,l);return $t(r.name,y,this.timeZone)}}throw new c.L8(c.Z7.UnsupportedSyntax,{node:r.type})}}function Le(i){return!0===i}function Yt(i){return Array.isArray(i)?i:[i]}function Ot(i){return null!==i?!0!==i:null}function Ne(i,r){return null!=i&&null!=r?!0===i&&!0===r:!1!==i&&!1!==r&&null}function Se(i,r){return null!=i&&null!=r?!0===i||!0===r:!0===i||!0===r||null}function jt(i,r){if(null==i)return null;let s=!1;for(const f of r)if(null==f)s=null;else if(i===f){s=!0;break}return s}const Oe="-[]/{}()*+?.\\^$|";var st,i;function Bt(i,r,s){return null==i?null:function Yr(i,r){const s=r;let f="",l=st.Normal;for(let h=0;h<i.length;h++){const m=i.charAt(h);switch(l){case st.Normal:m===s?l=st.Escaped:Oe.includes(m)?f+="\\"+m:f+="%"===m?".*":"_"===m?".":m;break;case st.Escaped:Oe.includes(m)?f+="\\"+m:f+=m,l=st.Normal}}return new RegExp("^"+f+"$","m")}(r,s).test(i)}function Ce(i,r,s,f){var l;const h=f.getAttribute(i,r),m=null==s?void 0:s.get(r);return null==h||"esriFieldTypeDate"!==(null==m?void 0:m.type)&&"date"!==(null==m?void 0:m.type)?null==h||"esriFieldTypeDateOnly"!==(null==m?void 0:m.type)&&"date-only"!==(null==m?void 0:m.type)?null==h||"esriFieldTypeTimeOnly"!==(null==m?void 0:m.type)&&"time-only"!==(null==m?void 0:m.type)?null==h||"esriFieldTypeTimestampOffset"!==(null==m?void 0:m.type)&&"timestamp-offset"!==(null==m?void 0:m.type)?h:new N.g(h):J.k.fromReader(h):U.n.fromReader(h):Tt(new Date(h),null!==(l=null==s?void 0:s.getLuxonTimeZone(m.name))&&void 0!==l?l:b.mQ.utcInstance)}(i=st||(st={}))[i.Normal=0]="Normal",i[i.Escaped=1]="Escaped";const dt={getAttribute:(i,r)=>(function jr(i){return i&&"object"==typeof i.attributes}(i)?i.attributes:i)[r]}}}]);