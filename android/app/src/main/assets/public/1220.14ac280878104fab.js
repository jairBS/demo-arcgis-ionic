"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1220,9927,4098,3258],{99980:(q,N,o)=>{o.d(N,{A:()=>y});var i=o(8189),v=o(90660),z=o(71065),D=o(97442),C=o(85211),T=(o(3248),o(35150),o(40707),o(15463)),_=o(76576),d=o(26957);let h=class extends((0,v.O)(z.oY)){constructor(R){super(R),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,D.t)(this.value,this.unit,"milliseconds")}};(0,i._)([(0,T.e)(d.j,{nonNullable:!0})],h.prototype,"unit",void 0),(0,i._)([(0,C.MZ)({type:Number,json:{write:!0},nonNullable:!0})],h.prototype,"value",void 0),h=(0,i._)([(0,_.$)("esri.TimeInterval")],h);const y=h},33087:(q,N,o)=>{o.d(N,{q:()=>v});var i=o(60611);class v{constructor(D,C){this._storage=new i.F,this.id="",this.name="",this.size=0,this._storage.maxSize=D,this._storage.register(this),C&&this._storage.registerRemoveFunc("",C)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(D,C,S=1){this._storage.put(this,D,C,S,1)}pop(D){return this._storage.pop(this,D)}get(D){return this._storage.get(this,D)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(D){this._storage.maxSize=D}resetHitRate(){}}},60611:(q,N,o)=>{o.d(N,{F:()=>S,Mn:()=>C});var D,T,i=o(12438);(T=D||(D={}))[T.ALL=0]="ALL",T[T.SOME=1]="SOME";class C{constructor(_,d,h){this.name=_,this._storage=d,this.id=j+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),h&&(this._storage.registerRemoveFunc(this.id,h),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(_){return this._storage.getSize(this,_)}resetHitRate(){this._hit=this._miss=0}put(_,d,h,y=0){this._storage.put(this,_,d,h,y)}pop(_){const d=this._storage.pop(this,_);return void 0===d?++this._miss:++this._hit,d}get(_){const d=this._storage.get(this,_);return void 0===d?++this._miss:++this._hit,d}peek(_){return this._storage.peek(this,_)}updateSize(_,d,h){this._storage.updateSize(this,_,d,h)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class S{get size(){return this._size}constructor(_=10485760){this._maxSize=_,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.A,this._users=new i.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(_){this._users.push(_)}deregister(_){this._users.removeUnordered(_)}registerRemoveFunc(_,d){this._removeFuncs.push([_,d])}deregisterRemoveFunc(_){this._removeFuncs.filterInPlace(d=>d[0]!==_)}get maxSize(){return this._maxSize}set maxSize(_){this._maxSize=Math.max(_,-1),this._checkSize()}getSize(_,d){var h;const y=this._db.get(_.id+d);return null!==(h=null==y?void 0:y.size)&&void 0!==h?h:0}put(_,d,h,y,R){const c=this._db.get(d=_.id+d);if(c&&(this._size-=c.size,_.size-=c.size,this._db.delete(d),c.entry!==h&&this._notifyRemove(d,c.entry,c.size,D.ALL)),y>this._maxSize)return void this._notifyRemove(d,h,y,D.ALL);if(void 0===h)return void console.warn("Refusing to cache undefined entry ");if(!y||y<0)return console.warn(`Refusing to cache entry with size ${y} for key ${d}`),void this._notifyRemove(d,h,0,D.ALL);const P=1+Math.max(R,-4)- -3;this._db.set(d,new b(h,y,P)),this._size+=y,_.size+=y,this._checkSize()}updateSize(_,d,h,y){const R=this._db.get(d=_.id+d);if(R&&R.entry===h){for(this._size-=R.size,_.size-=R.size;y>this._maxSize;){const c=this._notifyRemove(d,h,y,D.SOME);if(!(null!=c&&c>0))return void this._db.delete(d);y=c}R.size=y,this._size+=y,_.size+=y,this._checkSize()}}pop(_,d){const h=this._db.get(d=_.id+d);if(h)return this._size-=h.size,_.size-=h.size,this._db.delete(d),++this._hit,h.entry;++this._miss}get(_,d){const h=this._db.get(d=_.id+d);if(void 0!==h)return this._db.delete(d),h.lives=h.lifetime,this._db.set(d,h),++this._hit,h.entry;++this._miss}peek(_,d){const h=this._db.get(_.id+d);return h?++this._hit:++this._miss,null==h?void 0:h.entry}get performanceInfo(){const _={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},d={},h=new Array;this._db.forEach((c,P)=>{const U=c.lifetime;h[U]=(h[U]||0)+c.size,this._users.forAll(f=>{const{id:A,name:O}=f;P.startsWith(A)&&(d[O]=(d[O]||0)+c.size)})});const y={};this._users.forAll(c=>{const P=c.name;"hitRate"in c&&"number"==typeof c.hitRate&&!isNaN(c.hitRate)&&c.hitRate>0?(d[P]=d[P]||0,y[P]=Math.round(100*c.hitRate)+"%"):y[P]="0%"});const R=Object.keys(d);R.sort((c,P)=>d[P]-d[c]),R.forEach(c=>_[c]=Math.round(d[c]/2**20)+"MB / "+y[c]);for(let c=h.length-1;c>=0;--c){const P=h[c];P&&(_["Priority "+(c+-3-1)]=Math.round(P/this._size*100)+"%")}return _}resetStats(){this._hit=this._miss=0,this._users.forAll(_=>_.resetHitRate())}clear(_){const d=_.id;this._db.forEach((h,y)=>{y.startsWith(d)&&(this._size-=h.size,this._db.delete(y),this._notifyRemove(y,h.entry,h.size,D.ALL))}),_.size=0}clearAll(){this._db.forEach((_,d)=>this._notifyRemove(d,_.entry,_.size,D.ALL)),this._users.forAll(_=>_.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(_,d,h,y){let R;return this._removeFuncs.some(c=>{if(_.startsWith(c[0])){const P=c[1](d,y,h);return"number"==typeof P&&(R=P),!0}return!1}),R}_checkSize(){this._users.forAll(_=>this._checkSizeLimits(_)),this._checkSizeLimits()}_checkSizeLimits(_){const d=null!=_?_:this;if(d.maxSize<0||d.size<=d.maxSize)return;const h=null==_?void 0:_.id;let y=!0;for(;y;){y=!1;for(const[R,c]of this._db)if(0===c.lifetime&&(!h||R.startsWith(h))){if(this._purgeItem(R,c,_),d.size<=.9*d.maxSize)return;y||(y=this._db.has(R))}}for(const[R,c]of this._db)if((!h||R.startsWith(h))&&(this._purgeItem(R,c,_),d.size<=.9*d.maxSize))return}_purgeItem(_,d,h=this._users.find(y=>_.startsWith(y.id))){if(this._db.delete(_),d.lives<=1){this._size-=d.size,h&&(h.size-=d.size);const y=this._notifyRemove(_,d.entry,d.size,D.SOME);null!=y&&y>0&&(this._size+=y,h&&(h.size+=y),d.lives=d.lifetime,d.size=y,this._db.set(_,d))}else--d.lives,this._db.set(_,d)}}let j=0;class b{constructor(_,d,h){this.entry=_,this.size=d,this.lifetime=h,this.lives=h}}},24098:(q,N,o)=>{o.d(N,{GB:()=>v,Qo:()=>D,Y4:()=>z});var i=o(44549);class v{}function z(S){return S instanceof i.bo?S===v.instance:"unknown"===(null==S?void 0:S.toString().toLowerCase())}function D(S){return z(S)?v.instance:S}v.instance=new i.oh("Etc/UTC")},721:(q,N,o)=>{o.d(N,{$X:()=>ne,Gy:()=>m,P5:()=>he,SW:()=>re,Tr:()=>te,VV:()=>S}),o(61320);const z=(I,M,w)=>[M,w],D=(I,M,w)=>[M,w,I[2]],C=(I,M,w)=>[M,w,I[2],I[3]];function S(I){return I?{originPosition:"upper-left"===I.originPosition?"upperLeft":"lower-left"===I.originPosition?"lowerLeft":I.originPosition,scale:I.tolerance?[I.tolerance,I.tolerance]:[1,1],translate:null!=I.extent?[I.extent.xmin,I.extent.ymax]:[0,0]}:null}function c({scale:I,translate:M},w){return w*I[0]+M[0]}function P({scale:I,translate:M},w){return M[1]-w*I[1]}function U(I,M,w){const Y=new Array(w.length);if(!w.length)return Y;const[Q,ee]=I.scale;let se=c(I,w[0][0]),oe=P(I,w[0][1]);Y[0]=M(w[0],se,oe);for(let ie=1;ie<w.length;ie++){const ue=w[ie];se+=ue[0]*Q,oe-=ue[1]*ee,Y[ie]=M(ue,se,oe)}return Y}function f(I,M,w){const Y=new Array(w.length);for(let Q=0;Q<w.length;Q++)Y[Q]=U(I,M,w[Q]);return Y}function m(I,M,w,Y,Q){return M.x=function b({scale:I,translate:M},w){return Math.round((w-M[0])/I[0])}(I,w.x),M.y=function T({scale:I,translate:M},w){return Math.round((M[1]-w)/I[1])}(I,w.y),M!==w&&(Y&&(M.z=w.z),Q&&(M.m=w.m)),M}function re(I,M,w,Y,Q){return null!=w&&(M.points=function O(I,M,w,Y){return U(I,w?Y?C:D:Y?D:z,M)}(I,w.points,Y,Q)),M}function te(I,M,w,Y,Q){return null==w||(M.x=c(I,w.x),M.y=P(I,w.y),M!==w&&(Y&&(M.z=w.z),Q&&(M.m=w.m))),M}function ne(I,M,w,Y,Q){return null!=w&&(M.rings=function K(I,M,w,Y){return f(I,w?Y?C:D:Y?D:z,M)}(I,w.rings,Y,Q)),M}function he(I,M,w,Y,Q){return null!=w&&(M.paths=function F(I,M,w,Y){return f(I,w?Y?C:D:Y?D:z,M)}(I,w.paths,Y,Q)),M}},3723:(q,N,o)=>{o.r(N),o.d(N,{default:()=>Te});var i=o(10467),v=o(8189),D=(o(21152),o(92165)),R=(o(79122),o(70176),o(92089),o(9826),o(15317),o(38582),o(73747),o(13318),o(85718),o(36156)),c=o(39693),P=o(89221),U=o(45272),f=o(85211),A=o(55739),F=(o(40707),o(3248)),K=o(76576),g=o(50305),L=o(6434),Z=o(95478),G=o(5922),J=o(55098),E=o(35150),p=o(56492),m=o(19284),x=o(89962),B=o(73650),$=o(93327),V=o(22639),re=o(28067);let te=class extends J.A{constructor(){var W;super(...arguments),W=this,this._connection=null,this._workerHandler=null,this.capabilities=(0,x.f)(!1,!1),this.type="wfs",this.refresh=(0,p.sg)((0,i.A)(function*(){yield W.load();const H={customParameters:W.layer.customParameters,maxRecordCount:W.layer.maxRecordCount,maxTotalRecordCount:W.layer.maxTotalRecordCount,maxPageCount:W.layer.maxPageCount},{extent:k}=yield W._workerHandler.refresh(H);return k&&(W.sourceJSON.extent=k),{dataChanged:!0,updates:{extent:W.sourceJSON.extent}}}))}load(W){return this.addResolvingPromise(this._startWorker({signal:null!=W?W.signal:null})),Promise.resolve(this)}destroy(){var W;null!==(W=this._connection)&&void 0!==W&&W.close(),this._connection=null,this._workerHandler=null}openPorts(){var W=this;return(0,i.A)(function*(){return yield W.load(),W._connection.openPorts()})()}queryFeatures(W,H={}){var k=this;return(0,i.A)(function*(){const le=yield k.queryFeaturesJSON(W,H);return $.A.fromJSON(le)})()}queryFeaturesJSON(W,H={}){var k=this;return(0,i.A)(function*(){return yield k.load(H),k._workerHandler.queryFeatures(W?W.toJSON():void 0,H)})()}queryFeatureCount(W,H={}){var k=this;return(0,i.A)(function*(){return yield k.load(H),k._workerHandler.queryFeatureCount(W?W.toJSON():void 0,H)})()}queryObjectIds(W,H={}){var k=this;return(0,i.A)(function*(){return yield k.load(H),k._workerHandler.queryObjectIds(W?W.toJSON():void 0,H)})()}queryExtent(W,H={}){var k=this;return(0,i.A)(function*(){yield k.load(H);const le=yield k._workerHandler.queryExtent(W?W.toJSON():void 0,H);return{count:le.count,extent:re.A.fromJSON(le.extent)}})()}querySnapping(W,H={}){var k=this;return(0,i.A)(function*(){return yield k.load(H),k._workerHandler.querySnapping(W,H)})()}_createLoadOptions(W){var H=this;return(0,i.A)(function*(){var k,le,de;const{url:fe,customParameters:ae,name:ye,namespaceUri:ce,fields:_e,geometryType:Me,maxRecordCount:Pe,maxPageCount:je,maxTotalRecordCount:Ce,swapXY:Ue}=H.layer,Se="defaults"===H.layer.originOf("spatialReference")?void 0:H.layer.spatialReference;if(!fe)throw new G.A("wfs-layer:missing-url","WFSLayer must be created with a url");H.wfsCapabilities||(H.wfsCapabilities=yield(0,B.Fu)(fe,{customParameters:ae,...W}));const pe=["fields","geometryType","name","namespaceUri","swapXY"].some(Oe=>null==H.layer[Oe])?yield(0,B.O8)(H.wfsCapabilities,ye,ce,{spatialReference:Se,customParameters:ae,signal:null==W?void 0:W.signal}):{...(0,B.YW)(null!=_e?_e:[]),geometryType:Me,name:ye,namespaceUri:ce,spatialReference:Se,swapXY:Ue},Be=(0,B.mG)(H.wfsCapabilities.readFeatureTypes(),pe.name,pe.namespaceUri),We=L.g.toJSON(pe.geometryType),{operations:Re}=H.wfsCapabilities,be=Re.GetFeature.url,Fe=Re.GetFeature.outputFormat;return{customParameters:ae,featureType:Be,fields:null!==(k=null===(le=pe.fields)||void 0===le?void 0:le.map(Oe=>Oe.toJSON()))&&void 0!==k?k:[],geometryField:pe.geometryField,geometryType:We,getFeatureUrl:be,getFeatureOutputFormat:Fe,maxRecordCount:Pe,maxPageCount:je,maxTotalRecordCount:Ce,objectIdField:pe.objectIdField,spatialReference:null===(de=pe.spatialReference)||void 0===de?void 0:de.toJSON(),swapXY:!!pe.swapXY}})()}_startWorker(W){var H=this;return(0,i.A)(function*(){const[k,le]=yield(0,p.Lx)([H._createLoadOptions(W),(0,m.ho)("WFSSourceWorker",{...W,strategy:(0,F.A)("feature-layers-workers")?"dedicated":"local",registryTarget:H})]),de=k.error||le.error||null,fe=le.value||null;if(de)throw fe&&fe.close(),de;const ae=k.value;H._connection=le.value,H._workerHandler=H._connection.createInvokeProxy();const ye=yield H._workerHandler.load(ae,W);for(const _e of ye.warnings){var ce;E.A.getLogger(H.layer).warn("#load()",`${_e.message} (title: '${H.layer.title||"no title"}', id: '${null!==(ce=H.layer.id)&&void 0!==ce?ce:"no id"}')`,{warning:_e})}H.sourceJSON={dateFieldsTimeReference:{timeZoneIANA:V.n$},extent:ye.extent,fields:ae.fields,geometryType:ae.geometryType,objectIdField:ae.objectIdField,geometryField:ae.geometryField,drawingInfo:(0,x.F0)(ae.geometryType),name:ae.featureType.title,wfsInfo:{name:ae.featureType.name,featureUrl:ae.getFeatureUrl,maxFeatures:ae.maxRecordCount,swapXY:ae.swapXY,supportedSpatialReferences:ae.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:ae.featureType.namespaceUri}}})()}};(0,v._)([(0,f.MZ)()],te.prototype,"capabilities",void 0),(0,v._)([(0,f.MZ)({constructOnly:!0})],te.prototype,"layer",void 0),(0,v._)([(0,f.MZ)()],te.prototype,"sourceJSON",void 0),(0,v._)([(0,f.MZ)()],te.prototype,"type",void 0),(0,v._)([(0,f.MZ)()],te.prototype,"wfsCapabilities",void 0),te=(0,v._)([(0,K.$)("esri.layers.graphics.sources.WFSSource")],te);var ge,ne=o(93410),he=o(23e3),I=o(31446),M=o(61495),w=o(17049),Y=o(43124),Q=o(85551),ee=o(1151),se=o(33036),oe=o(84311),ie=o(81687),ue=o(29141),ve=o(3404),me=o(86300),Ae=o(20329),Le=o(73975),Ee=o(87086),xe=o(41843),De=o(32034);const Ie=(0,ve.p)();let X=ge=class extends((0,Y.f)((0,he.d)((0,M.J)((0,I.F)((0,ne.d)((0,oe.e)((0,ee.J)((0,se.j)((0,w.q)((0,Q.A)((0,c.P)(Z.A)))))))))))){static fromWFSLayerInfo(W){const{customParameters:H,fields:k,geometryField:le,geometryType:de,name:fe,namespaceUri:ae,objectIdField:ye,spatialReference:ce,swapXY:_e,url:Me,wfsCapabilities:Pe}=W;return new ge({customParameters:H,fields:k,geometryField:le,geometryType:de,name:fe,namespaceUri:ae,objectIdField:ye,spatialReference:ce,swapXY:_e,url:Me,wfsCapabilities:Pe})}constructor(W){super(W),this.copyright=null,this.customParameters=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="WFS",this.maxRecordCount=3e3,this.maxPageCount=10,this.maxTotalRecordCount=2e5,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new te({layer:this}),this.spatialReference=De.A.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title="WFS",this.type="wfs",this.url=null,this.version=void 0}destroy(){var W;null===(W=this.source)||void 0===W||W.destroy()}load(W){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},W).then(()=>this.source.load(W)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),(0,me.yp)(this.renderer,this.fieldsIndex),(0,me.sv)(this.timeInfo,this.fieldsIndex)})),Promise.resolve(this)}get capabilities(){var W;return null===(W=this.source)||void 0===W?void 0:W.capabilities}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(W,H,k){const le=W.filter(de=>de.name!==B.i5);this.geometryField&&le.unshift(new ue.A({name:this.geometryField,alias:this.geometryField,type:"geometry"})),(0,P.sM)(k,le.map(de=>de.toJSON()),H)}get parsedUrl(){return(0,U.An)(this.url)}set renderer(W){(0,me.yp)(W,this.fieldsIndex),this._set("renderer",W)}get wfsCapabilities(){var W;return null===(W=this.source)||void 0===W?void 0:W.wfsCapabilities}set wfsCapabilities(W){this.source&&(this.source.wfsCapabilities=W)}createPopupTemplate(W){return(0,xe.tn)(this,W)}createQuery(){const W=new Ee.A;W.returnGeometry=!0,W.outFields=["*"],W.where=this.definitionExpression||"1=1";const{timeOffset:H,timeExtent:k}=this;return W.timeExtent=null!=H&&null!=k?k.offset(-H.value,H.unit):k||null,W}getFieldDomain(W,H){var k;return null===(k=this.getField(W))||void 0===k?void 0:k.domain}getField(W){var H;return null===(H=this.fieldsIndex)||void 0===H?void 0:H.get(W)}queryFeatures(W,H){return this.load().then(()=>this.source.queryFeatures(Ee.A.from(W)||this.createQuery(),H)).then(k=>{if(null!=k&&k.features)for(const le of k.features)le.layer=le.sourceLayer=this;return k})}queryObjectIds(W,H){return this.load().then(()=>this.source.queryObjectIds(Ee.A.from(W)||this.createQuery(),H))}queryFeatureCount(W,H){return this.load().then(()=>this.source.queryFeatureCount(Ee.A.from(W)||this.createQuery(),H))}queryExtent(W,H){return this.load().then(()=>this.source.queryExtent(Ee.A.from(W)||this.createQuery(),H))}hasDataChanged(){var W=this;return(0,i.A)(function*(){try{const{dataChanged:H,updates:k}=yield W.source.refresh();return null!=k&&W.read(k,{origin:"service",url:W.parsedUrl,ignoreDefaults:!0}),H}catch{}return!1})()}};(0,v._)([(0,f.MZ)({readOnly:!0})],X.prototype,"capabilities",null),(0,v._)([(0,f.MZ)({type:String})],X.prototype,"copyright",void 0),(0,v._)([(0,f.MZ)({readOnly:!0})],X.prototype,"createQueryVersion",null),(0,v._)([(0,f.MZ)({json:{name:"wfsInfo.customParameters",write:{overridePolicy:W=>({enabled:!!(W&&Object.keys(W).length>0),ignoreOrigin:!0})}}})],X.prototype,"customParameters",void 0),(0,v._)([(0,f.MZ)((0,V.P6)("dateFieldsTimeReference"))],X.prototype,"dateFieldsTimeZone",void 0),(0,v._)([(0,f.MZ)({readOnly:!0})],X.prototype,"defaultPopupTemplate",null),(0,v._)([(0,f.MZ)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],X.prototype,"definitionExpression",void 0),(0,v._)([(0,f.MZ)({type:String})],X.prototype,"displayField",void 0),(0,v._)([(0,f.MZ)(ie.Yj)],X.prototype,"elevationInfo",void 0),(0,v._)([(0,f.MZ)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"featureUrl",void 0),(0,v._)([(0,f.MZ)({type:[ue.A],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],X.prototype,"fields",void 0),(0,v._)([(0,g.K)("fields")],X.prototype,"writeFields",null),(0,v._)([(0,f.MZ)(Ie.fieldsIndex)],X.prototype,"fieldsIndex",void 0),(0,v._)([(0,f.MZ)({type:re.A,json:{name:"extent"}})],X.prototype,"fullExtent",void 0),(0,v._)([(0,f.MZ)()],X.prototype,"geometryField",void 0),(0,v._)([(0,f.MZ)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:L.g.read},write:{target:"layerDefinition.geometryType",writer:L.g.write,ignoreOrigin:!0},origins:{service:{read:L.g.read}}}})],X.prototype,"geometryType",void 0),(0,v._)([(0,f.MZ)({type:String})],X.prototype,"id",void 0),(0,v._)([(0,f.MZ)(ie.kF)],X.prototype,"labelsVisible",void 0),(0,v._)([(0,f.MZ)({type:[Ae.A],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:Le.w},write:!0}})],X.prototype,"labelingInfo",void 0),(0,v._)([(0,f.MZ)(ie.fV)],X.prototype,"legendEnabled",void 0),(0,v._)([(0,f.MZ)({type:["show","hide"]})],X.prototype,"listMode",void 0),(0,v._)([(0,f.MZ)({type:String})],X.prototype,"objectIdField",void 0),(0,v._)([(0,f.MZ)({type:["WFS"]})],X.prototype,"operationalLayerType",void 0),(0,v._)([(0,f.MZ)({type:A.jz,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"maxRecordCount",void 0),(0,v._)([(0,f.MZ)({type:A.jz})],X.prototype,"maxPageCount",void 0),(0,v._)([(0,f.MZ)({type:A.jz})],X.prototype,"maxTotalRecordCount",void 0),(0,v._)([(0,f.MZ)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],X.prototype,"mode",void 0),(0,v._)([(0,f.MZ)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"name",void 0),(0,v._)([(0,f.MZ)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"namespaceUri",void 0),(0,v._)([(0,f.MZ)(ie.Ih)],X.prototype,"opacity",void 0),(0,v._)([(0,f.MZ)(Ie.outFields)],X.prototype,"outFields",void 0),(0,v._)([(0,f.MZ)({readOnly:!0})],X.prototype,"parsedUrl",null),(0,v._)([(0,f.MZ)(ie.M6)],X.prototype,"popupEnabled",void 0),(0,v._)([(0,f.MZ)({type:D.A,json:{name:"popupInfo",write:!0}})],X.prototype,"popupTemplate",void 0),(0,v._)([(0,f.MZ)({types:R.H,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:R.X,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],X.prototype,"renderer",null),(0,v._)([(0,f.MZ)(ie.PY)],X.prototype,"screenSizePerspectiveEnabled",void 0),(0,v._)([(0,f.MZ)({readOnly:!0})],X.prototype,"source",void 0),(0,v._)([(0,f.MZ)({type:De.A,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],X.prototype,"spatialReference",void 0),(0,v._)([(0,f.MZ)({readOnly:!0,type:[A.jz],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"spatialReferences",void 0),(0,v._)([(0,f.MZ)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"swapXY",void 0),(0,v._)([(0,f.MZ)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],X.prototype,"title",void 0),(0,v._)([(0,f.MZ)({json:{read:!1},readOnly:!0})],X.prototype,"type",void 0),(0,v._)([(0,f.MZ)(ie.OZ)],X.prototype,"url",void 0),(0,v._)([(0,f.MZ)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],X.prototype,"version",void 0),(0,v._)([(0,f.MZ)()],X.prototype,"wfsCapabilities",null),X=ge=(0,v._)([(0,K.$)("esri.layers.WFSLayer")],X);const Te=X},72211:(q,N,o)=>{o.d(N,{LF:()=>C,M9:()=>S,zu:()=>_});var i=o(5922),v=o(89221),z=o(79845),D=o(26073);function C(y,R,c){try{return function b(y){if(!y||0===y.length)return null;if(function T(y){const R=y[0];return!!R&&"scale"in R}(y)){const R=[];for(const c of y)R.push({scale:c.scale,value:_(c.value)});return R}return _(y)}(y)}catch(U){var P;null==c||null===(P=c.messages)||void 0===P||P.push(U)}return null}function S(y,R,c,P){try{const U=function j(y){const R=(0,z.q)(y);return R?(0,D.dw)(R)?R.map(c=>c.toJSON()):R.map(({scale:c,effects:P})=>({scale:c,value:P.map(U=>U.toJSON())})):null}(y);(0,v.sM)(c,U,R)}catch(U){P.messages&&P.messages.push(U)}}function _(y){if(null==y||!y.length)return"";const R=[];for(const c of y){let P=[];switch(c.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":P=[d(c,"amount")];break;case"blur":P=[d(c,"radius","pt")];break;case"hue-rotate":P=[d(c,"angle","deg")];break;case"drop-shadow":P=[d(c,"xoffset","pt"),d(c,"yoffset","pt"),d(c,"blurRadius","pt"),h(c,"color")];break;case"bloom":P=[d(c,"strength"),d(c,"radius","pt"),d(c,"threshold")]}const U=`${c.type}(${P.filter(Boolean).join(" ")})`;(0,z.q)(U),R.push(U)}return R.join(" ")}function d(y,R,c){if(null==y[R])throw new i.A("effect:missing-parameter",`Missing parameter '${R}' in ${y.type} effect`,{effect:y});return c?y[R]+c:""+y[R]}function h(y,R){if(null==y[R])throw new i.A("effect:missing-parameter",`Missing parameter '${R}' in ${y.type} effect`,{effect:y});const c=y[R];return`rgba(${c[0]||0}, ${c[1]||0}, ${c[2]||0}, ${c[3]/255||0})`}},42086:(q,N,o)=>{o.d(N,{N3:()=>v,Om:()=>i});class i{constructor(C=null,S={},j,b){this.geometry=C,this.attributes=S,this.centroid=j,this.objectId=b,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const C=new i(this.geometry,this.attributes,this.centroid,this.objectId);return C.displayId=this.displayId,C.geohashX=this.geohashX,C.geohashY=this.geohashY,C}clone(){var C,S;const j=null===(C=this.geometry)||void 0===C?void 0:C.clone(),b=new i(j,{...this.attributes},null===(S=this.centroid)||void 0===S?void 0:S.clone(),this.objectId);return b.displayId=this.displayId,b.geohashX=this.geohashX,b.geohashY=this.geohashY,b}}function v(D){var C;return!(null===(C=D.geometry)||void 0===C||null===(C=C.coords)||void 0===C||!C.length)}},13682:(q,N,o)=>{o.d(N,{A:()=>v});class v{constructor(D=[],C=[],S=!1){this.lengths=null!=D?D:[],this.coords=null!=C?C:[],this.hasIndeterminateRingOrder=S}static fromRect(D){const[C,S,j,b]=D,T=j-C,_=b-S;return new v([5],[C,S,T,0,0,_,-T,0,0,-_])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((D,C)=>D+C)}forEachVertex(D){let C=0;this.lengths.length||D(this.coords[0],this.coords[1]);for(let S=0;S<this.lengths.length;S++){const j=this.lengths[S];for(let b=0;b<j;b++)D(this.coords[2*(b+C)],this.coords[2*(b+C)+1]);C+=j}}deltaDecode(){const D=this.clone(),{coords:C,lengths:S}=D;let j=0;for(const b of S){for(let T=1;T<b;T++)C[2*(j+T)]+=C[2*(j+T)-2],C[2*(j+T)+1]+=C[2*(j+T)-1];j+=b}return D}clone(D){if(0===this.lengths.length)return new v([],[this.coords[0],this.coords[1]]);const C=2*(0===this.lengths.length?1:this.lengths.reduce((j,b)=>j+b)),S=this.coords.slice(0,C);return D?(D.set(S),new v(this.lengths,D,this.hasIndeterminateRingOrder)):new v(Array.from(this.lengths),Array.from(S),this.hasIndeterminateRingOrder)}}},78200:(q,N,o)=>{o.d(N,{F:()=>i});const i={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},89962:(q,N,o)=>{o.d(N,{F0:()=>C,Vx:()=>b,e2:()=>T,f:()=>_});var i=o(3248),v=o(77806),z=o(78200),D=o(48254);function C(d){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===d||"esriGeometryMultipoint"===d?D.Cb:"esriGeometryPolyline"===d?D.yM:D.WR}}}const S=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let j=1;function b(d,h){if((0,i.A)("esri-csp-restrictions"))return()=>({[h]:null,...d});try{let y=`this.${h} = null;`;for(const c in d)y+=`this${S.test(c)?`.${c}`:`["${c}"]`} = ${JSON.stringify(d[c])};`;const R=new Function(`\n      return class AttributesClass$${j++} {\n        constructor() {\n          ${y};\n        }\n      }\n    `)();return()=>new R}catch{return()=>({[h]:null,...d})}}function T(d={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,v.o8)(d)}}]}function _(d,h){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:d},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:h,supportsDelete:h,supportsEditing:h,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:h,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:z.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:h,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},93410:(q,N,o)=>{o.d(N,{d:()=>T});var i=o(8189),v=o(85211),S=(o(3248),o(35150),o(40707),o(76576)),j=o(72211);const b={read:{reader:j.LF},write:{allowNull:!0,writer:j.M9}},T=_=>{let d=class extends _{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,i._)([(0,v.MZ)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],d.prototype,"blendMode",void 0),(0,i._)([(0,v.MZ)({json:{read:!1,write:!1,origins:{"web-map":b,"portal-item":b}}})],d.prototype,"effect",void 0),d=(0,i._)([(0,S.$)("esri.layers.mixins.BlendLayer")],d),d}},23e3:(q,N,o)=>{o.d(N,{d:()=>j});var i=o(8189),v=o(85211),S=(o(3248),o(35150),o(40707),o(76576));const j=b=>{let T=class extends b{constructor(){super(...arguments),this.customParameters=null}};return(0,i._)([(0,v.MZ)({type:Object,json:{write:{overridePolicy:_=>({enabled:!!(_&&Object.keys(_).length>0)})}}})],T.prototype,"customParameters",void 0),T=(0,i._)([(0,S.$)("esri.layers.mixins.CustomParametersMixin")],T),T}},31446:(q,N,o)=>{o.d(N,{F:()=>T});var i=o(8189),v=o(85211),S=(o(3248),o(35150),o(40707),o(76576)),j=o(66722);const b={write:{allowNull:!0}},T=_=>{let d=class extends _{constructor(){super(...arguments),this.featureEffect=null}};return(0,i._)([(0,v.MZ)({type:j.A,json:{origins:{"web-map":b,"portal-item":b}}})],d.prototype,"featureEffect",void 0),d=(0,i._)([(0,S.$)("esri.layers.mixins.FeatureEffectLayer")],d),d}},43124:(q,N,o)=>{o.d(N,{f:()=>d});var i=o(8189),v=o(89221),z=o(85211),j=(o(3248),o(35150),o(40707),o(76576)),b=o(15848);function T(h,y,R){if(!h)return null;const c=h.find(U=>!!U.field);if(!c)return null;const P=new b.A;return P.read(c,R),[P]}function _(h,y,R,c){const P=h.find(U=>!!U.field);P&&(0,v.sM)(R,[P.toJSON()],y)}const d=h=>{let y=class extends h{constructor(){super(...arguments),this.orderBy=null}};return(0,i._)([(0,z.MZ)({type:[b.A],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:T},write:{target:"layerDefinition.orderBy",writer:_}}})],y.prototype,"orderBy",void 0),y=(0,i._)([(0,j.$)("esri.layers.mixins.OrderedLayer")],y),y}},85551:(q,N,o)=>{o.d(N,{A:()=>g});var i=o(10467),v=o(8189),z=o(23098),D=o(77469),C=o(89563),S=o(89447),j=o(5922),b=o(35150),T=o(11432),_=o(56492),d=o(45272),h=o(85211),c=(o(3248),o(40707),o(17221)),P=o(76576),U=o(50305),f=o(58443),A=o(73874),O=o(46577),F=o(52606),K=o(69927);const g=Z=>{let G=class extends Z{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,T.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(J){J!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",J))}readPortalItem(J,E,p){if(E.itemId)return new O.default({id:E.itemId,portal:null==p?void 0:p.portal})}writePortalItem(J,E){null!=J&&J.id&&(E.itemId=J.id)}loadFromPortal(J,E){var p=this;return(0,i.A)(function*(){var m;if(null!==(m=p.portalItem)&&void 0!==m&&m.id)try{const{load:x}=yield Promise.all([o.e(5565),o.e(2076),o.e(6180)]).then(o.bind(o,56180));return(0,_.Te)(E),yield x({instance:p,supportedTypes:J.supportedTypes,validateItem:J.validateItem,supportsData:J.supportsData,layerModuleTypeMap:J.layerModuleTypeMap},E)}catch(x){throw(0,_.zf)(x)||b.A.getLogger(p).warn(`Failed to load layer (${p.title}, ${p.id}) portal item (${p.portalItem.id})\n  ${x}`),x}})()}finishLoadEditablePortalLayer(J){var E=this;return(0,i.A)(function*(){E._set("userHasEditingPrivileges",yield E._fetchUserHasEditingPrivileges(J).catch(p=>((0,_.QP)(p),!0)))})()}setUserPrivileges(J,E){var p=this;return(0,i.A)(function*(){if(!z.A.userPrivilegesApplied)return p.finishLoadEditablePortalLayer(E);if(p.url)try{const{features:{edit:m,fullEdit:x},content:{updateItem:B}}=yield p._fetchUserPrivileges(J,E);p._set("userHasEditingPrivileges",m),p._set("userHasFullEditingPrivileges",x),p._set("userHasUpdateItemPrivileges",B)}catch(m){(0,_.QP)(m)}})()}_fetchUserPrivileges(J,E){var p=this;return(0,i.A)(function*(){let m=p.portalItem;if(!J||!m||!m.loaded||m.sourceUrl)return p._fetchFallbackUserPrivileges(E);const x=J===m.id;if(x&&m.portal.user)return(0,K.It)(m);let B,$;if(x)B=m.portal.url;else try{B=yield(0,f.wI)(p.url,E)}catch(ne){(0,_.QP)(ne)}if(!B||!(0,d.b8)(B,m.portal.url))return p._fetchFallbackUserPrivileges(E);try{const ne=null!=E?E.signal:null;$=yield null==D.id?void 0:D.id.getCredential(`${B}/sharing`,{prompt:!1,signal:ne})}catch(ne){(0,_.QP)(ne)}if(!$)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(x?yield m.reload():(m=new O.default({id:J,portal:{url:B}}),yield m.load(E)),m.portal.user)return(0,K.It)(m)}catch(ne){(0,_.QP)(ne)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(J){var E=this;return(0,i.A)(function*(){let p=!0;try{p=yield E._fetchUserHasEditingPrivileges(J)}catch(m){(0,_.QP)(m)}return{features:{edit:p,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(J){var E=this;return(0,i.A)(function*(){const p=E.url?null==D.id?void 0:D.id.findCredential(E.url):null;if(!p)return!0;const m=L.credential===p?L.user:yield E._fetchEditingUser(J);return L.credential=p,L.user=m,null==(null==m?void 0:m.privileges)||m.privileges.includes("features:user:edit")})()}_fetchEditingUser(J){var E=this;return(0,i.A)(function*(){var p,m;const x=null===(p=E.portalItem)||void 0===p||null===(p=p.portal)||void 0===p?void 0:p.user;if(x)return x;const B=D.id.findServerInfo(null!==(m=E.url)&&void 0!==m?m:"");if(null==B||!B.owningSystemUrl)return null;const $=`${B.owningSystemUrl}/sharing/rest`,V=A.A.getDefault();if(V&&V.loaded&&(0,d.S8)(V.restUrl)===(0,d.S8)($))return V.user;const re=`${$}/community/self`,te=null!=J?J.signal:null,ne=yield(0,S.Ke)((0,C.A)(re,{authMode:"no-prompt",query:{f:"json"},signal:te}));return ne.ok?F.A.fromJSON(ne.value.data):null})()}read(J,E){E&&(E.layer=this),super.read(J,E)}write(J,E){var p;const m=null==E?void 0:E.portal,x=(null===(p=this.portalItem)||void 0===p?void 0:p.id)&&(this.portalItem.portal||A.A.getDefault());return m&&x&&!(0,d.ut)(x.restUrl,m.restUrl)?(E.messages&&E.messages.push(new j.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(J,{...E,layer:this})}};return(0,v._)([(0,h.MZ)({type:O.default})],G.prototype,"portalItem",null),(0,v._)([(0,c.w)("web-document","portalItem",["itemId"])],G.prototype,"readPortalItem",null),(0,v._)([(0,U.K)("web-document","portalItem",{itemId:{type:String}})],G.prototype,"writePortalItem",null),(0,v._)([(0,h.MZ)({clonable:!1})],G.prototype,"resourceReferences",void 0),(0,v._)([(0,h.MZ)({type:Boolean,readOnly:!0})],G.prototype,"userHasEditingPrivileges",void 0),(0,v._)([(0,h.MZ)({type:Boolean,readOnly:!0})],G.prototype,"userHasFullEditingPrivileges",void 0),(0,v._)([(0,h.MZ)({type:Boolean,readOnly:!0})],G.prototype,"userHasUpdateItemPrivileges",void 0),G=(0,v._)([(0,P.$)("esri.layers.mixins.PortalLayer")],G),G},L={credential:null,user:null}},1151:(q,N,o)=>{o.d(N,{J:()=>E});var i=o(10467),v=o(8189),z=o(35150),D=o(56492),C=o(85211),S=o(48669),T=(o(40707),o(3248),o(76576)),_=o(50501),d=o(31178),c=(o(89447),o(5922),o(76410),o(34703));const P=new d.A,U=new WeakMap;function F(p,m){return Number.isFinite(p)&&Number.isFinite(m)?m<=0?p:F(m,p%m):0}let K=0,g=0;function L(){const p=Date.now();let m=!1;for(const B of P){const $=B.deref();var x;$?$.refreshInterval&&p-(null!==(x=U.get($))&&void 0!==x?x:0)+5>=6e4*$.refreshInterval&&(U.set($,p),$.refresh(p)):m=!0}if(m)for(let B=P.length-1;B>=0;B--)P.at(B).deref()||P.removeAt(B)}(0,c.fm)(()=>{const p=Date.now();let m=0;for(const x of P){const B=x.deref();B&&(m=F(Math.round(6e4*B.refreshInterval),m),B.refreshInterval?U.get(B)||U.set(B,p):U.delete(B))}if(m!==g){if(g=m,clearInterval(K),0===g)return void(K=0);K=setInterval(L,g)}});const E=p=>{let m=class extends p{constructor(...x){super(...x),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,D.sg)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function f(p){(function O(p){return null!=p&&"object"==typeof p&&"refreshInterval"in p&&"refresh"in p})(p)&&P.push(new WeakRef(p))}(this)},()=>{})}destroy(){!function A(p){const m=P.find(x=>x.deref()===p);m&&P.remove(m)}(this)}castRefreshInterval(x){return x>=.1?x:x<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(x=Date.now()){(0,D.QZ)(this._debounceHasDataChanged()).then(B=>{B&&this._set("refreshTimestamp",x),this.emit("refresh",{dataChanged:B})},B=>{z.A.getLogger(this).error(B),this.emit("refresh",{dataChanged:!1,error:B})})}hasDataChanged(){return(0,i.A)(function*(){return!0})()}get test(){const x=this;return{set refreshInterval(B){x._set("refreshInterval",B)}}}};return(0,v._)([(0,C.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:_.K}}}}})],m.prototype,"refreshInterval",void 0),(0,v._)([(0,S.w)("refreshInterval")],m.prototype,"castRefreshInterval",null),(0,v._)([(0,C.MZ)({readOnly:!0})],m.prototype,"refreshTimestamp",void 0),(0,v._)([(0,C.MZ)({readOnly:!0})],m.prototype,"refreshParameters",null),m=(0,v._)([(0,T.$)("esri.layers.mixins.RefreshableLayer")],m),m}},33036:(q,N,o)=>{o.d(N,{j:()=>j});var i=o(8189),v=o(85211),S=(o(3248),o(35150),o(40707),o(76576));const j=T=>{let _=class extends T{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const d={minScale:this.minScale,maxScale:this.maxScale},h=this.parent;h&&"effectiveScaleRange"in h&&function b(T,_){T.minScale=T.minScale>0?_.minScale>0?Math.min(T.minScale,_.minScale):T.minScale:_.minScale,T.maxScale=T.maxScale>0?_.maxScale>0?Math.max(T.maxScale,_.maxScale):T.maxScale:_.maxScale}(d,h.effectiveScaleRange);const y=this._get("effectiveScaleRange");return y&&y.minScale===d.minScale&&y.maxScale===d.maxScale?y:d}};return(0,i._)([(0,v.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],_.prototype,"minScale",void 0),(0,i._)([(0,v.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],_.prototype,"maxScale",void 0),(0,i._)([(0,v.MZ)({readOnly:!0})],_.prototype,"effectiveScaleRange",null),_=(0,i._)([(0,S.$)("esri.layers.mixins.ScaleRangeLayer")],_),_}},84311:(q,N,o)=>{o.d(N,{e:()=>y});var i=o(8189),v=o(12849),z=o(99980),D=o(85211),b=(o(3248),o(35150),o(40707),o(17221)),T=o(76576),_=o(86300),d=o(38488),h=o(26957);const y=R=>{let c=class extends R{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(P,U){const f=U.timeInfo.exportOptions;if(!f)return null;const A=f.timeOffset,O=h.j.fromJSON(f.timeOffsetUnits);return A&&O?new z.A({value:A,unit:O}):null}set timeInfo(P){(0,_.sv)(P,this.fieldsIndex),this._set("timeInfo",P)}};return(0,i._)([(0,D.MZ)({type:v.A,json:{write:!1}})],c.prototype,"timeExtent",void 0),(0,i._)([(0,D.MZ)({type:z.A})],c.prototype,"timeOffset",void 0),(0,i._)([(0,b.w)("service","timeOffset",["timeInfo.exportOptions"])],c.prototype,"readOffset",null),(0,i._)([(0,D.MZ)({value:null,type:d.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"timeInfo",null),(0,i._)([(0,D.MZ)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"useViewTime",void 0),c=(0,i._)([(0,T.$)("esri.layers.mixins.TemporalLayer")],c),c}},66722:(q,N,o)=>{o.d(N,{A:()=>U});var h,i=o(8189),v=o(5922),z=o(71065),D=o(89221),C=o(85211),T=(o(3248),o(35150),o(40707),o(76576)),_=o(72211),d=o(95877);const y={read:{reader:_.LF},write:{writer:_.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},R={read:{reader:_.LF},write:{writer:_.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},c={name:"showExcludedLabels",default:!0};let P=h=class extends z.oY{constructor(f){super(f),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(f,A){const O=super.write(f,A);if(null!=A&&A.origin){var F;if(O.filter){var K;const g=Object.keys(O.filter);if(g.length>1||"where"!==g[0])return null!==(K=A.messages)&&void 0!==K&&K.push(new v.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:A.layer,effect:this})),null}if("showExcludedLabels"in O)return null!==(F=A.messages)&&void 0!==F&&F.push(new v.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:A.layer,effect:this})),null}return O}clone(){return new h({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,i._)([(0,C.MZ)({type:d.A,json:{write:{allowNull:!0,writer(f,A,O,F){const K=null==f?void 0:f.write({},F);K&&0!==Object.keys(K).length?(0,D.sM)(O,K,A):(0,D.sM)(O,null,A)}}}})],P.prototype,"filter",void 0),(0,i._)([(0,C.MZ)({json:{write:!0,origins:{"web-map":y,"portal-item":y}}})],P.prototype,"includedEffect",void 0),(0,i._)([(0,C.MZ)({json:{write:!0,origins:{"web-map":R,"portal-item":R}}})],P.prototype,"excludedEffect",void 0),(0,i._)([(0,C.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":c,"portal-item":c}}})],P.prototype,"excludedLabelsVisible",void 0),P=h=(0,i._)([(0,T.$)("esri.layers.support.FeatureEffect")],P);const U=P},95877:(q,N,o)=>{o.d(N,{A:()=>P});var h,i=o(8189),v=o(21152),z=o(12849),D=o(49976),C=o(71065),S=o(77806),j=o(85211),_=(o(3248),o(35150),o(76576)),d=o(87086);const y=new D.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),R=new D.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let c=h=class extends C.oY{constructor(U){super(U),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(U={}){const{where:f,geometry:A,spatialRelationship:O,timeExtent:F,objectIds:K,units:g,distance:L}=this;return new d.A({geometry:(0,S.o8)(A),objectIds:(0,S.o8)(K),spatialRelationship:O,timeExtent:(0,S.o8)(F),where:f,units:g,distance:L,...U})}clone(){const{where:U,geometry:f,spatialRelationship:A,timeExtent:O,objectIds:F,units:K,distance:g}=this;return new h({geometry:(0,S.o8)(f),objectIds:(0,S.o8)(F),spatialRelationship:A,timeExtent:(0,S.o8)(O),where:U,units:K,distance:g})}};(0,i._)([(0,j.MZ)({type:String,json:{write:!0}})],c.prototype,"where",void 0),(0,i._)([(0,j.MZ)({types:v.yR,json:{write:!0}})],c.prototype,"geometry",void 0),(0,i._)([(0,j.MZ)({type:y.apiValues,json:{name:"spatialRel",read:{reader:y.read},write:{allowNull:!1,writer:y.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],c.prototype,"spatialRelationship",void 0),(0,i._)([(0,j.MZ)({type:Number,json:{write:{overridePolicy(U){return{enabled:null!=U&&null!=this.geometry}}}}})],c.prototype,"distance",void 0),(0,i._)([(0,j.MZ)({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0),(0,i._)([(0,j.MZ)({type:R.apiValues,json:{read:R.read,write:{writer:R.write,overridePolicy(U){return{enabled:null!=U&&null!=this.geometry}}}}})],c.prototype,"units",void 0),(0,i._)([(0,j.MZ)({type:z.A,json:{write:!0}})],c.prototype,"timeExtent",void 0),c=h=(0,i._)([(0,_.$)("esri.layers.support.FeatureFilter")],c);const P=c},73258:(q,N,o)=>{o.d(N,{A:()=>y});var i=o(5922),v=o(71065),z=o(35150),D=o(60797),C=o(24098),S=o(86300),j=o(22639),b=o(44549);const h=new Map;class y{static fromJSON(A){return new y(A.fields,A.timeZoneByFieldName)}static fromLayer(A){var O;return new y(null!==(O=A.fields)&&void 0!==O?O:[],U(A))}static fromLayerJSON(A){var O;return new y(null!==(O=A.fields)&&void 0!==O?O:[],U(A))}constructor(A=[],O){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=A||[],this._timeZoneByFieldName=O?new Map(O):null;const F=[];for(const g of this.fields){const L=null==g?void 0:g.name,Z=c(L);if(L&&Z){var K;const G=R(L);this._fieldsMap.set(L,g),this._fieldsMap.set(G,g),this._normalizedFieldsMap.set(Z,g),F.push(`${G}:${g.type}:${null===(K=this._timeZoneByFieldName)||void 0===K?void 0:K.get(L)}`),(0,S.vE)(g)?(this.dateFields.push(g),this._dateFieldsSet.add(g)):(0,S.WA)(g)&&(this._numericFieldsSet.add(g),this.numericFields.push(g)),(0,S.te)(g)||(0,S.Xz)(g)||(g.editable=null==g.editable||!!g.editable,g.nullable=null==g.nullable||!!g.nullable)}}F.sort(),this.uid=F.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const A of this.fields)(0,S.te)(A)||(0,S.Xz)(A)||A.nullable||void 0!==(0,S.lD)(A)||this._requiredFields.push(A)}return this._requiredFields}equals(A){return this.uid===(null==A?void 0:A.uid)}has(A){return null!=this.get(A)}get(A){var O;if(!A)return;let F=this._fieldsMap.get(A);return F||(F=null!==(O=this._fieldsMap.get(R(A)))&&void 0!==O?O:this._normalizedFieldsMap.get(c(A)),F&&this._fieldsMap.set(A,F),F)}getTimeZone(A){const O=this.get(A&&"string"!=typeof A?A.name:A);return O?this._timeZoneByFieldName?this._timeZoneByFieldName.get(O.name):"date"===O.type||"esriFieldTypeDate"===O.type?(z.A.getLogger("esri.layers.support.FieldsIndex").error(new i.A("getTimeZone:no-timezone-information",`no time zone information for field '${O.name}'`)),j.n$):P.has(O.type)?j.L5:null:null}getLuxonTimeZone(A){const O=this.getTimeZone(A);return O?O===j.L5?C.GB.instance:O===j.n$?b.mQ.utcInstance:(0,D.tE)(h,O,()=>b.oh.create(O)):null}isDateField(A){return this._dateFieldsSet.has(this.get(A))}isTimeOnlyField(A){return(0,S.OH)(this.get(A))}isNumericField(A){return this._numericFieldsSet.has(this.get(A))}normalizeFieldName(A){var O,F;return null!==(O=null===(F=this.get(A))||void 0===F?void 0:F.name)&&void 0!==O?O:void 0}toJSON(){return{fields:this.fields.map(A=>(0,v.Wj)(A)?A.toJSON():A),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function R(f){return f.trim().toLowerCase()}function c(f){var A,O;return null!==(A=null===(O=(0,S.rS)(f))||void 0===O?void 0:O.toLowerCase())&&void 0!==A?A:""}const P=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function U(f){var A,O,F,K,g,L,Z;const G=new Map;if(!f.fields)return G;const J=!0===f.datesInUnknownTimezone,{timeInfo:E,editFieldsInfo:p}=f,m=null!==(A=E?"startField"in E?E.startField:E.startTimeField:"")&&void 0!==A?A:"",x=null!==(O=E?"endField"in E?E.endField:E.endTimeField:"")&&void 0!==O?O:"",B=function d(f){return"dateFieldsTimeZone"in f}(f)?null!==(F=f.dateFieldsTimeZone)&&void 0!==F?F:null:f.dateFieldsTimeReference?(0,j.ZS)(f.dateFieldsTimeReference):null,$=p?function T(f){return"timeZone"in f}(p)?null!==(K=p.timeZone)&&void 0!==K?K:B:p.dateFieldsTimeReference?(0,j.ZS)(p.dateFieldsTimeReference):null!=B?B:j.n$:null,V=E?function _(f){return"timeZone"in f}(E)?null!==(g=E.timeZone)&&void 0!==g?g:B:E.timeReference?(0,j.ZS)(E.timeReference):B:null,re=new Map([[R(null!==(L=null==p?void 0:p.creationDateField)&&void 0!==L?L:""),$],[R(null!==(Z=null==p?void 0:p.editDateField)&&void 0!==Z?Z:""),$],[R(m),V],[R(x),V]]);for(const{name:ne,type:he}of f.fields)if(P.has(he))G.set(ne,j.L5);else if("date"!==he&&"esriFieldTypeDate"!==he)G.set(ne,null);else if(J)G.set(ne,j.L5);else{var te;const I=null!==(te=re.get(R(null!=ne?ne:"")))&&void 0!==te?te:B;G.set(ne,I)}return G}},20329:(q,N,o)=>{o.d(N,{A:()=>p});var c,i=o(8189),v=o(47280),z=o(49976),D=o(71065),C=o(77806),S=o(67685),j=o(85211),_=(o(3248),o(35150),o(17221)),d=o(76576),h=o(50305),R=(o(40707),o(4858));let P=c=class extends D.oY{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(m,x){return x.value?(0,R.mX)(x.value):m}writeExpression(m,x,B){null!=this.value&&(m=(0,R.mX)(this.value)),null!=m&&(x[B]=m)}clone(){return new c({expression:this.expression,title:this.title,value:this.value})}};(0,i._)([(0,j.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],P.prototype,"expression",void 0),(0,i._)([(0,_.w)("expression",["expression","value"])],P.prototype,"readExpression",null),(0,i._)([(0,h.K)("expression")],P.prototype,"writeExpression",null),(0,i._)([(0,j.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],P.prototype,"title",void 0),(0,i._)([(0,j.MZ)({json:{read:!1,write:!1}})],P.prototype,"value",void 0),P=c=(0,i._)([(0,d.$)("esri.layers.support.LabelExpressionInfo")],P);const U=P;var F,f=o(58443),A=o(91644),O=o(35564);const K=new z.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function g(m,x,B){return{enabled:!(0,f.TU)(null==B?void 0:B.layer)}}function L(m){var x;return!m||"service"!==m.origin&&"map-image"!==(null===(x=m.layer)||void 0===x?void 0:x.type)}function G(m){var x;return!!function Z(m){return"map-image"===(null==m?void 0:m.type)}(m)&&!(null===(x=m.capabilities)||void 0===x||null===(x=x.exportMap)||void 0===x||!x.supportsArcadeExpressionForLabeling)}let E=F=class extends D.oY{static evaluateWhere(m,x){const B=($,V,re)=>{switch(V){case"=":return $==re;case"<>":return $!=re;case">":return $>re;case">=":return $>=re;case"<":return $<re;case"<=":return $<=re}return!1};try{if(null==m)return!0;const $=m.split(" ");if(3===$.length)return B(x[$[0]],$[1],$[2]);if(7===$.length){const V=B(x[$[0]],$[1],$[2]),re=$[3],te=B(x[$[4]],$[5],$[6]);switch(re){case"AND":return V&&te;case"OR":return V||te}}return!1}catch{console.log("Error.: can't parse = "+m)}}constructor(m){super(m),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=A.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(m,x){const B=x.labelExpressionInfo;if(!B||!B.value&&!B.expression)return m}writeLabelExpression(m,x,B){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)m=(0,R.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const $=(0,R.tH)(this.labelExpressionInfo.expression);$&&(m="["+$+"]")}null!=m&&(x[B]=m)}writeLabelExpressionInfo(m,x,B,$){if(null==m&&null!=this.labelExpression&&L($))m=new U({expression:this.getLabelExpressionArcade()});else if(!m)return;const V=m.toJSON($);V.expression&&(x[B]=V)}writeMaxScale(m,x){(m||this.minScale)&&(x.maxScale=m)}writeMinScale(m,x){(m||this.maxScale)&&(x.minScale=m)}getLabelExpression(){return(0,R.XJ)(this)}getLabelExpressionArcade(){return(0,R.BI)(this)}getLabelExpressionSingleField(){return(0,R.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new F({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,C.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,C.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,i._)([(0,j.MZ)({type:String,json:{write:!0}})],E.prototype,"name",void 0),(0,i._)([(0,j.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:g}}}}})],E.prototype,"allowOverrun",void 0),(0,i._)([(0,j.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:g}}}}})],E.prototype,"deconflictionStrategy",void 0),(0,i._)([(0,j.MZ)({type:String,json:{write:{overridePolicy(m,x,B){return this.labelExpressionInfo&&"service"===(null==B?void 0:B.origin)&&G(B.layer)?{enabled:!1}:{allowNull:!0}}}}})],E.prototype,"labelExpression",void 0),(0,i._)([(0,_.w)("labelExpression")],E.prototype,"readLabelExpression",null),(0,i._)([(0,h.K)("labelExpression")],E.prototype,"writeLabelExpression",null),(0,i._)([(0,j.MZ)({type:U,json:{write:{overridePolicy:(m,x,B)=>function J(m){return L(m)||G(null==m?void 0:m.layer)}(B)?{allowNull:!0}:{enabled:!1}}}})],E.prototype,"labelExpressionInfo",void 0),(0,i._)([(0,h.K)("labelExpressionInfo")],E.prototype,"writeLabelExpressionInfo",null),(0,i._)([(0,j.MZ)({type:K.apiValues,json:{type:K.jsonValues,read:K.read,write:K.write}})],E.prototype,"labelPlacement",void 0),(0,i._)([(0,j.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],E.prototype,"labelPosition",void 0),(0,i._)([(0,j.MZ)({type:Number})],E.prototype,"maxScale",void 0),(0,i._)([(0,h.K)("maxScale")],E.prototype,"writeMaxScale",null),(0,i._)([(0,j.MZ)({type:Number})],E.prototype,"minScale",void 0),(0,i._)([(0,h.K)("minScale")],E.prototype,"writeMinScale",null),(0,i._)([(0,j.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:g}}}}})],E.prototype,"repeatLabel",void 0),(0,i._)([(0,j.MZ)({type:Number,cast:S.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:g}}}}})],E.prototype,"repeatLabelDistance",void 0),(0,i._)([(0,j.MZ)({types:v.em,json:{origins:{"web-scene":{types:v.Rv,write:O.oO,default:null}},write:O.oO,default:null}})],E.prototype,"symbol",void 0),(0,i._)([(0,j.MZ)({type:Boolean,json:{write:!0}})],E.prototype,"useCodedValues",void 0),(0,i._)([(0,j.MZ)({type:String,json:{write:!0}})],E.prototype,"where",void 0),E=F=(0,i._)([(0,d.$)("esri.layers.support.LabelClass")],E);const p=E},15848:(q,N,o)=>{o.d(N,{A:()=>h});var T,i=o(8189),v=o(49976),z=o(71065),D=o(85211),b=(o(3248),o(35150),o(40707),o(76576));const _=new v.J({asc:"ascending",desc:"descending"});let d=T=class extends z.oY{constructor(y){super(y),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new T({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,i._)([(0,D.MZ)({type:String,json:{write:!0}})],d.prototype,"field",void 0),(0,i._)([(0,D.MZ)({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0),(0,i._)([(0,D.MZ)({type:_.apiValues,json:{read:_.read,write:_.write}})],d.prototype,"order",void 0),d=T=(0,i._)([(0,b.$)("esri.layers.support.OrderByInfo")],d);const h=d},38488:(q,N,o)=>{o.d(N,{A:()=>P});var i=o(8189),v=o(12849),z=o(99980),D=o(90660),C=o(71065),S=o(85211),_=(o(3248),o(35150),o(40707),o(17221)),d=o(76576),h=o(50305),y=o(22639);function R(U,f){return z.A.fromJSON({value:U,unit:f})}let c=class extends((0,D.O)(C.oY)){constructor(U){super(U),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(U,f){if(!f.timeExtent||!Array.isArray(f.timeExtent)||2!==f.timeExtent.length)return null;const A=new Date(f.timeExtent[0]),O=new Date(f.timeExtent[1]);return new v.A({start:A,end:O})}writeFullTimeExtent(U,f){f.timeExtent=null!=(null==U?void 0:U.start)&&null!=U.end?[U.start.getTime(),U.end.getTime()]:null}readInterval(U,f){return f.timeInterval&&f.timeIntervalUnits?R(f.timeInterval,f.timeIntervalUnits):f.defaultTimeInterval&&f.defaultTimeIntervalUnits?R(f.defaultTimeInterval,f.defaultTimeIntervalUnits):null}writeInterval(U,f){var A,O;f.timeInterval=null!==(A=null==U?void 0:U.toJSON().value)&&void 0!==A?A:null,f.timeIntervalUnits=null!==(O=null==U?void 0:U.toJSON().unit)&&void 0!==O?O:null}};(0,i._)([(0,S.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],c.prototype,"cumulative",void 0),(0,i._)([(0,S.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],c.prototype,"endField",void 0),(0,i._)([(0,S.MZ)({type:v.A,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"fullTimeExtent",void 0),(0,i._)([(0,_.w)("fullTimeExtent",["timeExtent"])],c.prototype,"readFullTimeExtent",null),(0,i._)([(0,h.K)("fullTimeExtent")],c.prototype,"writeFullTimeExtent",null),(0,i._)([(0,S.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"hasLiveData",void 0),(0,i._)([(0,S.MZ)({type:z.A,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"interval",void 0),(0,i._)([(0,_.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],c.prototype,"readInterval",null),(0,i._)([(0,h.K)("interval")],c.prototype,"writeInterval",null),(0,i._)([(0,S.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],c.prototype,"startField",void 0),(0,i._)([(0,S.MZ)((0,y.P6)("timeReference",!0))],c.prototype,"timeZone",void 0),(0,i._)([(0,S.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"trackIdField",void 0),(0,i._)([(0,S.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],c.prototype,"useTime",void 0),c=(0,i._)([(0,d.$)("esri.layers.support.TimeInfo")],c);const P=c},4858:(q,N,o)=>{o.d(N,{BI:()=>R,D3:()=>h,XJ:()=>y,lc:()=>d,mX:()=>P,rU:()=>c,tH:()=>K});var i=o(1119);const v="__begin__",z="__end__",D=new RegExp(v,"ig"),C=new RegExp(z,"ig"),S=new RegExp("^"+v,"i"),j=new RegExp(z+"$","i"),b='"',T=b+" + ",_=" + "+b;function d(g){return g.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function h(g){return g.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function y(g){const L={expression:"",type:"none"};return g.labelExpressionInfo?g.labelExpressionInfo.value?(L.expression=g.labelExpressionInfo.value,L.type="conventional"):g.labelExpressionInfo.expression&&(L.expression=g.labelExpressionInfo.expression,L.type="arcade"):null!=g.labelExpression&&(L.expression=d(g.labelExpression),L.type="conventional"),L}function R(g){const L=y(g);if(!L)return null;switch(L.type){case"conventional":return P(L.expression);case"arcade":return L.expression}return null}function c(g){const L=y(g);if(!L)return null;switch(L.type){case"conventional":return function f(g){const L=null==g?void 0:g.match(U);return(null==L?void 0:L[1].trim())||null}(L.expression);case"arcade":return K(L.expression)}return null}function P(g){let L;return g?(L=(0,i.HC)(g,Z=>v+'$feature["'+Z+'"]'+z),L=S.test(L)?L.replace(S,""):b+L,L=j.test(L)?L.replace(j,""):L+b,L=L.replaceAll(D,T).replaceAll(C,_)):L='""',L}const U=/^\s*\{([^}]+)\}\s*$/i,A=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,O=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,F=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function K(g){if(!g)return null;let L=A.exec(g)||O.exec(g);return L?L[1]||L[3]:(L=F.exec(g),L?L[2]:null)}},73975:(q,N,o)=>{o.d(N,{w:()=>j,z:()=>_});var i=o(5922),v=o(77806),z=o(35150),D=o(20329);const C=()=>z.A.getLogger("esri.layers.support.labelingInfo"),S=/\[([^\[\]]+)\]/gi;function j(h,y,R){return h?h.map(c=>{const P=new D.A;if(P.read(c,R),P.labelExpression){var U;const f=y.fields||(null===(U=y.layerDefinition)||void 0===U?void 0:U.fields)||this.fields;P.labelExpression=P.labelExpression.replaceAll(S,(A,O)=>`[${function b(h,y){if(!y)return h;const R=h.toLowerCase();for(let c=0;c<y.length;c++){const P=y[c].name;if(P.toLowerCase()===R)return P}return h}(O,f)}]`)}return P}):null}const T={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function _(h,y){const R=(0,v.o8)(h);return R.some(c=>function d(h,y){const R=h.labelPlacement,c=T[y];if(!h.symbol)return C().warn("No ILabelClass symbol specified."),!0;if(!c)return C().error(new i.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${y}' is not supported`)),!0;if(!c.includes(R)){const P=c[0];R&&C().warn(`Found invalid label placement type ${R} for ${y}. Defaulting to ${P}`),h.labelPlacement=P}return!1}(c,y))?[]:R}},69927:(q,N,o)=>{o.d(N,{It:()=>c,LG:()=>j,OM:()=>_,Sm:()=>d,Y:()=>b,bK:()=>T,mm:()=>R,sQ:()=>h});var i=o(10467),v=o(11817),z=o(32034),D=o(55039);function S(){return(S=(0,i.A)(function*(P){const U=P.spatialReference;if(U.isWGS84)return P.clone();if(U.isWebMercator)return(0,D.ci)(P);const f=z.A.WGS84;return yield(0,v.initializeProjection)(U,f),(0,v.project)(P,f)})).apply(this,arguments)}function j(P,U){if(!b(P,U)){const f=P.typeKeywords;f?f.push(U):P.typeKeywords=[U]}}function b(P,U){var f;return!(null===(f=P.typeKeywords)||void 0===f||!f.includes(U))}function T(P){return b(P,R.HOSTED_SERVICE)}function _(P,U){const f=P.typeKeywords;if(f){const A=f.indexOf(U);A>-1&&f.splice(A,1)}}function d(P,U,f){f?j(P,U):_(P,U)}function h(P){return y.apply(this,arguments)}function y(){return y=(0,i.A)(function*(P){const U=P.clone().normalize();let f;if(U.length>1)for(const A of U)f?A.width>f.width&&(f=A):f=A;else f=U[0];return function C(P){return S.apply(this,arguments)}(f)}),y.apply(this,arguments)}const R={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function c(P){var U;const{portal:f,isOrgItem:A,itemControl:O}=P,F=null===(U=f.user)||void 0===U?void 0:U.privileges;let K=!F||F.includes("features:user:edit"),g=!!A&&!(null==F||!F.includes("features:user:fullEdit"));const L="update"===O||"admin"===O;return L?g=K=!0:g&&(K=!0),{features:{edit:K,fullEdit:g},content:{updateItem:L}}}},26957:(q,N,o)=>{o.d(N,{j:()=>v});const v=(0,o(49976).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},78592:(q,N,o)=>{o.d(N,{O3:()=>T,PU:()=>j,YW:()=>d,ex:()=>C,hv:()=>_,zp:()=>S});var i=o(69287),v=o(67685),z=o(53781),D=o(89141);const C=2.4;function S(h){return(0,v.PN)(h*C)}function j(h){return(0,v.Lz)(h)/C}function b(h,y,R,c){let{color:P,ratio:U}=y,{color:f,ratio:A}=R;A===U&&(1===A?U-=1e-6:A+=1e-6);const O=(0,i.qE)((c-U)/(A-U),0,1);(0,z.l)(h,P.toArray(),f.toArray(),O)}function T(h){const R=new Uint8ClampedArray(2048);if((h=h.filter(({ratio:A})=>A>=0&&A<=1).sort((A,O)=>A.ratio-O.ratio).map(({color:A,ratio:O})=>({color:A,ratio:Math.max(O,.001)}))).length<1)return R;let c=h[0],P=h[0],U=1;const f=(0,D.vt)();for(let A=0;A<512;A++){const O=(A+.5)/512;for(;O>P.ratio&&U<h.length;)c=P,P=h[U++];b(f,c,P,O),R.set(f,4*A)}return R}function _(h,y,R){const c=Math.sqrt(h**2+y**2)/R;return c>1?0:3/(Math.PI*R**2)*(1-c**2)**2}function d(h){return"function"==typeof h?h:h?y=>+y[h]:()=>1}},52466:(q,N,o)=>{o.d(N,{A:()=>_});var b,i=o(8189),v=o(71065),z=o(77806),D=o(85211),C=o(55739),S=o(76576),j=o(50305);let T=b=class extends v.oY{constructor(d){super(d),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(d,h){h.resultOffset=this.start,h.resultRecordCount=this.num||10}clone(){return new b((0,z.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,i._)([(0,D.MZ)({type:[String],json:{write:!0}})],T.prototype,"attachmentTypes",void 0),(0,i._)([(0,D.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],T.prototype,"attachmentsWhere",void 0),(0,i._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),(0,i._)([(0,D.MZ)({type:[String],json:{write:!0}})],T.prototype,"keywords",void 0),(0,i._)([(0,D.MZ)({type:[Number],json:{write:!0}})],T.prototype,"globalIds",void 0),(0,i._)([(0,D.MZ)({json:{write:!0}})],T.prototype,"name",void 0),(0,i._)([(0,D.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),(0,i._)([(0,D.MZ)({type:[Number],json:{write:!0}})],T.prototype,"objectIds",void 0),(0,i._)([(0,D.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnMetadata",void 0),(0,i._)([(0,D.MZ)({type:[Number],json:{write:!0}})],T.prototype,"size",void 0),(0,i._)([(0,D.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),(0,i._)([(0,j.K)("start"),(0,j.K)("num")],T.prototype,"writeStart",null),(0,i._)([(0,D.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],T.prototype,"where",void 0),T=b=(0,i._)([(0,S.$)("esri.rest.support.AttachmentQuery")],T),T.from=(0,C.dp)(T);const _=T},93327:(q,N,o)=>{o.d(N,{A:()=>A});var P,i=o(8189),v=o(21152),z=o(81098),D=o(49976),C=o(71065),S=o(77806),j=o(85211),_=(o(3248),o(35150),o(17221)),d=o(76576),h=o(50305),y=o(32034),R=o(61320),c=o(29141);const U=new D.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let f=P=class extends C.oY{constructor(O){super(O),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(O,F){const K=y.A.fromJSON(F.spatialReference),g=[];for(let Z=0;Z<O.length;Z++){var L;const G=O[Z],J=z.A.fromJSON(G),E=null===(L=G.geometry)||void 0===L?void 0:L.spatialReference;null==J.geometry||E||(J.geometry.spatialReference=K);const p=G.aggregateGeometries,m=J.aggregateGeometries;if(p&&null!=m)for(const x in m){const B=m[x],$=p[x];null==B||(null==$?void 0:$.spatialReference)||(B.spatialReference=K)}g.push(J)}return g}writeGeometryType(O,F,K,g){if(O)return void U.write(O,F,K,g);const{features:L}=this;if(L)for(const Z of L)if(null!=(null==Z?void 0:Z.geometry))return void U.write(Z.geometry.type,F,K,g)}readQueryGeometry(O,F){if(!O)return null;const K=!!O.spatialReference,g=(0,R.rS)(O);return g&&!K&&F.spatialReference&&(g.spatialReference=y.A.fromJSON(F.spatialReference)),g}writeSpatialReference(O,F){if(O)return void(F.spatialReference=O.toJSON());const{features:K}=this;if(K)for(const g of K)if(g&&null!=g.geometry&&g.geometry.spatialReference)return void(F.spatialReference=g.geometry.spatialReference.toJSON())}clone(){return new P(this.cloneProperties())}cloneProperties(){return(0,S.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(O){const F=this.write();if(F.features&&Array.isArray(O)&&O.length>0)for(let K=0;K<F.features.length;K++){const g=F.features[K];if(g.geometry){const L=null==O?void 0:O[K];g.geometry=(null==L?void 0:L.toJSON())||g.geometry}}return F}quantize(O){const{scale:[F,K],translate:[g,L]}=O,J=this.features,E=this._getQuantizationFunction(this.geometryType,p=>Math.round((p-g)/F),p=>Math.round((L-p)/K));for(let p=0,m=J.length;p<m;p++)null!=E&&E(J[p].geometry)||(J.splice(p,1),p--,m--);return this.transform=O,this}unquantize(){var O,F;const{geometryType:K,features:g,transform:L}=this;if(!L)return this;const{translate:[Z,G],scale:[J,E]}=L;let x=null,B=null;if(this.hasZ&&null!=(null==L||null===(O=L.scale)||void 0===O?void 0:O[2])){const{translate:[,,V],scale:[,,re]}=L;x=te=>te*re+V}if(this.hasM&&null!=(null==L||null===(F=L.scale)||void 0===F?void 0:F[3])){const{translate:[,,,V],scale:[,,,re]}=L;B=te=>null==te?te:te*re+V}const $=this._getHydrationFunction(K,V=>V*J+Z,V=>G-V*E,x,B);for(const{geometry:V}of g)null!=V&&$&&$(V);return this.transform=null,this}_quantizePoints(O,F,K){let g,L;const Z=[];for(let G=0,J=O.length;G<J;G++){const E=O[G];if(G>0){const p=F(E[0]),m=K(E[1]);p===g&&m===L||(Z.push([p-g,m-L]),g=p,L=m)}else g=F(E[0]),L=K(E[1]),Z.push([g,L])}return Z.length>0?Z:null}_getQuantizationFunction(O,F,K){return"point"===O?g=>(g.x=F(g.x),g.y=K(g.y),g):"polyline"===O||"polygon"===O?g=>{const L=(0,R.Bi)(g)?g.rings:g.paths,Z=[];for(let G=0,J=L.length;G<J;G++){const p=this._quantizePoints(L[G],F,K);p&&Z.push(p)}return Z.length>0?((0,R.Bi)(g)?g.rings=Z:g.paths=Z,g):null}:"multipoint"===O?g=>{const L=this._quantizePoints(g.points,F,K);return L&&L.length>0?(g.points=L,g):null}:"extent"===O?g=>g:null}_getHydrationFunction(O,F,K,g,L){return"point"===O?Z=>{Z.x=F(Z.x),Z.y=K(Z.y),g&&(Z.z=g(Z.z))}:"polyline"===O||"polygon"===O?Z=>{const G=(0,R.Bi)(Z)?Z.rings:Z.paths;let J,E;for(let p=0,m=G.length;p<m;p++){const x=G[p];for(let B=0,$=x.length;B<$;B++){const V=x[B];B>0?(J+=V[0],E+=V[1]):(J=V[0],E=V[1]),V[0]=F(J),V[1]=K(E)}}if(g&&L)for(let p=0,m=G.length;p<m;p++){const x=G[p];for(let B=0,$=x.length;B<$;B++){const V=x[B];V[2]=g(V[2]),V[3]=L(V[3])}}else if(g)for(let p=0,m=G.length;p<m;p++){const x=G[p];for(let B=0,$=x.length;B<$;B++){const V=x[B];V[2]=g(V[2])}}else if(L)for(let p=0,m=G.length;p<m;p++){const x=G[p];for(let B=0,$=x.length;B<$;B++){const V=x[B];V[2]=L(V[2])}}}:"extent"===O?Z=>{Z.xmin=F(Z.xmin),Z.ymin=K(Z.ymin),Z.xmax=F(Z.xmax),Z.ymax=K(Z.ymax),g&&null!=Z.zmax&&null!=Z.zmin&&(Z.zmax=g(Z.zmax),Z.zmin=g(Z.zmin)),L&&null!=Z.mmax&&null!=Z.mmin&&(Z.mmax=L(Z.mmax),Z.mmin=L(Z.mmin))}:"multipoint"===O?Z=>{const G=Z.points;let J,E;for(let p=0,m=G.length;p<m;p++){const x=G[p];p>0?(J+=x[0],E+=x[1]):(J=x[0],E=x[1]),x[0]=F(J),x[1]=K(E)}if(g&&L)for(let p=0,m=G.length;p<m;p++){const x=G[p];x[2]=g(x[2]),x[3]=L(x[3])}else if(g)for(let p=0,m=G.length;p<m;p++){const x=G[p];x[2]=g(x[2])}else if(L)for(let p=0,m=G.length;p<m;p++){const x=G[p];x[2]=L(x[2])}}:null}};(0,i._)([(0,j.MZ)({type:String,json:{write:!0}})],f.prototype,"displayFieldName",void 0),(0,i._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:O=>({enabled:O})}}})],f.prototype,"exceededTransferLimit",void 0),(0,i._)([(0,j.MZ)({type:[z.A],json:{write:!0}})],f.prototype,"features",void 0),(0,i._)([(0,_.w)("features")],f.prototype,"readFeatures",null),(0,i._)([(0,j.MZ)({type:[c.A],json:{write:!0}})],f.prototype,"fields",void 0),(0,i._)([(0,j.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:U.read}}})],f.prototype,"geometryType",void 0),(0,i._)([(0,h.K)("geometryType")],f.prototype,"writeGeometryType",null),(0,i._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:O=>({enabled:O})}}})],f.prototype,"hasM",void 0),(0,i._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:O=>({enabled:O})}}})],f.prototype,"hasZ",void 0),(0,i._)([(0,j.MZ)({types:v.yR,json:{write:!0}})],f.prototype,"queryGeometry",void 0),(0,i._)([(0,_.w)("queryGeometry")],f.prototype,"readQueryGeometry",null),(0,i._)([(0,j.MZ)({type:y.A,json:{write:!0}})],f.prototype,"spatialReference",void 0),(0,i._)([(0,h.K)("spatialReference")],f.prototype,"writeSpatialReference",null),(0,i._)([(0,j.MZ)({json:{write:!0}})],f.prototype,"transform",void 0),f=P=(0,i._)([(0,d.$)("esri.rest.support.FeatureSet")],f),f.prototype.toJSON.isDefaultToJSON=!0;const A=f},41843:(q,N,o)=>{o.d(N,{tn:()=>y});var i=o(92165),v=o(86300),z=o(54042),j=(o(75432),o(65121),o(558),o(8975)),d=(o(90792),o(83902),o(98089),o(61099)),h=o(17580);function y({displayField:E,editFieldsInfo:p,fields:m,objectIdField:x,title:B},$){if(!m)return null;const V=function A(E,p){var m;const x=null==p?void 0:p.visibleFieldNames;return function P(E,p){const m=E;return p&&(E=E.filter(x=>!p.includes(x.type))),E===m&&(E=E.slice()),E.sort(U),E}(null!==(m=E.fields)&&void 0!==m?m:[],(null==p?void 0:p.ignoreFieldTypes)||J).map(B=>new d.A({fieldName:B.name,isEditable:(0,v.R$)(B,E),label:B.alias,format:K(B),visible:c(B,{...E,visibleFieldNames:x})}))}({editFieldsInfo:p,fields:m,objectIdField:x},$);if(!V.length)return null;const re=function Z(E){const p=(0,v.mB)(E),{titleBase:m}=E;return p?`${m}: {${p.trim()}}`:null!=m?m:""}({titleBase:B,fields:m,displayField:E}),te=function g(){return[new j.A,new z.A]}();return new i.A({title:re,content:te,fieldInfos:V})}const c=(E,p)=>p.visibleFieldNames?p.visibleFieldNames.has(E.name):(0,v.Bz)(E,p);function U(E,p){return"oid"===E.type?-1:"oid"===p.type?1:G(E)?-1:G(p)?1:(E.alias||E.name).toLocaleLowerCase().localeCompare((p.alias||p.name).toLocaleLowerCase())}function K(E){switch(E.type){case"small-integer":case"integer":case"single":return new h.A({digitSeparator:!0,places:0});case"double":return new h.A({digitSeparator:!0,places:2});case"string":return(0,v.JL)(E.name)?new h.A({digitSeparator:!0,places:0}):null;default:return null}}function G(E){return"name"===(E.name&&E.name.toLowerCase())||"name"===(E.alias&&E.alias.toLowerCase())}const J=["geometry","blob","raster","guid","xml"]},91644:(q,N,o)=>{o.d(N,{A7:()=>b,Cx:()=>T,Hk:()=>_,JJ:()=>R,UK:()=>j,jM:()=>h,x3:()=>y}),o(3248);var v=o(88521),z=o(55417),D=o(46602),C=o(47705),S=o(48254);const j=D.A.fromJSON(S.Cb),b=z.A.fromJSON(S.yM),T=v.A.fromJSON(S.WR),_=C.A.fromJSON(S.JZ),h=D.A.fromJSON(S.nC),y=z.A.fromJSON(S.HW),R=v.A.fromJSON(S.b6)},48254:(q,N,o)=>{o.d(N,{Cb:()=>z,HW:()=>b,JZ:()=>S,WR:()=>C,b6:()=>T,nC:()=>j,yM:()=>D});const i=[252,146,31,255],z={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},D={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},C={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},S={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},j={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},b={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},T={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},37027:(q,N,o)=>{o.d(N,{A:()=>D});var i=o(82284);function v(C,S){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,T){return b.__proto__=T,b})(C,S)}function D(){D=function(_,d){return new j(_,void 0,d)};var C=RegExp.prototype,S=new WeakMap;function j(T,_,d){var h=new RegExp(T,_);return S.set(h,d||S.get(T)),v(h,j.prototype)}function b(T,_){var d=S.get(_);return Object.keys(d).reduce(function(h,y){var R=d[y];if("number"==typeof R)h[y]=T[R];else{for(var c=0;void 0===T[R[c]]&&c+1<R.length;)c++;h[y]=T[R[c]]}return h},Object.create(null))}return function z(C,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),S&&v(C,S)}(j,RegExp),j.prototype.exec=function(T){var _=C.exec.call(this,T);if(_){_.groups=b(_,this);var d=_.indices;d&&(d.groups=b(d,this))}return _},j.prototype[Symbol.replace]=function(T,_){if("string"==typeof _){var d=S.get(this);return C[Symbol.replace].call(this,T,_.replace(/\$<([^>]+)>/g,function(y,R){var c=d[R];return"$"+(Array.isArray(c)?c.join("$"):c)}))}if("function"==typeof _){var h=this;return C[Symbol.replace].call(this,T,function(){var y=arguments;return"object"!=(0,i.A)(y[y.length-1])&&(y=[].slice.call(y)).push(b(y,h)),_.apply(this,y)})}return C[Symbol.replace].call(this,T,_)},D.apply(this,arguments)}}}]);