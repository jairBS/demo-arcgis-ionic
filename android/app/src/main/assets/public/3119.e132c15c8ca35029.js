"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3119],{40856:(C,m,t)=>{t.d(m,{X_:()=>D,i1:()=>v,zx:()=>R});var r=t(69287),P=t(82663);const O=96;function D(o,a){const c=a||o.extent,s=o.width,d=(0,P.GA)(null==c?void 0:c.spatialReference);return c&&s?c.width/s*d*P.dy*O:0}function v(o,a){return o/((0,P.GA)(a)*P.dy*O)}function R(o,a,c){return function g(o,a){return 0===a||(0,r.Sp)(o,a)||o<a}(o,a)&&function f(o,a){return 0===a||(0,r.Sp)(o,a)||o>a}(o,c)}},83119:(C,m,t)=>{t.r(m),t.d(m,{default:()=>d});var r=t(8189),p=(t(35150),t(3248),t(40707),t(5922),t(76576)),A=t(29459),u=t(31178),R=t(5605),g=t(48900),f=t(85211),o=t(41474);let a=class extends o.A{constructor(i){super(i),this.type="group",this.layerViews=new u.A}destroy(){this.layerViews.length=0}_allLayerViewVisibility(i){this.layerViews.forEach(l=>{l.visible=i})}initialize(){this.addHandles([this.layerViews.on("change",i=>this._layerViewsChangeHandler(i)),(0,g.wB)(()=>{var i;return null===(i=this.layer)||void 0===i?void 0:i.visibilityMode},()=>{this.layer&&this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null))},g.OH),(0,g.wB)(()=>this.visible,i=>{this._applyVisibility(()=>this._allLayerViewVisibility(i),()=>{})},g.OH)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(i){this._set("layerViews",(0,R.V)(i,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce((i,l)=>i+l.updatingProgress,0)/this.layerViews.length}isUpdating(){return this.layerViews.some(i=>i.updating)}_hasLayerViewVisibleOverrides(){return this.layerViews.some(i=>i._isOverridden("visible"))}_findLayerViewForLayer(i){return i&&this.layerViews.find(l=>l.layer===i)}_firstVisibleOnLayerOrder(){const i=this.layer.layers.find(l=>{const _=this._findLayerViewForLayer(l);return!(null==_||!_.visible)});return i&&this._findLayerViewForLayer(i)}_applyExclusiveVisibility(i){null==i&&null==(i=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(i=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach(l=>{l.visible=l===i})}_layerViewsChangeHandler(i){this.removeHandles("grouplayerview:visible"),this.addHandles(this.layerViews.map(_=>(0,g.wB)(()=>_.visible,L=>this._applyVisibility(()=>{L!==this.visible&&(_.visible=this.visible)},()=>this._applyExclusiveVisibility(L?_:null)),g.OH)).toArray(),"grouplayerview:visible");const l=i.added[i.added.length-1];this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null!=l&&l.visible?l:null))}_applyVisibility(i,l){var _,L;this._hasLayerViewVisibleOverrides()&&("inherited"===(null===(_=this.layer)||void 0===_?void 0:_.visibilityMode)?i():"exclusive"===(null===(L=this.layer)||void 0===L?void 0:L.visibilityMode)&&l())}};(0,r._)([(0,f.MZ)({cast:R.H})],a.prototype,"layerViews",null),(0,r._)([(0,f.MZ)({readOnly:!0})],a.prototype,"updatingProgress",null),(0,r._)([(0,f.MZ)()],a.prototype,"view",void 0),a=(0,r._)([(0,p.$)("esri.views.layers.GroupLayerView")],a);const c=a;let s=class extends((0,A.e)(c)){attach(){this._updateStageChildren(),this.addAttachHandles(this.layerViews.on("after-changes",()=>this._updateStageChildren()))}detach(){this.container.removeAllChildren()}update(i){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach((i,l)=>this.container.addChildAt(i.container,l))}};s=(0,r._)([(0,p.$)("esri.views.2d.layers.GroupLayerView2D")],s);const d=s},29459:(C,m,t)=>{t.d(m,{e:()=>I});var s,r=t(8189),P=t(31178),O=t(5605),D=t(5922),v=t(48900),p=t(85211),g=(t(3248),t(35150),t(40707),t(76576)),f=t(40856),o=t(88766),a=t(60746),c=t(66727);let d=s=class extends c.A{constructor(S){super(S),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,r._)([(0,p.MZ)({type:[Number,String],json:{write:!0}})],d.prototype,"left",void 0),(0,r._)([(0,p.MZ)({type:[Number,String],json:{write:!0}})],d.prototype,"right",void 0),(0,r._)([(0,p.MZ)({type:[Number,String],json:{write:!0}})],d.prototype,"top",void 0),(0,r._)([(0,p.MZ)({type:[Number,String],json:{write:!0}})],d.prototype,"bottom",void 0),d=s=(0,r._)([(0,g.$)("esri.views.layers.support.ClipRect")],d);const i=d;var l=t(75644);let _=class extends c.A{constructor(S){super(S),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,r._)([(0,p.MZ)({type:[[[Number]]],json:{write:!0}})],_.prototype,"path",void 0),_=(0,r._)([(0,g.$)("esri.views.layers.support.Path")],_);const B=P.A.ofType({key:"type",base:null,typeMap:{rect:i,path:_,geometry:l.A}}),I=S=>{let E=class extends S{constructor(){super(...arguments),this.attached=!1,this.clips=new B,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){var h,M,V,U;const j=null===(h=null===(M=this.view)||void 0===M?void 0:M.spatialReferenceLocked)||void 0===h||h;(null===(V=this.view)||void 0===V?void 0:V.spatialReference)&&j&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new D.A("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new o.m),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,v.wB)(()=>this.suspended,y=>{this.container&&(this.container.visible=!y)},v.pc),(0,v.wB)(()=>this.updateSuspended,y=>{this.view&&!y&&this.updateRequested&&this.view.requestUpdate()},v.pc),(0,v.wB)(()=>{var y,w;return null!==(y=null===(w=this.layer)||void 0===w?void 0:w.opacity)&&void 0!==y?y:1},y=>{this.container&&(this.container.opacity=y)},v.pc),(0,v.wB)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",y=>{this.container&&(this.container.blendMode=y)},v.pc),(0,v.wB)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,y=>{this.container&&(this.container.effect=y)},v.pc),(0,v.wB)(()=>this.highlightOptions,y=>this.container.highlightOptions=y,v.pc),(0,v.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},v.pc),(0,v.wB)(()=>{var y;return{scale:null===(y=this.view)||void 0===y?void 0:y.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}},({scale:y})=>{const w=null!=y&&this.isVisibleAtScale(y);w!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",w)},v.pc)],"constructor"),null!==(U=this.view)&&void 0!==U&&U.whenLayerView?this.view.whenLayerView(this.layer).then(y=>{y===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){var h;const M=null===(h=this.view)||void 0===h?void 0:h.spatialReference;return null==M||this.supportsSpatialReference(M)}get updateSuspended(){return this.suspended}get updating(){var h;return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(null===(h=this._updatingHandles)||void 0===h||!h.updating))}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(h){const M=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!M)return!0;const{minScale:V,maxScale:U}=M;return(0,f.zx)(h,V,U)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(h){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",h),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(h))):this.updateRequested=!1}hitTest(h,M){return Promise.resolve(null)}supportsSpatialReference(h){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const h=super.getSuspendInfo(),M=!this.spatialReferenceSupported,V=this.visibleAtCurrentScale;return M&&(h.spatialReferenceNotSupported=M),V&&(h.outsideScaleRange=V),h}addAttachHandles(h){this.addHandles(h,"attach")}};return(0,r._)([(0,p.MZ)()],E.prototype,"attached",void 0),(0,r._)([(0,p.MZ)({type:B,set(h){const M=(0,O.V)(h,this._get("clips"),B);this._set("clips",M)}})],E.prototype,"clips",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"container",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"moving",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],E.prototype,"spatialReferenceSupported",null),(0,r._)([(0,p.MZ)({readOnly:!0})],E.prototype,"updateParameters",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"updateRequested",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"updateSuspended",null),(0,r._)([(0,p.MZ)()],E.prototype,"updating",null),(0,r._)([(0,p.MZ)()],E.prototype,"view",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],E.prototype,"visibleAtCurrentScale",void 0),(0,r._)([(0,p.MZ)({type:a.A})],E.prototype,"highlightOptions",void 0),E=(0,r._)([(0,g.$)("esri.views.2d.layers.LayerView2D")],E),E}},41474:(C,m,t)=>{t.d(m,{A:()=>c});var r=t(8189),P=t(98877),O=t(42425),D=t(3046),v=t(35150),p=t(11432),A=t(64261),u=t(85211),f=(t(3248),t(40707),t(76576)),o=t(56985);let a=class extends((0,D.sA)((0,A.g)(O.A.EventedMixin(P.A)))){constructor(s){super(s),this._updatingHandles=new o.U,this.layer=null,this.parent=null}initialize(){this.when().catch(s=>{if("layerview:create-error"!==s.name){var d;const i=this.layer&&this.layer.id||"no id",l=(null===(d=this.layer)||void 0===d?void 0:d.title)||"no title";v.A.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${l}', id: '${i}')`,s)}})}destroy(){this._updatingHandles=(0,p.pR)(this._updatingHandles)}get fullOpacity(){var s,d,i,l;return(null!==(s=null===(d=this.layer)||void 0===d?void 0:d.opacity)&&void 0!==s?s:1)*(null!==(i=null===(l=this.parent)||void 0===l?void 0:l.fullOpacity)&&void 0!==i?i:1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var s;return!this.suspended&&!0===(null===(s=this.layer)||void 0===s?void 0:s.legendEnabled)}get updating(){var s;return!!(null!==(s=this._updatingHandles)&&void 0!==s&&s.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var s;return!0===(null===(s=this.layer)||void 0===s?void 0:s.visible)}set visible(s){this._overrideIfSome("visible",s)}canResume(){var s,d,i;return this.visible&&(null===(s=this.layer)||void 0===s?void 0:s.loaded)&&!(null!==(d=this.parent)&&void 0!==d&&d.suspended)&&(null===(i=this.view)||void 0===i?void 0:i.ready)||!1}getSuspendInfo(){var s,d;const i=null!==(s=this.parent)&&void 0!==s&&s.suspended?this.parent.suspendInfo:{};return null!==(d=this.view)&&void 0!==d&&d.ready||(i.viewNotReady=!0),this.layer&&this.layer.loaded||(i.layerNotLoaded=!0),this.visible||(i.layerInvisible=!0),i}isUpdating(){return!1}};(0,r._)([(0,u.MZ)()],a.prototype,"fullOpacity",null),(0,r._)([(0,u.MZ)()],a.prototype,"layer",void 0),(0,r._)([(0,u.MZ)()],a.prototype,"parent",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],a.prototype,"suspended",null),(0,r._)([(0,u.MZ)({readOnly:!0})],a.prototype,"suspendInfo",null),(0,r._)([(0,u.MZ)({readOnly:!0})],a.prototype,"legendEnabled",null),(0,r._)([(0,u.MZ)({type:Boolean,readOnly:!0})],a.prototype,"updating",null),(0,r._)([(0,u.MZ)({readOnly:!0})],a.prototype,"updatingProgress",null),(0,r._)([(0,u.MZ)()],a.prototype,"visible",null),(0,r._)([(0,u.MZ)()],a.prototype,"view",void 0),a=(0,r._)([(0,f.$)("esri.views.layers.LayerView")],a);const c=a},66727:(C,m,t)=>{t.d(m,{A:()=>R});var r=t(8189),P=t(71065),O=t(85211),A=(t(3248),t(35150),t(40707),t(76576));let u=class extends P.oY{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,r._)([(0,O.MZ)({readOnly:!0})],u.prototype,"version",null),u=(0,r._)([(0,A.$)("esri.views.layers.support.ClipArea")],u);const R=u},75644:(C,m,t)=>{t.d(m,{A:()=>d});var a,r=t(8189),O=(t(21152),t(85211)),A=(t(3248),t(35150),t(40707),t(76576)),u=t(68643),R=t(61320),g=t(66727),f=t(28067),o=t(55861);const c={base:u.A,key:"type",typeMap:{extent:f.A,polygon:o.A}};let s=a=class extends g.A{constructor(i){super(i),this.type="geometry",this.geometry=null}clone(){var i,l;return new a({geometry:null!==(i=null===(l=this.geometry)||void 0===l?void 0:l.clone())&&void 0!==i?i:null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,r._)([(0,O.MZ)({types:c,json:{read:R.rS,write:!0}})],s.prototype,"geometry",void 0),s=a=(0,r._)([(0,A.$)("esri.views.layers.support.Geometry")],s);const d=s}}]);