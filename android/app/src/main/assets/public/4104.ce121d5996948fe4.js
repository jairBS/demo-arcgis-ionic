"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4104,4098,8460,3258,2282],{33087:(V,Z,l)=>{l.d(Z,{q:()=>C});var P=l(60611);class C{constructor(D,W){this._storage=new P.F,this.id="",this.name="",this.size=0,this._storage.maxSize=D,this._storage.register(this),W&&this._storage.registerRemoveFunc("",W)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(D,W,I=1){this._storage.put(this,D,W,I,1)}pop(D){return this._storage.pop(this,D)}get(D){return this._storage.get(this,D)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(D){this._storage.maxSize=D}resetHitRate(){}}},60611:(V,Z,l)=>{l.d(Z,{F:()=>I,Mn:()=>W});var D,w,P=l(12438);(w=D||(D={}))[w.ALL=0]="ALL",w[w.SOME=1]="SOME";class W{constructor(_,d,y){this.name=_,this._storage=d,this.id=x+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),y&&(this._storage.registerRemoveFunc(this.id,y),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(_){return this._storage.getSize(this,_)}resetHitRate(){this._hit=this._miss=0}put(_,d,y,M=0){this._storage.put(this,_,d,y,M)}pop(_){const d=this._storage.pop(this,_);return void 0===d?++this._miss:++this._hit,d}get(_){const d=this._storage.get(this,_);return void 0===d?++this._miss:++this._hit,d}peek(_){return this._storage.peek(this,_)}updateSize(_,d,y){this._storage.updateSize(this,_,d,y)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class I{get size(){return this._size}constructor(_=10485760){this._maxSize=_,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new P.A,this._users=new P.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(_){this._users.push(_)}deregister(_){this._users.removeUnordered(_)}registerRemoveFunc(_,d){this._removeFuncs.push([_,d])}deregisterRemoveFunc(_){this._removeFuncs.filterInPlace(d=>d[0]!==_)}get maxSize(){return this._maxSize}set maxSize(_){this._maxSize=Math.max(_,-1),this._checkSize()}getSize(_,d){var y;const M=this._db.get(_.id+d);return null!==(y=null==M?void 0:M.size)&&void 0!==y?y:0}put(_,d,y,M,L){const O=this._db.get(d=_.id+d);if(O&&(this._size-=O.size,_.size-=O.size,this._db.delete(d),O.entry!==y&&this._notifyRemove(d,O.entry,O.size,D.ALL)),M>this._maxSize)return void this._notifyRemove(d,y,M,D.ALL);if(void 0===y)return void console.warn("Refusing to cache undefined entry ");if(!M||M<0)return console.warn(`Refusing to cache entry with size ${M} for key ${d}`),void this._notifyRemove(d,y,0,D.ALL);const j=1+Math.max(L,-4)- -3;this._db.set(d,new N(y,M,j)),this._size+=M,_.size+=M,this._checkSize()}updateSize(_,d,y,M){const L=this._db.get(d=_.id+d);if(L&&L.entry===y){for(this._size-=L.size,_.size-=L.size;M>this._maxSize;){const O=this._notifyRemove(d,y,M,D.SOME);if(!(null!=O&&O>0))return void this._db.delete(d);M=O}L.size=M,this._size+=M,_.size+=M,this._checkSize()}}pop(_,d){const y=this._db.get(d=_.id+d);if(y)return this._size-=y.size,_.size-=y.size,this._db.delete(d),++this._hit,y.entry;++this._miss}get(_,d){const y=this._db.get(d=_.id+d);if(void 0!==y)return this._db.delete(d),y.lives=y.lifetime,this._db.set(d,y),++this._hit,y.entry;++this._miss}peek(_,d){const y=this._db.get(_.id+d);return y?++this._hit:++this._miss,null==y?void 0:y.entry}get performanceInfo(){const _={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},d={},y=new Array;this._db.forEach((O,j)=>{const Q=O.lifetime;y[Q]=(y[Q]||0)+O.size,this._users.forAll(T=>{const{id:S,name:s}=T;j.startsWith(S)&&(d[s]=(d[s]||0)+O.size)})});const M={};this._users.forAll(O=>{const j=O.name;"hitRate"in O&&"number"==typeof O.hitRate&&!isNaN(O.hitRate)&&O.hitRate>0?(d[j]=d[j]||0,M[j]=Math.round(100*O.hitRate)+"%"):M[j]="0%"});const L=Object.keys(d);L.sort((O,j)=>d[j]-d[O]),L.forEach(O=>_[O]=Math.round(d[O]/2**20)+"MB / "+M[O]);for(let O=y.length-1;O>=0;--O){const j=y[O];j&&(_["Priority "+(O+-3-1)]=Math.round(j/this._size*100)+"%")}return _}resetStats(){this._hit=this._miss=0,this._users.forAll(_=>_.resetHitRate())}clear(_){const d=_.id;this._db.forEach((y,M)=>{M.startsWith(d)&&(this._size-=y.size,this._db.delete(M),this._notifyRemove(M,y.entry,y.size,D.ALL))}),_.size=0}clearAll(){this._db.forEach((_,d)=>this._notifyRemove(d,_.entry,_.size,D.ALL)),this._users.forAll(_=>_.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(_,d,y,M){let L;return this._removeFuncs.some(O=>{if(_.startsWith(O[0])){const j=O[1](d,M,y);return"number"==typeof j&&(L=j),!0}return!1}),L}_checkSize(){this._users.forAll(_=>this._checkSizeLimits(_)),this._checkSizeLimits()}_checkSizeLimits(_){const d=null!=_?_:this;if(d.maxSize<0||d.size<=d.maxSize)return;const y=null==_?void 0:_.id;let M=!0;for(;M;){M=!1;for(const[L,O]of this._db)if(0===O.lifetime&&(!y||L.startsWith(y))){if(this._purgeItem(L,O,_),d.size<=.9*d.maxSize)return;M||(M=this._db.has(L))}}for(const[L,O]of this._db)if((!y||L.startsWith(y))&&(this._purgeItem(L,O,_),d.size<=.9*d.maxSize))return}_purgeItem(_,d,y=this._users.find(M=>_.startsWith(M.id))){if(this._db.delete(_),d.lives<=1){this._size-=d.size,y&&(y.size-=d.size);const M=this._notifyRemove(_,d.entry,d.size,D.SOME);null!=M&&M>0&&(this._size+=M,y&&(y.size+=M),d.lives=d.lifetime,d.size=M,this._db.set(_,d))}else--d.lives,this._db.set(_,d)}}let x=0;class N{constructor(_,d,y){this.entry=_,this.size=d,this.lifetime=y,this.lives=y}}},24098:(V,Z,l)=>{l.d(Z,{GB:()=>C,Qo:()=>D,Y4:()=>v});var P=l(44549);class C{}function v(I){return I instanceof P.bo?I===C.instance:"unknown"===(null==I?void 0:I.toString().toLowerCase())}function D(I){return v(I)?C.instance:I}C.instance=new P.oh("Etc/UTC")},721:(V,Z,l)=>{l.d(Z,{$X:()=>ee,Gy:()=>B,P5:()=>te,SW:()=>q,Tr:()=>X,VV:()=>I}),l(61320);const v=(p,i,h)=>[i,h],D=(p,i,h)=>[i,h,p[2]],W=(p,i,h)=>[i,h,p[2],p[3]];function I(p){return p?{originPosition:"upper-left"===p.originPosition?"upperLeft":"lower-left"===p.originPosition?"lowerLeft":p.originPosition,scale:p.tolerance?[p.tolerance,p.tolerance]:[1,1],translate:null!=p.extent?[p.extent.xmin,p.extent.ymax]:[0,0]}:null}function O({scale:p,translate:i},h){return h*p[0]+i[0]}function j({scale:p,translate:i},h){return i[1]-h*p[1]}function Q(p,i,h){const F=new Array(h.length);if(!h.length)return F;const[U,$]=p.scale;let G=O(p,h[0][0]),H=j(p,h[0][1]);F[0]=i(h[0],G,H);for(let k=1;k<h.length;k++){const Y=h[k];G+=Y[0]*U,H-=Y[1]*$,F[k]=i(Y,G,H)}return F}function T(p,i,h){const F=new Array(h.length);for(let U=0;U<h.length;U++)F[U]=Q(p,i,h[U]);return F}function B(p,i,h,F,U){return i.x=function N({scale:p,translate:i},h){return Math.round((h-i[0])/p[0])}(p,h.x),i.y=function w({scale:p,translate:i},h){return Math.round((i[1]-h)/p[1])}(p,h.y),i!==h&&(F&&(i.z=h.z),U&&(i.m=h.m)),i}function q(p,i,h,F,U){return null!=h&&(i.points=function s(p,i,h,F){return Q(p,h?F?W:D:F?D:v,i)}(p,h.points,F,U)),i}function X(p,i,h,F,U){return null==h||(i.x=O(p,h.x),i.y=j(p,h.y),i!==h&&(F&&(i.z=h.z),U&&(i.m=h.m))),i}function ee(p,i,h,F,U){return null!=h&&(i.rings=function A(p,i,h,F){return T(p,h?F?W:D:F?D:v,i)}(p,h.rings,F,U)),i}function te(p,i,h,F,U){return null!=h&&(i.paths=function f(p,i,h,F){return T(p,h?F?W:D:F?D:v,i)}(p,h.paths,F,U)),i}},34015:(V,Z,l)=>{l.r(Z),l.d(Z,{default:()=>R});var P=l(10467),C=l(8189),D=(l(21152),l(5922)),W=l(56492),I=l(45272),x=l(85211),N=l(3248),d=(l(35150),l(40707),l(17221)),y=l(76576),M=l(35940),L=l(55098),O=l(19284),j=l(93327),Q=l(28067);let T=class extends L.A{constructor(c){var m;super(c),m=this,this.type="csv",this.refresh=(0,W.sg)(function(){var E=(0,P.A)(function*(g){yield m.load();const{extent:B,timeExtent:z}=yield m._connection.invoke("refresh",g);return B&&(m.sourceJSON.extent=B),z&&(m.sourceJSON.timeInfo.timeExtent=[z.start,z.end]),{dataChanged:!0,updates:{extent:m.sourceJSON.extent,timeInfo:m.sourceJSON.timeInfo}}});return function(g){return E.apply(this,arguments)}}())}load(c){return this.addResolvingPromise(this._startWorker(null!=c?c.signal:null)),Promise.resolve(this)}destroy(){var c;null!==(c=this._connection)&&void 0!==c&&c.close(),this._connection=null}openPorts(){var c=this;return(0,P.A)(function*(){return yield c.load(),c._connection.openPorts()})()}queryFeatures(c,m={}){var E=this;return(0,P.A)(function*(){yield E.load(m);const g=yield E._connection.invoke("queryFeatures",c?c.toJSON():null,m);return j.A.fromJSON(g)})()}queryFeaturesJSON(c,m={}){var E=this;return(0,P.A)(function*(){return yield E.load(m),E._connection.invoke("queryFeatures",c?c.toJSON():null,m)})()}queryFeatureCount(c,m={}){var E=this;return(0,P.A)(function*(){return yield E.load(m),E._connection.invoke("queryFeatureCount",c?c.toJSON():null,m)})()}queryObjectIds(c,m={}){var E=this;return(0,P.A)(function*(){return yield E.load(m),E._connection.invoke("queryObjectIds",c?c.toJSON():null,m)})()}queryExtent(c,m={}){var E=this;return(0,P.A)(function*(){yield E.load(m);const g=yield E._connection.invoke("queryExtent",c?c.toJSON():null,m);return{count:g.count,extent:Q.A.fromJSON(g.extent)}})()}querySnapping(c,m={}){var E=this;return(0,P.A)(function*(){return yield E.load(m),E._connection.invoke("querySnapping",c,m)})()}_startWorker(c){var m=this;return(0,P.A)(function*(){m._connection=yield(0,O.ho)("CSVSourceWorker",{strategy:(0,N.A)("feature-layers-workers")?"dedicated":"local",signal:c,registryTarget:m});const{url:E,delimiter:g,fields:B,latitudeField:z,longitudeField:K,spatialReference:J,timeInfo:b}=m.loadOptions,q=yield m._connection.invoke("load",{url:E,customParameters:m.customParameters,parsingOptions:{delimiter:g,fields:null==B?void 0:B.map(X=>X.toJSON()),latitudeField:z,longitudeField:K,spatialReference:null==J?void 0:J.toJSON(),timeInfo:null==b?void 0:b.toJSON()}},{signal:c});m.locationInfo=q.locationInfo,m.sourceJSON=q.layerDefinition,m.delimiter=q.delimiter})()}};(0,C._)([(0,x.MZ)()],T.prototype,"type",void 0),(0,C._)([(0,x.MZ)()],T.prototype,"loadOptions",void 0),(0,C._)([(0,x.MZ)()],T.prototype,"customParameters",void 0),(0,C._)([(0,x.MZ)()],T.prototype,"locationInfo",void 0),(0,C._)([(0,x.MZ)()],T.prototype,"sourceJSON",void 0),(0,C._)([(0,x.MZ)()],T.prototype,"delimiter",void 0),T=(0,C._)([(0,y.$)("esri.layers.graphics.sources.CSVSource")],T);var S=l(89962),s=l(87086),f=l(88135),A=l(32034);function o(c,m){throw new D.A(m,`CSVLayer (title: ${c.title}, id: ${c.id}) cannot be saved to a portal item`)}let a=class extends M.default{constructor(...c){super(...c),this.geometryType="point",this.capabilities=(0,S.f)(!1,!1),this.delimiter=null,this.editingEnabled=!1,this.fields=null,this.latitudeField=null,this.locationType="coordinates",this.longitudeField=null,this.operationalLayerType="CSV",this.outFields=["*"],this.path=null,this.spatialReference=A.A.WGS84,this.source=null,this.type="csv"}normalizeCtorArgs(c,m){return"string"==typeof c?{url:c,...m}:c}load(c){var m=this;const E=null!=c?c.signal:null,g=this.loadFromPortal({supportedTypes:["CSV"],supportsData:!1},c).catch(W.QP).then((0,P.A)(function*(){return m.initLayerProperties(yield m.createGraphicsSource(E))}));return this.addResolvingPromise(g),Promise.resolve(this)}get isTable(){return this.loaded&&null==this.geometryType}readWebMapLabelsVisible(c,m){var E;return null!=m.showLabels?m.showLabels:!(null===(E=m.layerDefinition)||void 0===E||null===(E=E.drawingInfo)||void 0===E||!E.labelingInfo)}set url(c){if(!c)return void this._set("url",c);const m=(0,I.An)(c);this._set("url",m.path),m.query&&(this.customParameters={...this.customParameters,...m.query})}createGraphicsSource(c){var m=this;return(0,P.A)(function*(){var E,g,B,z,K;const J=new T({loadOptions:{delimiter:m.delimiter,fields:m.fields,latitudeField:null!==(E=m.latitudeField)&&void 0!==E?E:void 0,longitudeField:null!==(g=m.longitudeField)&&void 0!==g?g:void 0,spatialReference:null!==(B=m.spatialReference)&&void 0!==B?B:void 0,timeInfo:null!==(z=m.timeInfo)&&void 0!==z?z:void 0,url:m.url},customParameters:null!==(K=m.customParameters)&&void 0!==K?K:void 0});return m._set("source",J),yield J.load({signal:c}),m.read({locationInfo:J.locationInfo,columnDelimiter:J.delimiter},{origin:"service",url:m.parsedUrl}),J})()}queryFeatures(c,m){return this.load().then(()=>this.source.queryFeatures(s.A.from(c)||this.createQuery())).then(E=>{if(null!=E&&E.features)for(const g of E.features)g.layer=g.sourceLayer=this;return E})}queryObjectIds(c,m){return this.load().then(()=>this.source.queryObjectIds(s.A.from(c)||this.createQuery()))}queryFeatureCount(c,m){return this.load().then(()=>this.source.queryFeatureCount(s.A.from(c)||this.createQuery()))}queryExtent(c,m){return this.load().then(()=>this.source.queryExtent(s.A.from(c)||this.createQuery()))}read(c,m){super.read(c,m),m&&"service"===m.origin&&this.revert(["latitudeField","longitudeField"],"service")}write(c,m){return super.write(c,{...m,writeLayerSchema:!0})}clone(){throw new D.A("csv-layer:clone",`CSVLayer (title: ${this.title}, id: ${this.id}) cannot be cloned`)}save(c){var m=this;return(0,P.A)(function*(){return o(m,"csv-layer:save")})()}saveAs(c,m){var E=this;return(0,P.A)(function*(){return o(E,"csv-layer:save-as")})()}hasDataChanged(){var c=this;return(0,P.A)(function*(){try{const{dataChanged:m,updates:E}=yield c.source.refresh(c.customParameters);return null!=E&&c.read(E,{origin:"service",url:c.parsedUrl,ignoreDefaults:!0}),m}catch{}return!1})()}_verifyFields(){}_verifySource(){}_hasMemorySource(){return!1}};(0,C._)([(0,x.MZ)({readOnly:!0,json:{read:!1,write:!1}})],a.prototype,"capabilities",void 0),(0,C._)([(0,x.MZ)({type:[","," ",";","|","\t"],json:{read:{source:"columnDelimiter"},write:{target:"columnDelimiter",ignoreOrigin:!0}}})],a.prototype,"delimiter",void 0),(0,C._)([(0,x.MZ)({readOnly:!0,type:Boolean,json:{origins:{"web-scene":{read:!1,write:!1}}}})],a.prototype,"editingEnabled",void 0),(0,C._)([(0,x.MZ)({json:{read:{source:"layerDefinition.fields"},write:{target:"layerDefinition.fields"}}})],a.prototype,"fields",void 0),(0,C._)([(0,x.MZ)({type:Boolean,readOnly:!0})],a.prototype,"isTable",null),(0,C._)([(0,d.w)("web-map","labelsVisible",["layerDefinition.drawingInfo.labelingInfo","showLabels"])],a.prototype,"readWebMapLabelsVisible",null),(0,C._)([(0,x.MZ)({type:String,json:{read:{source:"locationInfo.latitudeFieldName"},write:{target:"locationInfo.latitudeFieldName",ignoreOrigin:!0}}})],a.prototype,"latitudeField",void 0),(0,C._)([(0,x.MZ)({type:["show","hide"]})],a.prototype,"listMode",void 0),(0,C._)([(0,x.MZ)({type:["coordinates"],json:{read:{source:"locationInfo.locationType"},write:{target:"locationInfo.locationType",ignoreOrigin:!0,isRequired:!0}}})],a.prototype,"locationType",void 0),(0,C._)([(0,x.MZ)({type:String,json:{read:{source:"locationInfo.longitudeFieldName"},write:{target:"locationInfo.longitudeFieldName",ignoreOrigin:!0}}})],a.prototype,"longitudeField",void 0),(0,C._)([(0,x.MZ)({type:["CSV"]})],a.prototype,"operationalLayerType",void 0),(0,C._)([(0,x.MZ)()],a.prototype,"outFields",void 0),(0,C._)([(0,x.MZ)({type:String,json:{origins:{"web-scene":{read:!1,write:!1}},read:!1,write:!1}})],a.prototype,"path",void 0),(0,C._)([(0,x.MZ)({json:{read:!1},cast:null,type:T,readOnly:!0})],a.prototype,"source",void 0),(0,C._)([(0,x.MZ)({json:{read:!1},value:"csv",readOnly:!0})],a.prototype,"type",void 0),(0,C._)([(0,x.MZ)({json:{read:f.r,write:{isRequired:!0,ignoreOrigin:!0,writer:f.w}}})],a.prototype,"url",null),a=(0,C._)([(0,y.$)("esri.layers.CSVLayer")],a);const R=a},78200:(V,Z,l)=>{l.d(Z,{F:()=>P});const P={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},89962:(V,Z,l)=>{l.d(Z,{F0:()=>W,Vx:()=>N,e2:()=>w,f:()=>_});var P=l(3248),C=l(77806),v=l(78200),D=l(48254);function W(d){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===d||"esriGeometryMultipoint"===d?D.Cb:"esriGeometryPolyline"===d?D.yM:D.WR}}}const I=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let x=1;function N(d,y){if((0,P.A)("esri-csp-restrictions"))return()=>({[y]:null,...d});try{let M=`this.${y} = null;`;for(const O in d)M+=`this${I.test(O)?`.${O}`:`["${O}"]`} = ${JSON.stringify(d[O])};`;const L=new Function(`\n      return class AttributesClass$${x++} {\n        constructor() {\n          ${M};\n        }\n      }\n    `)();return()=>new L}catch{return()=>({[y]:null,...d})}}function w(d={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,C.o8)(d)}}]}function _(d,y){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:d},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:y,supportsDelete:y,supportsEditing:y,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:y,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:v.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:y,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},94376:(V,Z,l)=>{l.d(Z,{p:()=>N});var P=l(8189),C=l(85211),I=(l(3248),l(35150),l(40707),l(76576));const N=w=>{let _=class extends w{get apiKey(){var d;return this._isOverridden("apiKey")?this._get("apiKey"):function x(w){return"portalItem"in w}(this)?null===(d=this.portalItem)||void 0===d?void 0:d.apiKey:null}set apiKey(d){null!=d?this._override("apiKey",d):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,P._)([(0,C.MZ)({type:String})],_.prototype,"apiKey",null),_=(0,P._)([(0,I.$)("esri.layers.mixins.APIKeyMixin")],_),_}},25936:(V,Z,l)=>{l.d(Z,{b:()=>N});var P=l(8189),C=l(35150),v=l(85211),I=(l(3248),l(40707),l(76576)),x=l(68438);const N=w=>{let _=class extends w{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const d=(0,x.qg)(this.url);if(null!=d&&d.title)return d.title}return this._get("title")||""}set title(d){this._set("title",d)}set url(d){this._set("url",(0,x.Jf)(d,C.A.getLogger(this)))}};return(0,P._)([(0,v.MZ)()],_.prototype,"title",null),(0,P._)([(0,v.MZ)({type:String})],_.prototype,"url",null),_=(0,P._)([(0,I.$)("esri.layers.mixins.ArcGISService")],_),_}},47063:(V,Z,l)=>{l.d(Z,{A:()=>L});var P=l(8189),C=l(90660),v=l(71065),D=l(85211),N=(l(3248),l(35150),l(40707),l(17221)),w=l(76576),_=l(50305),d=l(84546),y=l(69741);let M=class extends((0,C.O)(v.oY)){constructor(O){super(O),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(O){const j={};for(const Q of Object.keys(O))j[Q]=(0,d.rS)(O[Q]);return j}writeDomains(O,j){const Q={};for(const S of Object.keys(O)){var T;O[S]&&(Q[S]=null===(T=O[S])||void 0===T?void 0:T.toJSON())}j.domains=Q}};(0,P._)([(0,D.MZ)({json:{write:!0}})],M.prototype,"id",void 0),(0,P._)([(0,D.MZ)({json:{write:!0}})],M.prototype,"name",void 0),(0,P._)([(0,D.MZ)({json:{write:!0}})],M.prototype,"domains",void 0),(0,P._)([(0,N.w)("domains")],M.prototype,"readDomains",null),(0,P._)([(0,_.K)("domains")],M.prototype,"writeDomains",null),(0,P._)([(0,D.MZ)({type:[y.A],json:{write:!0}})],M.prototype,"templates",void 0),M=(0,P._)([(0,w.$)("esri.layers.support.FeatureType")],M);const L=M},73258:(V,Z,l)=>{l.d(Z,{A:()=>M});var P=l(5922),C=l(71065),v=l(35150),D=l(60797),W=l(24098),I=l(86300),x=l(22639),N=l(44549);const y=new Map;class M{static fromJSON(S){return new M(S.fields,S.timeZoneByFieldName)}static fromLayer(S){var s;return new M(null!==(s=S.fields)&&void 0!==s?s:[],Q(S))}static fromLayerJSON(S){var s;return new M(null!==(s=S.fields)&&void 0!==s?s:[],Q(S))}constructor(S=[],s){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=S||[],this._timeZoneByFieldName=s?new Map(s):null;const f=[];for(const o of this.fields){const a=null==o?void 0:o.name,R=O(a);if(a&&R){var A;const c=L(a);this._fieldsMap.set(a,o),this._fieldsMap.set(c,o),this._normalizedFieldsMap.set(R,o),f.push(`${c}:${o.type}:${null===(A=this._timeZoneByFieldName)||void 0===A?void 0:A.get(a)}`),(0,I.vE)(o)?(this.dateFields.push(o),this._dateFieldsSet.add(o)):(0,I.WA)(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),(0,I.te)(o)||(0,I.Xz)(o)||(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable)}}f.sort(),this.uid=f.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const S of this.fields)(0,I.te)(S)||(0,I.Xz)(S)||S.nullable||void 0!==(0,I.lD)(S)||this._requiredFields.push(S)}return this._requiredFields}equals(S){return this.uid===(null==S?void 0:S.uid)}has(S){return null!=this.get(S)}get(S){var s;if(!S)return;let f=this._fieldsMap.get(S);return f||(f=null!==(s=this._fieldsMap.get(L(S)))&&void 0!==s?s:this._normalizedFieldsMap.get(O(S)),f&&this._fieldsMap.set(S,f),f)}getTimeZone(S){const s=this.get(S&&"string"!=typeof S?S.name:S);return s?this._timeZoneByFieldName?this._timeZoneByFieldName.get(s.name):"date"===s.type||"esriFieldTypeDate"===s.type?(v.A.getLogger("esri.layers.support.FieldsIndex").error(new P.A("getTimeZone:no-timezone-information",`no time zone information for field '${s.name}'`)),x.n$):j.has(s.type)?x.L5:null:null}getLuxonTimeZone(S){const s=this.getTimeZone(S);return s?s===x.L5?W.GB.instance:s===x.n$?N.mQ.utcInstance:(0,D.tE)(y,s,()=>N.oh.create(s)):null}isDateField(S){return this._dateFieldsSet.has(this.get(S))}isTimeOnlyField(S){return(0,I.OH)(this.get(S))}isNumericField(S){return this._numericFieldsSet.has(this.get(S))}normalizeFieldName(S){var s,f;return null!==(s=null===(f=this.get(S))||void 0===f?void 0:f.name)&&void 0!==s?s:void 0}toJSON(){return{fields:this.fields.map(S=>(0,C.Wj)(S)?S.toJSON():S),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function L(T){return T.trim().toLowerCase()}function O(T){var S,s;return null!==(S=null===(s=(0,I.rS)(T))||void 0===s?void 0:s.toLowerCase())&&void 0!==S?S:""}const j=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function Q(T){var S,s,f,A,o,a,R;const c=new Map;if(!T.fields)return c;const m=!0===T.datesInUnknownTimezone,{timeInfo:E,editFieldsInfo:g}=T,B=null!==(S=E?"startField"in E?E.startField:E.startTimeField:"")&&void 0!==S?S:"",z=null!==(s=E?"endField"in E?E.endField:E.endTimeField:"")&&void 0!==s?s:"",K=function d(T){return"dateFieldsTimeZone"in T}(T)?null!==(f=T.dateFieldsTimeZone)&&void 0!==f?f:null:T.dateFieldsTimeReference?(0,x.ZS)(T.dateFieldsTimeReference):null,J=g?function w(T){return"timeZone"in T}(g)?null!==(A=g.timeZone)&&void 0!==A?A:K:g.dateFieldsTimeReference?(0,x.ZS)(g.dateFieldsTimeReference):null!=K?K:x.n$:null,b=E?function _(T){return"timeZone"in T}(E)?null!==(o=E.timeZone)&&void 0!==o?o:K:E.timeReference?(0,x.ZS)(E.timeReference):K:null,q=new Map([[L(null!==(a=null==g?void 0:g.creationDateField)&&void 0!==a?a:""),J],[L(null!==(R=null==g?void 0:g.editDateField)&&void 0!==R?R:""),J],[L(B),b],[L(z),b]]);for(const{name:ee,type:te}of T.fields)if(j.has(te))c.set(ee,x.L5);else if("date"!==te&&"esriFieldTypeDate"!==te)c.set(ee,null);else if(m)c.set(ee,x.L5);else{var X;const p=null!==(X=q.get(L(null!=ee?ee:"")))&&void 0!==X?X:K;c.set(ee,p)}return c}},64584:(V,Z,l)=>{l.d(Z,{A:()=>d});var w,P=l(8189),C=l(31178),v=l(71065),D=l(85211),N=(l(3248),l(35150),l(40707),l(76576));let _=w=class extends v.oY{constructor(y){super(y),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new C.A}clone(){return new w({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,P._)([(0,D.MZ)({type:String,json:{write:!0}})],_.prototype,"floorField",void 0),(0,P._)([(0,D.MZ)({json:{read:!1,write:!1}})],_.prototype,"viewAllMode",void 0),(0,P._)([(0,D.MZ)({json:{read:!1,write:!1}})],_.prototype,"viewAllLevelIds",void 0),_=w=(0,P._)([(0,N.$)("esri.layers.support.LayerFloorInfo")],_);const d=_},4858:(V,Z,l)=>{l.d(Z,{BI:()=>L,D3:()=>y,XJ:()=>M,lc:()=>d,mX:()=>j,rU:()=>O,tH:()=>A});var P=l(1119);const C="__begin__",v="__end__",D=new RegExp(C,"ig"),W=new RegExp(v,"ig"),I=new RegExp("^"+C,"i"),x=new RegExp(v+"$","i"),N='"',w=N+" + ",_=" + "+N;function d(o){return o.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function y(o){return o.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function M(o){const a={expression:"",type:"none"};return o.labelExpressionInfo?o.labelExpressionInfo.value?(a.expression=o.labelExpressionInfo.value,a.type="conventional"):o.labelExpressionInfo.expression&&(a.expression=o.labelExpressionInfo.expression,a.type="arcade"):null!=o.labelExpression&&(a.expression=d(o.labelExpression),a.type="conventional"),a}function L(o){const a=M(o);if(!a)return null;switch(a.type){case"conventional":return j(a.expression);case"arcade":return a.expression}return null}function O(o){const a=M(o);if(!a)return null;switch(a.type){case"conventional":return function T(o){const a=null==o?void 0:o.match(Q);return(null==a?void 0:a[1].trim())||null}(a.expression);case"arcade":return A(a.expression)}return null}function j(o){let a;return o?(a=(0,P.HC)(o,R=>C+'$feature["'+R+'"]'+v),a=I.test(a)?a.replace(I,""):N+a,a=x.test(a)?a.replace(x,""):a+N,a=a.replaceAll(D,w).replaceAll(W,_)):a='""',a}const Q=/^\s*\{([^}]+)\}\s*$/i,S=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,s=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,f=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function A(o){if(!o)return null;let a=S.exec(o)||s.exec(o);return a?a[1]||a[3]:(a=f.exec(o),a?a[2]:null)}},90543:(V,Z,l)=>{l.d(Z,{S:()=>w});var P=l(3248),C=l(68438);function v(s,f,A){return!!W(s,f,A)}function D(s,f,A){return W(s,f,A)}function W(s,f,A){return s&&s.hasOwnProperty(f)?s[f]:A}const I={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function x(s){var f;const A=null==s||null===(f=s.supportedSpatialAggregationStatistics)||void 0===f?void 0:f.map(o=>o.toLowerCase());return{envelope:!(null==A||!A.includes("envelopeaggregate")),centroid:!(null==A||!A.includes("centroidaggregate")),convexHull:!(null==A||!A.includes("convexhullaggregate"))}}function N(s,f){var A;const o=null==s||null===(A=s.supportedOperationsWithCacheHint)||void 0===A?void 0:A.map(a=>a.toLowerCase());return!(null==o||!o.includes(f.toLowerCase()))}function w(s,f){return{analytics:_(s),attachment:d(s),data:y(s),metadata:M(s),operations:L(s.capabilities,s,f),query:O(s,f),queryRelated:j(s),queryTopFeatures:Q(s),editing:T(s)}}function _(s){return{supportsCacheHint:N(s.advancedQueryCapabilities,"queryAnalytics")}}function d(s){const f=s.attachmentProperties,A={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:N(s.advancedQueryCapabilities,"queryAttachments"),supportsResize:v(s,"supportsAttachmentsResizing",!1)};return f&&Array.isArray(f)&&f.forEach(o=>{const a=I[o.name];a&&(A[a]=!!o.isEnabled)}),A}function y(s){return{isVersioned:v(s,"isDataVersioned",!1),supportsAttachment:v(s,"hasAttachments",!1),supportsM:v(s,"hasM",!1),supportsZ:v(s,"hasZ",!1)}}function M(s){return{supportsAdvancedFieldProperties:v(s,"supportsFieldDescriptionProperty",!1)}}function L(s,f,A){const o=s?s.toLowerCase().split(",").map(K=>K.trim()):[],a=A?(0,C.qg)(A):null,R=o.includes(null!=a&&"MapServer"===a.serverType?"data":"query"),c=o.includes("editing")&&!f.datesInUnknownTimezone;let m=c&&o.includes("create"),E=c&&o.includes("delete"),g=c&&o.includes("update");const B=o.includes("changetracking"),z=f.advancedQueryCapabilities;return c&&!(m||E||g)&&(m=E=g=!0),{supportsCalculate:v(f,"supportsCalculate",!1),supportsTruncate:v(f,"supportsTruncate",!1),supportsValidateSql:v(f,"supportsValidateSql",!1),supportsAdd:m,supportsDelete:E,supportsEditing:c,supportsChangeTracking:B,supportsQuery:R,supportsQueryAnalytics:v(z,"supportsQueryAnalytic",!1),supportsQueryAttachments:v(z,"supportsQueryAttachments",!1),supportsQueryTopFeatures:v(z,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:v(f,"supportsAttachmentsResizing",!1),supportsSync:o.includes("sync"),supportsUpdate:g,supportsExceedsLimitStatistics:v(f,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:v(f,"supportsAsyncConvert3D",!1)}}function O(s,f){var A;const o=s.advancedQueryCapabilities,a=s.ownershipBasedAccessControlForFeatures,R=s.archivingInfo,c=s.currentVersion,E=!(null==f?void 0:f.includes("MapServer"))||c>=(0,P.A)("mapserver-pbf-version-support"),g=(0,C.Wo)(f),B=new Set((null!==(A=s.supportedQueryFormats)&&void 0!==A?A:"").split(",").map(z=>z.toLowerCase().trim()));return{supportsStatistics:v(o,"supportsStatistics",s.supportsStatistics),supportsPercentileStatistics:v(o,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:v(o,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:x(o),supportsCentroid:v(o,"supportsReturningGeometryCentroid",!1),supportsDistance:v(o,"supportsQueryWithDistance",!1),supportsDistinct:v(o,"supportsDistinct",s.supportsAdvancedQueries),supportsExtent:v(o,"supportsReturningQueryExtent",!1),supportsGeometryProperties:v(o,"supportsReturningGeometryProperties",!1),supportsHavingClause:v(o,"supportsHavingClause",!1),supportsOrderBy:v(o,"supportsOrderBy",s.supportsAdvancedQueries),supportsPagination:v(o,"supportsPagination",!1),supportsQuantization:v(s,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:v(s,"supportsQuantizationEditMode",!1),supportsQueryGeometry:v(s,"supportsReturningQueryGeometry",!1),supportsResultType:v(o,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:v(o,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:v(o,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:v(s,"useStandardizedQueries",!1),supportsTopFeaturesQuery:v(o,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:v(a,"allowAnonymousToQuery",!0),supportsQueryByOthers:v(a,"allowOthersToQuery",!0),supportsHistoricMoment:v(R,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:E&&B.has("pbf"),supportsDisjointSpatialRelationship:v(o,"supportsDisjointSpatialRel",!1),supportsCacheHint:v(o,"supportsQueryWithCacheHint",!1)||N(o,"query"),supportsDefaultSpatialReference:v(o,"supportsDefaultSR",!1),supportsCompactGeometry:g,supportsFullTextSearch:v(o,"supportsFullTextSearch",!1),maxRecordCountFactor:D(s,"maxRecordCountFactor",void 0),maxRecordCount:D(s,"maxRecordCount",void 0),standardMaxRecordCount:D(s,"standardMaxRecordCount",void 0),tileMaxRecordCount:D(s,"tileMaxRecordCount",void 0)}}function j(s){const f=s.advancedQueryCapabilities,A=v(f,"supportsAdvancedQueryRelated",!1);return{supportsPagination:v(f,"supportsQueryRelatedPagination",!1),supportsCount:A,supportsOrderBy:A,supportsCacheHint:N(f,"queryRelated")}}function Q(s){return{supportsCacheHint:N(s.advancedQueryCapabilities,"queryTopFilter")}}function T(s){const f=s.ownershipBasedAccessControlForFeatures,A=s?s.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:v(s,"allowGeometryUpdates",!0),supportsGlobalId:v(s,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:v(s,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:v(s,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:v(s,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:v(s,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:v(f,"allowAnonymousToDelete",!0),supportsDeleteByOthers:v(f,"allowOthersToDelete",!0),supportsUpdateByAnonymous:v(f,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:v(f,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:v(A,"supportsAsyncApplyEdits",!1),zDefault:D(s,"zDefault",void 0)}}},78592:(V,Z,l)=>{l.d(Z,{O3:()=>w,PU:()=>x,YW:()=>d,ex:()=>W,hv:()=>_,zp:()=>I});var P=l(69287),C=l(67685),v=l(53781),D=l(89141);const W=2.4;function I(y){return(0,C.PN)(y*W)}function x(y){return(0,C.Lz)(y)/W}function N(y,M,L,O){let{color:j,ratio:Q}=M,{color:T,ratio:S}=L;S===Q&&(1===S?Q-=1e-6:S+=1e-6);const s=(0,P.qE)((O-Q)/(S-Q),0,1);(0,v.l)(y,j.toArray(),T.toArray(),s)}function w(y){const L=new Uint8ClampedArray(2048);if((y=y.filter(({ratio:S})=>S>=0&&S<=1).sort((S,s)=>S.ratio-s.ratio).map(({color:S,ratio:s})=>({color:S,ratio:Math.max(s,.001)}))).length<1)return L;let O=y[0],j=y[0],Q=1;const T=(0,D.vt)();for(let S=0;S<512;S++){const s=(S+.5)/512;for(;s>j.ratio&&Q<y.length;)O=j,j=y[Q++];N(T,O,j,s),L.set(T,4*S)}return L}function _(y,M,L){const O=Math.sqrt(y**2+M**2)/L;return O>1?0:3/(Math.PI*L**2)*(1-O**2)**2}function d(y){return"function"==typeof y?y:y?M=>+M[y]:()=>1}},98789:(V,Z,l)=>{l.d(Z,{q:()=>C});var P=l(23743);function C(v,D,W){if(null==W||!W.features||!W.hasZ)return;const I=(0,P.N)(W.geometryType,D,v.outSpatialReference);if(null!=I)for(const x of W.features)I(x.geometry)}},93327:(V,Z,l)=>{l.d(Z,{A:()=>S});var j,P=l(8189),C=l(21152),v=l(81098),D=l(49976),W=l(71065),I=l(77806),x=l(85211),_=(l(3248),l(35150),l(17221)),d=l(76576),y=l(50305),M=l(32034),L=l(61320),O=l(29141);const Q=new D.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let T=j=class extends W.oY{constructor(s){super(s),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(s,f){const A=M.A.fromJSON(f.spatialReference),o=[];for(let R=0;R<s.length;R++){var a;const c=s[R],m=v.A.fromJSON(c),E=null===(a=c.geometry)||void 0===a?void 0:a.spatialReference;null==m.geometry||E||(m.geometry.spatialReference=A);const g=c.aggregateGeometries,B=m.aggregateGeometries;if(g&&null!=B)for(const z in B){const K=B[z],J=g[z];null==K||(null==J?void 0:J.spatialReference)||(K.spatialReference=A)}o.push(m)}return o}writeGeometryType(s,f,A,o){if(s)return void Q.write(s,f,A,o);const{features:a}=this;if(a)for(const R of a)if(null!=(null==R?void 0:R.geometry))return void Q.write(R.geometry.type,f,A,o)}readQueryGeometry(s,f){if(!s)return null;const A=!!s.spatialReference,o=(0,L.rS)(s);return o&&!A&&f.spatialReference&&(o.spatialReference=M.A.fromJSON(f.spatialReference)),o}writeSpatialReference(s,f){if(s)return void(f.spatialReference=s.toJSON());const{features:A}=this;if(A)for(const o of A)if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(f.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new j(this.cloneProperties())}cloneProperties(){return(0,I.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(s){const f=this.write();if(f.features&&Array.isArray(s)&&s.length>0)for(let A=0;A<f.features.length;A++){const o=f.features[A];if(o.geometry){const a=null==s?void 0:s[A];o.geometry=(null==a?void 0:a.toJSON())||o.geometry}}return f}quantize(s){const{scale:[f,A],translate:[o,a]}=s,m=this.features,E=this._getQuantizationFunction(this.geometryType,g=>Math.round((g-o)/f),g=>Math.round((a-g)/A));for(let g=0,B=m.length;g<B;g++)null!=E&&E(m[g].geometry)||(m.splice(g,1),g--,B--);return this.transform=s,this}unquantize(){var s,f;const{geometryType:A,features:o,transform:a}=this;if(!a)return this;const{translate:[R,c],scale:[m,E]}=a;let z=null,K=null;if(this.hasZ&&null!=(null==a||null===(s=a.scale)||void 0===s?void 0:s[2])){const{translate:[,,b],scale:[,,q]}=a;z=X=>X*q+b}if(this.hasM&&null!=(null==a||null===(f=a.scale)||void 0===f?void 0:f[3])){const{translate:[,,,b],scale:[,,,q]}=a;K=X=>null==X?X:X*q+b}const J=this._getHydrationFunction(A,b=>b*m+R,b=>c-b*E,z,K);for(const{geometry:b}of o)null!=b&&J&&J(b);return this.transform=null,this}_quantizePoints(s,f,A){let o,a;const R=[];for(let c=0,m=s.length;c<m;c++){const E=s[c];if(c>0){const g=f(E[0]),B=A(E[1]);g===o&&B===a||(R.push([g-o,B-a]),o=g,a=B)}else o=f(E[0]),a=A(E[1]),R.push([o,a])}return R.length>0?R:null}_getQuantizationFunction(s,f,A){return"point"===s?o=>(o.x=f(o.x),o.y=A(o.y),o):"polyline"===s||"polygon"===s?o=>{const a=(0,L.Bi)(o)?o.rings:o.paths,R=[];for(let c=0,m=a.length;c<m;c++){const g=this._quantizePoints(a[c],f,A);g&&R.push(g)}return R.length>0?((0,L.Bi)(o)?o.rings=R:o.paths=R,o):null}:"multipoint"===s?o=>{const a=this._quantizePoints(o.points,f,A);return a&&a.length>0?(o.points=a,o):null}:"extent"===s?o=>o:null}_getHydrationFunction(s,f,A,o,a){return"point"===s?R=>{R.x=f(R.x),R.y=A(R.y),o&&(R.z=o(R.z))}:"polyline"===s||"polygon"===s?R=>{const c=(0,L.Bi)(R)?R.rings:R.paths;let m,E;for(let g=0,B=c.length;g<B;g++){const z=c[g];for(let K=0,J=z.length;K<J;K++){const b=z[K];K>0?(m+=b[0],E+=b[1]):(m=b[0],E=b[1]),b[0]=f(m),b[1]=A(E)}}if(o&&a)for(let g=0,B=c.length;g<B;g++){const z=c[g];for(let K=0,J=z.length;K<J;K++){const b=z[K];b[2]=o(b[2]),b[3]=a(b[3])}}else if(o)for(let g=0,B=c.length;g<B;g++){const z=c[g];for(let K=0,J=z.length;K<J;K++){const b=z[K];b[2]=o(b[2])}}else if(a)for(let g=0,B=c.length;g<B;g++){const z=c[g];for(let K=0,J=z.length;K<J;K++){const b=z[K];b[2]=a(b[2])}}}:"extent"===s?R=>{R.xmin=f(R.xmin),R.ymin=A(R.ymin),R.xmax=f(R.xmax),R.ymax=A(R.ymax),o&&null!=R.zmax&&null!=R.zmin&&(R.zmax=o(R.zmax),R.zmin=o(R.zmin)),a&&null!=R.mmax&&null!=R.mmin&&(R.mmax=a(R.mmax),R.mmin=a(R.mmin))}:"multipoint"===s?R=>{const c=R.points;let m,E;for(let g=0,B=c.length;g<B;g++){const z=c[g];g>0?(m+=z[0],E+=z[1]):(m=z[0],E=z[1]),z[0]=f(m),z[1]=A(E)}if(o&&a)for(let g=0,B=c.length;g<B;g++){const z=c[g];z[2]=o(z[2]),z[3]=a(z[3])}else if(o)for(let g=0,B=c.length;g<B;g++){const z=c[g];z[2]=o(z[2])}else if(a)for(let g=0,B=c.length;g<B;g++){const z=c[g];z[2]=a(z[2])}}:null}};(0,P._)([(0,x.MZ)({type:String,json:{write:!0}})],T.prototype,"displayFieldName",void 0),(0,P._)([(0,x.MZ)({type:Boolean,json:{write:{overridePolicy:s=>({enabled:s})}}})],T.prototype,"exceededTransferLimit",void 0),(0,P._)([(0,x.MZ)({type:[v.A],json:{write:!0}})],T.prototype,"features",void 0),(0,P._)([(0,_.w)("features")],T.prototype,"readFeatures",null),(0,P._)([(0,x.MZ)({type:[O.A],json:{write:!0}})],T.prototype,"fields",void 0),(0,P._)([(0,x.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:Q.read}}})],T.prototype,"geometryType",void 0),(0,P._)([(0,y.K)("geometryType")],T.prototype,"writeGeometryType",null),(0,P._)([(0,x.MZ)({type:Boolean,json:{write:{overridePolicy:s=>({enabled:s})}}})],T.prototype,"hasM",void 0),(0,P._)([(0,x.MZ)({type:Boolean,json:{write:{overridePolicy:s=>({enabled:s})}}})],T.prototype,"hasZ",void 0),(0,P._)([(0,x.MZ)({types:C.yR,json:{write:!0}})],T.prototype,"queryGeometry",void 0),(0,P._)([(0,_.w)("queryGeometry")],T.prototype,"readQueryGeometry",null),(0,P._)([(0,x.MZ)({type:M.A,json:{write:!0}})],T.prototype,"spatialReference",void 0),(0,P._)([(0,y.K)("spatialReference")],T.prototype,"writeSpatialReference",null),(0,P._)([(0,x.MZ)({json:{write:!0}})],T.prototype,"transform",void 0),T=j=(0,P._)([(0,d.$)("esri.rest.support.FeatureSet")],T),T.prototype.toJSON.isDefaultToJSON=!0;const S=T},91644:(V,Z,l)=>{l.d(Z,{A7:()=>N,Cx:()=>w,Hk:()=>_,JJ:()=>L,UK:()=>x,jM:()=>y,x3:()=>M}),l(3248);var C=l(88521),v=l(55417),D=l(46602),W=l(47705),I=l(48254);const x=D.A.fromJSON(I.Cb),N=v.A.fromJSON(I.yM),w=C.A.fromJSON(I.WR),_=W.A.fromJSON(I.JZ),y=D.A.fromJSON(I.nC),M=v.A.fromJSON(I.HW),L=C.A.fromJSON(I.b6)},48254:(V,Z,l)=>{l.d(Z,{Cb:()=>v,HW:()=>N,JZ:()=>I,WR:()=>W,b6:()=>w,nC:()=>x,yM:()=>D});const P=[252,146,31,255],v={type:"esriSMS",style:"esriSMSCircle",size:6,color:P,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},D={type:"esriSLS",style:"esriSLSSolid",width:.75,color:P},W={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},I={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},x={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},N={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},w={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);