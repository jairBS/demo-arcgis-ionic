"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6320],{29430:(N,U,s)=>{s.d(U,{$:()=>m,IB:()=>B,N2:()=>g,RH:()=>w,Ws:()=>F,ZD:()=>A});var l=s(68677);function B(i){return"r"in i&&"g"in i&&"b"in i}function O(i){return"h"in i&&"s"in i&&"v"in i}function v(i){return"l"in i&&"a"in i&&"b"in i}function j(i){return"l"in i&&"c"in i&&"h"in i}s(53781),s(89141);const L=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],R=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function S(i,M){const E=[];let P,D;if(i[0].length!==M.length)throw new Error("dimensions do not match");const G=i.length,K=i[0].length;let H=0;for(P=0;P<G;P++){for(H=0,D=0;D<K;D++)H+=i[P][D]*M[D];E.push(H)}return E}function C(i){const M=[i.r/255,i.g/255,i.b/255].map(P=>P<=.04045?P/12.92:((P+.055)/1.055)**2.4),E=S(L,M);return{x:100*E[0],y:100*E[1],z:100*E[2]}}function h(i){const M=S(R,[i.x/100,i.y/100,i.z/100]).map(E=>Math.min(1,Math.max(E<=.0031308?12.92*E:1.055*E**.4166666666666667-.055,0)));return{r:Math.round(255*M[0]),g:Math.round(255*M[1]),b:Math.round(255*M[2])}}function _(i){const M=[i.x/95.047,i.y/100,i.z/108.883].map(E=>E>.008856451679035631?E**.3333333333333333:7.787037037037035*E+.13793103448275862);return{l:116*M[1]-16,a:500*(M[0]-M[1]),b:200*(M[1]-M[2])}}function a(i){const M=i.l,E=[(M+16)/116+i.a/500,(M+16)/116,(M+16)/116-i.b/200].map(P=>P>6/29?P**3:3*(6/29)**2*(P-4/29));return{x:95.047*E[0],y:100*E[1],z:108.883*E[2]}}function m(i){return B(i)?i:j(i)?function u(i){return h(a(function o(i){const E=i.c,P=i.h;return{l:i.l,a:E*Math.cos(P),b:E*Math.sin(P)}}(i)))}(i):v(i)?function d(i){return h(a(i))}(i):function b(i){return"x"in i&&"y"in i&&"z"in i}(i)?h(i):O(i)?function c(i){const M=(i.h+360)%360/60,P=i.v/100*255,D=P*(i.s/100),G=D*(1-Math.abs(M%2-1));let K;switch(Math.floor(M)){case 0:K={r:D,g:G,b:0};break;case 1:K={r:G,g:D,b:0};break;case 2:K={r:0,g:D,b:G};break;case 3:K={r:0,g:G,b:D};break;case 4:K={r:G,g:0,b:D};break;case 5:case 6:K={r:D,g:0,b:G};break;default:K={r:0,g:0,b:0}}return K.r=Math.round(K.r+P-D),K.g=Math.round(K.g+P-D),K.b=Math.round(K.b+P-D),K}(i):i}function g(i){return O(i)?i:function T(i){const M=i.r,E=i.g,P=i.b,D=Math.max(M,E,P),G=D-Math.min(M,E,P);let K=D,H=0===G?0:D===M?(E-P)/G%6:D===E?(P-M)/G+2:(M-E)/G+4,z=0===G?0:G/K;return H<0&&(H+=6),H*=60,z*=100,K*=100/255,{h:H,s:z,v:K}}(m(i))}function A(i){return v(i)?i:function p(i){return _(C(i))}(m(i))}function w(i){return j(i)?i:function f(i){return function y(i){const M=i.l,E=i.a,P=i.b,D=Math.sqrt(E*E+P*P);let G=Math.atan2(P,E);return G=G>0?G:G+2*Math.PI,{l:M,c:D,h:G}}(_(C(i)))}(m(i))}function F(i,M){const{r:E,g:P,b:D}=null!=M&&M.ignoreAlpha?i:function Z(i){let{r:M,g:E,b:P,a:D}=i;return D<1&&(M=Math.round(D*M+255*(1-D)),E=Math.round(D*E+255*(1-D)),P=Math.round(D*P+255*(1-D))),new l.A({r:M,g:E,b:P})}(i);return.2126*E+.7152*P+.0722*D}var x,i;(i=x||(x={}))[i.Low=160]="Low",i[i.High=225]="High"},40856:(N,U,s)=>{s.d(U,{X_:()=>B,i1:()=>O,zx:()=>L});var l=s(69287),$=s(82663);const I=96;function B(C,h){const _=h||C.extent,a=C.width,y=(0,$.GA)(null==_?void 0:_.spatialReference);return _&&a?_.width/a*y*$.dy*I:0}function O(C,h){return C/((0,$.GA)(h)*$.dy*I)}function L(C,h,_){return function R(C,h){return 0===h||(0,l.Sp)(C,h)||C<h}(C,h)&&function S(C,h){return 0===h||(0,l.Sp)(C,h)||C>h}(C,_)}},72211:(N,U,s)=>{s.d(U,{LF:()=>O,M9:()=>v,zu:()=>R});var l=s(5922),$=s(89221),I=s(79845),B=s(26073);function O(h,_,a){try{return function b(h){if(!h||0===h.length)return null;if(function L(h){const _=h[0];return!!_&&"scale"in _}(h)){const _=[];for(const a of h)_.push({scale:a.scale,value:R(a.value)});return _}return R(h)}(h)}catch(o){var y;null==a||null===(y=a.messages)||void 0===y||y.push(o)}return null}function v(h,_,a,y){try{const o=function j(h){const _=(0,I.q)(h);return _?(0,B.dw)(_)?_.map(a=>a.toJSON()):_.map(({scale:a,effects:y})=>({scale:a,value:y.map(o=>o.toJSON())})):null}(h);(0,$.sM)(a,o,_)}catch(o){y.messages&&y.messages.push(o)}}function R(h){if(null==h||!h.length)return"";const _=[];for(const a of h){let y=[];switch(a.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":y=[S(a,"amount")];break;case"blur":y=[S(a,"radius","pt")];break;case"hue-rotate":y=[S(a,"angle","deg")];break;case"drop-shadow":y=[S(a,"xoffset","pt"),S(a,"yoffset","pt"),S(a,"blurRadius","pt"),C(a,"color")];break;case"bloom":y=[S(a,"strength"),S(a,"radius","pt"),S(a,"threshold")]}const o=`${a.type}(${y.filter(Boolean).join(" ")})`;(0,I.q)(o),_.push(o)}return _.join(" ")}function S(h,_,a){if(null==h[_])throw new l.A("effect:missing-parameter",`Missing parameter '${_}' in ${h.type} effect`,{effect:h});return a?h[_]+a:""+h[_]}function C(h,_){if(null==h[_])throw new l.A("effect:missing-parameter",`Missing parameter '${_}' in ${h.type} effect`,{effect:h});const a=h[_];return`rgba(${a[0]||0}, ${a[1]||0}, ${a[2]||0}, ${a[3]/255||0})`}},93410:(N,U,s)=>{s.d(U,{d:()=>L});var l=s(8189),$=s(85211),v=(s(3248),s(35150),s(40707),s(76576)),j=s(72211);const b={read:{reader:j.LF},write:{allowNull:!0,writer:j.M9}},L=R=>{let S=class extends R{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,l._)([(0,$.MZ)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],S.prototype,"blendMode",void 0),(0,l._)([(0,$.MZ)({json:{read:!1,write:!1,origins:{"web-map":b,"portal-item":b}}})],S.prototype,"effect",void 0),S=(0,l._)([(0,v.$)("esri.layers.mixins.BlendLayer")],S),S}},33036:(N,U,s)=>{s.d(U,{j:()=>j});var l=s(8189),$=s(85211),v=(s(3248),s(35150),s(40707),s(76576));const j=L=>{let R=class extends L{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const S={minScale:this.minScale,maxScale:this.maxScale},C=this.parent;C&&"effectiveScaleRange"in C&&function b(L,R){L.minScale=L.minScale>0?R.minScale>0?Math.min(L.minScale,R.minScale):L.minScale:R.minScale,L.maxScale=L.maxScale>0?R.maxScale>0?Math.max(L.maxScale,R.maxScale):L.maxScale:R.maxScale}(S,C.effectiveScaleRange);const h=this._get("effectiveScaleRange");return h&&h.minScale===S.minScale&&h.maxScale===S.maxScale?h:S}};return(0,l._)([(0,$.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,"minScale",void 0),(0,l._)([(0,$.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,"maxScale",void 0),(0,l._)([(0,$.MZ)({readOnly:!0})],R.prototype,"effectiveScaleRange",null),R=(0,l._)([(0,v.$)("esri.layers.mixins.ScaleRangeLayer")],R),R}},1684:(N,U,s)=>{s.d(U,{$:()=>a});var l=s(10467),$=s(68677),I=s(29430),B=s(77806),O=s(48218),v=s(32117),j=s(5922),b=s(35150),L=s(721);function R(y,o,p,d,f){if(null==y)return null;const u=y.referencesGeometry()&&f?function C(y,o,p){const{transform:d,hasZ:f,hasM:u}=p;S.has(o)||S.set(o,function h(y){const o={};switch(y){case"esriGeometryPoint":return(p,d,f,u)=>(0,L.Tr)(d,o,p,f,u);case"esriGeometryPolygon":return(p,d,f,u)=>(0,L.$X)(d,o,p,f,u);case"esriGeometryPolyline":return(p,d,f,u)=>(0,L.P5)(d,o,p,f,u);case"esriGeometryMultipoint":return(p,d,f,u)=>(0,L.SW)(d,o,p,f,u);default:return b.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new j.A("mapview-arcade",`Unable to handle geometryType: ${y}`)),p=>p}}(o));const T=S.get(o)(y.geometry,d,f,u);return{...y,geometry:T}}(o,d,f):o,T=y.repurposeFeature(u);try{return y.evaluate({...p,$feature:T},y.services)}catch(c){return b.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const S=new Map,_=y=>{if(!y)return[0,0,0,0];const{r:o,g:p,b:d,a:f}=y;return[o,p,d,255*f]};class a{static findApplicableOverrides(o,p,d){if(o&&p){if(o.primitiveName){let f=!1;for(const u of d)if(u.primitiveName===o.primitiveName){f=!0;break}if(!f)for(const u of p)u.primitiveName===o.primitiveName&&d.push(u)}switch(o.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(o.effects)for(const f of o.effects)a.findApplicableOverrides(f,p,d);if(o.symbolLayers)for(const f of o.symbolLayers)a.findApplicableOverrides(f,p,d);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(o.effects)for(const f of o.effects)a.findApplicableOverrides(f,p,d);if(o.markerPlacement&&a.findApplicableOverrides(o.markerPlacement,p,d),"CIMVectorMarker"===o.type){if(o.markerGraphics)for(const f of o.markerGraphics)a.findApplicableOverrides(f,p,d),a.findApplicableOverrides(f.symbol,p,d)}else"CIMCharacterMarker"===o.type?a.findApplicableOverrides(o.symbol,p,d):"CIMHatchFill"===o.type?a.findApplicableOverrides(o.lineSymbol,p,d):"CIMPictureMarker"===o.type&&a.findApplicableOverrides(o.animatedSymbolProperties,p,d)}}}static findEffectOverrides(o,p){if(!o)return null;if("CIMGeometricEffectDashes"===o.type&&(0,v.K3)(o),!p||!o.primitiveName)return{type:"cim-effect-info",effect:o,overrides:[]};const d=o.primitiveName,f=[];for(const u of p)u.primitiveName===d&&f.push({...u,propertyName:(0,v.YF)(u.propertyName)});return{type:"cim-effect-info",effect:o,overrides:f}}static resolveSymbolOverrides(o,p,d,f,u,T,c){return(0,l.A)(function*(){if(null==o||!o.symbol)return null;let{symbol:m,primitiveOverrides:g}=o;const A=!!g;if(!A&&!f)return m;m=(0,B.o8)(m),g=(0,B.o8)(g);let w=!0;if(p||(p={attributes:{}},w=!1),A){if(w||(g=g.filter(W=>{var Z;return!(null!==(Z=W.valueExpressionInfo)&&void 0!==Z&&Z.expression.includes("$feature"))})),c||(g=g.filter(W=>{var Z;return!(null!==(Z=W.valueExpressionInfo)&&void 0!==Z&&Z.expression.includes("$view"))})),g.length>0){const W={spatialReference:d,fields:(0,v.O2)(p.attributes),geometryType:u};yield a.createRenderExpressions(g,W),a.evaluateOverrides(g,p,null!=u?u:"esriGeometryPoint",T,c)}a.applyOverrides(m,g)}return f&&a.applyDictionaryTextOverrides(m,p,f,null),m})()}static createRenderExpressions(o,p){return(0,l.A)(function*(){const d=[];for(const f of o){const u=f.valueExpressionInfo;if(!u||a._expressionToRenderExpression.has(u.expression))continue;const T=(0,O.Ad)(u.expression,p.spatialReference,p.fields);d.push(T),T.then(c=>a._expressionToRenderExpression.set(u.expression,c))}d.length>0&&(yield Promise.all(d))})()}static evaluateOverrides(o,p,d,f,u){const T={$view:{scale:null==u?void 0:u.scale}};for(const c of o){c.value&&"object"==typeof c.value&&(0,I.IB)(c.value)&&("Color"===c.propertyName||"StrokeColor"===c.propertyName)&&(c.value=_(c.value));const m=c.valueExpressionInfo;if(!m)continue;const g=a._expressionToRenderExpression.get(m.expression);g&&(c.value=R(g,p,T,d,f))}}static applyDictionaryTextOverrides(o,p,d,f,u="Normal"){if(null!=o&&o.type)switch(o.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const T=o.symbolLayers;if(!T)return;for(const c of T)c&&"CIMVectorMarker"===c.type&&a.applyDictionaryTextOverrides(c,p,d,f,"CIMTextSymbol"===o.type?o.textCase:u)}break;case"CIMVectorMarker":{const T=o.markerGraphics;if(!T)return;for(const c of T)c&&a.applyDictionaryTextOverrides(c,p,d,f)}break;case"CIMMarkerGraphic":{const T=o.textString;if(T&&T.includes("[")){const c=(0,v.gQ)(T,d);o.textString=(0,v.FM)(p,c,f,u)}}}}static applyOverrides(o,p,d,f){if(o.primitiveName)for(const u of p)if(u.primitiveName===o.primitiveName){const T=(0,v.YF)(u.propertyName);if(f&&f.push({cim:o,nocapPropertyName:T,value:o[T]}),d){let c=!1;for(const m of d)m.primitiveName===o.primitiveName&&(c=!0);c||d.push(u)}null!=u.value&&(o[T]=u.value)}switch(o.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(o.effects)for(const u of o.effects)a.applyOverrides(u,p,d,f);if(o.symbolLayers)for(const u of o.symbolLayers)a.applyOverrides(u,p,d,f);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(o.effects)for(const u of o.effects)a.applyOverrides(u,p,d,f);if("CIMVectorMarker"===o.type&&o.markerGraphics)for(const u of o.markerGraphics)a.applyOverrides(u,p,d,f),a.applyOverrides(u.symbol,p,d,f)}}static restoreOverrides(o){for(const p of o)p.cim[p.nocapPropertyName]=p.value}static buildOverrideKey(o){let p="";for(const d of o)void 0!==d.value&&(p+=`${d.primitiveName}${d.propertyName}${JSON.stringify(d.value)}`);return p}static toValue(o,p){if("DashTemplate"===o)return p.split(" ").map(d=>Number(d));if("Color"===o){const d=new $.A(p).toRgba();return d[3]*=255,d}return p}}a._expressionToRenderExpression=new Map},88485:(N,U,s)=>{s.d(U,{A:()=>T});var _,l=s(8189),$=s(49976),I=s(71065),B=s(11432),O=s(85211),L=(s(3248),s(35150),s(40707),s(17221)),R=s(76576),S=s(50305),C=s(10467),h=s(86300);let a=_=class extends I.oY{constructor(c){super(c)}collectRequiredFields(c,m){var g=this;return(0,C.A)(function*(){return(0,h.Dx)(c,m,g.expression)})()}clone(){return new _({expression:this.expression,title:this.title})}equals(c){return this.expression===c.expression&&this.title===c.title}};(0,l._)([(0,O.MZ)({type:String,json:{write:!0}})],a.prototype,"expression",void 0),(0,l._)([(0,O.MZ)({type:String,json:{write:!0}})],a.prototype,"title",void 0),a=_=(0,l._)([(0,R.$)("esri.layers.support.FeatureExpressionInfo")],a);const y=a;var p,o=s(82575);const d=(0,$.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),f=new $.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let u=p=class extends I.oY{constructor(c){super(c),this.offset=null}readFeatureExpressionInfo(c,m){return null!=c?c:m.featureExpression&&0===m.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(c,m,g,A){m[g]=c.write({},A),"0"===c.expression&&(m.featureExpression={value:0})}get mode(){const{offset:c,featureExpressionInfo:m}=this;return this._isOverridden("mode")?this._get("mode"):null!=c||m?"relative-to-ground":"on-the-ground"}set mode(c){this._override("mode",c)}set unit(c){this._set("unit",c)}write(c,m){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(c,m):null}clone(){return new p({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(c){return this.mode===c.mode&&this.offset===c.offset&&this.unit===c.unit&&(0,B.CM)(this.featureExpressionInfo,c.featureExpressionInfo)}};(0,l._)([(0,O.MZ)({type:y,json:{write:!0}})],u.prototype,"featureExpressionInfo",void 0),(0,l._)([(0,L.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],u.prototype,"readFeatureExpressionInfo",null),(0,l._)([(0,S.K)("featureExpressionInfo",{featureExpressionInfo:{type:y},"featureExpression.value":{type:[0]}})],u.prototype,"writeFeatureExpressionInfo",null),(0,l._)([(0,O.MZ)({type:d.apiValues,nonNullable:!0,json:{type:d.jsonValues,read:d.read,write:{writer:d.write,isRequired:!0}}})],u.prototype,"mode",null),(0,l._)([(0,O.MZ)({type:Number,json:{write:!0}})],u.prototype,"offset",void 0),(0,l._)([(0,O.MZ)({type:o.KQ,json:{type:String,read:f.read,write:f.write}})],u.prototype,"unit",null),u=p=(0,l._)([(0,R.$)("esri.layers.support.ElevationInfo")],u);const T=u},82575:(N,U,s)=>{s.d(U,{Ao:()=>I,KQ:()=>O});var l=s(48716);function I(v){return 1/(l.j[v]||1)}const O=function B(){const v=Object.keys(l.j);return v.sort(),v}()},29459:(N,U,s)=>{s.d(U,{e:()=>T});var a,l=s(8189),$=s(31178),I=s(5605),B=s(5922),O=s(48900),v=s(85211),R=(s(3248),s(35150),s(40707),s(76576)),S=s(40856),C=s(88766),h=s(60746),_=s(66727);let y=a=class extends _.A{constructor(c){super(c),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new a({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,l._)([(0,v.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"left",void 0),(0,l._)([(0,v.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"right",void 0),(0,l._)([(0,v.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"top",void 0),(0,l._)([(0,v.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"bottom",void 0),y=a=(0,l._)([(0,R.$)("esri.views.layers.support.ClipRect")],y);const o=y;var p=s(75644);let d=class extends _.A{constructor(c){super(c),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,l._)([(0,v.MZ)({type:[[[Number]]],json:{write:!0}})],d.prototype,"path",void 0),d=(0,l._)([(0,R.$)("esri.views.layers.support.Path")],d);const u=$.A.ofType({key:"type",base:null,typeMap:{rect:o,path:d,geometry:p.A}}),T=c=>{let m=class extends c{constructor(){super(...arguments),this.attached=!1,this.clips=new u,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){var g,A,w,W;const Z=null===(g=null===(A=this.view)||void 0===A?void 0:A.spatialReferenceLocked)||void 0===g||g;(null===(w=this.view)||void 0===w?void 0:w.spatialReference)&&Z&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new B.A("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new C.m),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,O.wB)(()=>this.suspended,x=>{this.container&&(this.container.visible=!x)},O.pc),(0,O.wB)(()=>this.updateSuspended,x=>{this.view&&!x&&this.updateRequested&&this.view.requestUpdate()},O.pc),(0,O.wB)(()=>{var x,V;return null!==(x=null===(V=this.layer)||void 0===V?void 0:V.opacity)&&void 0!==x?x:1},x=>{this.container&&(this.container.opacity=x)},O.pc),(0,O.wB)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",x=>{this.container&&(this.container.blendMode=x)},O.pc),(0,O.wB)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,x=>{this.container&&(this.container.effect=x)},O.pc),(0,O.wB)(()=>this.highlightOptions,x=>this.container.highlightOptions=x,O.pc),(0,O.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},O.pc),(0,O.wB)(()=>{var x;return{scale:null===(x=this.view)||void 0===x?void 0:x.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}},({scale:x})=>{const V=null!=x&&this.isVisibleAtScale(x);V!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",V)},O.pc)],"constructor"),null!==(W=this.view)&&void 0!==W&&W.whenLayerView?this.view.whenLayerView(this.layer).then(x=>{x===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){var g;const A=null===(g=this.view)||void 0===g?void 0:g.spatialReference;return null==A||this.supportsSpatialReference(A)}get updateSuspended(){return this.suspended}get updating(){var g;return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(null===(g=this._updatingHandles)||void 0===g||!g.updating))}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(g){const A=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!A)return!0;const{minScale:w,maxScale:W}=A;return(0,S.zx)(g,w,W)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(g){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",g),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(g))):this.updateRequested=!1}hitTest(g,A){return Promise.resolve(null)}supportsSpatialReference(g){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const g=super.getSuspendInfo(),A=!this.spatialReferenceSupported,w=this.visibleAtCurrentScale;return A&&(g.spatialReferenceNotSupported=A),w&&(g.outsideScaleRange=w),g}addAttachHandles(g){this.addHandles(g,"attach")}};return(0,l._)([(0,v.MZ)()],m.prototype,"attached",void 0),(0,l._)([(0,v.MZ)({type:u,set(g){const A=(0,I.V)(g,this._get("clips"),u);this._set("clips",A)}})],m.prototype,"clips",void 0),(0,l._)([(0,v.MZ)()],m.prototype,"container",void 0),(0,l._)([(0,v.MZ)()],m.prototype,"moving",void 0),(0,l._)([(0,v.MZ)({readOnly:!0})],m.prototype,"spatialReferenceSupported",null),(0,l._)([(0,v.MZ)({readOnly:!0})],m.prototype,"updateParameters",void 0),(0,l._)([(0,v.MZ)()],m.prototype,"updateRequested",void 0),(0,l._)([(0,v.MZ)()],m.prototype,"updateSuspended",null),(0,l._)([(0,v.MZ)()],m.prototype,"updating",null),(0,l._)([(0,v.MZ)()],m.prototype,"view",void 0),(0,l._)([(0,v.MZ)({readOnly:!0})],m.prototype,"visibleAtCurrentScale",void 0),(0,l._)([(0,v.MZ)({type:h.A})],m.prototype,"highlightOptions",void 0),m=(0,l._)([(0,R.$)("esri.views.2d.layers.LayerView2D")],m),m}},61919:(N,U,s)=>{s.r(U),s.d(U,{default:()=>T});var l=s(8189),$=s(68677),I=s(81098),B=s(11432),O=s(48900),v=s(85211),R=(s(3248),s(35150),s(40707),s(76576)),S=s(36819),C=s(90660),h=s(71065);let _=class extends((0,C.O)(h.oY)){constructor(c){super(c),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,l._)([(0,v.MZ)({type:Boolean})],_.prototype,"frameCenter",void 0),(0,l._)([(0,v.MZ)({type:Boolean})],_.prototype,"frameOutline",void 0),(0,l._)([(0,v.MZ)({type:Boolean})],_.prototype,"lineOfSight",void 0),(0,l._)([(0,v.MZ)({type:Boolean})],_.prototype,"sensorLocation",void 0),(0,l._)([(0,v.MZ)({type:Boolean})],_.prototype,"sensorTrail",void 0),_=(0,l._)([(0,R.$)("esri.layers.support.TelemetryDisplay")],_);const a=_;var y=s(29459),o=s(57052),p=s(80745),d=s(41474);const f=new $.A([255,127,0]);let u=class extends((0,y.e)(d.A)){constructor(){super(...arguments),this._graphicsLayer=new S.A,this._frameOutlineGraphic=new I.A({symbol:{type:"simple-fill",outline:{type:"simple-line",color:f}}}),this._sensorTrailGraphic=new I.A({symbol:{type:"simple-line",color:f}}),this._lineOfSightGraphic=new I.A({symbol:{type:"simple-line",color:f}}),this._sensorLocationGraphic=new I.A({symbol:{type:"simple-marker",color:f}}),this._frameCenterGraphic=new I.A({symbol:{type:"simple-marker",color:f}}),this.layer=null,this.symbolColor=f,this.visibleTelemetryElements=null}destroy(){this._graphicsLayer=(0,B.pR)(this._graphicsLayer)}initialize(){var c,m,g,A,w,W,Z,F,x,V;this.addHandles((0,O.wB)(()=>this.symbolColor,()=>{this._frameOutlineGraphic.symbol.outline.color=this.symbolColor,this._sensorTrailGraphic.symbol.color=this.symbolColor,this._lineOfSightGraphic.symbol.color=this.symbolColor,this._sensorLocationGraphic.symbol.color=this.symbolColor,this._frameCenterGraphic.symbol.color=this.symbolColor},O.Vh)),this._graphicsLayer.graphics.addMany([this._frameOutlineGraphic,this._sensorTrailGraphic,this._lineOfSightGraphic,this._sensorLocationGraphic,this._frameCenterGraphic]),this.visibleTelemetryElements=new a({frameCenter:null===(c=null===(m=this.layer.telemetryDisplay)||void 0===m?void 0:m.frameCenter)||void 0===c||c,frameOutline:null===(g=null===(A=this.layer.telemetryDisplay)||void 0===A?void 0:A.frameOutline)||void 0===g||g,lineOfSight:null===(w=null===(W=this.layer.telemetryDisplay)||void 0===W?void 0:W.lineOfSight)||void 0===w||w,sensorLocation:null===(Z=null===(F=this.layer.telemetryDisplay)||void 0===F?void 0:F.sensorLocation)||void 0===Z||Z,sensorTrail:null===(x=null===(V=this.layer.telemetryDisplay)||void 0===V?void 0:V.sensorTrail)||void 0===x||x})}attach(){this.graphicsView=new p.A({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this._graphicsLayer.graphics,container:new o.A(this.view.featuresTilingScheme)}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this._graphicsLayer.on("graphic-update",this.graphicsView.graphicUpdateHandler)),this.addAttachHandles([(0,O.wB)(()=>{var c,m,g,A,w;return[null===(c=this.layer.telemetryDisplay)||void 0===c?void 0:c.frameCenter,null===(m=this.layer.telemetryDisplay)||void 0===m?void 0:m.frameOutline,null===(g=this.layer.telemetryDisplay)||void 0===g?void 0:g.sensorLocation,null===(A=this.layer.telemetryDisplay)||void 0===A?void 0:A.sensorTrail,null===(w=this.layer.telemetryDisplay)||void 0===w?void 0:w.lineOfSight]},()=>this._updateVisibleTelemetryElements(),O.Vh),(0,O.wB)(()=>{var c,m,g,A,w;return[this.layer.telemetry,null===(c=this.visibleTelemetryElements)||void 0===c?void 0:c.frameCenter,null===(m=this.visibleTelemetryElements)||void 0===m?void 0:m.frameOutline,null===(g=this.visibleTelemetryElements)||void 0===g?void 0:g.sensorLocation,null===(A=this.visibleTelemetryElements)||void 0===A?void 0:A.sensorTrail,null===(w=this.visibleTelemetryElements)||void 0===w?void 0:w.lineOfSight]},()=>this._updateGraphicGeometries(),O.Vh)])}detach(){this.container.removeAllChildren(),this.graphicsView=(0,B.pR)(this.graphicsView)}supportsSpatialReference(c){return!0}moveStart(){}moveEnd(){}viewChange(){this.graphicsView.viewChange()}update(c){this.graphicsView.processUpdate(c)}isUpdating(){return!this.graphicsView||this.graphicsView.updating}_updateVisibleTelemetryElements(){this.visibleTelemetryElements&&this.layer.telemetryDisplay&&(this.visibleTelemetryElements.frameCenter=this.layer.telemetryDisplay.frameCenter,this.visibleTelemetryElements.frameOutline=this.layer.telemetryDisplay.frameOutline,this.visibleTelemetryElements.lineOfSight=this.layer.telemetryDisplay.lineOfSight,this.visibleTelemetryElements.sensorLocation=this.layer.telemetryDisplay.sensorLocation,this.visibleTelemetryElements.sensorTrail=this.layer.telemetryDisplay.sensorTrail)}_updateGraphicGeometries(){const{telemetry:c}=this.layer,{visibleTelemetryElements:m}=this;c&&m&&(this._frameOutlineGraphic.geometry=m.frameOutline&&c.frameOutline?this.layer.telemetry.frameOutline:null,this._sensorTrailGraphic.geometry=m.sensorTrail&&c.sensorTrail?this.layer.telemetry.sensorTrail:null,this._lineOfSightGraphic.geometry=m.lineOfSight&&c.lineOfSight?this.layer.telemetry.lineOfSight:null,this._sensorLocationGraphic.geometry=m.sensorLocation&&c.sensorLocation?this.layer.telemetry.sensorLocation:null,this._frameCenterGraphic.geometry=m.frameCenter&&c.frameCenter?this.layer.telemetry.frameCenter:null)}};(0,l._)([(0,v.MZ)()],u.prototype,"graphicsView",void 0),(0,l._)([(0,v.MZ)()],u.prototype,"layer",void 0),(0,l._)([(0,v.MZ)()],u.prototype,"symbolColor",void 0),(0,l._)([(0,v.MZ)({type:a})],u.prototype,"visibleTelemetryElements",void 0),u=(0,l._)([(0,R.$)("esri.views.2d.layers.VideoLayerView2D")],u);const T=u},57052:(N,U,s)=>{s.d(U,{A:()=>B});var l=s(69473),$=s(57641),I=s(62931);class B extends $.f{renderChildren(v){for(const j of this.children)j.setTransform(v.state);if(super.renderChildren(v),this.attributeView.update(),this.children.some(j=>j.hasData)){switch(v.drawPhase){case l.S5.MAP:this._renderChildren(v,l.RI.All);break;case l.S5.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(v)}this._boundsRenderer&&this._boundsRenderer.doRender(v)}}_renderHighlight(v){(0,I.lB)(v,!1,j=>{this._renderChildren(j,l.RI.Highlight)})}}},41474:(N,U,s)=>{s.d(U,{A:()=>_});var l=s(8189),$=s(98877),I=s(42425),B=s(3046),O=s(35150),v=s(11432),j=s(64261),b=s(85211),S=(s(3248),s(40707),s(76576)),C=s(56985);let h=class extends((0,B.sA)((0,j.g)(I.A.EventedMixin($.A)))){constructor(a){super(a),this._updatingHandles=new C.U,this.layer=null,this.parent=null}initialize(){this.when().catch(a=>{if("layerview:create-error"!==a.name){var y;const o=this.layer&&this.layer.id||"no id",p=(null===(y=this.layer)||void 0===y?void 0:y.title)||"no title";O.A.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${p}', id: '${o}')`,a)}})}destroy(){this._updatingHandles=(0,v.pR)(this._updatingHandles)}get fullOpacity(){var a,y,o,p;return(null!==(a=null===(y=this.layer)||void 0===y?void 0:y.opacity)&&void 0!==a?a:1)*(null!==(o=null===(p=this.parent)||void 0===p?void 0:p.fullOpacity)&&void 0!==o?o:1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var a;return!this.suspended&&!0===(null===(a=this.layer)||void 0===a?void 0:a.legendEnabled)}get updating(){var a;return!!(null!==(a=this._updatingHandles)&&void 0!==a&&a.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var a;return!0===(null===(a=this.layer)||void 0===a?void 0:a.visible)}set visible(a){this._overrideIfSome("visible",a)}canResume(){var a,y,o;return this.visible&&(null===(a=this.layer)||void 0===a?void 0:a.loaded)&&!(null!==(y=this.parent)&&void 0!==y&&y.suspended)&&(null===(o=this.view)||void 0===o?void 0:o.ready)||!1}getSuspendInfo(){var a,y;const o=null!==(a=this.parent)&&void 0!==a&&a.suspended?this.parent.suspendInfo:{};return null!==(y=this.view)&&void 0!==y&&y.ready||(o.viewNotReady=!0),this.layer&&this.layer.loaded||(o.layerNotLoaded=!0),this.visible||(o.layerInvisible=!0),o}isUpdating(){return!1}};(0,l._)([(0,b.MZ)()],h.prototype,"fullOpacity",null),(0,l._)([(0,b.MZ)()],h.prototype,"layer",void 0),(0,l._)([(0,b.MZ)()],h.prototype,"parent",void 0),(0,l._)([(0,b.MZ)({readOnly:!0})],h.prototype,"suspended",null),(0,l._)([(0,b.MZ)({readOnly:!0})],h.prototype,"suspendInfo",null),(0,l._)([(0,b.MZ)({readOnly:!0})],h.prototype,"legendEnabled",null),(0,l._)([(0,b.MZ)({type:Boolean,readOnly:!0})],h.prototype,"updating",null),(0,l._)([(0,b.MZ)({readOnly:!0})],h.prototype,"updatingProgress",null),(0,l._)([(0,b.MZ)()],h.prototype,"visible",null),(0,l._)([(0,b.MZ)()],h.prototype,"view",void 0),h=(0,l._)([(0,S.$)("esri.views.layers.LayerView")],h);const _=h},66727:(N,U,s)=>{s.d(U,{A:()=>L});var l=s(8189),$=s(71065),I=s(85211),j=(s(3248),s(35150),s(40707),s(76576));let b=class extends $.oY{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,l._)([(0,I.MZ)({readOnly:!0})],b.prototype,"version",null),b=(0,l._)([(0,j.$)("esri.views.layers.support.ClipArea")],b);const L=b},75644:(N,U,s)=>{s.d(U,{A:()=>y});var h,l=s(8189),I=(s(21152),s(85211)),j=(s(3248),s(35150),s(40707),s(76576)),b=s(68643),L=s(61320),R=s(66727),S=s(28067),C=s(55861);const _={base:b.A,key:"type",typeMap:{extent:S.A,polygon:C.A}};let a=h=class extends R.A{constructor(o){super(o),this.type="geometry",this.geometry=null}clone(){var o,p;return new h({geometry:null!==(o=null===(p=this.geometry)||void 0===p?void 0:p.clone())&&void 0!==o?o:null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,l._)([(0,I.MZ)({types:_,json:{read:L.rS,write:!0}})],a.prototype,"geometry",void 0),a=h=(0,l._)([(0,j.$)("esri.views.layers.support.Geometry")],a);const y=a}}]);