"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7235],{29430:(G,B,o)=>{o.d(B,{$:()=>m,IB:()=>L,N2:()=>y,RH:()=>$,Ws:()=>F,ZD:()=>S});var u=o(68677);function L(s){return"r"in s&&"g"in s&&"b"in s}function E(s){return"h"in s&&"s"in s&&"v"in s}function _(s){return"l"in s&&"a"in s&&"b"in s}function A(s){return"l"in s&&"c"in s&&"h"in s}o(53781),o(89141);const x=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],K=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function w(s,p){const v=[];let O,P;if(s[0].length!==p.length)throw new Error("dimensions do not match");const b=s.length,W=s[0].length;let N=0;for(O=0;O<b;O++){for(N=0,P=0;P<W;P++)N+=s[O][P]*p[P];v.push(N)}return v}function R(s){const p=[s.r/255,s.g/255,s.b/255].map(O=>O<=.04045?O/12.92:((O+.055)/1.055)**2.4),v=w(x,p);return{x:100*v[0],y:100*v[1],z:100*v[2]}}function f(s){const p=w(K,[s.x/100,s.y/100,s.z/100]).map(v=>Math.min(1,Math.max(v<=.0031308?12.92*v:1.055*v**.4166666666666667-.055,0)));return{r:Math.round(255*p[0]),g:Math.round(255*p[1]),b:Math.round(255*p[2])}}function T(s){const p=[s.x/95.047,s.y/100,s.z/108.883].map(v=>v>.008856451679035631?v**.3333333333333333:7.787037037037035*v+.13793103448275862);return{l:116*p[1]-16,a:500*(p[0]-p[1]),b:200*(p[1]-p[2])}}function c(s){const p=s.l,v=[(p+16)/116+s.a/500,(p+16)/116,(p+16)/116-s.b/200].map(O=>O>6/29?O**3:3*(6/29)**2*(O-4/29));return{x:95.047*v[0],y:100*v[1],z:108.883*v[2]}}function m(s){return L(s)?s:A(s)?function h(s){return f(c(function i(s){const v=s.c,O=s.h;return{l:s.l,a:v*Math.cos(O),b:v*Math.sin(O)}}(s)))}(s):_(s)?function d(s){return f(c(s))}(s):function D(s){return"x"in s&&"y"in s&&"z"in s}(s)?f(s):E(s)?function M(s){const p=(s.h+360)%360/60,O=s.v/100*255,P=O*(s.s/100),b=P*(1-Math.abs(p%2-1));let W;switch(Math.floor(p)){case 0:W={r:P,g:b,b:0};break;case 1:W={r:b,g:P,b:0};break;case 2:W={r:0,g:P,b};break;case 3:W={r:0,g:b,b:P};break;case 4:W={r:b,g:0,b:P};break;case 5:case 6:W={r:P,g:0,b};break;default:W={r:0,g:0,b:0}}return W.r=Math.round(W.r+O-P),W.g=Math.round(W.g+O-P),W.b=Math.round(W.b+O-P),W}(s):s}function y(s){return E(s)?s:function C(s){const p=s.r,v=s.g,O=s.b,P=Math.max(p,v,O),b=P-Math.min(p,v,O);let W=P,N=0===b?0:P===p?(v-O)/b%6:P===v?(O-p)/b+2:(p-v)/b+4,z=0===b?0:b/W;return N<0&&(N+=6),N*=60,z*=100,W*=100/255,{h:N,s:z,v:W}}(m(s))}function S(s){return _(s)?s:function a(s){return T(R(s))}(m(s))}function $(s){return A(s)?s:function l(s){return function g(s){const p=s.l,v=s.a,O=s.b,P=Math.sqrt(v*v+O*O);let b=Math.atan2(O,v);return b=b>0?b:b+2*Math.PI,{l:p,c:P,h:b}}(T(R(s)))}(m(s))}function F(s,p){const{r:v,g:O,b:P}=null!=p&&p.ignoreAlpha?s:function V(s){let{r:p,g:v,b:O,a:P}=s;return P<1&&(p=Math.round(P*p+255*(1-P)),v=Math.round(P*v+255*(1-P)),O=Math.round(P*O+255*(1-P))),new u.A({r:p,g:v,b:O})}(s);return.2126*v+.7152*O+.0722*P}var I,s;(s=I||(I={}))[s.Low=160]="Low",s[s.High=225]="High"},40856:(G,B,o)=>{o.d(B,{X_:()=>L,i1:()=>E,zx:()=>x});var u=o(69287),U=o(82663);const j=96;function L(R,f){const T=f||R.extent,c=R.width,g=(0,U.GA)(null==T?void 0:T.spatialReference);return T&&c?T.width/c*g*U.dy*j:0}function E(R,f){return R/((0,U.GA)(f)*U.dy*j)}function x(R,f,T){return function K(R,f){return 0===f||(0,u.Sp)(R,f)||R<f}(R,f)&&function w(R,f){return 0===f||(0,u.Sp)(R,f)||R>f}(R,T)}},1684:(G,B,o)=>{o.d(B,{$:()=>c});var u=o(10467),U=o(68677),j=o(29430),L=o(77806),E=o(48218),_=o(32117),A=o(5922),D=o(35150),x=o(721);function K(g,i,a,d,l){if(null==g)return null;const h=g.referencesGeometry()&&l?function R(g,i,a){const{transform:d,hasZ:l,hasM:h}=a;w.has(i)||w.set(i,function f(g){const i={};switch(g){case"esriGeometryPoint":return(a,d,l,h)=>(0,x.Tr)(d,i,a,l,h);case"esriGeometryPolygon":return(a,d,l,h)=>(0,x.$X)(d,i,a,l,h);case"esriGeometryPolyline":return(a,d,l,h)=>(0,x.P5)(d,i,a,l,h);case"esriGeometryMultipoint":return(a,d,l,h)=>(0,x.SW)(d,i,a,l,h);default:return D.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new A.A("mapview-arcade",`Unable to handle geometryType: ${g}`)),a=>a}}(i));const C=w.get(i)(g.geometry,d,l,h);return{...g,geometry:C}}(i,d,l):i,C=g.repurposeFeature(h);try{return g.evaluate({...a,$feature:C},g.services)}catch(M){return D.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",M),null}}const w=new Map,T=g=>{if(!g)return[0,0,0,0];const{r:i,g:a,b:d,a:l}=g;return[i,a,d,255*l]};class c{static findApplicableOverrides(i,a,d){if(i&&a){if(i.primitiveName){let l=!1;for(const h of d)if(h.primitiveName===i.primitiveName){l=!0;break}if(!l)for(const h of a)h.primitiveName===i.primitiveName&&d.push(h)}switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(i.effects)for(const l of i.effects)c.findApplicableOverrides(l,a,d);if(i.symbolLayers)for(const l of i.symbolLayers)c.findApplicableOverrides(l,a,d);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(i.effects)for(const l of i.effects)c.findApplicableOverrides(l,a,d);if(i.markerPlacement&&c.findApplicableOverrides(i.markerPlacement,a,d),"CIMVectorMarker"===i.type){if(i.markerGraphics)for(const l of i.markerGraphics)c.findApplicableOverrides(l,a,d),c.findApplicableOverrides(l.symbol,a,d)}else"CIMCharacterMarker"===i.type?c.findApplicableOverrides(i.symbol,a,d):"CIMHatchFill"===i.type?c.findApplicableOverrides(i.lineSymbol,a,d):"CIMPictureMarker"===i.type&&c.findApplicableOverrides(i.animatedSymbolProperties,a,d)}}}static findEffectOverrides(i,a){if(!i)return null;if("CIMGeometricEffectDashes"===i.type&&(0,_.K3)(i),!a||!i.primitiveName)return{type:"cim-effect-info",effect:i,overrides:[]};const d=i.primitiveName,l=[];for(const h of a)h.primitiveName===d&&l.push({...h,propertyName:(0,_.YF)(h.propertyName)});return{type:"cim-effect-info",effect:i,overrides:l}}static resolveSymbolOverrides(i,a,d,l,h,C,M){return(0,u.A)(function*(){if(null==i||!i.symbol)return null;let{symbol:m,primitiveOverrides:y}=i;const S=!!y;if(!S&&!l)return m;m=(0,L.o8)(m),y=(0,L.o8)(y);let $=!0;if(a||(a={attributes:{}},$=!1),S){if($||(y=y.filter(H=>{var V;return!(null!==(V=H.valueExpressionInfo)&&void 0!==V&&V.expression.includes("$feature"))})),M||(y=y.filter(H=>{var V;return!(null!==(V=H.valueExpressionInfo)&&void 0!==V&&V.expression.includes("$view"))})),y.length>0){const H={spatialReference:d,fields:(0,_.O2)(a.attributes),geometryType:h};yield c.createRenderExpressions(y,H),c.evaluateOverrides(y,a,null!=h?h:"esriGeometryPoint",C,M)}c.applyOverrides(m,y)}return l&&c.applyDictionaryTextOverrides(m,a,l,null),m})()}static createRenderExpressions(i,a){return(0,u.A)(function*(){const d=[];for(const l of i){const h=l.valueExpressionInfo;if(!h||c._expressionToRenderExpression.has(h.expression))continue;const C=(0,E.Ad)(h.expression,a.spatialReference,a.fields);d.push(C),C.then(M=>c._expressionToRenderExpression.set(h.expression,M))}d.length>0&&(yield Promise.all(d))})()}static evaluateOverrides(i,a,d,l,h){const C={$view:{scale:null==h?void 0:h.scale}};for(const M of i){M.value&&"object"==typeof M.value&&(0,j.IB)(M.value)&&("Color"===M.propertyName||"StrokeColor"===M.propertyName)&&(M.value=T(M.value));const m=M.valueExpressionInfo;if(!m)continue;const y=c._expressionToRenderExpression.get(m.expression);y&&(M.value=K(y,a,C,d,l))}}static applyDictionaryTextOverrides(i,a,d,l,h="Normal"){if(null!=i&&i.type)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const C=i.symbolLayers;if(!C)return;for(const M of C)M&&"CIMVectorMarker"===M.type&&c.applyDictionaryTextOverrides(M,a,d,l,"CIMTextSymbol"===i.type?i.textCase:h)}break;case"CIMVectorMarker":{const C=i.markerGraphics;if(!C)return;for(const M of C)M&&c.applyDictionaryTextOverrides(M,a,d,l)}break;case"CIMMarkerGraphic":{const C=i.textString;if(C&&C.includes("[")){const M=(0,_.gQ)(C,d);i.textString=(0,_.FM)(a,M,l,h)}}}}static applyOverrides(i,a,d,l){if(i.primitiveName)for(const h of a)if(h.primitiveName===i.primitiveName){const C=(0,_.YF)(h.propertyName);if(l&&l.push({cim:i,nocapPropertyName:C,value:i[C]}),d){let M=!1;for(const m of d)m.primitiveName===i.primitiveName&&(M=!0);M||d.push(h)}null!=h.value&&(i[C]=h.value)}switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(i.effects)for(const h of i.effects)c.applyOverrides(h,a,d,l);if(i.symbolLayers)for(const h of i.symbolLayers)c.applyOverrides(h,a,d,l);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(i.effects)for(const h of i.effects)c.applyOverrides(h,a,d,l);if("CIMVectorMarker"===i.type&&i.markerGraphics)for(const h of i.markerGraphics)c.applyOverrides(h,a,d,l),c.applyOverrides(h.symbol,a,d,l)}}static restoreOverrides(i){for(const a of i)a.cim[a.nocapPropertyName]=a.value}static buildOverrideKey(i){let a="";for(const d of i)void 0!==d.value&&(a+=`${d.primitiveName}${d.propertyName}${JSON.stringify(d.value)}`);return a}static toValue(i,a){if("DashTemplate"===i)return a.split(" ").map(d=>Number(d));if("Color"===i){const d=new U.A(a).toRgba();return d[3]*=255,d}return a}}c._expressionToRenderExpression=new Map},28312:(G,B,o)=>{o.r(B),o.d(B,{default:()=>d});var u=o(10467),U=o(8189),j=o(81098),L=o(89952),E=o(31178),_=o(17715),A=o(11432),D=o(85211),w=(o(3248),o(35150),o(76576)),R=o(25735),f=o(29459),T=o(57052),c=o(80745),g=o(43725),i=o(41474);let a=class extends((0,f.e)(i.A)){constructor(){super(...arguments),this._highlightCounter=new g.t}attach(){this.graphicsView=new c.A({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics,container:new T.A(this.view.featuresTilingScheme),layerId:this.layer.id}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this.layer.on("graphic-update",this.graphicsView.graphicUpdateHandler)),this._updateHighlight()}detach(){this.container.removeAllChildren(),this.graphicsView=(0,A.pR)(this.graphicsView)}hitTest(l){var h=this;return(0,u.A)(function*(){return h.graphicsView?h.graphicsView.hitTest(l).map(C=>({type:"graphic",graphic:C,mapPoint:l,layer:h.layer})):null})()}queryGraphics(){return Promise.resolve(this.graphicsView.graphics)}update(l){this.graphicsView.processUpdate(l)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(l,h="highlight"){var C;let M;"number"==typeof l?M=[l]:l instanceof j.A?M=[l.uid]:Array.isArray(l)&&l.length>0?M="number"==typeof l[0]?l:l.map(y=>y&&y.uid):E.A.isCollection(l)&&l.length>0&&(M=l.map(y=>y&&y.uid).toArray());const m=null===(C=M)||void 0===C?void 0:C.filter(L.Ru);return null!=m&&m.length?(this._addHighlight(m,h),(0,_.hA)(()=>this._removeHighlight(m,h))):(0,_.hA)()}_addHighlight(l,h){this._highlightCounter.addReason(l,h),this._updateHighlight()}_removeHighlight(l,h){this._highlightCounter.deleteReason(l,h),this._updateHighlight()}_updateHighlight(){var l;const h=[];for(const C of this._highlightCounter.ids()){const M=this._highlightCounter.getHighestReason(C),m=(0,R.$r)(M);h.push({objectId:C,highlightFlags:m})}null===(l=this.graphicsView)||void 0===l||l.setHighlight(h)}};(0,U._)([(0,D.MZ)()],a.prototype,"graphicsView",void 0),a=(0,U._)([(0,w.$)("esri.views.2d.layers.GraphicsLayerView2D")],a);const d=a},29459:(G,B,o)=>{o.d(B,{e:()=>C});var c,u=o(8189),U=o(31178),j=o(5605),L=o(5922),E=o(48900),_=o(85211),K=(o(3248),o(35150),o(40707),o(76576)),w=o(40856),R=o(88766),f=o(60746),T=o(66727);let g=c=class extends T.A{constructor(M){super(M),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new c({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,u._)([(0,_.MZ)({type:[Number,String],json:{write:!0}})],g.prototype,"left",void 0),(0,u._)([(0,_.MZ)({type:[Number,String],json:{write:!0}})],g.prototype,"right",void 0),(0,u._)([(0,_.MZ)({type:[Number,String],json:{write:!0}})],g.prototype,"top",void 0),(0,u._)([(0,_.MZ)({type:[Number,String],json:{write:!0}})],g.prototype,"bottom",void 0),g=c=(0,u._)([(0,K.$)("esri.views.layers.support.ClipRect")],g);const i=g;var a=o(75644);let d=class extends T.A{constructor(M){super(M),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,u._)([(0,_.MZ)({type:[[[Number]]],json:{write:!0}})],d.prototype,"path",void 0),d=(0,u._)([(0,K.$)("esri.views.layers.support.Path")],d);const h=U.A.ofType({key:"type",base:null,typeMap:{rect:i,path:d,geometry:a.A}}),C=M=>{let m=class extends M{constructor(){super(...arguments),this.attached=!1,this.clips=new h,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){var y,S,$,H;const V=null===(y=null===(S=this.view)||void 0===S?void 0:S.spatialReferenceLocked)||void 0===y||y;(null===($=this.view)||void 0===$?void 0:$.spatialReference)&&V&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new L.A("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new R.m),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,E.wB)(()=>this.suspended,I=>{this.container&&(this.container.visible=!I)},E.pc),(0,E.wB)(()=>this.updateSuspended,I=>{this.view&&!I&&this.updateRequested&&this.view.requestUpdate()},E.pc),(0,E.wB)(()=>{var I,Z;return null!==(I=null===(Z=this.layer)||void 0===Z?void 0:Z.opacity)&&void 0!==I?I:1},I=>{this.container&&(this.container.opacity=I)},E.pc),(0,E.wB)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",I=>{this.container&&(this.container.blendMode=I)},E.pc),(0,E.wB)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,I=>{this.container&&(this.container.effect=I)},E.pc),(0,E.wB)(()=>this.highlightOptions,I=>this.container.highlightOptions=I,E.pc),(0,E.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},E.pc),(0,E.wB)(()=>{var I;return{scale:null===(I=this.view)||void 0===I?void 0:I.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}},({scale:I})=>{const Z=null!=I&&this.isVisibleAtScale(I);Z!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",Z)},E.pc)],"constructor"),null!==(H=this.view)&&void 0!==H&&H.whenLayerView?this.view.whenLayerView(this.layer).then(I=>{I===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){var y;const S=null===(y=this.view)||void 0===y?void 0:y.spatialReference;return null==S||this.supportsSpatialReference(S)}get updateSuspended(){return this.suspended}get updating(){var y;return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(null===(y=this._updatingHandles)||void 0===y||!y.updating))}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(y){const S=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!S)return!0;const{minScale:$,maxScale:H}=S;return(0,w.zx)(y,$,H)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(y){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",y),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(y))):this.updateRequested=!1}hitTest(y,S){return Promise.resolve(null)}supportsSpatialReference(y){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const y=super.getSuspendInfo(),S=!this.spatialReferenceSupported,$=this.visibleAtCurrentScale;return S&&(y.spatialReferenceNotSupported=S),$&&(y.outsideScaleRange=$),y}addAttachHandles(y){this.addHandles(y,"attach")}};return(0,u._)([(0,_.MZ)()],m.prototype,"attached",void 0),(0,u._)([(0,_.MZ)({type:h,set(y){const S=(0,j.V)(y,this._get("clips"),h);this._set("clips",S)}})],m.prototype,"clips",void 0),(0,u._)([(0,_.MZ)()],m.prototype,"container",void 0),(0,u._)([(0,_.MZ)()],m.prototype,"moving",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],m.prototype,"spatialReferenceSupported",null),(0,u._)([(0,_.MZ)({readOnly:!0})],m.prototype,"updateParameters",void 0),(0,u._)([(0,_.MZ)()],m.prototype,"updateRequested",void 0),(0,u._)([(0,_.MZ)()],m.prototype,"updateSuspended",null),(0,u._)([(0,_.MZ)()],m.prototype,"updating",null),(0,u._)([(0,_.MZ)()],m.prototype,"view",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],m.prototype,"visibleAtCurrentScale",void 0),(0,u._)([(0,_.MZ)({type:f.A})],m.prototype,"highlightOptions",void 0),m=(0,u._)([(0,K.$)("esri.views.2d.layers.LayerView2D")],m),m}},57052:(G,B,o)=>{o.d(B,{A:()=>L});var u=o(69473),U=o(57641),j=o(62931);class L extends U.f{renderChildren(_){for(const A of this.children)A.setTransform(_.state);if(super.renderChildren(_),this.attributeView.update(),this.children.some(A=>A.hasData)){switch(_.drawPhase){case u.S5.MAP:this._renderChildren(_,u.RI.All);break;case u.S5.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(_)}this._boundsRenderer&&this._boundsRenderer.doRender(_)}}_renderHighlight(_){(0,j.lB)(_,!1,A=>{this._renderChildren(A,u.RI.Highlight)})}}},43725:(G,B,o)=>{o.d(B,{t:()=>U});var u=o(25735);class U{constructor(){this._idToCounters=new Map}get empty(){return 0===this._idToCounters.size}addReason(L,E){for(const _ of L){let A=this._idToCounters.get(_);A||(A=new Map,this._idToCounters.set(_,A)),A.set(E,(A.get(E)||0)+1)}}deleteReason(L,E){for(const _ of L){const A=this._idToCounters.get(_);if(!A)continue;let D=A.get(E);if(null==D)return;D--,D>0?A.set(E,D):A.delete(E),0===A.size&&this._idToCounters.delete(_)}}getHighestReason(L){const E=this._idToCounters.get(L);if(!E)return null;let _=null;for(const A of u.M$)E.get(A)&&(_=A);return _||null}ids(){return this._idToCounters.keys()}}},41474:(G,B,o)=>{o.d(B,{A:()=>T});var u=o(8189),U=o(98877),j=o(42425),L=o(3046),E=o(35150),_=o(11432),A=o(64261),D=o(85211),w=(o(3248),o(40707),o(76576)),R=o(56985);let f=class extends((0,L.sA)((0,A.g)(j.A.EventedMixin(U.A)))){constructor(c){super(c),this._updatingHandles=new R.U,this.layer=null,this.parent=null}initialize(){this.when().catch(c=>{if("layerview:create-error"!==c.name){var g;const i=this.layer&&this.layer.id||"no id",a=(null===(g=this.layer)||void 0===g?void 0:g.title)||"no title";E.A.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${a}', id: '${i}')`,c)}})}destroy(){this._updatingHandles=(0,_.pR)(this._updatingHandles)}get fullOpacity(){var c,g,i,a;return(null!==(c=null===(g=this.layer)||void 0===g?void 0:g.opacity)&&void 0!==c?c:1)*(null!==(i=null===(a=this.parent)||void 0===a?void 0:a.fullOpacity)&&void 0!==i?i:1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var c;return!this.suspended&&!0===(null===(c=this.layer)||void 0===c?void 0:c.legendEnabled)}get updating(){var c;return!!(null!==(c=this._updatingHandles)&&void 0!==c&&c.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var c;return!0===(null===(c=this.layer)||void 0===c?void 0:c.visible)}set visible(c){this._overrideIfSome("visible",c)}canResume(){var c,g,i;return this.visible&&(null===(c=this.layer)||void 0===c?void 0:c.loaded)&&!(null!==(g=this.parent)&&void 0!==g&&g.suspended)&&(null===(i=this.view)||void 0===i?void 0:i.ready)||!1}getSuspendInfo(){var c,g;const i=null!==(c=this.parent)&&void 0!==c&&c.suspended?this.parent.suspendInfo:{};return null!==(g=this.view)&&void 0!==g&&g.ready||(i.viewNotReady=!0),this.layer&&this.layer.loaded||(i.layerNotLoaded=!0),this.visible||(i.layerInvisible=!0),i}isUpdating(){return!1}};(0,u._)([(0,D.MZ)()],f.prototype,"fullOpacity",null),(0,u._)([(0,D.MZ)()],f.prototype,"layer",void 0),(0,u._)([(0,D.MZ)()],f.prototype,"parent",void 0),(0,u._)([(0,D.MZ)({readOnly:!0})],f.prototype,"suspended",null),(0,u._)([(0,D.MZ)({readOnly:!0})],f.prototype,"suspendInfo",null),(0,u._)([(0,D.MZ)({readOnly:!0})],f.prototype,"legendEnabled",null),(0,u._)([(0,D.MZ)({type:Boolean,readOnly:!0})],f.prototype,"updating",null),(0,u._)([(0,D.MZ)({readOnly:!0})],f.prototype,"updatingProgress",null),(0,u._)([(0,D.MZ)()],f.prototype,"visible",null),(0,u._)([(0,D.MZ)()],f.prototype,"view",void 0),f=(0,u._)([(0,w.$)("esri.views.layers.LayerView")],f);const T=f},66727:(G,B,o)=>{o.d(B,{A:()=>x});var u=o(8189),U=o(71065),j=o(85211),A=(o(3248),o(35150),o(40707),o(76576));let D=class extends U.oY{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,u._)([(0,j.MZ)({readOnly:!0})],D.prototype,"version",null),D=(0,u._)([(0,A.$)("esri.views.layers.support.ClipArea")],D);const x=D},75644:(G,B,o)=>{o.d(B,{A:()=>g});var f,u=o(8189),j=(o(21152),o(85211)),A=(o(3248),o(35150),o(40707),o(76576)),D=o(68643),x=o(61320),K=o(66727),w=o(28067),R=o(55861);const T={base:D.A,key:"type",typeMap:{extent:w.A,polygon:R.A}};let c=f=class extends K.A{constructor(i){super(i),this.type="geometry",this.geometry=null}clone(){var i,a;return new f({geometry:null!==(i=null===(a=this.geometry)||void 0===a?void 0:a.clone())&&void 0!==i?i:null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,u._)([(0,j.MZ)({types:T,json:{read:x.rS,write:!0}})],c.prototype,"geometry",void 0),c=f=(0,u._)([(0,A.$)("esri.views.layers.support.Geometry")],c);const g=c}}]);