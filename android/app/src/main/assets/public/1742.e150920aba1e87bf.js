"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1742,4098,8460,3258,2282],{33087:(pe,V,d)=>{d.d(V,{q:()=>W});var a=d(60611);class W{constructor(s,K){this._storage=new a.F,this.id="",this.name="",this.size=0,this._storage.maxSize=s,this._storage.register(this),K&&this._storage.registerRemoveFunc("",K)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(s,K,R=1){this._storage.put(this,s,K,R,1)}pop(s){return this._storage.pop(this,s)}get(s){return this._storage.get(this,s)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(s){this._storage.maxSize=s}resetHitRate(){}}},60611:(pe,V,d)=>{d.d(V,{F:()=>R,Mn:()=>K});var s,w,a=d(12438);(w=s||(s={}))[w.ALL=0]="ALL",w[w.SOME=1]="SOME";class K{constructor(h,_,f){this.name=h,this._storage=_,this.id=L+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),f&&(this._storage.registerRemoveFunc(this.id,f),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(h){return this._storage.getSize(this,h)}resetHitRate(){this._hit=this._miss=0}put(h,_,f,E=0){this._storage.put(this,h,_,f,E)}pop(h){const _=this._storage.pop(this,h);return void 0===_?++this._miss:++this._hit,_}get(h){const _=this._storage.get(this,h);return void 0===_?++this._miss:++this._hit,_}peek(h){return this._storage.peek(this,h)}updateSize(h,_,f){this._storage.updateSize(this,h,_,f)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class R{get size(){return this._size}constructor(h=10485760){this._maxSize=h,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new a.A,this._users=new a.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(h){this._users.push(h)}deregister(h){this._users.removeUnordered(h)}registerRemoveFunc(h,_){this._removeFuncs.push([h,_])}deregisterRemoveFunc(h){this._removeFuncs.filterInPlace(_=>_[0]!==h)}get maxSize(){return this._maxSize}set maxSize(h){this._maxSize=Math.max(h,-1),this._checkSize()}getSize(h,_){var f;const E=this._db.get(h.id+_);return null!==(f=null==E?void 0:E.size)&&void 0!==f?f:0}put(h,_,f,E,C){const S=this._db.get(_=h.id+_);if(S&&(this._size-=S.size,h.size-=S.size,this._db.delete(_),S.entry!==f&&this._notifyRemove(_,S.entry,S.size,s.ALL)),E>this._maxSize)return void this._notifyRemove(_,f,E,s.ALL);if(void 0===f)return void console.warn("Refusing to cache undefined entry ");if(!E||E<0)return console.warn(`Refusing to cache entry with size ${E} for key ${_}`),void this._notifyRemove(_,f,0,s.ALL);const z=1+Math.max(C,-4)- -3;this._db.set(_,new U(f,E,z)),this._size+=E,h.size+=E,this._checkSize()}updateSize(h,_,f,E){const C=this._db.get(_=h.id+_);if(C&&C.entry===f){for(this._size-=C.size,h.size-=C.size;E>this._maxSize;){const S=this._notifyRemove(_,f,E,s.SOME);if(!(null!=S&&S>0))return void this._db.delete(_);E=S}C.size=E,this._size+=E,h.size+=E,this._checkSize()}}pop(h,_){const f=this._db.get(_=h.id+_);if(f)return this._size-=f.size,h.size-=f.size,this._db.delete(_),++this._hit,f.entry;++this._miss}get(h,_){const f=this._db.get(_=h.id+_);if(void 0!==f)return this._db.delete(_),f.lives=f.lifetime,this._db.set(_,f),++this._hit,f.entry;++this._miss}peek(h,_){const f=this._db.get(h.id+_);return f?++this._hit:++this._miss,null==f?void 0:f.entry}get performanceInfo(){const h={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},_={},f=new Array;this._db.forEach((S,z)=>{const G=S.lifetime;f[G]=(f[G]||0)+S.size,this._users.forAll(A=>{const{id:M,name:i}=A;z.startsWith(M)&&(_[i]=(_[i]||0)+S.size)})});const E={};this._users.forAll(S=>{const z=S.name;"hitRate"in S&&"number"==typeof S.hitRate&&!isNaN(S.hitRate)&&S.hitRate>0?(_[z]=_[z]||0,E[z]=Math.round(100*S.hitRate)+"%"):E[z]="0%"});const C=Object.keys(_);C.sort((S,z)=>_[z]-_[S]),C.forEach(S=>h[S]=Math.round(_[S]/2**20)+"MB / "+E[S]);for(let S=f.length-1;S>=0;--S){const z=f[S];z&&(h["Priority "+(S+-3-1)]=Math.round(z/this._size*100)+"%")}return h}resetStats(){this._hit=this._miss=0,this._users.forAll(h=>h.resetHitRate())}clear(h){const _=h.id;this._db.forEach((f,E)=>{E.startsWith(_)&&(this._size-=f.size,this._db.delete(E),this._notifyRemove(E,f.entry,f.size,s.ALL))}),h.size=0}clearAll(){this._db.forEach((h,_)=>this._notifyRemove(_,h.entry,h.size,s.ALL)),this._users.forAll(h=>h.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(h,_,f,E){let C;return this._removeFuncs.some(S=>{if(h.startsWith(S[0])){const z=S[1](_,E,f);return"number"==typeof z&&(C=z),!0}return!1}),C}_checkSize(){this._users.forAll(h=>this._checkSizeLimits(h)),this._checkSizeLimits()}_checkSizeLimits(h){const _=null!=h?h:this;if(_.maxSize<0||_.size<=_.maxSize)return;const f=null==h?void 0:h.id;let E=!0;for(;E;){E=!1;for(const[C,S]of this._db)if(0===S.lifetime&&(!f||C.startsWith(f))){if(this._purgeItem(C,S,h),_.size<=.9*_.maxSize)return;E||(E=this._db.has(C))}}for(const[C,S]of this._db)if((!f||C.startsWith(f))&&(this._purgeItem(C,S,h),_.size<=.9*_.maxSize))return}_purgeItem(h,_,f=this._users.find(E=>h.startsWith(E.id))){if(this._db.delete(h),_.lives<=1){this._size-=_.size,f&&(f.size-=_.size);const E=this._notifyRemove(h,_.entry,_.size,s.SOME);null!=E&&E>0&&(this._size+=E,f&&(f.size+=E),_.lives=_.lifetime,_.size=E,this._db.set(h,_))}else--_.lives,this._db.set(h,_)}}let L=0;class U{constructor(h,_,f){this.entry=h,this.size=_,this.lifetime=f,this.lives=f}}},24098:(pe,V,d)=>{d.d(V,{GB:()=>W,Qo:()=>s,Y4:()=>g});var a=d(44549);class W{}function g(R){return R instanceof a.bo?R===W.instance:"unknown"===(null==R?void 0:R.toString().toLowerCase())}function s(R){return g(R)?W.instance:R}W.instance=new a.oh("Etc/UTC")},721:(pe,V,d)=>{d.d(V,{$X:()=>fe,Gy:()=>b,P5:()=>Se,SW:()=>ne,Tr:()=>oe,VV:()=>R}),d(61320);const g=(p,l,m)=>[l,m],s=(p,l,m)=>[l,m,p[2]],K=(p,l,m)=>[l,m,p[2],p[3]];function R(p){return p?{originPosition:"upper-left"===p.originPosition?"upperLeft":"lower-left"===p.originPosition?"lowerLeft":p.originPosition,scale:p.tolerance?[p.tolerance,p.tolerance]:[1,1],translate:null!=p.extent?[p.extent.xmin,p.extent.ymax]:[0,0]}:null}function S({scale:p,translate:l},m){return m*p[0]+l[0]}function z({scale:p,translate:l},m){return l[1]-m*p[1]}function G(p,l,m){const I=new Array(m.length);if(!m.length)return I;const[j,X]=p.scale;let te=S(p,m[0][0]),ie=z(p,m[0][1]);I[0]=l(m[0],te,ie);for(let de=1;de<m.length;de++){const _e=m[de];te+=_e[0]*j,ie-=_e[1]*X,I[de]=l(_e,te,ie)}return I}function A(p,l,m){const I=new Array(m.length);for(let j=0;j<m.length;j++)I[j]=G(p,l,m[j]);return I}function b(p,l,m,I,j){return l.x=function U({scale:p,translate:l},m){return Math.round((m-l[0])/p[0])}(p,m.x),l.y=function w({scale:p,translate:l},m){return Math.round((l[1]-m)/p[1])}(p,m.y),l!==m&&(I&&(l.z=m.z),j&&(l.m=m.m)),l}function ne(p,l,m,I,j){return null!=m&&(l.points=function i(p,l,m,I){return G(p,m?I?K:s:I?s:g,l)}(p,m.points,I,j)),l}function oe(p,l,m,I,j){return null==m||(l.x=S(p,m.x),l.y=z(p,m.y),l!==m&&(I&&(l.z=m.z),j&&(l.m=m.m))),l}function fe(p,l,m,I,j){return null!=m&&(l.rings=function v(p,l,m,I){return A(p,m?I?K:s:I?s:g,l)}(p,m.rings,I,j)),l}function Se(p,l,m,I,j){return null!=m&&(l.paths=function y(p,l,m,I){return A(p,m?I?K:s:I?s:g,l)}(p,m.paths,I,j)),l}},49027:(pe,V,d)=>{d.r(V),d.d(V,{default:()=>Te});var a=d(8189),W=d(5922),g=d(49976),s=d(85211),K=d(48669),R=d(76576),L=d(35940),U=d(90660),w=d(71065),E=(d(3248),d(35150),d(40707),d(98877));const C=[2155,2194,2204,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2314,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2964,2965,2966,2967,2968,2992,2994,3080,3089,3091,3102,3359,3359,3361,3363,3365,3366,3404,3407,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3441,3442,3443,3444,3445,3446,3451,3452,3453,3454,3455,3456,3457,3458,3459,3479,3481,3483,3485,3487,3490,3492,3494,3496,3498,3500,3502,3504,3506,3508,3510,3512,3515,3517,3519,3521,3523,3525,3527,3529,3531,3533,3535,3537,3539,3541,3543,3545,3547,3549,3551,3553,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3582,3584,3586,3588,3590,3593,3598,3600,3605,3608,3610,3612,3614,3616,3618,3620,3622,3624,3626,3628,3630,3632,3634,3636,3640,3642,3644,3646,3648,3650,3652,3654,3656,3658,3660,3662,3664,3668,3670,3672,3674,3676,3677,3679,3680,3682,3683,3686,3688,3690,3692,3696,3698,3700,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3753,3754,3755,3756,3757,3758,3759,3760,3991,3992,4217,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4438,4439,4455,4456,4457,5466,5588,5589,5623,5624,5625,5646,5654,5655,6128,6129,6141,6200,6201,6202,6391,6405,6407,6409,6411,6413,6416,6418,6420,6422,6424,6426,6428,6430,6432,6434,6436,6438,6441,6443,6445,6447,6449,6451,6453,6455,6457,6459,6461,6463,6465,6467,6469,6471,6473,6475,6477,6479,6484,6486,6488,6490,6492,6494,6496,6499,6501,6503,6505,6507,6510,6515,6517,6519,6521,6523,6525,6527,6529,6531,6533,6535,6537,6539,6541,6543,6545,6547,6549,6551,6553,6555,6557,6559,6561,6563,6565,6568,6570,6572,6574,6576,6578,6582,6584,6586,6588,6590,6593,6595,6597,6599,6601,6603,6605,6607,6609,6612,6614,6616,6618,6625,6626,6627,6633,6785,6787,6789,6791,6793,6795,6797,6799,6801,6803,6805,6807,6809,6811,6813,6815,6817,6819,6821,6823,6825,6827,6829,6831,6833,6835,6837,6839,6841,6843,6845,6847,6849,6851,6853,6855,6857,6859,6861,6863,6868,6880,6885,6887,6923,6925,6966,6997,7057,7058,7059,7060,7061,7062,7063,7064,7065,7066,7067,7068,7069,7070,7119,7120,7121,7122,7123,7124,7125,7126,7127,7128,7132,7258,7260,7262,7264,7266,7268,7270,7272,7274,7276,7278,7280,7282,7284,7286,7288,7290,7292,7294,7296,7298,7300,7302,7304,7306,7308,7310,7312,7314,7316,7318,7320,7322,7324,7326,7328,7330,7332,7334,7336,7338,7340,7342,7344,7346,7348,7350,7352,7354,7356,7358,7360,7362,7364,7366,7368,7370,7558,7587,7588,7589,7590,7591,7592,7593,7594,7595,7596,7597,7598,7599,7600,7601,7602,7603,7604,7605,7606,7607,7608,7609,7610,7611,7612,7613,7614,7615,7616,7617,7618,7619,7620,7621,7622,7623,7624,7625,7626,7627,7628,7629,7630,7631,7632,7633,7634,7635,7636,7637,7638,7639,7640,7641,7642,7643,7644,7645,24100,26729,26730,26731,26732,26733,26734,26735,26736,26737,26738,26739,26740,26741,26742,26743,26744,26745,26746,26747,26748,26749,26750,26751,26752,26753,26754,26755,26756,26757,26758,26759,26760,26766,26767,26768,26769,26770,26771,26772,26773,26774,26775,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26786,26787,26791,26792,26793,26794,26795,26796,26797,26798,26799,26801,26802,26803,26811,26812,26813,26814,26815,26819,26820,26821,26822,26825,26826,26830,26831,26832,26833,26836,26837,26841,26842,26843,26844,26847,26848,26849,26850,26851,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26862,26863,26864,26865,26866,26867,26868,26869,26870,32001,32002,32003,32005,32006,32007,32008,32009,32010,32011,32012,32013,32014,32015,32016,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32034,32035,32036,32037,32038,32039,32040,32041,32042,32043,32044,32045,32046,32047,32048,32049,32050,32051,32052,32053,32054,32055,32056,32057,32058,32064,32065,32066,32067,32074,32075,32076,32077,32099,32164,32165,32166,32167,32664,32665,32666,32667,65061,102120,102121,102629,102630,102631,102632,102633,102634,102635,102636,102637,102638,102639,102640,102641,102642,102643,102644,102645,102646,102648,102649,102650,102651,102652,102653,102654,102655,102656,102657,102658,102659,102660,102661,102662,102663,102664,102665,102666,102667,102668,102669,102670,102671,102672,102673,102674,102675,102676,102677,102678,102679,102680,102681,102682,102683,102684,102685,102686,102687,102688,102689,102690,102691,102692,102693,102694,102695,102696,102697,102698,102700,102704,102707,102708,102709,102710,102711,102712,102713,102714,102715,102716,102717,102718,102719,102720,102721,102722,102723,102724,102725,102726,102727,102728,102729,102730,102733,102734,102735,102736,102737,102738,102739,102740,102741,102742,102743,102744,102745,102746,102747,102748,102749,102750,102751,102752,102753,102754,102755,102756,102757,102758,102761,102766],S=[5614,5702,6130,6131,6132,6358,6359,6360],z=[115700,4326];function G(P){return C.includes(P)?"feet":"meters"}function A(P,T){return"number"==typeof P?S.includes(P)?"feet":"meters":G(T)}function M(P,T){return P&&z.includes(P)||4326===T?"ellipsoidal":"gravity-related-height"}let i=class extends E.A{constructor(){super(...arguments),this.verticalWKID=null}get isAdvanced(){const{affineTransformations:P,focalLength:T,principalOffsetPoint:Z,radialDistortionCoefficients:Q,tangentialDistortionCoefficients:q}=this;return(null==P?void 0:P.length)>1&&!Number.isNaN(T)&&(null==Z?void 0:Z.length)>1&&(null==Q?void 0:Q.length)>1&&(null==q?void 0:q.length)>1}get unitAndHeightInfo(){const{horizontalWKID:P,verticalWKID:T}=this;let Z=P,Q=T;const q=this;if(4===q.type){const{properties:ce}=q;Z=4326,Q=ce.verticalWKID}return{heightModel:M(Q,Z),heightUnit:A(Q,Z),horizontalUnit:G(Z)}}};(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"affineTransformations",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"focalLength",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"principalOffsetPoint",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"radialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"tangentialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"horizontalWKID",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"verticalWKID",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"x",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"y",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"z",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],i.prototype,"type",void 0),(0,a._)([(0,s.MZ)({readOnly:!0})],i.prototype,"unitAndHeightInfo",null),i=(0,a._)([(0,R.$)("esri.layers.orientedImagery.core.CameraOrientation")],i);const y=i;let v=class extends((0,U.O)((0,w.Te)(y))){constructor(){super(...arguments),this.type=1}toString(){const{type:P,horizontalWKID:T,verticalWKID:Z,x:Q,y:q,z:ce,heading:ye,pitch:me,roll:ve,affineTransformations:ae,focalLength:ge,principalOffsetPoint:re,radialDistortionCoefficients:le,tangentialDistortionCoefficients:ue}=this,ee=[P,T,Z,Q,q,ce,ye,me,ve];return this.isAdvanced&&(null!=ae&&ae.forEach(B=>ee.push(B)),ee.push(ge),null!=re&&re.forEach(B=>ee.push(B)),null!=le&&le.forEach(B=>ee.push(B)),null!=ue&&ue.forEach(B=>ee.push(B))),ee.map(B=>Number.isNaN(B)?"":B).join("|")}};(0,a._)([(0,s.MZ)({json:{write:!0}})],v.prototype,"type",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],v.prototype,"affineTransformations",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"focalLength",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],v.prototype,"principalOffsetPoint",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],v.prototype,"radialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],v.prototype,"tangentialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"heading",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"pitch",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"roll",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"horizontalWKID",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"verticalWKID",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"x",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"y",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],v.prototype,"z",void 0),v=(0,a._)([(0,R.$)("esri.layers.orientedImagery.core.CameraOrientationHPR")],v);const o=v;let c=class extends((0,U.O)((0,w.Te)(y))){constructor(){super(...arguments),this.type=2,this.verticalWKID=null}toString(){const{type:P,horizontalWKID:T,verticalWKID:Z,x:Q,y:q,z:ce,omega:ye,phi:me,kappa:ve,affineTransformations:ae,focalLength:ge,principalOffsetPoint:re,radialDistortionCoefficients:le,tangentialDistortionCoefficients:ue}=this,ee=[P,T,Z,Q,q,ce,ye,me,ve];return this.isAdvanced&&(null!=ae&&ae.forEach(B=>ee.push(B)),ee.push(ge),null!=re&&re.forEach(B=>ee.push(B)),null!=le&&le.forEach(B=>ee.push(B)),null!=ue&&ue.forEach(B=>ee.push(B))),ee.map(B=>isNaN(B)?"":B).join("|")}};(0,a._)([(0,s.MZ)({json:{write:!0}})],c.prototype,"type",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],c.prototype,"affineTransformations",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"focalLength",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],c.prototype,"principalOffsetPoint",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],c.prototype,"radialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],c.prototype,"tangentialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"omega",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"phi",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"kappa",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"horizontalWKID",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"verticalWKID",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"x",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"y",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"z",void 0),c=(0,a._)([(0,R.$)("esri.layers.orientedImagery.core.CameraOrientationOPK")],c);const D=c;let x=class extends((0,U.O)((0,w.Te)(y))){constructor(){super(...arguments),this.type=3}get isAdvanced(){const{affineTransformations:P,focalLength:T,principalOffsetPoint:Z,radialDistortionCoefficients:Q,tangentialDistortionCoefficients:q}=this;return(null==P?void 0:P.length)>1||!Number.isNaN(T)||(null==Z?void 0:Z.length)>1||(null==Q?void 0:Q.length)>1||(null==q?void 0:q.length)>1}toString(){const{type:P,horizontalWKID:T,verticalWKID:Z,x:Q,y:q,z:ce,yaw:ye,pitch:me,roll:ve,affineTransformations:ae,focalLength:ge,principalOffsetPoint:re,radialDistortionCoefficients:le,tangentialDistortionCoefficients:ue}=this,ee=[P,T,Z,Q,q,ce,ye,me,ve];return this.isAdvanced&&(null!=ae&&ae.forEach(B=>ee.push(B)),ee.push(ge),null!=re&&re.forEach(B=>ee.push(B)),null!=re&&re.forEach(B=>ee.push(B)),null!=le&&le.forEach(B=>ee.push(B)),null!=ue&&ue.forEach(B=>ee.push(B))),ee.map(B=>Number.isNaN(B)?"":B).join("|")}};(0,a._)([(0,s.MZ)({json:{write:!0}})],x.prototype,"type",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],x.prototype,"affineTransformations",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"focalLength",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],x.prototype,"principalOffsetPoint",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],x.prototype,"radialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({type:[Number],json:{write:!0}})],x.prototype,"tangentialDistortionCoefficients",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"yaw",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"pitch",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"roll",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"horizontalWKID",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"verticalWKID",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"x",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"y",void 0),(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"z",void 0),x=(0,a._)([(0,R.$)("esri.layers.orientedImagery.core.CameraOrientationYPR")],x);const Y=x;d(56151);let O=class extends w.oY{constructor(){super(...arguments),this.url=null}};(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],O.prototype,"lod",void 0),(0,a._)([(0,s.MZ)({type:String,json:{write:!0}})],O.prototype,"rasterFunction",void 0),(0,a._)([(0,s.MZ)({type:String,json:{write:!0}})],O.prototype,"url",void 0),O=(0,a._)([(0,R.$)("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ElevationSource")],O);let b=class extends w.oY{constructor(){super(...arguments),this.constantElevation=null}};var ne,P;(0,a._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"constantElevation",void 0),b=(0,a._)([(0,R.$)("esri.layers.orientedImagery.cor.ElevationSourceDefinitions.ConstantElevation")],b),(P=ne||(ne={}))[P.HPR=1]="HPR",P[P.OPK=2]="OPK",P[P.YPR=3]="YPR",P[P.LTP=4]="LTP";var oe=d(77105);const l=new g.J({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),m=new g.J({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null}),I=new Map;I.set(`${ne.OPK}`,{desc:"Using Omega Phi Kappa",constructor:D}),I.set(`${ne.HPR}`,{desc:"Using Heading, Pitch and Roll",constructor:o}),I.set(`${ne.YPR}`,{desc:"Using Yaw, Pitch and Roll",constructor:Y});const j=new Map;function k(P,T,Z){return{name:`orientedImageryProperties.${P}`,write:!T||{target:`orientedImageryProperties.${P}`,writer:T},origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.${P}`,write:T,read:Z}}}}j.set(`${ne.HPR}`,function te(P){const[T,Z,Q,q,ce,ye,me,ve,ae,ge,re,le,ue,ee,B,De,xe,Re,Ie,Ae,je,Ce]=P.slice(1),Me=[ae,ge,re,le,ue,ee].map(he=>Number(he)),Ee=[De,xe].map(he=>Number(he)),Pe=[Re,Ie,Ae],Oe=[je,Ce];return{horizontalWKID:T,verticalWKID:Z,x:Q,y:q,z:ce,heading:ye,pitch:me,roll:ve,affineTransformations:6===Me.filter(oe.E).length?Me:null,focalLength:B,principalOffsetPoint:2!==Ee.filter(oe.E).length?null:Ee,radialDistortionCoefficients:3!==Pe.filter(oe.E).length?null:Pe,tangentialDistortionCoefficients:2!==Oe.filter(oe.E).length?null:Oe}}),j.set(`${ne.YPR}`,function ie(P){const[T,Z,Q,q,ce,ye,me,ve,ae,ge,re,le,ue,ee,B,De,xe,Re,Ie,Ae,je,Ce]=P.slice(1),Me=[ae,ge,re,le,ue,ee].map(he=>Number(he)),Ee=[De,xe].map(he=>Number(he)),Pe=[Re,Ie,Ae],Oe=[je,Ce];return{horizontalWKID:T,verticalWKID:Z,x:Q,y:q,z:ce,yaw:ye,pitch:me,roll:ve,affineTransformations:6===Me.filter(oe.E).length?Me:null,focalLength:B,principalOffsetPoint:2!==Ee.filter(oe.E).length?null:Ee,radialDistortionCoefficients:3!==Pe.filter(oe.E).length?null:Pe,tangentialDistortionCoefficients:2!==Oe.filter(oe.E).length?null:Oe}}),j.set(`${ne.OPK}`,function X(P){const[T,Z,Q,q,ce,ye,me,ve,ae,ge,re,le,ue,ee,B,De,xe,Re,Ie,Ae,je,Ce]=P.slice(1),Me=[ae,ge,re,le,ue,ee].map(he=>Number(he)),Ee=[De,xe].map(he=>Number(he)),Pe=[Re,Ie,Ae].map(he=>Number(he)),Oe=[je,Ce].map(he=>Number(he));return{horizontalWKID:T,verticalWKID:Z,x:Q,y:q,z:ce,omega:ye,phi:me,kappa:ve,affineTransformations:6===Me.filter(oe.E).length?Me:null,focalLength:B,principalOffsetPoint:2!==Ee.filter(oe.E).length?null:Ee,radialDistortionCoefficients:3!==Pe.filter(oe.E).length?[0,0,0]:Pe,tangentialDistortionCoefficients:2!==Oe.filter(oe.E).length?[0,0]:Oe}}),j.set(`${ne.LTP}`,function de(P){const[T,Z,Q,q,ce,...ye]=P.slice(1),me=j.get(ce);return me?{latitude:T,longitude:Z,ellipsoidRadius:Q,squaredEccentricity:q,properties:me([ce,"",...ye])}:null});let H=class extends L.default{constructor(){super(...arguments),this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType="point",this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType="OrientedImageryLayer",this.orientationAccuracy=null,this.orientedImageryType=null,this.type="oriented-imagery",this.timeIntervalUnit=null,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null}get effectiveElevationSource(){const{elevationSource:P,demPathPrefix:T,demPathSuffix:Z}=this;return function p(P,T,Z){return P&&((P=>null!=P&&"constantElevation"in P&&"number"==typeof P.constantElevation)(P)?new b(P):function Se(P,T,Z){let{url:Q}=P;return Q?(Q=function fe(P,T,Z){return T&&(P=`${T}${P}`),Z&&(P+=`${Z}`),P}(Q,T,Z),new O({...P,url:Q})):null}(P,T,Z))}(P,T,Z)}findFirstValidLayerId(P){var T;return null===(T=P.layers)||void 0===T||null===(T=T.find(Z=>"Oriented Imagery Layer"===Z.type))||void 0===T?void 0:T.id}_verifySource(){if(super._verifySource(),"point"!==this.geometryType)throw new W.A("oriented-imagery-layer:invalid-geometry-type","OrientedImageryLayer only supports point geometry type")}};(0,a._)([(0,s.MZ)({type:Number,json:k("cameraHeading")})],H.prototype,"cameraHeading",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("cameraHeight")})],H.prototype,"cameraHeight",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("cameraPitch")})],H.prototype,"cameraPitch",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("cameraRoll")})],H.prototype,"cameraRoll",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("coveragePercent")})],H.prototype,"coveragePercent",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("demPathPrefix")})],H.prototype,"demPathPrefix",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("demPathSuffix")})],H.prototype,"demPathSuffix",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("depthImagePathPrefix")})],H.prototype,"depthImagePathPrefix",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("depthImagePathSuffix")})],H.prototype,"depthImagePathSuffix",void 0),(0,a._)([(0,s.MZ)({type:Object,json:k("elevationSource")})],H.prototype,"elevationSource",void 0),(0,a._)([(0,s.MZ)()],H.prototype,"effectiveElevationSource",null),(0,a._)([(0,s.MZ)({type:Number,json:k("farDistance")})],H.prototype,"farDistance",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],H.prototype,"geometryType",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("horizontalFieldOfView")})],H.prototype,"horizontalFieldOfView",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("horizontalMeasurementUnit")})],H.prototype,"horizontalMeasurementUnit",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("imagePathPrefix")})],H.prototype,"imagePathPrefix",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("imagePathSuffix")})],H.prototype,"imagePathSuffix",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("imageRotation")})],H.prototype,"imageRotation",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("maximumDistance")})],H.prototype,"maximumDistance",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("nearDistance")})],H.prototype,"nearDistance",void 0),(0,a._)([(0,s.MZ)({type:["OrientedImageryLayer"]})],H.prototype,"operationalLayerType",void 0),(0,a._)([(0,s.MZ)({json:k("orientationAccuracy",(P,T)=>{P&&(T.orientationAccuracy=P.join(","))})}),(0,K.w)(P=>P?P.trim().split(",").map(Number):null)],H.prototype,"orientationAccuracy",void 0),(0,a._)([(0,s.MZ)({json:{...k("orientedImageryType",m.write,m.read),type:m.apiValues}})],H.prototype,"orientedImageryType",void 0),(0,a._)([(0,s.MZ)({json:{read:!1},value:"oriented-imagery",readOnly:!0})],H.prototype,"type",void 0),(0,a._)([(0,s.MZ)({json:{...k("timeIntervalUnit",l.write,l.read),type:l.apiValues}})],H.prototype,"timeIntervalUnit",void 0),(0,a._)([(0,s.MZ)({type:Number,json:k("verticalFieldOfView")})],H.prototype,"verticalFieldOfView",void 0),(0,a._)([(0,s.MZ)({json:{...k("verticalMeasurementUnit"),type:new g.J({Feet:"feet",Meter:"meter"}).apiValues}})],H.prototype,"verticalMeasurementUnit",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("videoPathPrefix")})],H.prototype,"videoPathPrefix",void 0),(0,a._)([(0,s.MZ)({type:String,json:k("videoPathSuffix")})],H.prototype,"videoPathSuffix",void 0),H=(0,a._)([(0,R.$)("esri.layers.OrientedImageryLayer")],H);const Te=H},94376:(pe,V,d)=>{d.d(V,{p:()=>U});var a=d(8189),W=d(85211),R=(d(3248),d(35150),d(40707),d(76576));const U=w=>{let h=class extends w{get apiKey(){var _;return this._isOverridden("apiKey")?this._get("apiKey"):function L(w){return"portalItem"in w}(this)?null===(_=this.portalItem)||void 0===_?void 0:_.apiKey:null}set apiKey(_){null!=_?this._override("apiKey",_):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,a._)([(0,W.MZ)({type:String})],h.prototype,"apiKey",null),h=(0,a._)([(0,R.$)("esri.layers.mixins.APIKeyMixin")],h),h}},25936:(pe,V,d)=>{d.d(V,{b:()=>U});var a=d(8189),W=d(35150),g=d(85211),R=(d(3248),d(40707),d(76576)),L=d(68438);const U=w=>{let h=class extends w{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const _=(0,L.qg)(this.url);if(null!=_&&_.title)return _.title}return this._get("title")||""}set title(_){this._set("title",_)}set url(_){this._set("url",(0,L.Jf)(_,W.A.getLogger(this)))}};return(0,a._)([(0,g.MZ)()],h.prototype,"title",null),(0,a._)([(0,g.MZ)({type:String})],h.prototype,"url",null),h=(0,a._)([(0,R.$)("esri.layers.mixins.ArcGISService")],h),h}},47063:(pe,V,d)=>{d.d(V,{A:()=>C});var a=d(8189),W=d(90660),g=d(71065),s=d(85211),U=(d(3248),d(35150),d(40707),d(17221)),w=d(76576),h=d(50305),_=d(84546),f=d(69741);let E=class extends((0,W.O)(g.oY)){constructor(S){super(S),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(S){const z={};for(const G of Object.keys(S))z[G]=(0,_.rS)(S[G]);return z}writeDomains(S,z){const G={};for(const M of Object.keys(S)){var A;S[M]&&(G[M]=null===(A=S[M])||void 0===A?void 0:A.toJSON())}z.domains=G}};(0,a._)([(0,s.MZ)({json:{write:!0}})],E.prototype,"id",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],E.prototype,"name",void 0),(0,a._)([(0,s.MZ)({json:{write:!0}})],E.prototype,"domains",void 0),(0,a._)([(0,U.w)("domains")],E.prototype,"readDomains",null),(0,a._)([(0,h.K)("domains")],E.prototype,"writeDomains",null),(0,a._)([(0,s.MZ)({type:[f.A],json:{write:!0}})],E.prototype,"templates",void 0),E=(0,a._)([(0,w.$)("esri.layers.support.FeatureType")],E);const C=E},73258:(pe,V,d)=>{d.d(V,{A:()=>E});var a=d(5922),W=d(71065),g=d(35150),s=d(60797),K=d(24098),R=d(86300),L=d(22639),U=d(44549);const f=new Map;class E{static fromJSON(M){return new E(M.fields,M.timeZoneByFieldName)}static fromLayer(M){var i;return new E(null!==(i=M.fields)&&void 0!==i?i:[],G(M))}static fromLayerJSON(M){var i;return new E(null!==(i=M.fields)&&void 0!==i?i:[],G(M))}constructor(M=[],i){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=M||[],this._timeZoneByFieldName=i?new Map(i):null;const y=[];for(const o of this.fields){const c=null==o?void 0:o.name,D=S(c);if(c&&D){var v;const x=C(c);this._fieldsMap.set(c,o),this._fieldsMap.set(x,o),this._normalizedFieldsMap.set(D,o),y.push(`${x}:${o.type}:${null===(v=this._timeZoneByFieldName)||void 0===v?void 0:v.get(c)}`),(0,R.vE)(o)?(this.dateFields.push(o),this._dateFieldsSet.add(o)):(0,R.WA)(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),(0,R.te)(o)||(0,R.Xz)(o)||(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable)}}y.sort(),this.uid=y.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const M of this.fields)(0,R.te)(M)||(0,R.Xz)(M)||M.nullable||void 0!==(0,R.lD)(M)||this._requiredFields.push(M)}return this._requiredFields}equals(M){return this.uid===(null==M?void 0:M.uid)}has(M){return null!=this.get(M)}get(M){var i;if(!M)return;let y=this._fieldsMap.get(M);return y||(y=null!==(i=this._fieldsMap.get(C(M)))&&void 0!==i?i:this._normalizedFieldsMap.get(S(M)),y&&this._fieldsMap.set(M,y),y)}getTimeZone(M){const i=this.get(M&&"string"!=typeof M?M.name:M);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):"date"===i.type||"esriFieldTypeDate"===i.type?(g.A.getLogger("esri.layers.support.FieldsIndex").error(new a.A("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),L.n$):z.has(i.type)?L.L5:null:null}getLuxonTimeZone(M){const i=this.getTimeZone(M);return i?i===L.L5?K.GB.instance:i===L.n$?U.mQ.utcInstance:(0,s.tE)(f,i,()=>U.oh.create(i)):null}isDateField(M){return this._dateFieldsSet.has(this.get(M))}isTimeOnlyField(M){return(0,R.OH)(this.get(M))}isNumericField(M){return this._numericFieldsSet.has(this.get(M))}normalizeFieldName(M){var i,y;return null!==(i=null===(y=this.get(M))||void 0===y?void 0:y.name)&&void 0!==i?i:void 0}toJSON(){return{fields:this.fields.map(M=>(0,W.Wj)(M)?M.toJSON():M),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function C(A){return A.trim().toLowerCase()}function S(A){var M,i;return null!==(M=null===(i=(0,R.rS)(A))||void 0===i?void 0:i.toLowerCase())&&void 0!==M?M:""}const z=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function G(A){var M,i,y,v,o,c,D;const x=new Map;if(!A.fields)return x;const Y=!0===A.datesInUnknownTimezone,{timeInfo:F,editFieldsInfo:O}=A,b=null!==(M=F?"startField"in F?F.startField:F.startTimeField:"")&&void 0!==M?M:"",N=null!==(i=F?"endField"in F?F.endField:F.endTimeField:"")&&void 0!==i?i:"",J=function _(A){return"dateFieldsTimeZone"in A}(A)?null!==(y=A.dateFieldsTimeZone)&&void 0!==y?y:null:A.dateFieldsTimeReference?(0,L.ZS)(A.dateFieldsTimeReference):null,se=O?function w(A){return"timeZone"in A}(O)?null!==(v=O.timeZone)&&void 0!==v?v:J:O.dateFieldsTimeReference?(0,L.ZS)(O.dateFieldsTimeReference):null!=J?J:L.n$:null,$=F?function h(A){return"timeZone"in A}(F)?null!==(o=F.timeZone)&&void 0!==o?o:J:F.timeReference?(0,L.ZS)(F.timeReference):J:null,ne=new Map([[C(null!==(c=null==O?void 0:O.creationDateField)&&void 0!==c?c:""),se],[C(null!==(D=null==O?void 0:O.editDateField)&&void 0!==D?D:""),se],[C(b),$],[C(N),$]]);for(const{name:fe,type:Se}of A.fields)if(z.has(Se))x.set(fe,L.L5);else if("date"!==Se&&"esriFieldTypeDate"!==Se)x.set(fe,null);else if(Y)x.set(fe,L.L5);else{var oe;const p=null!==(oe=ne.get(C(null!=fe?fe:"")))&&void 0!==oe?oe:J;x.set(fe,p)}return x}},64584:(pe,V,d)=>{d.d(V,{A:()=>_});var w,a=d(8189),W=d(31178),g=d(71065),s=d(85211),U=(d(3248),d(35150),d(40707),d(76576));let h=w=class extends g.oY{constructor(f){super(f),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new W.A}clone(){return new w({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,a._)([(0,s.MZ)({type:String,json:{write:!0}})],h.prototype,"floorField",void 0),(0,a._)([(0,s.MZ)({json:{read:!1,write:!1}})],h.prototype,"viewAllMode",void 0),(0,a._)([(0,s.MZ)({json:{read:!1,write:!1}})],h.prototype,"viewAllLevelIds",void 0),h=w=(0,a._)([(0,U.$)("esri.layers.support.LayerFloorInfo")],h);const _=h},4858:(pe,V,d)=>{d.d(V,{BI:()=>C,D3:()=>f,XJ:()=>E,lc:()=>_,mX:()=>z,rU:()=>S,tH:()=>v});var a=d(1119);const W="__begin__",g="__end__",s=new RegExp(W,"ig"),K=new RegExp(g,"ig"),R=new RegExp("^"+W,"i"),L=new RegExp(g+"$","i"),U='"',w=U+" + ",h=" + "+U;function _(o){return o.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function f(o){return o.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function E(o){const c={expression:"",type:"none"};return o.labelExpressionInfo?o.labelExpressionInfo.value?(c.expression=o.labelExpressionInfo.value,c.type="conventional"):o.labelExpressionInfo.expression&&(c.expression=o.labelExpressionInfo.expression,c.type="arcade"):null!=o.labelExpression&&(c.expression=_(o.labelExpression),c.type="conventional"),c}function C(o){const c=E(o);if(!c)return null;switch(c.type){case"conventional":return z(c.expression);case"arcade":return c.expression}return null}function S(o){const c=E(o);if(!c)return null;switch(c.type){case"conventional":return function A(o){const c=null==o?void 0:o.match(G);return(null==c?void 0:c[1].trim())||null}(c.expression);case"arcade":return v(c.expression)}return null}function z(o){let c;return o?(c=(0,a.HC)(o,D=>W+'$feature["'+D+'"]'+g),c=R.test(c)?c.replace(R,""):U+c,c=L.test(c)?c.replace(L,""):c+U,c=c.replaceAll(s,w).replaceAll(K,h)):c='""',c}const G=/^\s*\{([^}]+)\}\s*$/i,M=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,i=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,y=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function v(o){if(!o)return null;let c=M.exec(o)||i.exec(o);return c?c[1]||c[3]:(c=y.exec(o),c?c[2]:null)}},90543:(pe,V,d)=>{d.d(V,{S:()=>w});var a=d(3248),W=d(68438);function g(i,y,v){return!!K(i,y,v)}function s(i,y,v){return K(i,y,v)}function K(i,y,v){return i&&i.hasOwnProperty(y)?i[y]:v}const R={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function L(i){var y;const v=null==i||null===(y=i.supportedSpatialAggregationStatistics)||void 0===y?void 0:y.map(o=>o.toLowerCase());return{envelope:!(null==v||!v.includes("envelopeaggregate")),centroid:!(null==v||!v.includes("centroidaggregate")),convexHull:!(null==v||!v.includes("convexhullaggregate"))}}function U(i,y){var v;const o=null==i||null===(v=i.supportedOperationsWithCacheHint)||void 0===v?void 0:v.map(c=>c.toLowerCase());return!(null==o||!o.includes(y.toLowerCase()))}function w(i,y){return{analytics:h(i),attachment:_(i),data:f(i),metadata:E(i),operations:C(i.capabilities,i,y),query:S(i,y),queryRelated:z(i),queryTopFeatures:G(i),editing:A(i)}}function h(i){return{supportsCacheHint:U(i.advancedQueryCapabilities,"queryAnalytics")}}function _(i){const y=i.attachmentProperties,v={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:U(i.advancedQueryCapabilities,"queryAttachments"),supportsResize:g(i,"supportsAttachmentsResizing",!1)};return y&&Array.isArray(y)&&y.forEach(o=>{const c=R[o.name];c&&(v[c]=!!o.isEnabled)}),v}function f(i){return{isVersioned:g(i,"isDataVersioned",!1),supportsAttachment:g(i,"hasAttachments",!1),supportsM:g(i,"hasM",!1),supportsZ:g(i,"hasZ",!1)}}function E(i){return{supportsAdvancedFieldProperties:g(i,"supportsFieldDescriptionProperty",!1)}}function C(i,y,v){const o=i?i.toLowerCase().split(",").map(J=>J.trim()):[],c=v?(0,W.qg)(v):null,D=o.includes(null!=c&&"MapServer"===c.serverType?"data":"query"),x=o.includes("editing")&&!y.datesInUnknownTimezone;let Y=x&&o.includes("create"),F=x&&o.includes("delete"),O=x&&o.includes("update");const b=o.includes("changetracking"),N=y.advancedQueryCapabilities;return x&&!(Y||F||O)&&(Y=F=O=!0),{supportsCalculate:g(y,"supportsCalculate",!1),supportsTruncate:g(y,"supportsTruncate",!1),supportsValidateSql:g(y,"supportsValidateSql",!1),supportsAdd:Y,supportsDelete:F,supportsEditing:x,supportsChangeTracking:b,supportsQuery:D,supportsQueryAnalytics:g(N,"supportsQueryAnalytic",!1),supportsQueryAttachments:g(N,"supportsQueryAttachments",!1),supportsQueryTopFeatures:g(N,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:g(y,"supportsAttachmentsResizing",!1),supportsSync:o.includes("sync"),supportsUpdate:O,supportsExceedsLimitStatistics:g(y,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:g(y,"supportsAsyncConvert3D",!1)}}function S(i,y){var v;const o=i.advancedQueryCapabilities,c=i.ownershipBasedAccessControlForFeatures,D=i.archivingInfo,x=i.currentVersion,F=!(null==y?void 0:y.includes("MapServer"))||x>=(0,a.A)("mapserver-pbf-version-support"),O=(0,W.Wo)(y),b=new Set((null!==(v=i.supportedQueryFormats)&&void 0!==v?v:"").split(",").map(N=>N.toLowerCase().trim()));return{supportsStatistics:g(o,"supportsStatistics",i.supportsStatistics),supportsPercentileStatistics:g(o,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:g(o,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:L(o),supportsCentroid:g(o,"supportsReturningGeometryCentroid",!1),supportsDistance:g(o,"supportsQueryWithDistance",!1),supportsDistinct:g(o,"supportsDistinct",i.supportsAdvancedQueries),supportsExtent:g(o,"supportsReturningQueryExtent",!1),supportsGeometryProperties:g(o,"supportsReturningGeometryProperties",!1),supportsHavingClause:g(o,"supportsHavingClause",!1),supportsOrderBy:g(o,"supportsOrderBy",i.supportsAdvancedQueries),supportsPagination:g(o,"supportsPagination",!1),supportsQuantization:g(i,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:g(i,"supportsQuantizationEditMode",!1),supportsQueryGeometry:g(i,"supportsReturningQueryGeometry",!1),supportsResultType:g(o,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:g(o,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:g(o,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:g(i,"useStandardizedQueries",!1),supportsTopFeaturesQuery:g(o,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:g(c,"allowAnonymousToQuery",!0),supportsQueryByOthers:g(c,"allowOthersToQuery",!0),supportsHistoricMoment:g(D,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:F&&b.has("pbf"),supportsDisjointSpatialRelationship:g(o,"supportsDisjointSpatialRel",!1),supportsCacheHint:g(o,"supportsQueryWithCacheHint",!1)||U(o,"query"),supportsDefaultSpatialReference:g(o,"supportsDefaultSR",!1),supportsCompactGeometry:O,supportsFullTextSearch:g(o,"supportsFullTextSearch",!1),maxRecordCountFactor:s(i,"maxRecordCountFactor",void 0),maxRecordCount:s(i,"maxRecordCount",void 0),standardMaxRecordCount:s(i,"standardMaxRecordCount",void 0),tileMaxRecordCount:s(i,"tileMaxRecordCount",void 0)}}function z(i){const y=i.advancedQueryCapabilities,v=g(y,"supportsAdvancedQueryRelated",!1);return{supportsPagination:g(y,"supportsQueryRelatedPagination",!1),supportsCount:v,supportsOrderBy:v,supportsCacheHint:U(y,"queryRelated")}}function G(i){return{supportsCacheHint:U(i.advancedQueryCapabilities,"queryTopFilter")}}function A(i){const y=i.ownershipBasedAccessControlForFeatures,v=i?i.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:g(i,"allowGeometryUpdates",!0),supportsGlobalId:g(i,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:g(i,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:g(i,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:g(i,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:g(i,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:g(y,"allowAnonymousToDelete",!0),supportsDeleteByOthers:g(y,"allowOthersToDelete",!0),supportsUpdateByAnonymous:g(y,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:g(y,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:g(v,"supportsAsyncApplyEdits",!1),zDefault:s(i,"zDefault",void 0)}}},78592:(pe,V,d)=>{d.d(V,{O3:()=>w,PU:()=>L,YW:()=>_,ex:()=>K,hv:()=>h,zp:()=>R});var a=d(69287),W=d(67685),g=d(53781),s=d(89141);const K=2.4;function R(f){return(0,W.PN)(f*K)}function L(f){return(0,W.Lz)(f)/K}function U(f,E,C,S){let{color:z,ratio:G}=E,{color:A,ratio:M}=C;M===G&&(1===M?G-=1e-6:M+=1e-6);const i=(0,a.qE)((S-G)/(M-G),0,1);(0,g.l)(f,z.toArray(),A.toArray(),i)}function w(f){const C=new Uint8ClampedArray(2048);if((f=f.filter(({ratio:M})=>M>=0&&M<=1).sort((M,i)=>M.ratio-i.ratio).map(({color:M,ratio:i})=>({color:M,ratio:Math.max(i,.001)}))).length<1)return C;let S=f[0],z=f[0],G=1;const A=(0,s.vt)();for(let M=0;M<512;M++){const i=(M+.5)/512;for(;i>z.ratio&&G<f.length;)S=z,z=f[G++];U(A,S,z,i),C.set(A,4*M)}return C}function h(f,E,C){const S=Math.sqrt(f**2+E**2)/C;return S>1?0:3/(Math.PI*C**2)*(1-S**2)**2}function _(f){return"function"==typeof f?f:f?E=>+E[f]:()=>1}},98789:(pe,V,d)=>{d.d(V,{q:()=>W});var a=d(23743);function W(g,s,K){if(null==K||!K.features||!K.hasZ)return;const R=(0,a.N)(K.geometryType,s,g.outSpatialReference);if(null!=R)for(const L of K.features)R(L.geometry)}},93327:(pe,V,d)=>{d.d(V,{A:()=>M});var z,a=d(8189),W=d(21152),g=d(81098),s=d(49976),K=d(71065),R=d(77806),L=d(85211),h=(d(3248),d(35150),d(17221)),_=d(76576),f=d(50305),E=d(32034),C=d(61320),S=d(29141);const G=new s.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let A=z=class extends K.oY{constructor(i){super(i),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(i,y){const v=E.A.fromJSON(y.spatialReference),o=[];for(let D=0;D<i.length;D++){var c;const x=i[D],Y=g.A.fromJSON(x),F=null===(c=x.geometry)||void 0===c?void 0:c.spatialReference;null==Y.geometry||F||(Y.geometry.spatialReference=v);const O=x.aggregateGeometries,b=Y.aggregateGeometries;if(O&&null!=b)for(const N in b){const J=b[N],se=O[N];null==J||(null==se?void 0:se.spatialReference)||(J.spatialReference=v)}o.push(Y)}return o}writeGeometryType(i,y,v,o){if(i)return void G.write(i,y,v,o);const{features:c}=this;if(c)for(const D of c)if(null!=(null==D?void 0:D.geometry))return void G.write(D.geometry.type,y,v,o)}readQueryGeometry(i,y){if(!i)return null;const v=!!i.spatialReference,o=(0,C.rS)(i);return o&&!v&&y.spatialReference&&(o.spatialReference=E.A.fromJSON(y.spatialReference)),o}writeSpatialReference(i,y){if(i)return void(y.spatialReference=i.toJSON());const{features:v}=this;if(v)for(const o of v)if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(y.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new z(this.cloneProperties())}cloneProperties(){return(0,R.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(i){const y=this.write();if(y.features&&Array.isArray(i)&&i.length>0)for(let v=0;v<y.features.length;v++){const o=y.features[v];if(o.geometry){const c=null==i?void 0:i[v];o.geometry=(null==c?void 0:c.toJSON())||o.geometry}}return y}quantize(i){const{scale:[y,v],translate:[o,c]}=i,Y=this.features,F=this._getQuantizationFunction(this.geometryType,O=>Math.round((O-o)/y),O=>Math.round((c-O)/v));for(let O=0,b=Y.length;O<b;O++)null!=F&&F(Y[O].geometry)||(Y.splice(O,1),O--,b--);return this.transform=i,this}unquantize(){var i,y;const{geometryType:v,features:o,transform:c}=this;if(!c)return this;const{translate:[D,x],scale:[Y,F]}=c;let N=null,J=null;if(this.hasZ&&null!=(null==c||null===(i=c.scale)||void 0===i?void 0:i[2])){const{translate:[,,$],scale:[,,ne]}=c;N=oe=>oe*ne+$}if(this.hasM&&null!=(null==c||null===(y=c.scale)||void 0===y?void 0:y[3])){const{translate:[,,,$],scale:[,,,ne]}=c;J=oe=>null==oe?oe:oe*ne+$}const se=this._getHydrationFunction(v,$=>$*Y+D,$=>x-$*F,N,J);for(const{geometry:$}of o)null!=$&&se&&se($);return this.transform=null,this}_quantizePoints(i,y,v){let o,c;const D=[];for(let x=0,Y=i.length;x<Y;x++){const F=i[x];if(x>0){const O=y(F[0]),b=v(F[1]);O===o&&b===c||(D.push([O-o,b-c]),o=O,c=b)}else o=y(F[0]),c=v(F[1]),D.push([o,c])}return D.length>0?D:null}_getQuantizationFunction(i,y,v){return"point"===i?o=>(o.x=y(o.x),o.y=v(o.y),o):"polyline"===i||"polygon"===i?o=>{const c=(0,C.Bi)(o)?o.rings:o.paths,D=[];for(let x=0,Y=c.length;x<Y;x++){const O=this._quantizePoints(c[x],y,v);O&&D.push(O)}return D.length>0?((0,C.Bi)(o)?o.rings=D:o.paths=D,o):null}:"multipoint"===i?o=>{const c=this._quantizePoints(o.points,y,v);return c&&c.length>0?(o.points=c,o):null}:"extent"===i?o=>o:null}_getHydrationFunction(i,y,v,o,c){return"point"===i?D=>{D.x=y(D.x),D.y=v(D.y),o&&(D.z=o(D.z))}:"polyline"===i||"polygon"===i?D=>{const x=(0,C.Bi)(D)?D.rings:D.paths;let Y,F;for(let O=0,b=x.length;O<b;O++){const N=x[O];for(let J=0,se=N.length;J<se;J++){const $=N[J];J>0?(Y+=$[0],F+=$[1]):(Y=$[0],F=$[1]),$[0]=y(Y),$[1]=v(F)}}if(o&&c)for(let O=0,b=x.length;O<b;O++){const N=x[O];for(let J=0,se=N.length;J<se;J++){const $=N[J];$[2]=o($[2]),$[3]=c($[3])}}else if(o)for(let O=0,b=x.length;O<b;O++){const N=x[O];for(let J=0,se=N.length;J<se;J++){const $=N[J];$[2]=o($[2])}}else if(c)for(let O=0,b=x.length;O<b;O++){const N=x[O];for(let J=0,se=N.length;J<se;J++){const $=N[J];$[2]=c($[2])}}}:"extent"===i?D=>{D.xmin=y(D.xmin),D.ymin=v(D.ymin),D.xmax=y(D.xmax),D.ymax=v(D.ymax),o&&null!=D.zmax&&null!=D.zmin&&(D.zmax=o(D.zmax),D.zmin=o(D.zmin)),c&&null!=D.mmax&&null!=D.mmin&&(D.mmax=c(D.mmax),D.mmin=c(D.mmin))}:"multipoint"===i?D=>{const x=D.points;let Y,F;for(let O=0,b=x.length;O<b;O++){const N=x[O];O>0?(Y+=N[0],F+=N[1]):(Y=N[0],F=N[1]),N[0]=y(Y),N[1]=v(F)}if(o&&c)for(let O=0,b=x.length;O<b;O++){const N=x[O];N[2]=o(N[2]),N[3]=c(N[3])}else if(o)for(let O=0,b=x.length;O<b;O++){const N=x[O];N[2]=o(N[2])}else if(c)for(let O=0,b=x.length;O<b;O++){const N=x[O];N[2]=c(N[2])}}:null}};(0,a._)([(0,L.MZ)({type:String,json:{write:!0}})],A.prototype,"displayFieldName",void 0),(0,a._)([(0,L.MZ)({type:Boolean,json:{write:{overridePolicy:i=>({enabled:i})}}})],A.prototype,"exceededTransferLimit",void 0),(0,a._)([(0,L.MZ)({type:[g.A],json:{write:!0}})],A.prototype,"features",void 0),(0,a._)([(0,h.w)("features")],A.prototype,"readFeatures",null),(0,a._)([(0,L.MZ)({type:[S.A],json:{write:!0}})],A.prototype,"fields",void 0),(0,a._)([(0,L.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:G.read}}})],A.prototype,"geometryType",void 0),(0,a._)([(0,f.K)("geometryType")],A.prototype,"writeGeometryType",null),(0,a._)([(0,L.MZ)({type:Boolean,json:{write:{overridePolicy:i=>({enabled:i})}}})],A.prototype,"hasM",void 0),(0,a._)([(0,L.MZ)({type:Boolean,json:{write:{overridePolicy:i=>({enabled:i})}}})],A.prototype,"hasZ",void 0),(0,a._)([(0,L.MZ)({types:W.yR,json:{write:!0}})],A.prototype,"queryGeometry",void 0),(0,a._)([(0,h.w)("queryGeometry")],A.prototype,"readQueryGeometry",null),(0,a._)([(0,L.MZ)({type:E.A,json:{write:!0}})],A.prototype,"spatialReference",void 0),(0,a._)([(0,f.K)("spatialReference")],A.prototype,"writeSpatialReference",null),(0,a._)([(0,L.MZ)({json:{write:!0}})],A.prototype,"transform",void 0),A=z=(0,a._)([(0,_.$)("esri.rest.support.FeatureSet")],A),A.prototype.toJSON.isDefaultToJSON=!0;const M=A},91644:(pe,V,d)=>{d.d(V,{A7:()=>U,Cx:()=>w,Hk:()=>h,JJ:()=>C,UK:()=>L,jM:()=>f,x3:()=>E}),d(3248);var W=d(88521),g=d(55417),s=d(46602),K=d(47705),R=d(48254);const L=s.A.fromJSON(R.Cb),U=g.A.fromJSON(R.yM),w=W.A.fromJSON(R.WR),h=K.A.fromJSON(R.JZ),f=s.A.fromJSON(R.nC),E=g.A.fromJSON(R.HW),C=W.A.fromJSON(R.b6)},48254:(pe,V,d)=>{d.d(V,{Cb:()=>g,HW:()=>U,JZ:()=>R,WR:()=>K,b6:()=>w,nC:()=>L,yM:()=>s});const a=[252,146,31,255],g={type:"esriSMS",style:"esriSMSCircle",size:6,color:a,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:a},K={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},R={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},L={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},U={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},w={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);