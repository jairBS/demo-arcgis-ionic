"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9550],{94268:(je,xe,j)=>{j.d(xe,{a:()=>L,b:()=>fe,c:()=>we,f:()=>ye,g:()=>Q,j:()=>Ie,n:()=>Fe}),j(3248);var Z=j(35150),ue=j(69287),Ae=j(92771),z=j(28714),pe=j(25866),Me=j(53781),le=j(89141),J=j(85952),ae=j(41510),ee=j(55703),Te=j(99608),de=j(19741);const Oe=we();function we(){return(0,le.vt)()}const _=Me.e,O=Me.e;function L(A,F){return(0,Me.c)(F,A)}function fe(A){return A[3]}function Q(A){return A}function ye(A,F,B,Y){return(0,le.fA)(A,F,B,Y)}function G(A,F,B){if(null==F||!V(A,F,W))return!1;let{t0:Y,t1:H}=W;if((Y<0||H<Y&&H>0)&&(Y=H),Y<0)return!1;if(B){const{origin:q,direction:be}=F;B[0]=q[0]+be[0]*Y,B[1]=q[1]+be[1]*Y,B[2]=q[2]+be[2]*Y}return!0}const W={t0:0,t1:0};function V(A,F,B){const{origin:Y,direction:H}=F,q=se;q[0]=Y[0]-A[0],q[1]=Y[1]-A[1],q[2]=Y[2]-A[2];const be=H[0]*H[0]+H[1]*H[1]+H[2]*H[2];if(0===be)return!1;const Pe=2*(H[0]*q[0]+H[1]*q[1]+H[2]*q[2]),Le=Pe*Pe-4*be*(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]-A[3]*A[3]);if(Le<0)return!1;const Be=Math.sqrt(Le);return B.t0=(-Pe-Be)/(2*be),B.t1=(-Pe+Be)/(2*be),!0}const se=(0,pe.vt)();function Ie(A,F){return G(A,F,null)}function Ue(A,F,B){const Y=de.rq.get(),H=de.Rc.get();(0,z.b)(Y,F.origin,F.direction);const q=fe(A);(0,z.b)(B,Y,F.origin),(0,z.h)(B,B,1/(0,z.l)(B)*q);const be=Ne(A,F.origin),Pe=(0,Te.g7)(F.origin,B);return(0,Ae.$0)(H,Pe+be,Y),(0,z.e)(B,B,H),B}function De(A,F,B){const Y=(0,z.f)(de.rq.get(),F,A),H=(0,z.h)(de.rq.get(),Y,A[3]/(0,z.l)(Y));return(0,z.g)(B,H,A)}function Ne(A,F){const B=(0,z.f)(de.rq.get(),F,A),Y=(0,z.l)(B),H=fe(A),q=H+Math.abs(H-Y);return(0,ue.XM)(H/q)}const We=(0,pe.vt)();function Ve(A,F,B,Y){const H=(0,z.f)(We,F,A);switch(B){case ae._.X:{const q=(0,ue.jU)(H,We)[2];return(0,z.s)(Y,-Math.sin(q),Math.cos(q),0)}case ae._.Y:{const q=(0,ue.jU)(H,We),be=q[1],Pe=q[2],Le=Math.sin(be);return(0,z.s)(Y,-Le*Math.cos(Pe),-Le*Math.sin(Pe),Math.cos(be))}case ae._.Z:return(0,z.n)(Y,H);default:return}}function He(A,F){const B=(0,z.f)(Ze,F,A);return(0,z.l)(B)-A[3]}function Fe(A,F){const B=(0,z.a)(A,F),Y=fe(A);return B<=Y*Y}const Ze=(0,pe.vt)(),rt=we();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:Oe,altitudeAt:He,angleToSilhouette:Ne,axisAt:Ve,clear:function P(A){A[0]=A[1]=A[2]=A[3]=0},closestPoint:function ne(A,F,B){return G(A,F,B)?B:((0,ee.oC)(F,A,B),De(A,B,B))},closestPointOnSilhouette:Ue,containsPoint:Fe,copy:L,create:we,distanceToSilhouette:function Ke(A,F){const B=(0,z.f)(de.rq.get(),F,A),Y=(0,z.p)(B);return Math.sqrt(Math.abs(Y-A[3]*A[3]))},elevate:function E(A,F,B){return A!==B&&(B[0]=A[0],B[1]=A[1],B[2]=A[2]),B[3]=A[3]+F,B},equals:O,exactEquals:_,fromCenterAndRadius:function me(A,F){return(0,le.fA)(A[0],A[1],A[2],F)},fromRadius:function ce(A,F){return A[0]=A[1]=A[2]=0,A[3]=F,A},fromValues:ye,getCenter:Q,getRadius:fe,intersectLine:function N(A,F,B){const Y=(0,ee.Cr)(F,B);if(!V(A,Y,W))return[];const{origin:H,direction:q}=Y,{t0:be,t1:Pe}=W,Le=Be=>{const ze=(0,pe.vt)();return(0,z.r)(ze,H,q,Be),De(A,ze,ze)};return Math.abs(be-Pe)<(0,J.FD)()?[Le(be)]:[Le(be),Le(Pe)]},intersectRay:G,intersectRayClosestSilhouette:function Se(A,F,B){if(G(A,F,B))return B;const Y=Ue(A,F,de.rq.get());return(0,z.g)(B,F.origin,(0,z.h)(de.rq.get(),F.direction,(0,z.q)(F.origin,Y)/(0,z.l)(F.direction))),B},intersectsRay:Ie,projectPoint:De,setAltitudeAt:function $e(A,F,B,Y){const H=He(A,F),q=Ve(A,F,ae._.Z,Ze),be=(0,z.h)(Ze,q,B-H);return(0,z.g)(Y,F,be)},setExtent:function h(A,F,B){return Z.A.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),A!==B&&L(A,B),B},tmpSphere:rt,union:function ot(A,F,B=(0,le.vt)()){const Y=(0,z.q)(A,F),H=A[3],q=F[3];return Y+q<H?((0,Me.c)(B,A),B):Y+H<q?((0,Me.c)(B,F),B):((0,z.m)(B,A,F,(Y+q-H)/(2*Y)),B[3]=(Y+H+q)/2,B)},wrap:function _e(A){return A}},Symbol.toStringTag,{value:"Module"}))},84149:(je,xe,j)=>{j.d(xe,{I:()=>Z});var X=j(64662);class Z{constructor(z){this._allocator=z,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,X.d)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const z=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*ue);this._items.length=Math.min(z,this._items.length),this._itemsPtr=0}_grow(){for(let z=0;z<Math.max(8,Math.min(this._items.length,ue));z++)this._items.push(this._allocator())}}const ue=1024},16590:(je,xe,j)=>{j.d(xe,{g:()=>Ae});var X=j(25866),Z=j(11817),ue=j(23234);function Ae(le,J,ae,ee){var Te,de;if((0,Z.canProjectWithoutEngine)(le.spatialReference,ae)){var Oe;Me[0]=le.x,Me[1]=le.y;const _=le.z;return Me[2]=null!==(Oe=null!=_?_:ee)&&void 0!==Oe?Oe:0,(0,ue.projectBuffer)(Me,le.spatialReference,0,J,ae,0,1)}const we=(0,Z.tryProjectWithZConversion)(le,ae);return!!we&&(J[0]=null==we?void 0:we.x,J[1]=null==we?void 0:we.y,J[2]=null!==(Te=null!==(de=null==we?void 0:we.z)&&void 0!==de?de:ee)&&void 0!==Te?Te:0,!0)}const Me=(0,X.vt)()},55703:(je,xe,j)=>{j.d(xe,{Cr:()=>ee,LV:()=>J,oC:()=>Oe,vt:()=>pe}),j(89952);var Z=j(84149),ue=j(28714),Ae=j(25866);function pe(_){return _?Me((0,Ae.o8)(_.origin),(0,Ae.o8)(_.direction)):Me((0,Ae.vt)(),(0,Ae.vt)())}function Me(_,O){return{origin:_,direction:O}}function J(_,O){const L=we.get();return L.origin=_,L.direction=O,L}function ee(_,O,L=pe()){return(0,ue.c)(L.origin,_),(0,ue.f)(L.direction,O,_),L}function Oe(_,O,L){const me=(0,ue.k)(_.direction,(0,ue.f)(L,O,_.origin));return(0,ue.g)(L,_.origin,(0,ue.h)(L,_.direction,me)),L}j(19741);const we=new Z.I(()=>pe())},70787:(je,xe,j)=>{j.d(xe,{MA:()=>ee,m0:()=>P,wH:()=>_});var X=j(5922),Z=j(77806),ue=j(35150),Ae=j(46835),z=j(40972);const pe=()=>ue.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function Me(E,h,G){let N="",W=0;for(;W<G;){const V=E[h+W];if(V<128)N+=String.fromCharCode(V),W++;else if(V>=192&&V<224){if(W+1>=G)throw new X.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");N+=String.fromCharCode((31&V)<<6|63&E[h+W+1]),W+=2}else if(V>=224&&V<240){if(W+2>=G)throw new X.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");N+=String.fromCharCode((15&V)<<12|(63&E[h+W+1])<<6|63&E[h+W+2]),W+=3}else{if(!(V>=240&&V<248))throw new X.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(W+3>=G)throw new X.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const se=(7&V)<<18|(63&E[h+W+1])<<12|(63&E[h+W+2])<<6|63&E[h+W+3];N+=se>=65536?String.fromCharCode(55296+(se-65536>>10),56320+(1023&se)):String.fromCharCode(se),W+=4}}}return N}function le(E,h){const G={byteOffset:0,byteCount:0,fields:Object.create(null)};let N=0;for(let W=0;W<h.length;W++){const V=h[W],se=V.valueType||V.type;G.fields[V.property]=(0,fe[se])(E,N),N+=ce[se].BYTES_PER_ELEMENT}return G.byteCount=N,G}function ae(E,h,G){const N=[];let W,V,se=0;for(V=0;V<E;V+=1){if(W=h[V],W>0){if(N.push(Me(G,se,W-1)),0!==G[se+W-1])throw new X.A("string-array-error","Invalid string array: missing null termination.")}else N.push(null);se+=W}return N}function ee(E,h){return new ce[h.valueType](E,h.byteOffset,h.count*h.valuesPerElement)}function Oe(E,h,G){if(h!==E&&pe().error(`Invalid ${G} buffer size\n expected: ${E}, actual: ${h})`),h<E)throw new X.A("buffer-too-small","Binary buffer is too small",{expectedSize:E,actualSize:h})}function _(E,h){const G=le(E,h&&h.header);let N=G.byteCount;const W={isDraco:!1,header:G,byteOffset:G.byteCount,byteCount:0,vertexAttributes:{}},V=G.fields,se=null!=V.vertexCount?V.vertexCount:V.count;for(const Ue of h.ordering){if(!h.vertexAttributes[Ue])continue;const ne={...h.vertexAttributes[Ue],byteOffset:N,count:se};W.vertexAttributes[_e[Ue]||"_"+Ue]=ne,N+=ye(ne.valueType)*ne.valuesPerElement*se}const Ie=V.faceCount;if(h.faces&&Ie){W.faces={};for(const Ue of h.ordering){if(!h.faces[Ue])continue;const ne={...h.faces[Ue],byteOffset:N,count:Ie};W.faces[Ue]=ne,N+=ye(ne.valueType)*ne.valuesPerElement*Ie}}const Se=V.featureCount;if(h.featureAttributes&&h.featureAttributeOrder&&Se){W.featureAttributes={};for(const Ue of h.featureAttributeOrder){if(!h.featureAttributes[Ue])continue;const ne={...h.featureAttributes[Ue],byteOffset:N,count:Se};W.featureAttributes[Ue]=ne,N+=("UInt64"===ne.valueType?8:ye(ne.valueType))*ne.valuesPerElement*Se}}return Oe(N,E.byteLength,"geometry"),W.byteCount=N-W.byteOffset,W}const _e={position:z.r.POSITION,normal:z.r.NORMAL,color:z.r.COLOR,uv0:z.r.UV0,region:z.r.UVREGION};function P(E,h,G){if("lepcc-rgb"===E.encoding)return(0,Ae.mb)(h);if("lepcc-intensity"===E.encoding)return(0,Ae.Ax)(h);if(null!=E.encoding&&""!==E.encoding)throw new X.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");E["attributeByteCounts "]&&!E.attributeByteCounts&&(pe().warn("Warning: Trailing space in 'attributeByteCounts '."),E.attributeByteCounts=E["attributeByteCounts "]),"ObjectIds"===E.ordering[0]&&E.hasOwnProperty("objectIds")&&(pe().warn("Warning: Case error in objectIds"),E.ordering[0]="objectIds");const N=function de(E,h,G){const N=null!=h.header?le(E,h.header):{byteOffset:0,byteCount:0,fields:{count:G}},W={header:N,byteOffset:N.byteCount,byteCount:0,entries:Object.create(null)};let V=N.byteCount;for(let Se=0;Se<h.ordering.length;Se++){var se,Ie;const Ue=h.ordering[Se],ne=(0,Z.o8)(h[Ue]);if(ne.count=null!==(se=N.fields.count)&&void 0!==se?se:0,"String"===ne.valueType){if(ne.byteOffset=V,ne.byteCount=N.fields[Ue+"ByteCount"],"UTF-8"!==ne.encoding)throw new X.A("unsupported-encoding","Unsupported String encoding.",{encoding:ne.encoding});if(ne.timeEncoding&&"ECMA_ISO8601"!==ne.timeEncoding)throw new X.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:ne.timeEncoding})}else{if(!Q(ne.valueType))throw new X.A("unsupported-value-type","Unsupported binary valueType",{valueType:ne.valueType});{const De=ye(ne.valueType);V+=V%De!=0?De-V%De:0,ne.byteOffset=V,ne.byteCount=De*ne.valuesPerElement*ne.count}}V+=null!==(Ie=ne.byteCount)&&void 0!==Ie?Ie:0,W.entries[Ue]=ne}return W.byteCount=V-W.byteOffset,W}(h,E,G);Oe(N.byteOffset+N.byteCount,h.byteLength,"attribute");const W=N.entries.attributeValues||N.entries.objectIds;if(W){if("String"===W.valueType){const V=N.entries.attributeByteCounts,se=ee(h,V),Ie=function Te(E,h){return new Uint8Array(E,h.byteOffset,h.byteCount)}(h,W);return W.timeEncoding?function J(E,h,G){return ae(E,h,G).map(N=>{const W=N?Date.parse(N):null;return W&&!Number.isNaN(W)?W:null})}(V.count,se,Ie):ae(V.count,se,Ie)}return ee(h,W)}throw new X.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const ce={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},fe={Float32:(E,h)=>new DataView(E,0).getFloat32(h,!0),Float64:(E,h)=>new DataView(E,0).getFloat64(h,!0),UInt8:(E,h)=>new DataView(E,0).getUint8(h),Int8:(E,h)=>new DataView(E,0).getInt8(h),UInt16:(E,h)=>new DataView(E,0).getUint16(h,!0),Int16:(E,h)=>new DataView(E,0).getInt16(h,!0),UInt32:(E,h)=>new DataView(E,0).getUint32(h,!0),Int32:(E,h)=>new DataView(E,0).getInt32(h,!0)};function Q(E){return ce.hasOwnProperty(E)}function ye(E){return Q(E)?ce[E].BYTES_PER_ELEMENT:0}},99550:(je,xe,j)=>{j.d(xe,{Q7:()=>Mt,s1:()=>it});var X=j(10467),ue=(j(21152),j(89563)),Me=(j(89952),j(5922),j(3248),j(79139)),J=(j(92771),j(62789)),ee=(j(28714),j(25866));j(11817),j(65580),j(32034);j(16590);var P=j(51995),Q=(j(94268),j(87086),j(70787));j(87477),j(37605),j(68677);var Ie,s,se=j(89141);(s=Ie||(Ie={}))[s.INVISIBLE=0]="INVISIBLE",s[s.TRANSPARENT=1]="TRANSPARENT",s[s.OPAQUE=2]="OPAQUE";const We={color:(0,se.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:Ie.OPAQUE,hasSlicePlane:!1};(0,se.fA)(0,0,0,.2),j(10136);var B,$e=j(19641);function it(s,f,U,T,D,K,$,k){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,X.A)(function*(s,f,U,T,D,K,$,k){const oe=[];for(const ie of f)ie&&D.includes(ie.name)&&oe.push({url:`${s}/nodes/${U}/attributes/${ie.key}/0`,storageInfo:ie});const te=yield Promise.allSettled(oe.map(ie=>(0,ue.A)(ie.url,{responseType:"array-buffer",query:{...$,token:K},signal:null==k?void 0:k.signal}).then(Ee=>(0,Q.m0)(ie.storageInfo,Ee.data)))),ve=[];for(const ie of T){const Ee={};for(let Ce=0;Ce<te.length;Ce++){const re=te[Ce];"fulfilled"===re.status&&(Ee[oe[Ce].storageInfo.name]=dt(re.value,ie))}ve.push(Ee)}return ve}),Qe.apply(this,arguments)}(0,P.vt)(),function(s){s[s.OUTSIDE=0]="OUTSIDE",s[s.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",s[s.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",s[s.INSIDE=3]="INSIDE"}(B||(B={}));const lt=-32768,ft=-(2**31);function dt(s,f){if(!s)return null;const U=s[f];return(0,Me.IY)(s)?U===lt?null:U:(0,Me._G)(s)?U===ft?null:U:U!=U?null:U}function Mt(s){null!=s&&(s[3]=-1)}!function Ke(s){return{...We,...s,type:"solid"}}({color:[0,0,0,0],opacity:0}),(0,ee.vt)(),(0,ee.vt)(),(0,ee.vt)(),(0,ee.vt)(),(0,ee.vt)(),(0,ee.vt)(),(0,ee.vt)(),(0,ee.vt)(),(0,P.vt)(),(0,P.vt)(),new $e.ab,(0,ee.vt)(),new Array(72),(0,J.vt)()},46835:(je,xe,j)=>{j.d(xe,{Ax:()=>we,Me:()=>Me,mb:()=>Te});var X=j(5922);const Z=!0,ue={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function Ae(_,O,L){return{identifier:String.fromCharCode.apply(null,new Uint8Array(_,L+ue.identifierOffset,ue.identifierLength)),version:O.getUint16(L+ue.versionOffset,Z),checksum:O.getUint32(L+ue.checksumOffset,Z)}}const z={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function Me(_){const O=new DataView(_,0);let L=0;const{identifier:me,version:_e}=Ae(_,O,L);if(L+=ue.byteCount,"LEPCC     "!==me)throw new X.A("lepcc-decode-error","Bad identifier");if(_e>1)throw new X.A("lepcc-decode-error","Unknown version");const P=function pe(_,O){return{sizeLo:_.getUint32(O+z.sizeLo,Z),sizeHi:_.getUint32(O+z.sizeHi,Z),minX:_.getFloat64(O+z.minX,Z),minY:_.getFloat64(O+z.minY,Z),minZ:_.getFloat64(O+z.minZ,Z),maxX:_.getFloat64(O+z.maxX,Z),maxY:_.getFloat64(O+z.maxY,Z),maxZ:_.getFloat64(O+z.maxZ,Z),errorX:_.getFloat64(O+z.errorX,Z),errorY:_.getFloat64(O+z.errorY,Z),errorZ:_.getFloat64(O+z.errorZ,Z),count:_.getUint32(O+z.count,Z),reserved:_.getUint32(O+z.reserved,Z)}}(O,L);if(L+=z.byteCount,P.sizeHi*2**32+P.sizeLo!==_.byteLength)throw new X.A("lepcc-decode-error","Bad size");const ce=new Float64Array(3*P.count),fe=[],Q=[],ye=[],E=[];if(L=le(_,L,fe),L=le(_,L,Q),L=le(_,L,ye),L=le(_,L,E),L!==_.byteLength)throw new X.A("lepcc-decode-error","Bad length");let h=0,G=0;for(let N=0;N<fe.length;N++){G+=fe[N];let W=0;for(let V=0;V<Q[N];V++){W+=ye[h];const se=E[h];ce[3*h]=Math.min(P.maxX,P.minX+2*P.errorX*W),ce[3*h+1]=Math.min(P.maxY,P.minY+2*P.errorY*G),ce[3*h+2]=Math.min(P.maxZ,P.minZ+2*P.errorZ*se),h++}}return{errorX:P.errorX,errorY:P.errorY,errorZ:P.errorZ,result:ce}}function le(_,O,L){const me=[];O=J(_,O,me);const _e=[];for(let P=0;P<me.length;P++){_e.length=0,O=J(_,O,_e);for(let ce=0;ce<_e.length;ce++)L.push(_e[ce]+me[P])}return O}function J(_,O,L){const me=new DataView(_,O),_e=me.getUint8(0),P=31&_e,ce=!!(32&_e),fe=(192&_e)>>6;let Q=0;if(0===fe)Q=me.getUint32(1,Z),O+=5;else if(1===fe)Q=me.getUint16(1,Z),O+=3;else{if(2!==fe)throw new X.A("lepcc-decode-error","Bad count type");Q=me.getUint8(1),O+=2}if(ce)throw new X.A("lepcc-decode-error","LUT not implemented");const ye=Math.ceil(Q*P/8),E=new Uint8Array(_,O,ye);let h=0,G=0,N=0;const W=-1>>>32-P;for(let V=0;V<Q;V++){for(;G<P;)h|=E[N]<<G,G+=8,N+=1;L[V]=h&W,h>>>=P,G-=P,G+P>32&&(h|=E[N-1]>>8-G)}return O+N}const ae={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function Te(_){const O=new DataView(_,0);let L=0;const{identifier:me,version:_e}=Ae(_,O,L);if(L+=ue.byteCount,"ClusterRGB"!==me)throw new X.A("lepcc-decode-error","Bad identifier");if(_e>1)throw new X.A("lepcc-decode-error","Unknown version");const P=function ee(_,O){return{sizeLo:_.getUint32(O+ae.sizeLo,Z),sizeHi:_.getUint32(O+ae.sizeHi,Z),count:_.getUint32(O+ae.count,Z),colorMapCount:_.getUint16(O+ae.colorMapCount,Z),lookupMethod:_.getUint8(O+ae.lookupMethod),compressionMethod:_.getUint8(O+ae.compressionMethod)}}(O,L);if(L+=ae.byteCount,P.sizeHi*2**32+P.sizeLo!==_.byteLength)throw new X.A("lepcc-decode-error","Bad size");if((2===P.lookupMethod||1===P.lookupMethod)&&0===P.compressionMethod){if(3*P.colorMapCount+P.count+L!==_.byteLength||P.colorMapCount>256)throw new X.A("lepcc-decode-error","Bad count");const ce=new Uint8Array(_,L,3*P.colorMapCount),fe=new Uint8Array(_,L+3*P.colorMapCount,P.count),Q=new Uint8Array(3*P.count);for(let ye=0;ye<P.count;ye++){const E=fe[ye];Q[3*ye]=ce[3*E],Q[3*ye+1]=ce[3*E+1],Q[3*ye+2]=ce[3*E+2]}return Q}if(0===P.lookupMethod&&0===P.compressionMethod){if(3*P.count+L!==_.byteLength||0!==P.colorMapCount)throw new X.A("lepcc-decode-error","Bad count");return new Uint8Array(_,L).slice()}if(P.lookupMethod<=2&&1===P.compressionMethod){if(L+3!==_.byteLength||1!==P.colorMapCount)throw new X.A("lepcc-decode-error","Bad count");const ce=O.getUint8(L),fe=O.getUint8(L+1),Q=O.getUint8(L+2),ye=new Uint8Array(3*P.count);for(let E=0;E<P.count;E++)ye[3*E]=ce,ye[3*E+1]=fe,ye[3*E+2]=Q;return ye}throw new X.A("lepcc-decode-error","Bad method "+P.lookupMethod+","+P.compressionMethod)}const de={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function we(_){const O=new DataView(_,0);let L=0;const{identifier:me,version:_e}=Ae(_,O,L);if(L+=ue.byteCount,"Intensity "!==me)throw new X.A("lepcc-decode-error","Bad identifier");if(_e>1)throw new X.A("lepcc-decode-error","Unknown version");const P=function Oe(_,O){return{sizeLo:_.getUint32(O+de.sizeLo,Z),sizeHi:_.getUint32(O+de.sizeHi,Z),count:_.getUint32(O+de.count,Z),scaleFactor:_.getUint16(O+de.scaleFactor,Z),bitsPerPoint:_.getUint8(O+de.bitsPerPoint),reserved:_.getUint8(O+de.reserved)}}(O,L);if(L+=de.byteCount,P.sizeHi*2**32+P.sizeLo!==_.byteLength)throw new X.A("lepcc-decode-error","Bad size");const ce=new Uint16Array(P.count);if(8===P.bitsPerPoint){if(P.count+L!==_.byteLength)throw new X.A("lepcc-decode-error","Bad size");const fe=new Uint8Array(_,L,P.count);for(let Q=0;Q<P.count;Q++)ce[Q]=fe[Q]*P.scaleFactor}else if(16===P.bitsPerPoint){if(2*P.count+L!==_.byteLength)throw new X.A("lepcc-decode-error","Bad size");const fe=new Uint16Array(_,L,P.count);for(let Q=0;Q<P.count;Q++)ce[Q]=fe[Q]*P.scaleFactor}else{const fe=[];if(J(_,L,fe)!==_.byteLength)throw new X.A("lepcc-decode-error","Bad size");for(let Q=0;Q<P.count;Q++)ce[Q]=fe[Q]*P.scaleFactor}return ce}},10136:(je,xe,j)=>{var Z,J;j.d(xe,{k5:()=>Z}),j(69287),(J=Z||(Z={}))[J.Multiply=1]="Multiply",J[J.Ignore=2]="Ignore",J[J.Replace=3]="Replace",J[J.Tint=4]="Tint"}}]);