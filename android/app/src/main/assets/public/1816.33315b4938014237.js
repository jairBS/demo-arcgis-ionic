"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1816],{92405:(ne,Ft,X)=>{X.d(Ft,{e:()=>ct});var Dt,H,tt=X(93293),k={exports:{}};Dt=k,void 0!==(H=function(){function Et(c,E,y){y=y||2;var T,I,m,O,w,K,xt,dt=E&&E.length,_t=dt?E[0]*y:c.length,lt=st(c,0,_t,y,!0),Z=[];if(!lt||lt.next===lt.prev)return Z;if(dt&&(lt=function S(c,E,y,T){var I,m,O,w=[];for(I=0,m=E.length;I<m;I++)(O=st(c,E[I]*T,I<m-1?E[I+1]*T:c.length,T,!1))===O.next&&(O.steiner=!0),w.push(Pt(O));for(w.sort(q),I=0;I<w.length;I++)y=M(y=ft(w[I],y),y.next);return y}(c,E,lt,y)),c.length>80*y){T=m=c[0],I=O=c[1];for(var z=y;z<_t;z+=y)(w=c[z])<T&&(T=w),(K=c[z+1])<I&&(I=K),w>m&&(m=w),K>O&&(O=K);xt=0!==(xt=Math.max(m-T,O-I))?1/xt:0}return G(lt,Z,y,T,I,xt),Z}function st(c,E,y,T,I){var m,O;if(I===Kt(c,E,y,T)>0)for(m=E;m<y;m+=T)O=nt(m,c[m],c[m+1],O);else for(m=y-T;m>=E;m-=T)O=nt(m,c[m],c[m+1],O);if(O&&ht(O,O.next)){var w=O.next;at(O),O=w}return O}function M(c,E){if(!c)return c;E||(E=c);var y,T=c;do{if(y=!1,T.steiner||!ht(T,T.next)&&0!==j(T.prev,T,T.next))T=T.next;else{var I=T.prev;if(at(T),(T=E=I)===T.next)break;y=!0}}while(y||T!==E);return E}function G(c,E,y,T,I,m,O){if(c){!O&&m&&function Gt(c,E,y,T){var I=c;do{null===I.z&&(I.z=Mt(I.x,I.y,E,y,T)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next}while(I!==c);I.prevZ.nextZ=null,I.prevZ=null,function pt(c){var E,y,T,I,m,O,w,K,xt=1;do{for(y=c,c=null,m=null,O=0;y;){for(O++,T=y,w=0,E=0;E<xt&&(w++,T=T.nextZ);E++);for(K=xt;w>0||K>0&&T;)0!==w&&(0===K||!T||y.z<=T.z)?(I=y,y=y.nextZ,w--):(I=T,T=T.nextZ,K--),m?m.nextZ=I:c=I,I.prevZ=m,m=I;y=T}m.nextZ=null,xt*=2}while(O>1)}(I)}(c,T,I,m);for(var w,K,xt=c;c.prev!==c.next;)if(w=c.prev,K=c.next,m?L(c,T,I,m):U(c))E.push(w.i/y),E.push(c.i/y),E.push(K.i/y),at(c),c=K.next,xt=K.next;else if((c=K)===xt){O?1===O?G(c=$(M(c),E,y),E,y,T,I,m,2):2===O&&F(c,E,y,T,I,m):G(M(c),E,y,T,I,m,1);break}}}function U(c){var E=c.prev,y=c,T=c.next;if(j(E,y,T)>=0)return!1;for(var I=c.next.next;I!==c.prev;){if(Rt(E.x,E.y,y.x,y.y,T.x,T.y,I.x,I.y)&&j(I.prev,I,I.next)>=0)return!1;I=I.next}return!0}function L(c,E,y,T){var I=c.prev,m=c,O=c.next;if(j(I,m,O)>=0)return!1;for(var xt=I.x>m.x?I.x>O.x?I.x:O.x:m.x>O.x?m.x:O.x,dt=I.y>m.y?I.y>O.y?I.y:O.y:m.y>O.y?m.y:O.y,_t=Mt(I.x<m.x?I.x<O.x?I.x:O.x:m.x<O.x?m.x:O.x,I.y<m.y?I.y<O.y?I.y:O.y:m.y<O.y?m.y:O.y,E,y,T),lt=Mt(xt,dt,E,y,T),Z=c.prevZ,z=c.nextZ;Z&&Z.z>=_t&&z&&z.z<=lt;){if(Z!==c.prev&&Z!==c.next&&Rt(I.x,I.y,m.x,m.y,O.x,O.y,Z.x,Z.y)&&j(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,z!==c.prev&&z!==c.next&&Rt(I.x,I.y,m.x,m.y,O.x,O.y,z.x,z.y)&&j(z.prev,z,z.next)>=0))return!1;z=z.nextZ}for(;Z&&Z.z>=_t;){if(Z!==c.prev&&Z!==c.next&&Rt(I.x,I.y,m.x,m.y,O.x,O.y,Z.x,Z.y)&&j(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;z&&z.z<=lt;){if(z!==c.prev&&z!==c.next&&Rt(I.x,I.y,m.x,m.y,O.x,O.y,z.x,z.y)&&j(z.prev,z,z.next)>=0)return!1;z=z.nextZ}return!0}function $(c,E,y){var T=c;do{var I=T.prev,m=T.next.next;!ht(I,m)&&Q(I,T,T.next,m)&&t(I,m)&&t(m,I)&&(E.push(I.i/y),E.push(T.i/y),E.push(m.i/y),at(T),at(T.next),T=c=m),T=T.next}while(T!==c);return M(T)}function F(c,E,y,T,I,m){var O=c;do{for(var w=O.next.next;w!==O.prev;){if(O.i!==w.i&&It(O,w)){var K=kt(O,w);return O=M(O,O.next),K=M(K,K.next),G(O,E,y,T,I,m),void G(K,E,y,T,I,m)}w=w.next}O=O.next}while(O!==c)}function q(c,E){return c.x-E.x}function ut(c){if(c.next.prev===c)return c;let E=c;for(;;){const y=E.next;if(y.prev===E||y===E||y===c)break;E=y}return E}function ft(c,E){var y=function Tt(c,E){var y,T=E,I=c.x,m=c.y,O=-1/0;do{if(m<=T.y&&m>=T.next.y&&T.next.y!==T.y){var w=T.x+(m-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(w<=I&&w>O){if(O=w,w===I){if(m===T.y)return T;if(m===T.next.y)return T.next}y=T.x<T.next.x?T:T.next}}T=T.next}while(T!==E);if(!y)return null;if(I===O)return y;var K,xt=y,dt=y.x,_t=y.y,lt=1/0;T=y;do{I>=T.x&&T.x>=dt&&I!==T.x&&Rt(m<_t?I:O,m,dt,_t,m<_t?O:I,m,T.x,T.y)&&(K=Math.abs(m-T.y)/(I-T.x),t(T,c)&&(K<lt||K===lt&&(T.x>y.x||T.x===y.x&&Bt(y,T)))&&(y=T,lt=K)),T=T.next}while(T!==xt);return y}(c,E);if(!y)return E;var T=kt(y,c),I=M(y,y.next);let m=ut(T);return M(m,m.next),I=ut(I),ut(E===y?I:E)}function Bt(c,E){return j(c.prev,c,E.prev)<0&&j(E.next,c,c.next)<0}function Mt(c,E,y,T,I){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-y)*I)|c<<8))|c<<4))|c<<2))|c<<1))|(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-T)*I)|E<<8))|E<<4))|E<<2))|E<<1))<<1}function Pt(c){var E=c,y=c;do{(E.x<y.x||E.x===y.x&&E.y<y.y)&&(y=E),E=E.next}while(E!==c);return y}function Rt(c,E,y,T,I,m,O,w){return(I-O)*(E-w)-(c-O)*(m-w)>=0&&(c-O)*(T-w)-(y-O)*(E-w)>=0&&(y-O)*(m-w)-(I-O)*(T-w)>=0}function It(c,E){return c.next.i!==E.i&&c.prev.i!==E.i&&!function B(c,E){var y=c;do{if(y.i!==c.i&&y.next.i!==c.i&&y.i!==E.i&&y.next.i!==E.i&&Q(y,y.next,c,E))return!0;y=y.next}while(y!==c);return!1}(c,E)&&(t(c,E)&&t(E,c)&&function Yt(c,E){var y=c,T=!1,I=(c.x+E.x)/2,m=(c.y+E.y)/2;do{y.y>m!=y.next.y>m&&y.next.y!==y.y&&I<(y.next.x-y.x)*(m-y.y)/(y.next.y-y.y)+y.x&&(T=!T),y=y.next}while(y!==c);return T}(c,E)&&(j(c.prev,c,E.prev)||j(c,E.prev,E))||ht(c,E)&&j(c.prev,c,c.next)>0&&j(E.prev,E,E.next)>0)}function j(c,E,y){return(E.y-c.y)*(y.x-E.x)-(E.x-c.x)*(y.y-E.y)}function ht(c,E){return c.x===E.x&&c.y===E.y}function Q(c,E,y,T){var I=Lt(j(c,E,y)),m=Lt(j(c,E,T)),O=Lt(j(y,T,c)),w=Lt(j(y,T,E));return I!==m&&O!==w||!(0!==I||!et(c,y,E))||!(0!==m||!et(c,T,E))||!(0!==O||!et(y,c,T))||!(0!==w||!et(y,E,T))}function et(c,E,y){return E.x<=Math.max(c.x,y.x)&&E.x>=Math.min(c.x,y.x)&&E.y<=Math.max(c.y,y.y)&&E.y>=Math.min(c.y,y.y)}function Lt(c){return c>0?1:c<0?-1:0}function t(c,E){return j(c.prev,c,c.next)<0?j(c,E,c.next)>=0&&j(c,c.prev,E)>=0:j(c,E,c.prev)<0||j(c,c.next,E)<0}function kt(c,E){var y=new rt(c.i,c.x,c.y),T=new rt(E.i,E.x,E.y),I=c.next,m=E.prev;return c.next=E,E.prev=c,y.next=I,I.prev=y,T.next=y,y.prev=T,m.next=T,T.prev=m,T}function nt(c,E,y,T){var I=new rt(c,E,y);return T?(I.next=T.next,I.prev=T,T.next.prev=I,T.next=I):(I.prev=I,I.next=I),I}function at(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function rt(c,E,y){this.i=c,this.x=E,this.y=y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Kt(c,E,y,T){for(var I=0,m=E,O=y-T;m<y;m+=T)I+=(c[O]-c[m])*(c[m+1]+c[O+1]),O=m;return I}return Et.deviation=function(c,E,y,T){var I=E&&E.length,O=Math.abs(Kt(c,0,I?E[0]*y:c.length,y));if(I)for(var w=0,K=E.length;w<K;w++)O-=Math.abs(Kt(c,E[w]*y,w<K-1?E[w+1]*y:c.length,y));var _t=0;for(w=0;w<T.length;w+=3){var lt=T[w]*y,Z=T[w+1]*y,z=T[w+2]*y;_t+=Math.abs((c[lt]-c[z])*(c[Z+1]-c[lt+1])-(c[lt]-c[Z])*(c[z+1]-c[lt+1]))}return 0===O&&0===_t?0:Math.abs((_t-O)/O)},Et.flatten=function(c){for(var E=c[0][0].length,y={vertices:[],holes:[],dimensions:E},T=0,I=0;I<c.length;I++){for(var m=0;m<c[I].length;m++)for(var O=0;O<E;O++)y.vertices.push(c[I][m][O]);I>0&&y.holes.push(T+=c[I-1].length)}return y},Et}())&&(Dt.exports=H);const ct=(0,tt.g)(k.exports)},55912:(ne,Ft,X)=>{X.d(Ft,{A:()=>Et});var it,st,tt=X(3248),Dt=X(61591);(st=it||(it={}))[st.varint=0]="varint",st[st.fixed64=1]="fixed64",st[st.delimited=2]="delimited",st[st.fixed32=5]="fixed32",st[st.unknown=99]="unknown";const H=4294967296,k=new TextDecoder("utf-8"),ct=(0,tt.A)("safari")||(0,tt.A)("ios")?6:(0,tt.A)("ff")?12:32;class Et{constructor(M,G,U=0,L=(M?M.byteLength:0)){this._tag=0,this._dataType=it.unknown,this._init(M,G,U,L)}_init(M,G,U,L){this._data=M,this._dataView=G,this._pos=U,this._end=L}asUnsafe(){return this}clone(){return new Et(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(M){this._pos=M}nextTag(M){for(;;){if(this._pos===this._end)return!1;const G=this._decodeVarint();if(this._tag=G>>3,this._dataType=7&G,!M||M===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const M=this._decodeVarint();return this._tag=M>>3,this._dataType=7&M,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let M=4294967295;if(M=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(M=(M|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(M=(M|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(M=(M|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(M=(M|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return M;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const M=this.getUInt32();return M>>>1^-(1&M)}getSInt64(){return this._decodeSVarint()}getBool(){const M=0!==this._data[this._pos];return this._skip(1),M}getEnum(){return this._decodeVarint()}getFixed64(){const M=this._dataView,G=this._pos,U=M.getUint32(G,!0)+M.getUint32(G+4,!0)*H;return this._skip(8),U}getSFixed64(){const M=this._dataView,G=this._pos,U=M.getUint32(G,!0)+M.getInt32(G+4,!0)*H;return this._skip(8),U}getDouble(){const M=this._dataView.getFloat64(this._pos,!0);return this._skip(8),M}getFixed32(){const M=this._dataView.getUint32(this._pos,!0);return this._skip(4),M}getSFixed32(){const M=this._dataView.getInt32(this._pos,!0);return this._skip(4),M}getFloat(){const M=this._dataView.getFloat32(this._pos,!0);return this._skip(4),M}getString(){const M=this._getLength(),G=this._pos,U=this._toString(this._data,G,G+M);return this._skip(M),U}getBytes(){const M=this._getLength(),G=this._pos,U=this._toBytes(this._data,G,G+M);return this._skip(M),U}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(M,G,U,L){const $=this.getMessage(),F=M($,G,U,L);return $.release(),F}processMessage(M){const G=this.getMessage(),U=M(G);return G.release(),U}getMessage(){const M=this._getLength(),G=Et.pool.acquire();return G._init(this._data,this._dataView,this._pos,this._pos+M),this._skip(M),G}release(){Et.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case it.varint:this._decodeVarint();break;case it.fixed64:this._skip(8);break;case it.delimited:this._skip(this._getLength());break;case it.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(M){this._skip(M)}_skip(M){if(this._pos+M>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=M}_decodeVarint(){const M=this._data;let G=this._pos,U=0,L=0;if(this._end-G>=10)do{if(L=M[G++],U|=127&L,!(128&L&&(L=M[G++],U|=(127&L)<<7,128&L)&&(L=M[G++],U|=(127&L)<<14,128&L)&&(L=M[G++],U|=(127&L)<<21,128&L)&&(L=M[G++],U+=268435456*(127&L),128&L)&&(L=M[G++],U+=34359738368*(127&L),128&L)&&(L=M[G++],U+=4398046511104*(127&L),128&L)&&(L=M[G++],U+=562949953421312*(127&L),128&L)&&(L=M[G++],U+=72057594037927940*(127&L),128&L)&&(L=M[G++],U+=0x8000000000000000*(127&L),128&L)))break;throw new Error("Varint too long!")}while(0);else{let $=1;for(;G!==this._end&&(L=M[G],128&L);)++G,U+=(127&L)*$,$*=128;if(G===this._end)throw new Error("Varint overrun!");++G,U+=L*$}return this._pos=G,U}_decodeSVarint(){const M=this._data;let G,U=0,L=0;const $=1&M[this._pos];if(L=M[this._pos++],U|=127&L,!(128&L&&(L=M[this._pos++],U|=(127&L)<<7,128&L)&&(L=M[this._pos++],U|=(127&L)<<14,128&L)&&(L=M[this._pos++],U|=(127&L)<<21,128&L)&&(L=M[this._pos++],U+=268435456*(127&L),128&L)&&(L=M[this._pos++],U+=34359738368*(127&L),128&L)&&(L=M[this._pos++],U+=4398046511104*(127&L),128&L)))return $?-(U+1)/2:U/2;if(G=BigInt(U),L=M[this._pos++],G+=0x2000000000000n*BigInt(127&L),!(128&L&&(L=M[this._pos++],G+=0x100000000000000n*BigInt(127&L),128&L)&&(L=M[this._pos++],G+=0x8000000000000000n*BigInt(127&L),128&L)))return Number($?-(G+1n)/2n:G/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==it.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(M,G,U){if((U=Math.min(this._end,U))-G>ct){const F=M.subarray(G,U);return k.decode(F)}let L="",$="";for(let F=G;F<U;++F){const S=M[F];128&S?$+="%"+S.toString(16):(L+=decodeURIComponent($)+String.fromCharCode(S),$="")}return $.length&&(L+=decodeURIComponent($)),L}_toBytes(M,G,U){return U=Math.min(this._end,U),new Uint8Array(M.buffer,G,U-G)}}Et.pool=new Dt.A(Et,void 0,st=>{st._data=null,st._dataView=null})},8897:(ne,Ft,X)=>{X.d(Ft,{F:()=>Et,l:()=>U});var tt=X(10467),Dt=X(90261),it=X(3248);const H=128e3;let k=null,ct=null;function Et(){return st.apply(this,arguments)}function st(){return st=(0,tt.A)(function*(){return k||(k=function M(){return G.apply(this,arguments)}()),k}),st.apply(this,arguments)}function G(){return(G=(0,tt.A)(function*(){ct=yield((0,it.A)("esri-csp-restrictions")?yield X.e(4049).then(X.bind(X,34049)).then($=>$.l):yield X.e(787).then(X.bind(X,50787)).then($=>$.l)).default({locateFile:$=>(0,Dt.s)(`esri/core/libs/libtess/${$}`)})})).apply(this,arguments)}function U(L,$){const F=Math.max(L.length,H);return ct.triangulate(L,$,F)}},80996:(ne,Ft,X)=>{X.r(Ft),X.d(Ft,{default:()=>Xt});var tt=X(10467),Dt=X(56492),it=X(20904),H=X(91766),k=X(4139);function Et(f){return!(f<11904)&&(f>=12704&&f<=12735||f>=12544&&f<=12591||f>=65072&&f<=65103||f>=63744&&f<=64255||f>=13056&&f<=13311||f>=11904&&f<=12031||f>=12736&&f<=12783||f>=12288&&f<=12351||f>=13312&&f<=19903||f>=19968&&f<=40959||f>=12800&&f<=13055||f>=65280&&f<=65519||f>=12352&&f<=12447||f>=12272&&f<=12287||f>=12032&&f<=12255||f>=12784&&f<=12799||f>=12448&&f<=12543||f>=65040&&f<=65055||f>=42128&&f<=42191||f>=40960&&f<=42127)}function st(f){switch(f){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function M(f){switch(f){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var G=X(68973);const U=24;class ${constructor(e,i,s,n,l,a,r){this._glyphItems=e,this._maxWidth=i,this._lineHeight=s,this._letterSpacing=n,this._hAnchor=l,this._vAnchor=a,this._justify=r}getShaping(e,i,s){const n=this._letterSpacing,l=this._lineHeight,a=this._justify,r=this._maxWidth,o=[];let h=0,d=0;for(const g of e){const P=g.codePointAt(0);if(null==P)continue;const b=s&&(746===(f=P)||747===f||!(f<4352)&&(f>=12704&&f<=12735||f>=12544&&f<=12591||f>=65072&&f<=65103&&!(f>=65097&&f<=65103)||f>=63744&&f<=64255||f>=13056&&f<=13311||f>=11904&&f<=12031||f>=12736&&f<=12783||f>=12288&&f<=12351&&!(f>=12296&&f<=12305||f>=12308&&f<=12319||12336===f)||f>=13312&&f<=19903||f>=19968&&f<=40959||f>=12800&&f<=13055||f>=12592&&f<=12687||f>=43360&&f<=43391||f>=55216&&f<=55295||f>=4352&&f<=4607||f>=44032&&f<=55215||f>=12352&&f<=12447||f>=12272&&f<=12287||f>=12688&&f<=12703||f>=12032&&f<=12255||f>=12784&&f<=12799||f>=12448&&f<=12543&&12540!==f||f>=65280&&f<=65519&&!(65288===f||65289===f||65293===f||f>=65306&&f<=65310||65339===f||65341===f||65343===f||f>=65371&&f<=65503||65507===f||f>=65512&&f<=65519)||f>=65104&&f<=65135&&!(f>=65112&&f<=65118||f>=65123&&f<=65126)||f>=5120&&f<=5759||f>=6320&&f<=6399||f>=65040&&f<=65055||f>=19904&&f<=19967||f>=40960&&f<=42127||f>=42128&&f<=42191));let C;for(const v of this._glyphItems)if(C=v[P],C)break;o.push({codePoint:P,x:h,y:d,vertical:b,glyphMosaicItem:C}),C&&(h+=C.metrics.advance+n)}var f;let u=h;r>0&&(u=h/Math.max(1,Math.ceil(h/r)));const p=e.includes("\u200b"),x=[],_=o.length;for(let g=0;g<_-1;g++){const P=o[g].codePoint,b=Et(P);if(st(P)||b){let C=0;if(10===P)C-=1e4;else if(b&&p)C+=150;else{40!==P&&65288!==P||(C+=50);const v=o[g+1].codePoint;41!==v&&65289!==v||(C+=50)}x.push(this._buildBreak(g+1,o[g].x,u,x,C,!1))}}const R=this._optimalBreaks(this._buildBreak(_,h,u,x,0,!0));let D=0;const A=i?-l:l;let N=0;for(let g=0;g<R.length;g++){const P=R[g];let b=N;for(;b<P&&M(o[b].codePoint);)o[b].glyphMosaicItem=null,++b;let C=P-1;for(;C>b&&M(o[C].codePoint);)o[C].glyphMosaicItem=null,--C;if(b<=C){const v=o[b].x;for(let V=b;V<=C;V++)o[V].x-=v,o[V].y=d;let W=o[C].x;o[C].glyphMosaicItem&&(W+=o[C].glyphMosaicItem.metrics.advance),D=Math.max(W,D),a&&this._applyJustification(o,b,C)}N=P,d+=A}if(o.length>0){const g=R.length-1,P=(a-this._hAnchor)*D;let b=(-this._vAnchor*(g+1)+.5)*l;i&&g&&(b+=g*l);for(const C of o)C.x+=P,C.y+=b}return o.filter(g=>g.glyphMosaicItem)}static getTextBox(e,i){if(!e.length)return null;let s=1/0,n=1/0,l=0,a=0;for(const r of e){const h=r.x,d=r.y-17,u=h+r.glyphMosaicItem.metrics.advance,p=d+i;s=Math.min(s,h),l=Math.max(l,u),n=Math.min(n,d),a=Math.max(a,p)}return{x:s,y:n,width:l-s,height:a-n}}static getBox(e){if(!e.length)return null;let i=1/0,s=1/0,n=0,l=0;for(const a of e){const{height:r,left:o,top:h,width:d}=a.glyphMosaicItem.metrics,u=a.x,p=a.y-(r-Math.abs(h)),x=u+d+o,_=p+r;i=Math.min(i,u),n=Math.max(n,x),s=Math.min(s,p),l=Math.max(l,_)}return{x:i,y:s,width:n-i,height:l-s}}static addDecoration(e,i){const s=e.length;if(0===s)return;let l=e[0].x+e[0].glyphMosaicItem.metrics.left,a=e[0].y;for(let o=1;o<s;o++){const h=e[o];if(h.y!==a){const d=e[o-1].x+e[o-1].glyphMosaicItem.metrics.left+e[o-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:l,y:a+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new G.A(4,0,4,8),metrics:{width:d-l,height:8,left:0,top:0,advance:0},page:0,code:0}}),a=h.y,l=h.x+h.glyphMosaicItem.metrics.left}}const r=e[s-1].x+e[s-1].glyphMosaicItem.metrics.left+e[s-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:l,y:a+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new G.A(4,0,4,8),metrics:{width:r-l,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(e,i,s,n){const l=(e-i)*(e-i);return n?e<i?l/2:2*l:l+Math.abs(s)*s}_buildBreak(e,i,s,n,l,a){let r=null,o=this._breakScore(i,s,l,a);for(const h of n){const u=this._breakScore(i-h.x,s,l,a)+h.score;u<=o&&(r=h,o=u)}return{index:e,x:i,score:o,previousBreak:r}}_optimalBreaks(e){return e?this._optimalBreaks(e.previousBreak).concat(e.index):[]}_applyJustification(e,i,s){const n=e[s],a=(n.x+(n.vertical?U:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0))*this._justify;for(let r=i;r<=s;r++)e[r].x-=a}}var F=X(24505),S=X(54e3);class Gt{constructor(e,i,s=0,n=-1,l=.5){this.x=e,this.y=i,this.angle=s,this.segment=n,this.minzoom=l}}class pt{constructor(e,i,s,n,l,a=.5,r=k.MG){this.anchor=e,this.labelAngle=i,this.glyphAngle=s,this.page=n,this.alternateVerticalGlyph=l,this.minzoom=a,this.maxzoom=r}}class Mt{constructor(e,i,s,n,l,a,r,o,h,d,u,p){this.tl=e,this.tr=i,this.bl=s,this.br=n,this.mosaicRect=l,this.labelAngle=a,this.minAngle=r,this.maxAngle=o,this.anchor=h,this.minzoom=d,this.maxzoom=u,this.page=p}}class Pt{constructor(e){this.shapes=e}}class Rt{getIconPlacement(e,i,s){const n=new H.bR(e.x,e.y),l=s.rotationAlignment===S.I5.MAP,a=s.keepUpright;let r=s.rotate*k.os;l&&(r+=e.angle);const o=new Pt([]);return s.allowOverlap&&s.ignorePlacement||!F.IT||(o.iconColliders=[]),this._addIconPlacement(o,n,i,s,r),l&&a&&this._addIconPlacement(o,n,i,s,r+k.Jo),o}_addIconPlacement(e,i,s,n,l){const a=s.rasterizationScale,r=s.width/a,o=s.height/a,h=n.offset;let d=h[0],u=h[1];switch(n.anchor){case S.KI.CENTER:d-=r/2,u-=o/2;break;case S.KI.LEFT:u-=o/2;break;case S.KI.RIGHT:d-=r,u-=o/2;break;case S.KI.TOP:d-=r/2;break;case S.KI.BOTTOM:d-=r/2,u-=o;break;case S.KI.TOP_LEFT:break;case S.KI.BOTTOM_LEFT:u-=o;break;case S.KI.TOP_RIGHT:d-=r;break;case S.KI.BOTTOM_RIGHT:d-=r,u-=o}const p=s.rect,x=2/a,_=d-x,R=u-x,D=_+p.width/a,A=R+p.height/a,N=new H.bR(_,R),g=new H.bR(D,A),P=new H.bR(_,A),b=new H.bR(D,R);if(0!==l){const v=Math.cos(l),W=Math.sin(l);N.rotate(v,W),g.rotate(v,W),P.rotate(v,W),b.rotate(v,W)}const C=new Mt(N,b,P,g,p,l,0,256,i,.5,k.MG,0);if(e.shapes.push(C),(!n.allowOverlap||!n.ignorePlacement)&&F.IT){const v=n.size,W=n.padding;e.iconColliders.push({xTile:i.x,yTile:i.y,dxPixels:d*v-W,dyPixels:u*v-W,hard:!n.optional,partIndex:0,width:r*v+2*W,height:o*v+2*W,angle:l,minLod:.5,maxLod:k.MG})}}getTextPlacement(e,i,s,n){const l=new H.bR(e.x,e.y),a=n.rotate*k.os,r=n.rotationAlignment===S.I5.MAP,o=n.keepUpright,h=n.padding;let d=.5;const u=r?e.angle:0,p=e.segment>=0&&r,x=n.allowOverlap&&n.ignorePlacement?null:[],_=[],D=!p;let A=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,g=A,P=N;const b=(p||r)&&o,C=n.size/U;let v=!1;for(const J of i)if(J.vertical){v=!0;break}let W,V=0,Y=0;if(!p&&v){const J=$.getTextBox(i,n.lineHeight*U);switch(n.anchor){case S.KI.LEFT:V=J.height/2,Y=-J.width/2;break;case S.KI.RIGHT:V=-J.height/2,Y=J.width/2;break;case S.KI.TOP:V=J.height/2,Y=J.width/2;break;case S.KI.BOTTOM:V=-J.height/2,Y=-J.width/2;break;case S.KI.TOP_LEFT:V=J.height;break;case S.KI.BOTTOM_LEFT:Y=-J.width;break;case S.KI.TOP_RIGHT:Y=J.width;break;case S.KI.BOTTOM_RIGHT:V=-J.height}}V+=n.offset[0]*U,Y+=n.offset[1]*U;for(const J of i){const Ut=J.glyphMosaicItem;if(!Ut||Ut.rect.isEmpty)continue;const mt=Ut.rect,Vt=Ut.metrics,Jt=Ut.page;if(x&&D){if(void 0!==W&&W!==J.y){let Ot,Ht,$t,qt;v?(Ot=-P+V,Ht=A+Y,$t=P-g,qt=N-A):(Ot=A+V,Ht=g+Y,$t=N-A,qt=P-g),x.push({xTile:e.x,yTile:e.y,dxPixels:Ot*C-h,dyPixels:Ht*C-h,hard:!n.optional,partIndex:1,width:$t*C+2*h,height:qt*C+2*h,angle:a,minLod:.5,maxLod:k.MG}),A=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,g=A,P=N}W=J.y}const se=[];if(p){const Ht=(J.x+Vt.left-4+.5*Ut.metrics.width)*C*8;if(d=this._placeGlyph(e,d,Ht,s,e.segment,1,J.vertical,Jt,se),o&&(d=this._placeGlyph(e,d,Ht,s,e.segment,-1,J.vertical,Jt,se)),d>=2)break}else se.push(new pt(l,u,u,Jt,!1)),r&&o&&se.push(new pt(l,u+k.Jo,u+k.Jo,Jt,!1));const Zt=J.x+Vt.left,te=J.y-17-Vt.top,re=Zt+Vt.width,ye=te+Vt.height;let wt,Qt,he,ce,oe,ue,Te,_e;!p&&v?J.vertical?(wt=new H.bR(-((te+ye)/2+Vt.width/2)-4+V,(Zt+re)/2-Vt.height/2-4+Y),Qt=new H.bR(wt.x+mt.width,wt.y+mt.height),he=new H.bR(wt.x,Qt.y),ce=new H.bR(Qt.x,wt.y)):(wt=new H.bR(4-te+V,Zt-4+Y),Qt=new H.bR(wt.x-mt.height,wt.y+mt.width),he=new H.bR(Qt.x,wt.y),ce=new H.bR(wt.x,Qt.y)):(wt=new H.bR(Zt-4+V,te-4+Y),Qt=new H.bR(wt.x+mt.width,wt.y+mt.height),he=new H.bR(wt.x,Qt.y),ce=new H.bR(Qt.x,wt.y));for(const Ot of se){let Ht,$t,qt,ee;Ot.alternateVerticalGlyph?(oe||(oe=new H.bR((Zt+re)/2+V-Vt.height/2-4,(te+ye)/2+Y+Vt.width/2+4),ue=new H.bR(oe.x+mt.height,oe.y-mt.width),Te=new H.bR(ue.x,oe.y),_e=new H.bR(oe.x,ue.y)),Ht=oe,$t=Te,qt=_e,ee=ue):(Ht=wt,$t=he,qt=ce,ee=Qt);const xe=te,Ee=ye,fe=Ot.glyphAngle+a;if(0!==fe){var yt,At,bt,jt,Nt,zt;const ie=Math.cos(fe),de=Math.sin(fe);Ht=Ht.clone(),$t=null===(yt=$t)||void 0===yt?void 0:yt.clone(),qt=null===(At=qt)||void 0===At?void 0:At.clone(),ee=null===(bt=ee)||void 0===bt?void 0:bt.clone(),Ht.rotate(ie,de),null!==(jt=ee)&&void 0!==jt&&jt.rotate(ie,de),null!==(Nt=$t)&&void 0!==Nt&&Nt.rotate(ie,de),null===(zt=qt)||void 0===zt||zt.rotate(ie,de)}let ae=0,le=256;p&&v?J.vertical?Ot.alternateVerticalGlyph?(ae=32,le=96):(ae=224,le=32):(ae=224,le=96):(ae=192,le=64),_.push(new Mt(Ht,qt,$t,ee,mt,Ot.labelAngle,ae,le,Ot.anchor,Ot.minzoom,Ot.maxzoom,Ot.page)),!x||b&&!this._legible(Ot.labelAngle)||(D?(Zt<A&&(A=Zt),xe<g&&(g=xe),re>N&&(N=re),Ee>P&&(P=Ee)):Ot.minzoom<2&&x.push({xTile:e.x,yTile:e.y,dxPixels:(Zt+V)*C-h,dyPixels:(xe+V)*C-h,hard:!n.optional,partIndex:1,width:(re-Zt)*C+2*h,height:(Ee-xe)*C+2*h,angle:fe,minLod:Ot.minzoom,maxLod:Ot.maxzoom}))}}if(d>=2)return null;if(x&&D){let J,Ut,mt,Vt;v?(J=-P+V,Ut=A+Y,mt=P-g,Vt=N-A):(J=A+V,Ut=g+Y,mt=N-A,Vt=P-g),x.push({xTile:e.x,yTile:e.y,dxPixels:J*C-h,dyPixels:Ut*C-h,hard:!n.optional,partIndex:1,width:mt*C+2*h,height:Vt*C+2*h,angle:a,minLod:.5,maxLod:k.MG})}const Ct=new Pt(_);return x&&x.length>0&&(Ct.textColliders=x),Ct}_legible(e){const i=(0,k.z0)(e);return i<65||i>=193}_placeGlyph(e,i,s,n,l,a,r,o,h){let d=a;const u=d<0?(0,k.Wh)(e.angle+k.Jo,k.pJ):e.angle;let p=0;s<0&&(d*=-1,s*=-1,p=k.Jo),d>0&&++l;let x=new H.bR(e.x,e.y),_=n[l],R=k.MG;if(n.length<=l)return R;for(;;){const D=_.x-x.x,A=_.y-x.y,N=Math.sqrt(D*D+A*A),g=Math.max(s/N,i),C=(0,k.Wh)(Math.atan2(A/N,D/N)+p,k.pJ);if(h.push(new pt(x,u,C,o,!1,g,R)),r&&h.push(new pt(x,u,C,o,!0,g,R)),g<=i)return g;x=_.clone();do{if(n.length<=(l+=d)||l<0)return g;_=n[l]}while(x.isEqual(_));let v=_.x-x.x,W=_.y-x.y;const V=Math.sqrt(v*v+W*W);v*=N/V,W*=N/V,x.x-=v,x.y-=W,R=g}}}var It=X(55912),j=X(8897),ht=X(20788),Q=X(80913);class et extends Q.A{constructor(){super(12)}add(e,i,s){const n=this.array;n.push(e),n.push(i),n.push(s)}}var B=X(97944);class t extends Q.A{constructor(e){super(e)}add(e,i,s,n,l,a,r,o,h,d,u,p){const x=this.array;let _=Q.A.i1616to32(e,i);x.push(_);const R=31;_=Q.A.i8888to32(Math.round(R*s),Math.round(R*n),Math.round(R*l),Math.round(R*a)),x.push(_),_=Q.A.i8888to32(Math.round(R*r),Math.round(R*o),Math.round(R*h),Math.round(R*d)),x.push(_),_=Q.A.i1616to32(u,0),x.push(_),p&&x.push(...p)}}class Yt extends Q.A{constructor(e){super(e)}add(e,i,s){const n=this.array;n.push(Q.A.i1616to32(e,i)),s&&n.push(...s)}}class kt extends Q.A{constructor(e){super(e)}add(e,i,s,n,l,a,r){const o=this.array,h=this.index;let d=Q.A.i1616to32(e,i);return o.push(d),d=Q.A.i8888to32(Math.round(15*s),Math.round(15*n),l,a),o.push(d),r&&o.push(...r),h}}class nt extends Q.A{constructor(e){super(e)}add(e,i,s,n,l,a,r,o,h,d,u,p){const x=this.array;let _=Q.A.i1616to32(e,i);x.push(_),_=Q.A.i1616to32(Math.round(8*s),Math.round(8*n)),x.push(_),_=Q.A.i8888to32(l/4,a/4,o,h),x.push(_),_=Q.A.i8888to32(0,(0,k.z0)(r),10*d,Math.min(10*u,255)),x.push(_),p&&x.push(...p)}}class at extends Q.A{constructor(e){super(e)}add(e,i,s,n,l){const a=this.array,r=Q.A.i1616to32(2*e+s,2*i+n);a.push(r),l&&a.push(...l)}}class rt{constructor(e,i,s){this.layerExtent=4096,this._features=[],this.layer=e,this.zoom=i,this._spriteInfo=s,this._filter=e.getFeatureFilter()}pushFeature(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)}hasFeatures(){return this._features.length>0}getResources(e,i,s){}}class Kt extends rt{constructor(e,i,s,n,l){super(e,i,s),this.type=it.NP.CIRCLE,this._circleVertexBuffer=n,this._circleIndexBuffer=l}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(e){const i=this._circleVertexBuffer,s=this._circleIndexBuffer;this._circleIndexStart=3*s.index,this._circleIndexCount=0;const n=this.layer,l=this.zoom;e&&e.setExtent(this.layerExtent);for(const a of this._features){const r=a.getGeometry(e);if(!r)continue;const o=n.circleMaterial.encodeAttributes(a,l,n);for(const h of r)if(h)for(const d of h){const u=i.index;i.add(d.x,d.y,0,0,o),i.add(d.x,d.y,0,1,o),i.add(d.x,d.y,1,0,o),i.add(d.x,d.y,1,1,o),s.add(u,u+1,u+2),s.add(u+1,u+2,u+3),this._circleIndexCount+=6}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;const i=new Uint32Array(e),s=new Int32Array(i.buffer);let n=0;i[n++]=this.type,i[n++]=this.layerUIDs.length;for(let l=0;l<this.layerUIDs.length;l++)i[n++]=this.layerUIDs[l];i[n++]=this._circleIndexStart,i[n++]=this._circleIndexCount,i[n++]=this._circleVertexBuffer.array.length;for(let l=0;l<this._circleVertexBuffer.array.length;l++)s[n++]=this._circleVertexBuffer.array[l];i[n++]=this._circleIndexBuffer.array.length;for(let l=0;l<this._circleIndexBuffer.array.length;l++)i[n++]=this._circleIndexBuffer.array[l];return i.buffer}}var c=X(56595),E=X(92405);class y extends rt{constructor(e,i,s,n,l,a,r){super(e,i,s),this.type=it.NP.FILL,this._patternMap=new Map,this._fillVertexBuffer=n,this._fillIndexBuffer=l,this._outlineVertexBuffer=a,this._outlineIndexBuffer=r}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(e,i,s){const l=this.zoom,a=this.layer.getPaintProperty("fill-pattern");if(a)if(a.isDataDriven)for(const r of this._features)i(a.getValue(l,r),!0);else i(a.getValue(l),!0)}processFeatures(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const i=this.layer,s=this.zoom,{fillMaterial:n,outlineMaterial:l,hasDataDrivenFill:a,hasDataDrivenOutline:r}=i;e&&e.setExtent(this.layerExtent);const o=i.getPaintProperty("fill-pattern"),h=null==o?void 0:o.isDataDriven;let d=!o&&i.getPaintValue("fill-antialias",s);if(i.outlineUsesFillColor){if(d&&!i.hasDataDrivenOpacity){const x=i.getPaintValue("fill-opacity",s),_=i.getPaintValue("fill-opacity",s+1);x<1&&_<1&&(d=!1)}if(d&&!i.hasDataDrivenColor){const x=i.getPaintValue("fill-color",s),_=i.getPaintValue("fill-color",s+1);x[3]<1&&_[3]<1&&(d=!1)}}const u=this._features,p=null==e?void 0:e.validateTessellation;if(h){const x=[];for(const _ of u){const R=o.getValue(s,_),D=this._spriteInfo[R];if(null==D||!D.rect)continue;const A=n.encodeAttributes(_,s,i,D),N=d&&r?l.encodeAttributes(_,s,i):[],g=_.getGeometry(e);x.push({ddFillAttributes:A,ddOutlineAttributes:N,page:D.page,geometry:g}),x.sort((P,b)=>P.page-b.page);for(const{ddFillAttributes:P,ddOutlineAttributes:b,page:C,geometry:v}of x)this._processFeature(v,d,i.outlineUsesFillColor,P,b,p,C)}}else for(const x of u){const _=a?n.encodeAttributes(x,s,i):null,R=d&&r?l.encodeAttributes(x,s,i):null,D=x.getGeometry(e);this._processFeature(D,d,i.outlineUsesFillColor,_,R,p)}}serialize(){let e=10;e+=this.layerUIDs.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const i=new Uint32Array(e),s=new Int32Array(i.buffer);let n=0;i[n++]=this.type,i[n++]=this.layerUIDs.length;for(let r=0;r<this.layerUIDs.length;r++)i[n++]=this.layerUIDs[r];i[n++]=this._fillIndexStart,i[n++]=this._fillIndexCount,i[n++]=this._outlineIndexStart,i[n++]=this._outlineIndexCount;const l=this._patternMap,a=l.size;if(i[n++]=a,a>0)for(const[r,[o,h]]of l)i[n++]=r,i[n++]=o,i[n++]=h;i[n++]=this._fillVertexBuffer.array.length;for(let r=0;r<this._fillVertexBuffer.array.length;r++)s[n++]=this._fillVertexBuffer.array[r];i[n++]=this._fillIndexBuffer.array.length;for(let r=0;r<this._fillIndexBuffer.array.length;r++)i[n++]=this._fillIndexBuffer.array[r];i[n++]=this._outlineVertexBuffer.array.length;for(let r=0;r<this._outlineVertexBuffer.array.length;r++)s[n++]=this._outlineVertexBuffer.array[r];i[n++]=this._outlineIndexBuffer.array.length;for(let r=0;r<this._outlineIndexBuffer.array.length;r++)i[n++]=this._outlineIndexBuffer.array[r];return i.buffer}_processFeature(e,i,s,n,l,a,r){if(!e)return;const o=e.length;if(i&&(!s||!l||0===l.length))for(let p=0;p<o;p++)this._processOutline(e[p],l);let u;for(let p=0;p<o;p++){const x=y._area(e[p]);x>32?(void 0!==u&&this._processFill(e,u,n,a,r),u=[p]):x<-32&&void 0!==u&&u.push(p)}void 0!==u&&this._processFill(e,u,n,a,r)}_processOutline(e,i){const s=this._outlineVertexBuffer,n=this._outlineIndexBuffer,l=n.index;let a,r,o;const h=new H.bR(0,0),d=new H.bR(0,0),u=new H.bR(0,0);let p=-1,x=-1,_=-1,R=-1,D=-1,A=!1,g=e.length;if(g<2)return;const P=e[0];let b=e[g-1];for(;g&&b.isEqual(P);)--g,b=e[g-1];if(!(g-0<2)){for(let C=0;C<g;++C){0===C?(a=e[g-1],r=e[0],o=e[1],h.assignSub(r,a),h.normalize(),h.rightPerpendicular()):(a=r,r=o,o=C!==g-1?e[C+1]:e[0],h.assign(d));const v=this._isClipEdge(a,r);-1===R&&(A=v),d.assignSub(o,r),d.normalize(),d.rightPerpendicular();const W=h.x*d.y-h.y*d.x;u.assignAdd(h,d),u.normalize();const V=-u.x*-h.x+-u.y*-h.y;let Y=Math.abs(0!==V?1/V:1);Y>8&&(Y=8),W>=0?(_=s.add(r.x,r.y,h.x,h.y,0,1,i),-1===R&&(R=_),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_),x=s.add(r.x,r.y,Y*-u.x,Y*-u.y,0,-1,i),-1===D&&(D=x),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_),p=x,x=_,_=s.add(r.x,r.y,u.x,u.y,0,1,i),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_),x=s.add(r.x,r.y,d.x,d.y,0,1,i),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_)):(_=s.add(r.x,r.y,Y*u.x,Y*u.y,0,1,i),-1===R&&(R=_),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_),x=s.add(r.x,r.y,-h.x,-h.y,0,-1,i),-1===D&&(D=x),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_),p=x,x=_,_=s.add(r.x,r.y,-u.x,-u.y,0,-1,i),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_),p=s.add(r.x,r.y,-d.x,-d.y,0,-1,i),p>=0&&x>=0&&_>=0&&!v&&n.add(p,x,_))}p>=0&&x>=0&&R>=0&&!A&&n.add(p,x,R),p>=0&&R>=0&&D>=0&&!A&&n.add(p,D,R),this._outlineIndexCount+=3*(n.index-l)}}_processFill(e,i,s,n,l){let a;i.length>1&&(a=[]);let r=0;for(const u of i)0!==r&&a.push(r),r+=e[u].length;const o=2*r,h=c.A.acquire();for(const u of i){const p=e[u],x=p.length;for(let _=0;_<x;++_)h.push(p[_].x,p[_].y)}const d=(0,E.e)(h,a,2);if(E.e.deviation(h,a,2,d)>0){const u=i.map(_=>e[_].length),{buffer:p,vertexCount:x}=(0,j.l)(h,u);if(x>0){const _=this._fillVertexBuffer.index;for(let R=0;R<x;R++)this._fillVertexBuffer.add(p[2*R],p[2*R+1],s);for(let R=0;R<x;R+=3){const D=_+R;this._fillIndexBuffer.add(D,D+1,D+2)}if(void 0!==l){const R=this._patternMap,D=R.get(l);D?D[1]+=x:R.set(l,[this._fillIndexStart+this._fillIndexCount,x])}this._fillIndexCount+=x}}else{const u=d.length;if(u>0){const p=this._fillVertexBuffer.index;let x=0;for(;x<o;)this._fillVertexBuffer.add(h[x++],h[x++],s);let _=0;for(;_<u;)this._fillIndexBuffer.add(p+d[_++],p+d[_++],p+d[_++]);if(void 0!==l){const R=this._patternMap,D=R.get(l);D?D[1]+=u:R.set(l,[this._fillIndexStart+this._fillIndexCount,u])}this._fillIndexCount+=u}}c.A.release(h)}_isClipEdge(e,i){return e.x===i.x?e.x<=-64||e.x>=4160:e.y===i.y&&(e.y<=-64||e.y>=4160)}static _area(e){let i=0;const s=e.length-1;for(let n=0;n<s;n++)i+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return i+=(e[s].x-e[0].x)*(e[s].y+e[0].y),.5*i}}var T=X(7933);class m extends rt{constructor(e,i,s,n,l){super(e,i,s),this.type=it.NP.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=n,this.tessellationProperties._lineIndexBuffer=l,this._lineTessellator=new T.i(O(this.tessellationProperties),w(this.tessellationProperties),e.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(e,i,s){const n=this.layer,l=this.zoom,a=n.getPaintProperty("line-pattern"),r=n.getPaintProperty("line-dasharray"),o=n.getLayoutProperty("line-cap");if(!a&&!r)return;const h=(null==o?void 0:o.getValue(l))||0,d=null==o?void 0:o.isDataDriven,u=null==a?void 0:a.isDataDriven;if(u||(null==r?void 0:r.isDataDriven))for(const x of this._features)i(u?a.getValue(l,x):this._getDashArrayKey(x,l,n,r,d,o,h));else if(a)i(a.getValue(l));else if(r){const x=r.getValue(l);i(n.getDashKey(x,h))}}processFeatures(e){var i,s,n,l,a,r;this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const o=this.layer,h=this.zoom,d=this._features,u=this._tessellationOptions,{hasDataDrivenLine:p,lineMaterial:x}=o;e&&e.setExtent(this.layerExtent);const _=o.getPaintProperty("line-pattern"),R=o.getPaintProperty("line-dasharray"),D=null==_?void 0:_.isDataDriven,A=null==R?void 0:R.isDataDriven;let N;N=o.getLayoutProperty("line-cap");const g=null!==(i=N)&&void 0!==i&&i.isDataDriven?N:null,P=g?null:o.getLayoutValue("line-cap",h),b=P||0,C=!!g;N=o.getLayoutProperty("line-join");const v=null!==(s=N)&&void 0!==s&&s.isDataDriven?N:null,W=v?null:o.getLayoutValue("line-join",h);N=o.getLayoutProperty("line-miter-limit");const V=null!==(n=N)&&void 0!==n&&n.isDataDriven?N:null,Y=V?null:o.getLayoutValue("line-miter-limit",h);N=o.getLayoutProperty("line-round-limit");const yt=null!==(l=N)&&void 0!==l&&l.isDataDriven?N:null,At=yt?null:o.getLayoutValue("line-round-limit",h);N=o.getPaintProperty("line-width");const bt=null!==(a=N)&&void 0!==a&&a.isDataDriven?N:null,jt=bt?null:o.getPaintValue("line-width",h);N=o.getPaintProperty("line-offset");const Nt=null!==(r=N)&&void 0!==r&&r.isDataDriven?N:null,zt=Nt?null:o.getPaintValue("line-offset",h);if(D||A){const Ct=[];for(const J of d){const Ut=D?_.getValue(h,J):this._getDashArrayKey(J,h,o,R,C,g,b),mt=this._spriteInfo[Ut];if(null==mt||!mt.rect)continue;const Vt=x.encodeAttributes(J,h,o,mt),Jt=J.getGeometry(e);Ct.push({ddAttributes:Vt,page:mt.page,cap:g?g.getValue(h,J):P,join:v?v.getValue(h,J):W,miterLimit:V?V.getValue(h,J):Y,roundLimit:yt?yt.getValue(h,J):At,halfWidth:.5*(bt?bt.getValue(h,J):jt),offset:Nt?Nt.getValue(h,J):zt,geometry:Jt})}Ct.sort((J,Ut)=>J.page-Ut.page),u.textured=!0;for(const{ddAttributes:J,page:Ut,cap:mt,join:Vt,miterLimit:Jt,roundLimit:se,halfWidth:Zt,offset:te,geometry:re}of Ct)u.capType=mt,u.joinType=Vt,u.miterLimit=Jt,u.roundLimit=se,u.halfWidth=Zt,u.offset=te,this._processFeature(re,J,Ut)}else{if(_){const Ct=_.getValue(h),J=this._spriteInfo[Ct];if(null==J||!J.rect)return}u.textured=!(!_&&!R),u.capType=P,u.joinType=W,u.miterLimit=Y,u.roundLimit=At,u.halfWidth=.5*jt,u.offset=zt;for(const Ct of d){const J=p?x.encodeAttributes(Ct,h,o):null;g&&(u.capType=g.getValue(h,Ct)),v&&(u.joinType=v.getValue(h,Ct)),V&&(u.miterLimit=V.getValue(h,Ct)),yt&&(u.roundLimit=yt.getValue(h,Ct)),bt&&(u.halfWidth=.5*bt.getValue(h,Ct)),Nt&&(u.offset=Nt.getValue(h,Ct));const Ut=Ct.getGeometry(e);this._processFeature(Ut,J)}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const i=new Uint32Array(e),s=new Int32Array(i.buffer);let n=0;i[n++]=this.type,i[n++]=this.layerUIDs.length;for(let r=0;r<this.layerUIDs.length;r++)i[n++]=this.layerUIDs[r];i[n++]=this._lineIndexStart,i[n++]=this._lineIndexCount;const l=this._patternMap,a=l.size;if(i[n++]=a,a>0)for(const[r,[o,h]]of l)i[n++]=r,i[n++]=o,i[n++]=h;i[n++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let r=0;r<this.tessellationProperties._lineVertexBuffer.array.length;r++)s[n++]=this.tessellationProperties._lineVertexBuffer.array[r];i[n++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let r=0;r<this.tessellationProperties._lineIndexBuffer.array.length;r++)i[n++]=this.tessellationProperties._lineIndexBuffer.array[r];return i.buffer}_processFeature(e,i,s){if(!e)return;const n=e.length;for(let l=0;l<n;l++)this._processGeometry(e[l],i,s)}_processGeometry(e,i,s){if(e.length<2)return;let l,a,r=e[0],o=1;for(;o<e.length;)l=e[o].x-r.x,a=e[o].y-r.y,l*l+a*a<1e-6?e.splice(o,1):(r=e[o],++o);if(e.length<2)return;const h=this.tessellationProperties._lineIndexBuffer,d=3*h.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=i,this._lineTessellator.tessellate(e,this._tessellationOptions);const u=3*h.index-d;if(void 0!==s){const p=this._patternMap,x=p.get(s);x?x[1]+=u:p.set(s,[d+this._lineIndexCount,u])}this._lineIndexCount+=u}_getDashArrayKey(e,i,s,n,l,a,r){const o=l?a.getValue(i,e):r,h=n.getValue(i,e);return s.getDashKey(h,o)}}const O=f=>(e,i,s,n,l,a,r,o,h,d,u)=>(f._lineVertexBuffer.add(e,i,r,o,s,n,l,a,h,d,u,f._ddValues),f._lineVertexBuffer.index-1),w=f=>(e,i,s)=>{f._lineIndexBuffer.add(e,i,s)};var gt,f,K=X(82818),xt=X(11432),dt=X(1119),_t=X(53220);function Z(f,e){return f.iconMosaicItem&&e.iconMosaicItem?f.iconMosaicItem.page===e.iconMosaicItem.page?0:f.iconMosaicItem.page-e.iconMosaicItem.page:f.iconMosaicItem&&!e.iconMosaicItem?1:!f.iconMosaicItem&&e.iconMosaicItem?-1:0}class z extends rt{constructor(e,i,s,n,l,a,r,o,h){super(i,s,h.getSpriteItems()),this.type=it.NP.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._sourceTileKey=e,this._iconVertexBuffer=n,this._iconIndexBuffer=l,this._textVertexBuffer=a,this._textIndexBuffer=r,this._placementEngine=o,this._workerTileHandler=h}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(e,i,s){const n=this.layer,l=this.zoom;e&&e.setExtent(this.layerExtent);const a=n.getLayoutProperty("icon-image"),r=n.getLayoutProperty("text-field");let o=n.getLayoutProperty("text-transform"),h=n.getLayoutProperty("text-font");const d=[];let u,p,x,_;a&&!a.isDataDriven&&(u=a.getValue(l)),r&&!r.isDataDriven&&(p=r.getValue(l)),o&&o.isDataDriven||(x=n.getLayoutValue("text-transform",l),o=null),h&&h.isDataDriven||(_=n.getLayoutValue("text-font",l),h=null);for(const R of this._features){const D=R.getGeometry(e);if(!D||0===D.length)continue;let A,N;a&&(A=a.isDataDriven?a.getValue(l,R):this._replaceKeys(u,R.values),A&&i(A));let g=!1;if(r&&(N=r.isDataDriven?r.getValue(l,R):this._replaceKeys(p,R.values),N)){switch(N=N.replaceAll("\\n","\n"),o&&(x=o.getValue(l,R)),x){case S.Ms.LOWERCASE:N=N.toLowerCase();break;case S.Ms.UPPERCASE:N=N.toUpperCase()}if(z._bidiEngine.hasBidiChar(N)){let C;C="rtl"===z._bidiEngine.checkContextual(N)?"IDNNN":"ICNNN",N=z._bidiEngine.bidiTransform(N,C,"VLYSN"),g=!0}if(N.length>0){h&&(_=h.getValue(l,R));for(const C of _){let v=s[C];v||(v=s[C]=new Set);for(const W of N){const V=W.codePointAt(0);null!=V&&v.add(V)}}}}if(!A&&!N)continue;const P=n.getLayoutValue("symbol-sort-key",l,R),b={feature:R,sprite:A,label:N,rtl:g,geometry:D,hash:(N?(0,dt.Wm)(N):0)^(A?(0,dt.Wm)(A):0),priority:P,textFont:_};d.push(b)}this._symbolFeatures=d}processFeatures(e){e&&e.setExtent(this.layerExtent);const i=this.layer,s=this.zoom,n=i.getLayoutValue("symbol-placement",s),l=n!==S.kt.POINT,a=8*i.getLayoutValue("symbol-spacing",s),r=i.getLayoutProperty("icon-image"),o=i.getLayoutProperty("text-field"),h=r?new _t.aR(i,s,l):null,d=o?new _t.uU(i,s,l):null,u=this._workerTileHandler;let p;r&&(p=u.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const x=[];let _=1;d&&d.size&&(_=d.size/U);const R=d?d.maxAngle*k.os:0,D=d?8*d.size:0;for(const N of this._symbolFeatures){let g,P;h&&p&&N.sprite&&(g=p[N.sprite],g&&g.sdf&&(this._isIconSDF=!0)),g&&h.update(s,N.feature);let b=0;const C=N.label;if(C){(0,xt.Lw)(d),d.update(s,N.feature);const v=l&&d.rotationAlignment===S.I5.MAP?d.keepUpright:d.writingMode&&d.writingMode.includes(S.v9.VERTICAL);let W=.5;switch(d.anchor){case S.KI.TOP_LEFT:case S.KI.LEFT:case S.KI.BOTTOM_LEFT:W=0;break;case S.KI.TOP_RIGHT:case S.KI.RIGHT:case S.KI.BOTTOM_RIGHT:W=1}let V=.5;switch(d.anchor){case S.KI.TOP_LEFT:case S.KI.TOP:case S.KI.TOP_RIGHT:V=0;break;case S.KI.BOTTOM_LEFT:case S.KI.BOTTOM:case S.KI.BOTTOM_RIGHT:V=1}let Y=.5;switch(d.justify){case S.O6.AUTO:Y=W;break;case S.O6.LEFT:Y=0;break;case S.O6.RIGHT:Y=1}const yt=d.letterSpacing*U,At=l?0:d.maxWidth*U,bt=d.lineHeight*U,jt=N.textFont.map(Nt=>u.getGlyphItems(Nt));if(P=new $(jt,At,bt,yt,W,V,Y).getShaping(C,N.rtl,v),P&&P.length>0){let Nt=1e30,zt=-1e30;for(const Ct of P)Nt=Math.min(Nt,Ct.x),zt=Math.max(zt,Ct.x);b=(zt-Nt+48)*_*8}}for(let v of N.geometry){const W=[];if(n===S.kt.LINE){var A;if(null!==(A=P)&&void 0!==A&&A.length&&null!=d&&d.size){const V=8*d.size*(2+Math.min(2,4*Math.abs(d.offset[1])));v=z._smoothVertices(v,V)}z._pushAnchors(W,v,a,b)}else n===S.kt.LINE_CENTER?z._pushCenterAnchor(W,v):N.feature.type===H.dC.Polygon?z._pushCentroid(W,v):W.push(new Gt(v[0].x,v[0].y));for(const V of W){if(V.x<0||V.x>4096||V.y<0||V.y>4096||l&&b>0&&(null==d?void 0:d.rotationAlignment)===S.I5.MAP&&!z._honorsTextMaxAngle(v,V,b,R,D))continue;const Y={shaping:P,line:v,iconMosaicItem:g,anchor:V,symbolFeature:N,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};x.push(Y),this._processFeature(Y,h,d)}}}x.sort(Z),this._addPlacedGlyphs(),this._symbolInstances=x}serialize(){let e=14;e+=this.layerUIDs.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=z._symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;const i=new Uint32Array(e),s=new Int32Array(i.buffer),n=new Float32Array(i.buffer),[l,a,r]=this._sourceTileKey.split("/");let o=0;i[o++]=this.type,i[o++]=this.layerUIDs.length;for(let h=0;h<this.layerUIDs.length;h++)i[o++]=this.layerUIDs[h];i[o++]=this._isIconSDF?1:0,i[o++]=parseFloat(l),i[o++]=parseFloat(a),i[o++]=parseFloat(r),i[o++]=this.markerPageMap.size;for(const[h,[d,u]]of this.markerPageMap)i[o++]=h,i[o++]=d,i[o++]=u;i[o++]=this.glyphsPageMap.size;for(const[h,[d,u]]of this.glyphsPageMap)i[o++]=h,i[o++]=d,i[o++]=u;i[o++]=this._iconVertexBuffer.index/4,i[o++]=this._textVertexBuffer.index/4,o=z.serializeSymbols(i,s,n,o,this._symbolInstances),i[o++]=this._iconVertexBuffer.array.length;for(let h=0;h<this._iconVertexBuffer.array.length;h++)s[o++]=this._iconVertexBuffer.array[h];i[o++]=this._iconIndexBuffer.array.length;for(let h=0;h<this._iconIndexBuffer.array.length;h++)i[o++]=this._iconIndexBuffer.array[h];i[o++]=this._textVertexBuffer.array.length;for(let h=0;h<this._textVertexBuffer.array.length;h++)s[o++]=this._textVertexBuffer.array[h];i[o++]=this._textIndexBuffer.array.length;for(let h=0;h<this._textIndexBuffer.array.length;h++)i[o++]=this._textIndexBuffer.array[h];return i.buffer}static _symbolsSerializationLength(e){let i=0;i+=1;for(const s of e||[]){i+=5,i+=1;for(const n of s.textColliders)i+=10;for(const n of s.iconColliders)i+=10;i+=1,i+=2*s.textVertexRanges.length,i+=1,i+=2*s.iconVertexRanges.length}return i}static serializeSymbols(e,i,s,n,l){i[n++]=(l=l||[]).length;for(const a of l){i[n++]=a.anchor.x,i[n++]=a.anchor.y,i[n++]=a.symbolFeature.hash,i[n++]=a.symbolFeature.priority,i[n++]=a.symbolFeature.feature.featureIndex,i[n++]=a.textColliders.length+a.iconColliders.length;for(const r of a.textColliders)i[n++]=r.xTile,i[n++]=r.yTile,i[n++]=r.dxPixels,i[n++]=r.dyPixels,i[n++]=r.hard?1:0,i[n++]=r.partIndex,s[n++]=r.minLod,s[n++]=r.maxLod,i[n++]=r.width,i[n++]=r.height;for(const r of a.iconColliders)i[n++]=r.xTile,i[n++]=r.yTile,i[n++]=r.dxPixels,i[n++]=r.dyPixels,i[n++]=r.hard?1:0,i[n++]=r.partIndex,s[n++]=r.minLod,s[n++]=r.maxLod,i[n++]=r.width,i[n++]=r.height;i[n++]=a.textVertexRanges.length;for(const[r,o]of a.textVertexRanges)i[n++]=r,i[n++]=o;i[n++]=a.iconVertexRanges.length;for(const[r,o]of a.iconVertexRanges)i[n++]=r,i[n++]=o}return n}_replaceKeys(e,i){return e.replaceAll(/{([^{}]+)}/g,(s,n)=>n in i?i[n]:"")}_processFeature(e,i,s){const{line:n,iconMosaicItem:l,shaping:a,anchor:r}=e,o=this.zoom,h=this.layer,d=!!l;let u=!0;d&&(u=(null==i?void 0:i.optional)||!l);const p=a&&a.length>0,x=!p||(null==s?void 0:s.optional);let _,R;if(d&&(_=this._placementEngine.getIconPlacement(r,l,i)),(_||u)&&(p&&(R=this._placementEngine.getTextPlacement(r,a,n,s)),R||x)){if(_&&R||(x||u?x||R?u||_||(R=null):_=null:(_=null,R=null)),R){const D=h.hasDataDrivenText?h.textMaterial.encodeAttributes(e.symbolFeature.feature,o,h):null;if(this._storePlacedGlyphs(e,R.shapes,o,s.rotationAlignment,D),R.textColliders){e.textColliders=R.textColliders;for(const A of R.textColliders){A.minLod=Math.max(o+(0,k.p6)(A.minLod),0),A.maxLod=Math.min(o+(0,k.p6)(A.maxLod),25);const N=A.angle;if(N){const g=Math.cos(N),P=Math.sin(N),b=A.dxPixels*g-A.dyPixels*P,C=A.dxPixels*P+A.dyPixels*g,v=(A.dxPixels+A.width)*g-A.dyPixels*P,W=(A.dxPixels+A.width)*P+A.dyPixels*g,V=A.dxPixels*g-(A.dyPixels+A.height)*P,Y=A.dxPixels*P+(A.dyPixels+A.height)*g,yt=(A.dxPixels+A.width)*g-(A.dyPixels+A.height)*P,At=(A.dxPixels+A.width)*P+(A.dyPixels+A.height)*g,bt=Math.min(b,v,V,yt),jt=Math.max(b,v,V,yt),Nt=Math.min(C,W,Y,At),zt=Math.max(C,W,Y,At);A.dxPixels=bt,A.dyPixels=Nt,A.width=jt-bt,A.height=zt-Nt}}}}if(_){const D=h.hasDataDrivenIcon?h.iconMaterial.encodeAttributes(e.symbolFeature.feature,o,h):null;if(this._addPlacedIcons(e,_.shapes,o,l.page,i.rotationAlignment===S.I5.VIEWPORT,D),_.iconColliders){e.iconColliders=_.iconColliders;for(const A of _.iconColliders){A.minLod=Math.max(o+(0,k.p6)(A.minLod),0),A.maxLod=Math.min(o+(0,k.p6)(A.maxLod),25);const N=A.angle;if(N){const g=Math.cos(N),P=Math.sin(N),b=A.dxPixels*g-A.dyPixels*P,C=A.dxPixels*P+A.dyPixels*g,v=(A.dxPixels+A.width)*g-A.dyPixels*P,W=(A.dxPixels+A.width)*P+A.dyPixels*g,V=A.dxPixels*g-(A.dyPixels+A.height)*P,Y=A.dxPixels*P+(A.dyPixels+A.height)*g,yt=(A.dxPixels+A.width)*g-(A.dyPixels+A.height)*P,At=(A.dxPixels+A.width)*P+(A.dyPixels+A.height)*g,bt=Math.min(b,v,V,yt),jt=Math.max(b,v,V,yt),Nt=Math.min(C,W,Y,At),zt=Math.max(C,W,Y,At);A.dxPixels=bt,A.dyPixels=Nt,A.width=jt-bt,A.height=zt-Nt}}}}}}_addPlacedIcons(e,i,s,n,l,a){const r=Math.max(s-1,0),o=this._iconVertexBuffer,h=this._iconIndexBuffer,d=this._markerMap;for(const u of i){const p=l?0:Math.max(s+(0,k.p6)(u.minzoom),r),x=l?25:Math.min(s+(0,k.p6)(u.maxzoom),25);if(x<=p)continue;const _=u.tl,R=u.tr,D=u.bl,A=u.br,N=u.mosaicRect,g=u.labelAngle,P=u.minAngle,b=u.maxAngle,C=u.anchor,v=o.index,W=N.x,V=N.y,Y=W+N.width,yt=V+N.height,At=o.index;o.add(C.x,C.y,_.x,_.y,W,V,g,P,b,p,x,a),o.add(C.x,C.y,R.x,R.y,Y,V,g,P,b,p,x,a),o.add(C.x,C.y,D.x,D.y,W,yt,g,P,b,p,x,a),o.add(C.x,C.y,A.x,A.y,Y,yt,g,P,b,p,x,a),e.iconVertexRanges.length>0&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===At?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([At,4]),h.add(v,v+1,v+2),h.add(v+1,v+2,v+3),d.has(n)?d.get(n)[1]+=6:d.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const e=this._textVertexBuffer,i=this._textIndexBuffer,s=this._glyphMap;for(const[n,l]of this._glyphBufferDataStorage)for(const a of l){const r=e.index,o=a.symbolInstance,h=a.ddAttributes,d=e.index;e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tl[0],a.tl[1],a.xmin,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,h),e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tr[0],a.tr[1],a.xmax,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,h),e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.bl[0],a.bl[1],a.xmin,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,h),e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.br[0],a.br[1],a.xmax,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,h),o.textVertexRanges.length>0&&o.textVertexRanges[0][0]+o.textVertexRanges[0][1]===d?o.textVertexRanges[0][1]+=4:o.textVertexRanges.push([d,4]),i.add(r,r+1,r+2),i.add(r+1,r+2,r+3),s.has(n)?s.get(n)[1]+=6:s.set(n,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(e,i,s,n,l){const a=Math.max(s-1,0),r=n===S.I5.VIEWPORT;let o,h,d,u,p,x,_,R,D,A,N;for(const g of i)o=r?0:Math.max(s+(0,k.p6)(g.minzoom),a),h=r?25:Math.min(s+(0,k.p6)(g.maxzoom),25),!(h<=o)&&(d=g.tl,u=g.tr,p=g.bl,x=g.br,_=g.labelAngle,R=g.minAngle,D=g.maxAngle,A=g.anchor,N=g.mosaicRect,this._glyphBufferDataStorage.has(g.page)||this._glyphBufferDataStorage.set(g.page,[]),this._glyphBufferDataStorage.get(g.page).push({glyphAnchor:[A.x,A.y],tl:[d.x,d.y],tr:[u.x,u.y],bl:[p.x,p.y],br:[x.x,x.y],xmin:N.x,ymin:N.y,xmax:N.x+N.width,ymax:N.y+N.height,labelAngle:_,minAngle:R,maxAngle:D,minLod:o,maxLod:h,placementLod:a,symbolInstance:e,ddAttributes:l}))}static _pushAnchors(e,i,s,n){s+=n;let l=0;const a=i.length-1;for(let p=0;p<a;p++)l+=H.bR.distance(i[p],i[p+1]);let r=n||s;if(r*=.5,l<=r)return;const o=r/l;let h=0,d=-(s=l/Math.max(Math.round(l/s),1))/2;const u=i.length-1;for(let p=0;p<u;p++){const x=i[p],_=i[p+1],R=_.x-x.x,D=_.y-x.y,A=Math.sqrt(R*R+D*D);let N;for(;d+s<h+A;){d+=s;const g=(d-h)/A,P=(0,k.GW)(x.x,_.x,g),b=(0,k.GW)(x.y,_.y,g);void 0===N&&(N=Math.atan2(D,R)),e.push(new Gt(P,b,N,p,o))}h+=A}}static _pushCenterAnchor(e,i){let s=0;const n=i.length-1;for(let o=0;o<n;o++)s+=H.bR.distance(i[o],i[o+1]);const l=s/2;let a=0;const r=i.length-1;for(let o=0;o<r;o++){const h=i[o],d=i[o+1],u=d.x-h.x,p=d.y-h.y,x=Math.sqrt(u*u+p*p);if(l<a+x){const _=(l-a)/x,R=(0,k.GW)(h.x,d.x,_),D=(0,k.GW)(h.y,d.y,_),A=Math.atan2(p,u);return void e.push(new Gt(R,D,A,o,0))}a+=x}}static _deviation(e,i,s){return Math.atan2((i.x-e.x)*(s.y-i.y)-(i.y-e.y)*(s.x-i.x),(i.x-e.x)*(s.x-i.x)+(i.y-e.y)*(s.y-i.y))}static _honorsTextMaxAngle(e,i,s,n,l){let a=0;const r=s/2;let o=new H.bR(i.x,i.y),h=i.segment+1;for(;a>-r;){if(--h,h<0)return!1;a-=H.bR.distance(e[h],o),o=e[h]}a+=H.bR.distance(e[h],e[h+1]);const d=[];let u=0;const p=e.length;for(;a<r;){const x=e[h];let _,R=h;do{if(++R,R===p)return!1;_=e[R]}while(_.isEqual(x));let D,A=R;do{if(++A,A===p)return!1;D=e[A]}while(D.isEqual(_));const N=this._deviation(x,_,D);for(d.push({deviation:N,distToAnchor:a}),u+=N;a-d[0].distToAnchor>l;)u-=d.shift().deviation;if(Math.abs(u)>n)return!1;a+=H.bR.distance(_,D),h=R}return!0}static _smoothVertices(e,i){if(i<=0)return e;let s=e.length;if(s<3)return e;const n=[];let l=0,a=0;n.push(0);for(let R=1;R<s;R++){const D=H.bR.distance(e[R],e[R-1]);D>0&&(l+=D,n.push(l),a++,a!==R&&(e[a]=e[R]))}if(s=a+1,s<3)return e;i=Math.min(i,.2*l);const r=e[0].x,o=e[0].y,h=e[s-1].x,d=e[s-1].y,u=H.bR.sub(e[0],e[1]);u.normalize(),e[0].x+=i*u.x,e[0].y+=i*u.y,u.assignSub(e[s-1],e[s-2]),u.normalize(),e[s-1].x+=i*u.x,e[s-1].y+=i*u.y,n[0]-=i,n[s-1]+=i;const p=[];p.push(new H.bR(r,o));const x=1e-6,_=.5*i;for(let R=1;R<s-1;R++){let D=0,A=0,N=0;for(let g=R-1;g>=0;g--){const P=_+n[g+1]-n[R];if(P<0)break;const b=n[g+1]-n[g],C=n[R]-n[g]<_?1:P/b;if(C<x)break;const v=C*C,W=C*P-.5*v*b,V=C*b/i,Y=e[g+1],yt=e[g].x-Y.x,At=e[g].y-Y.y;D+=V/W*(Y.x*C*P+.5*v*(P*yt-b*Y.x)-v*C*b*yt/3),A+=V/W*(Y.y*C*P+.5*v*(P*At-b*Y.y)-v*C*b*At/3),N+=V}for(let g=R+1;g<s;g++){const P=_-n[g-1]+n[R];if(P<0)break;const b=n[g]-n[g-1],C=n[g]-n[R]<_?1:P/b;if(C<x)break;const v=C*C,W=C*P-.5*v*b,V=C*b/i,Y=e[g-1],yt=e[g].x-Y.x,At=e[g].y-Y.y;D+=V/W*(Y.x*C*P+.5*v*(P*yt-b*Y.x)-v*C*b*yt/3),A+=V/W*(Y.y*C*P+.5*v*(P*At-b*Y.y)-v*C*b*At/3),N+=V}p.push(new H.bR(D/N,A/N))}return p.push(new H.bR(h,d)),e[0].x=r,e[0].y=o,e[s-1].x=h,e[s-1].y=d,p}static _pushCentroid(e,i){const r=i.length-1;let o=0,h=0,d=0,u=i[0].x,p=i[0].y;u>4096&&(u=4096),u<0&&(u=0),p>4096&&(p=4096),p<0&&(p=0);for(let x=1;x<r;x++){let _=i[x].x,R=i[x].y,D=i[x+1].x,A=i[x+1].y;_>4096&&(_=4096),_<0&&(_=0),R>4096&&(R=4096),R<0&&(R=0),D>4096&&(D=4096),D<0&&(D=0),A>4096&&(A=4096),A<0&&(A=0);const N=(_-u)*(A-p)-(D-u)*(R-p);o+=N*(u+_+D),h+=N*(p+R+A),d+=N}o/=3*d,h/=3*d,isNaN(o)||isNaN(h)||e.push(new Gt(o,h))}}z._bidiEngine=new K.A,(f=gt||(gt={}))[f.INITIALIZED=0]="INITIALIZED",f[f.NO_DATA=1]="NO_DATA",f[f.READY=2]="READY",f[f.MODIFIED=3]="MODIFIED",f[f.INVALID=4]="INVALID";class Wt{constructor(e,i,s,n,l,a){var r,o;if(this._pbfTiles={},this._tileClippers={},this._client=s,this._tile=i,this._sourceDataMaxLOD=n,a){this._styleLayerUIDs=new Set;for(const x of a)this._styleLayerUIDs.add(x)}this._styleRepository=l,this._layers=null!==(r=null===(o=this._styleRepository)||void 0===o?void 0:o.layers)&&void 0!==r?r:[];const[h,d,u]=i.tileKey.split("/").map(parseFloat);this._level=h;const p=(0,k.IU)(this._level);for(const x of Object.keys(e)){const _=e[x];if(this._pbfTiles[x]=new It.A(new Uint8Array(_.protobuff),new DataView(_.protobuff)),_.refKey){const[R]=_.refKey.split("/").map(parseFloat),D=h-R;if(D>0){const A=(1<<D)-1;this._tileClippers[x]=new H.O3(D,d&A,u&A,8,p)}}this._tileClippers[x]||(this._tileClippers[x]=new H.Ox)}}_canParseStyleLayer(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}parse(e){var i=this;return(0,tt.A)(function*(){const s=(0,j.F)(),n=i._initialize(e),{returnedBuckets:l}=n;i._processLayers(n),i._linkReferences(n),i._filterFeatures(n);const a=[],r=new Set,o=(u,p)=>{r.has(u)||(a.push({name:u,repeat:p}),r.add(u))},h={};for(const u of l)u.getResources(u.tileClipper,o,h);if(i._tile.status===gt.INVALID)return[];const d=i._fetchResources(a,h,e);return Promise.all([...d,s]).then(()=>i._processFeatures(n.returnedBuckets))})()}_initialize(e){return{signal:null==e?void 0:e.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(e){const{sourceNameToTileData:i,zoom:s,layers:n,sourceNameToTileClipper:l,sourceNameToUniqueSourceLayerBuckets:a,sourceNameToUniqueSourceLayers:r,returnedBuckets:o,layerIdToBucket:h,referencerUIDToReferencedId:d}=e,u=this._sourceDataMaxLOD;for(let p=n.length-1;p>=0;p--){const x=n[p];if(s<u){if(x.minzoom&&s<Math.floor(x.minzoom)||x.maxzoom&&s>=x.maxzoom)continue}else if(x.maxzoom&&s>=x.maxzoom)continue;if(x.type===S.Dc.BACKGROUND||!this._canParseStyleLayer(x.uid)||!i[x.source]||!l[x.source])continue;const R=l[x.source],D=x.sourceLayer,A=i[x.source][D];if(A){let N=r[x.source];if(N||(N=r[x.source]=new Set),N.add(x.sourceLayer),x.refLayerId)d.set(x.uid,x.refLayerId);else{const g=this._createBucket(x);if(g){g.layerUIDs=[x.uid],g.layerExtent=A.extent,g.tileClipper=R;let P=a[x.source];P||(P=a[x.source]={});let b=P[D];b||(b=P[D]=[]),b.push(g),o.push(g),h[x.id]=g}}}}}_linkReferences(e){const{layerIdToBucket:i,referencerUIDToReferencedId:s}=e;s.forEach((n,l)=>{i[n]&&i[n].layerUIDs.push(l)})}_filterFeatures(e){const{signal:i,sourceNameToTileData:s,sourceNameToUniqueSourceLayerBuckets:n,sourceNameToUniqueSourceLayers:l}=e,a=10*this._level,r=10*(this._level+1),o=[],h=[];for(const d of Object.keys(l))l[d].forEach(u=>{o.push(u),h.push(d)});for(let d=0;d<o.length;d++){const u=h[d],p=o[d];if(!s[u]||!n[u])continue;const x=s[u][p],_=n[u][p];if(!_||0===_.length)continue;if((0,Dt.G4)(i))return;let R=0;const D=x.getData();for(;D.nextTag(2);){const A=D.getMessage(),N=new ht.A(A,x,R++);A.release();const g=N.values;if(g){const P=g._minzoom;if(P&&P>=r)continue;const b=g._maxzoom;if(b&&b<=a)continue}for(const P of _)P.pushFeature(N)}}}_fetchResources(e,i,s){const n=[],l=this._tile.getWorkerTileHandler();let a,r;e.length>0&&(a=l.fetchSprites(e,this._client,s),n.push(a));for(const o in i){const h=i[o];h.size>0&&(r=l.fetchGlyphs(this._tile.tileKey,o,h,this._client,s),n.push(r))}return n}_processFeatures(e){const i=e.filter(s=>s.hasFeatures()||this._canParseStyleLayer(s.layer.uid));for(const s of i)s.processFeatures(s.tileClipper);return i}_parseTileData(e){const i={};for(const s of Object.keys(e)){const n=e[s],l={};for(;n.next();)switch(n.tag()){case 3:{const a=n.getMessage(),r=new B.A(a);a.release(),l[r.name]=r;break}default:n.skip()}i[s]=l}return i}_createBucket(e){switch(e.type){case S.Dc.BACKGROUND:return null;case S.Dc.FILL:return this._createFillBucket(e);case S.Dc.LINE:return this._createLineBucket(e);case S.Dc.CIRCLE:return this._createCircleBucket(e);case S.Dc.SYMBOL:return this._createSymbolBucket(e)}}_createFillBucket(e){return new y(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new Yt(e.fillMaterial.getStride()),new et,new kt(e.outlineMaterial.getStride()),new et)}_createLineBucket(e){return new m(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new t(e.lineMaterial.getStride()),new et)}_createCircleBucket(e){return new Kt(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new at(e.circleMaterial.getStride()),new et)}_createSymbolBucket(e){const i=this._tile;return new z(i.tileKey,e,this._level,new nt(e.iconMaterial.getStride()),new et,new nt(e.textMaterial.getStride()),new et,i.placementEngine,i.getWorkerTileHandler())}}class ot{constructor(e,i,s,n){this.status=gt.INITIALIZED,this.placementEngine=new Rt,this.tileKey=e,this.refKeys=i,this._workerTileHandler=s,this._styleRepository=n}release(){this.tileKey="",this.refKeys=null,this.status=gt.INITIALIZED,this._workerTileHandler=null}parse(e,i){var s=this;return(0,tt.A)(function*(){const n=null==i?void 0:i.signal;if(null!=n){const u=()=>{n.removeEventListener("abort",u),s.status=gt.INVALID};n.addEventListener("abort",u)}let l;const a={bucketsWithData:[],emptyBuckets:null};try{l=yield s._parse(e,i)}catch(u){if((0,Dt.zf)(u))throw u;return{result:a,transferList:[]}}s.status=gt.READY;const r=a.bucketsWithData,o=[];for(const u of l)if(u.hasFeatures()){const p=u.serialize();r.push(p)}else o.push(u.layer.uid);const h=[...r];let d=null;return o.length>0&&(d=Uint32Array.from(o),h.push(d.buffer)),a.emptyBuckets=d,{result:a,transferList:h}})()}setObsolete(){this.status=gt.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}_parse(e,i){var s=this;return(0,tt.A)(function*(){const n=e.sourceName2DataAndRefKey;return 0===Object.keys(n).length?[]:(s.status=gt.MODIFIED,new Wt(n,s,i.client,e.sourceDataMaxLOD,s._styleRepository,e.styleLayerUIDs).parse(i))})()}}var St=X(6517);class Xt{constructor(){this._spriteInfo={},this._glyphInfo={},this._sourceDataMaxLOD=25}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){var e,i;return null!==(e=null===(i=this._styleRepository)||void 0===i?void 0:i.layers)&&void 0!==e?e:[]}createTileAndParse(e,i){var s=this;return(0,tt.A)(function*(){const{key:n}=e,l={};for(const r of Object.keys(e.sourceName2DataAndRefKey))l[r]=e.sourceName2DataAndRefKey[r].refKey;const a=new ot(n,l,s,s._styleRepository);try{return yield a.parse({...e,sourceDataMaxLOD:s._sourceDataMaxLOD},i)}catch(r){if(a.setObsolete(),a.release(),!(0,Dt.zf)(r))throw r;return null}})()}updateStyle(e){if(!e||0===e.length||!this._styleRepository)return;const i=this._styleRepository;for(const s of e){const l=s.data;switch(s.type){case it.$q.PAINTER_CHANGED:i.setPaintProperties(l.layer,l.paint);break;case it.$q.LAYOUT_CHANGED:i.setLayoutProperties(l.layer,l.layout);break;case it.$q.LAYER_REMOVED:i.deleteStyleLayer(l.layer);break;case it.$q.LAYER_CHANGED:i.setStyleLayer(l.layer,l.index);break;case it.$q.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(e){const{style:i,sourceDataMaxLOD:s}=e;this._styleRepository=new St.A(i),this._sourceDataMaxLOD=s,this._spriteInfo={},this._glyphInfo={}}fetchSprites(e,i,s){const n=[],l=this._spriteInfo;for(const a of e)void 0===l[a.name]&&n.push(a);return 0===n.length?Promise.resolve():i.invoke("getSprites",n,{signal:null==s?void 0:s.signal}).then(a=>{for(const r in a)l[r]=a[r]})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(e,i,s,n,l){const a=[];let r=this._glyphInfo[i];return r?s.forEach(o=>{r[o]||a.push(o)}):(r=this._glyphInfo[i]=[],s.forEach(o=>a.push(o))),0===a.length?Promise.resolve():n.invoke("getGlyphs",{tileID:e,font:i,codePoints:a},l).then(o=>{for(let h=0;h<o.length;h++)o[h]&&(r[h]=o[h])})}getGlyphItems(e){return this._glyphInfo[e]}}},24505:(ne,Ft,X)=>{X.d(Ft,{IT:()=>tt,av:()=>it,o2:()=>Dt,zk:()=>H});const tt=!0,Dt=32,it=1.5,H=200},7933:(ne,Ft,X)=>{X.d(Ft,{i:()=>$});var tt=X(65374),Dt=X(47669);function it(F,S){return F.x===S.x&&F.y===S.y}function k(F,S){return F.x=S.y,F.y=-S.x,F}function ct(F,S){return F.x=-S.y,F.y=S.x,F}function Et(F,S){return F.x=S.x,F.y=S.y,F}function st(F,S){return F.x=-S.x,F.y=-S.y,F}function M(F){return Math.sqrt(F.x*F.x+F.y*F.y)}function G(F,S){return F.x*S.y-F.y*S.x}function U(F,S){return F.x*S.x+F.y*S.y}function L(F,S,q,ut){return F.x=S.x*q+S.y*ut,F.y=S.x*ut-S.y*q,F}class ${constructor(S,q,ut){this._writeVertex=S,this._writeTriangle=q,this._canUseThinTessellation=ut,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}tessellate(S,q,ut=this._canUseThinTessellation){(function H(F){if(!F)return;const S=F.length;if(S<=1)return;let q=0;for(let ut=1;ut<S;ut++)it(F[ut],F[q])||++q===ut||(F[q]=F[ut]);F.length=q+1})(S),ut&&q.halfWidth<Dt.Gh&&!q.offset?this._tessellateThin(S,q):this._tessellate(S,q)}_tessellateThin(S,q){if(S.length<2)return;const ut=q.wrapDistance||65535;let ft=q.initialDistance||0,Tt=!1,Bt=S[0].x,Gt=S[0].y;const pt=S.length;for(let Mt=1;Mt<pt;++Mt){Tt&&(Tt=!1,ft=0);let Pt=S[Mt].x,Rt=S[Mt].y,It=Pt-Bt,j=Rt-Gt,ht=Math.sqrt(It*It+j*j);if(It/=ht,j/=ht,ft+ht>ut){Tt=!0;const t=(ut-ft)/ht;ht=ut-ft,Pt=(1-t)*Bt+t*Pt,Rt=(1-t)*Gt+t*Rt,--Mt}const Q=this._writeVertex(Bt,Gt,0,0,It,j,j,-It,0,-1,ft),et=this._writeVertex(Bt,Gt,0,0,It,j,-j,It,0,1,ft);ft+=ht;const Lt=this._writeVertex(Pt,Rt,0,0,It,j,j,-It,0,-1,ft),B=this._writeVertex(Pt,Rt,0,0,It,j,-j,It,0,1,ft);this._writeTriangle(Q,et,Lt),this._writeTriangle(et,Lt,B),Bt=Pt,Gt=Rt}}_tessellate(S,q){const ft=S[S.length-1],Tt=it(S[0],ft);if(S.length<(Tt?3:2))return;const Gt=q.pixelCoordRatio,pt=null!=q.capType?q.capType:tt.xR.BUTT,Mt=null!=q.joinType?q.joinType:tt.JO.MITER,Pt=null!=q.miterLimit?Math.min(q.miterLimit,4):2,Rt=null!=q.roundLimit?Math.min(q.roundLimit,1.05):1.05,It=null!=q.halfWidth?q.halfWidth:2,j=!!q.textured;let ht,Q,et,Lt=null;const B=this._prevNormal,t=this._nextNormal;let Yt=-1,kt=-1;const nt=this._joinNormal;let at,rt;const Kt=this._textureNormalLeft,c=this._textureNormalRight,E=this._textureNormal;let y=-1,T=-1;const I=q.wrapDistance||65535;let m=q.initialDistance||0;const O=this._writeVertex,w=this._writeTriangle,K=(dt,_t,lt,Z,z,gt)=>{const Wt=O(Q,et,at,rt,lt,Z,dt,_t,z,gt,m);return y>=0&&T>=0&&Wt>=0&&w(y,T,Wt),y=T,T=Wt,Wt};Tt&&(ht=S[S.length-2],t.x=ft.x-ht.x,t.y=ft.y-ht.y,kt=M(t),t.x/=kt,t.y/=kt);let xt=!1;for(let dt=0;dt<S.length;++dt){if(xt&&(xt=!1,m=0),ht&&(B.x=-t.x,B.y=-t.y,Yt=kt,m+Yt>I&&(xt=!0)),xt){const ot=(I-m)/Yt;Yt=I-m,ht={x:(1-ot)*ht.x+ot*S[dt].x,y:(1-ot)*ht.y+ot*S[dt].y},--dt}else ht=S[dt];Q=ht.x,et=ht.y;const _t=dt<=0&&!xt,lt=dt===S.length-1;if(_t||(m+=Yt),Lt=lt?Tt?S[1]:null:S[dt+1],Lt?(t.x=Lt.x-Q,t.y=Lt.y-et,kt=M(t),t.x/=kt,t.y/=kt):(t.x=void 0,t.y=void 0),!Tt){if(_t){ct(nt,t),at=nt.x,rt=nt.y,pt===tt.xR.SQUARE&&(K(-t.y-t.x,t.x-t.y,t.x,t.y,0,-1),K(t.y-t.x,-t.x-t.y,t.x,t.y,0,1)),pt===tt.xR.ROUND&&(K(-t.y-t.x,t.x-t.y,t.x,t.y,-1,-1),K(t.y-t.x,-t.x-t.y,t.x,t.y,-1,1)),pt!==tt.xR.ROUND&&pt!==tt.xR.BUTT||(K(-t.y,t.x,t.x,t.y,0,-1),K(t.y,-t.x,t.x,t.y,0,1));continue}if(lt){k(nt,B),at=nt.x,rt=nt.y,pt!==tt.xR.ROUND&&pt!==tt.xR.BUTT||(K(B.y,-B.x,-B.x,-B.y,0,-1),K(-B.y,B.x,-B.x,-B.y,0,1)),pt===tt.xR.SQUARE&&(K(B.y-B.x,-B.x-B.y,-B.x,-B.y,0,-1),K(-B.y-B.x,B.x-B.y,-B.x,-B.y,0,1)),pt===tt.xR.ROUND&&(K(B.y-B.x,-B.x-B.y,-B.x,-B.y,1,-1),K(-B.y-B.x,B.x-B.y,-B.x,-B.y,1,1));continue}}let Z,z,gt=-G(B,t);if(Math.abs(gt)<.01)U(B,t)>0?(nt.x=B.x,nt.y=B.y,gt=1,Z=Number.MAX_VALUE,z=!0):(ct(nt,t),gt=1,Z=1,z=!1);else{nt.x=(B.x+t.x)/gt,nt.y=(B.y+t.y)/gt,Z=M(nt);const ot=(Z-1)*It*Gt;z=Z>4||ot>Yt&&ot>kt}at=nt.x,rt=nt.y;let Wt=Mt;switch(Mt){case tt.JO.BEVEL:Z<1.05&&(Wt=tt.JO.MITER);break;case tt.JO.ROUND:Z<Rt&&(Wt=tt.JO.MITER);break;case tt.JO.MITER:Z>Pt&&(Wt=tt.JO.BEVEL)}switch(Wt){case tt.JO.MITER:if(K(nt.x,nt.y,-B.x,-B.y,0,-1),K(-nt.x,-nt.y,-B.x,-B.y,0,1),lt)break;if(j){const ot=xt?0:m;y=this._writeVertex(Q,et,at,rt,t.x,t.y,nt.x,nt.y,0,-1,ot),T=this._writeVertex(Q,et,at,rt,t.x,t.y,-nt.x,-nt.y,0,1,ot)}break;case tt.JO.BEVEL:{const ot=gt<0;let St,vt,Xt,f;if(ot){const n=y;y=T,T=n,St=Kt,vt=c}else St=c,vt=Kt;if(z)Xt=ot?ct(this._innerPrev,B):k(this._innerPrev,B),f=ot?k(this._innerNext,t):ct(this._innerNext,t);else{const n=ot?st(this._inner,nt):Et(this._inner,nt);Xt=n,f=n}const e=ot?k(this._bevelStart,B):ct(this._bevelStart,B);K(Xt.x,Xt.y,-B.x,-B.y,St.x,St.y);const i=K(e.x,e.y,-B.x,-B.y,vt.x,vt.y);if(lt)break;const s=ot?ct(this._bevelEnd,t):k(this._bevelEnd,t);if(z){const n=this._writeVertex(Q,et,at,rt,-B.x,-B.y,0,0,0,0,m);y=this._writeVertex(Q,et,at,rt,t.x,t.y,f.x,f.y,St.x,St.y,m),T=this._writeVertex(Q,et,at,rt,t.x,t.y,s.x,s.y,vt.x,vt.y,m),this._writeTriangle(i,n,T)}else{if(j){const n=this._bevelMiddle;n.x=(e.x+s.x)/2,n.y=(e.y+s.y)/2,L(E,n,-B.x,-B.y),K(n.x,n.y,-B.x,-B.y,E.x,E.y),L(E,n,t.x,t.y),y=this._writeVertex(Q,et,at,rt,t.x,t.y,n.x,n.y,E.x,E.y,m),T=this._writeVertex(Q,et,at,rt,t.x,t.y,f.x,f.y,St.x,St.y,m)}else{const n=y;y=T,T=n}K(s.x,s.y,t.x,t.y,vt.x,vt.y)}if(ot){const n=y;y=T,T=n}break}case tt.JO.ROUND:{const ot=gt<0;let St,vt;if(ot){const N=y;y=T,T=N,St=Kt,vt=c}else St=c,vt=Kt;const Xt=ot?st(this._inner,nt):Et(this._inner,nt);let f,e;z?(f=ot?ct(this._innerPrev,B):k(this._innerPrev,B),e=ot?k(this._innerNext,t):ct(this._innerNext,t)):(f=Xt,e=Xt);const i=ot?k(this._roundStart,B):ct(this._roundStart,B),s=ot?ct(this._roundEnd,t):k(this._roundEnd,t),n=K(f.x,f.y,-B.x,-B.y,St.x,St.y),l=K(i.x,i.y,-B.x,-B.y,vt.x,vt.y);if(lt)break;const a=this._writeVertex(Q,et,at,rt,-B.x,-B.y,0,0,0,0,m);z||this._writeTriangle(y,T,a);const r=st(this._outer,Xt),o=this._writeVertex(Q,et,at,rt,t.x,t.y,s.x,s.y,vt.x,vt.y,m);let h,d;const u=Z>2;if(u){let N;Z!==Number.MAX_VALUE?(r.x/=Z,r.y/=Z,N=U(B,r),N=(Z*(N*N-1)+1)/N):N=-1,h=ot?k(this._startBreak,B):ct(this._startBreak,B),h.x+=B.x*N,h.y+=B.y*N,d=ot?ct(this._endBreak,t):k(this._endBreak,t),d.x+=t.x*N,d.y+=t.y*N}L(E,r,-B.x,-B.y);const p=this._writeVertex(Q,et,at,rt,-B.x,-B.y,r.x,r.y,E.x,E.y,m);L(E,r,t.x,t.y);const x=j?this._writeVertex(Q,et,at,rt,t.x,t.y,r.x,r.y,E.x,E.y,m):p,_=a,R=j?this._writeVertex(Q,et,at,rt,t.x,t.y,0,0,0,0,m):a;let D=-1,A=-1;if(u&&(L(E,h,-B.x,-B.y),D=this._writeVertex(Q,et,at,rt,-B.x,-B.y,h.x,h.y,E.x,E.y,m),L(E,d,t.x,t.y),A=this._writeVertex(Q,et,at,rt,t.x,t.y,d.x,d.y,E.x,E.y,m)),j?u?(this._writeTriangle(_,l,D),this._writeTriangle(_,D,p),this._writeTriangle(R,x,A),this._writeTriangle(R,A,o)):(this._writeTriangle(_,l,p),this._writeTriangle(R,x,o)):u?(this._writeTriangle(a,l,D),this._writeTriangle(a,D,A),this._writeTriangle(a,A,o)):(this._writeTriangle(a,l,p),this._writeTriangle(a,x,o)),z?(y=this._writeVertex(Q,et,at,rt,t.x,t.y,e.x,e.y,St.x,St.y,m),T=o):(y=j?this._writeVertex(Q,et,at,rt,t.x,t.y,e.x,e.y,St.x,St.y,m):n,this._writeTriangle(y,R,o),T=o),ot){const N=y;y=T,T=N}break}}}}}},47669:(ne,Ft,X)=>{X.d(Ft,{$U:()=>xt,C2:()=>Rt,CQ:()=>ct,CR:()=>Kt,C_:()=>_t,Cp:()=>c,DY:()=>q,Gh:()=>w,LY:()=>I,O5:()=>R,Pq:()=>ht,Qb:()=>x,Sr:()=>at,TB:()=>b,Tv:()=>G,Vl:()=>g,Xh:()=>N,YS:()=>et,YV:()=>U,_j:()=>z,_x:()=>D,bg:()=>M,c5:()=>K,dV:()=>y,eG:()=>Pt,eI:()=>A,fq:()=>Xt,g0:()=>m,hM:()=>Z,ju:()=>F,lL:()=>Yt,mg:()=>dt,n9:()=>nt,nM:()=>t,nW:()=>gt,qM:()=>it,r1:()=>_,sn:()=>kt,uM:()=>Lt,ue:()=>Q,vN:()=>E,vd:()=>rt,yv:()=>f,z2:()=>B});const it=1e-30,ct=512,M=128,G=511,U=16777216,F=8,q=29,Pt=24,Rt=4,ht=0,Q=0,et=0,Lt=1,B=2,t=3,Yt=4,kt=5,nt=6,at=12,rt=5,Kt=6,c=5,E=6;var y,C;(C=y||(y={}))[C.FilterFlags=0]="FilterFlags",C[C.Animation=1]="Animation",C[C.GPGPU=2]="GPGPU",C[C.VV=3]="VV",C[C.DD0=4]="DD0",C[C.DD1=5]="DD1",C[C.DD2=6]="DD2";const I=8,m=I<<1,w=1.05,K=1,xt=5,dt=6,_t=1.15,Z=2,z=128-2*Z,gt=2,Xt=10,f=1024,x=128,_=4,R=1,D=1<<20,A=.75,N=10,g=.75,b=256},50915:(ne,Ft,X)=>{var tt,Dt,it,H,k,ct,Et,st,M,G,U,L,$,F,S,q,ut,ft,Tt,Bt,t;X.d(Ft,{Ab:()=>F,Ac:()=>Et,Ap:()=>$,CQ:()=>It,Cj:()=>U,Co:()=>Tt,H0:()=>S,Hr:()=>Pt,MT:()=>M,NZ:()=>k,Nm:()=>Mt,R:()=>Bt,Tb:()=>H,WR:()=>Dt,Y7:()=>ct,_U:()=>ft,dn:()=>it,eA:()=>G,hn:()=>tt,ld:()=>q,nI:()=>Rt,pF:()=>L,pe:()=>st,sS:()=>et,tx:()=>Lt,vt:()=>pt,xM:()=>Gt,xV:()=>j,yQ:()=>ut}),(t=tt||(tt={}))[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Dt||(Dt={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(it||(it={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(H||(H={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(k||(k={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(ct||(ct={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(Et||(Et={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT"}(st||(st={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(M||(M={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(G||(G={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(U||(U={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(L||(L={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}($||($={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(F||(F={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(S||(S={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(q||(q={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(ut||(ut={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(ft||(ft={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(Tt||(Tt={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Bt||(Bt={}));const Gt=33984;var pt,Mt,Pt;(function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.TransformFeedback=7]="TransformFeedback",t[t.Sync=8]="Sync",t[t.UNCOUNTED=9]="UNCOUNTED",t[t.LinesOfCode=9]="LinesOfCode",t[t.Uniform=10]="Uniform",t[t.COUNT=11]="COUNT"})(pt||(pt={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(Mt||(Mt={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(Pt||(Pt={}));const Rt=33306;var It,j,ht,Q,et,Lt,B;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(It||(It={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(j||(j={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(ht||(ht={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(Q||(Q={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(et||(et={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(Lt||(Lt={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(B||(B={}))}}]);