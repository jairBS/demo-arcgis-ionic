"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1091],{92517:(K,H,p)=>{p.d(H,{b:()=>R,l:()=>C,o:()=>s});var j,I=p(93293),E={exports:{}};void 0!==(j=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"])&&(E.exports=j);const C=(0,I.g)(E.exports);var k,u={exports:{}};void 0!==(k=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"])&&(u.exports=k);const s=(0,I.g)(u.exports);var F,c,A={exports:{}};F=A,void 0!==(c=function(){return["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT","textureSize","texelFetch"]}())&&(F.exports=c);const R=(0,I.g)(A.exports)},32788:(K,H,p)=>{p.d(H,{g:()=>R});var I=p(10467),j=p(89952),E=p(35150),C=p(79139),B=p(77440),u=p(50915);const s=()=>E.A.getLogger("esri.views.webgl.BufferObject");class R{static createIndex(c,m,g){return new R(c,u.NZ.ELEMENT_ARRAY_BUFFER,m,g)}static createVertex(c,m,g){return new R(c,u.NZ.ARRAY_BUFFER,m,g)}static createUniform(c,m,g){return new R(c,u.NZ.UNIFORM_BUFFER,m,g)}static createPixelPack(c,m=u._U.STREAM_READ,g){const T=new R(c,u.NZ.PIXEL_PACK_BUFFER,m);return g&&T.setSize(g),T}static createPixelUnpack(c,m=u._U.STREAM_DRAW,g){return new R(c,u.NZ.PIXEL_UNPACK_BUFFER,m,g)}static createTransformFeedback(c,m=u._U.STATIC_DRAW,g){const T=new R(c,u.NZ.TRANSFORM_FEEDBACK_BUFFER,m);return T.setSize(g),T}constructor(c,m,g,T){this._context=c,this.bufferType=m,this.usage=g,this._glName=null,this._size=-1,this._indexType=void 0,c.instanceCounter.increment(u.vt.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,B.Y2)(this._context.gl),T&&this.setData(T)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){return this.bufferType===u.NZ.ELEMENT_ARRAY_BUFFER?this._indexType===u.pe.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===u.NZ.ELEMENT_ARRAY_BUFFER||this.bufferType===u.NZ.ARRAY_BUFFER}dispose(){var c;null!==(c=this._context)&&void 0!==c&&c.gl?(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(u.vt.BufferObject,this),this._context=null):this._glName&&s().warn("Leaked WebGL buffer object")}setSize(c,m=null){if(c<=0&&s().error("Buffer size needs to be positive!"),this.bufferType===u.NZ.ELEMENT_ARRAY_BUFFER&&null!=m)switch(this._indexType=m,m){case u.pe.UNSIGNED_SHORT:c*=2;break;case u.pe.UNSIGNED_INT:c*=4}this._setBufferData(c)}setData(c){if(!c)return;let m=c.byteLength;this.bufferType===u.NZ.ELEMENT_ARRAY_BUFFER&&((0,C.jq)(c)&&(m/=2,this._indexType=u.pe.UNSIGNED_SHORT),(0,C.XJ)(c)&&(m/=4,this._indexType=u.pe.UNSIGNED_INT)),this._setBufferData(m,c)}_setBufferData(c,m=null){this._size=c;const g=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const T=this._context.gl;T.bufferData(this.bufferType,null!=m?m:c,this.usage),(0,B.Y2)(T),this._isVAOAware&&this._context.bindVAO(g)}setSubData(c,m,g,T){if(!c)return;(m<0||m*c.BYTES_PER_ELEMENT>=this.usedMemory)&&s().error("offset is out of range!"),g>=T&&s().error("end must be bigger than start!"),(m+(T-g))*c.BYTES_PER_ELEMENT>this.usedMemory&&s().error("An attempt to write beyond the end of the buffer!");const L=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:X}=this._context;X.bufferSubData(this.bufferType,m*c.BYTES_PER_ELEMENT,c,g,T-g),(0,B.Y2)(X),this._isVAOAware&&this._context.bindVAO(L)}getSubData(c,m=0,g,T){if(g<0||T<0)return void s().error("Problem getting subdata: offset and length were less than zero!");const L=function F(k){return(0,j.Xj)(k)}(c)?c.BYTES_PER_ELEMENT:1;if(L*((null!=g?g:0)+(null!=T?T:0))>c.byteLength)return void s().error("Problem getting subdata: offset and length exceeded destination size!");m+L*(null!=T?T:0)>this.usedMemory&&s().warn("Potential problem getting subdata: requested data exceeds buffer size!");const X=this._context.gl;this.bufferType===u.NZ.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,u.NZ.TRANSFORM_FEEDBACK_BUFFER),X.getBufferSubData(u.NZ.TRANSFORM_FEEDBACK_BUFFER,m,c,g,T),this._context.unbindBuffer(u.NZ.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,u.NZ.COPY_READ_BUFFER),X.getBufferSubData(u.NZ.COPY_READ_BUFFER,m,c,g,T),this._context.unbindBuffer(u.NZ.COPY_READ_BUFFER))}getSubDataAsync(c,m=0,g,T){var L=this;return(0,I.A)(function*(){yield L._context.clientWaitAsync(),L.getSubData(c,m,g,T)})()}}},79061:(K,H,p)=>{p.d(H,{H:()=>c});var I=p(10467),E=(p(3248),p(35150)),C=p(11432),B=p(32788),u=p(77440),s=p(50915),A=p(68165),R=p(17107),F=p(26136);class c{constructor(n,o,l=null){this._context=n,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,n.instanceCounter.increment(s.vt.FramebufferObject,this);const x=m(o)?o:new F.g(this._context,o);if(this._colorAttachments.set(s.Nm.COLOR_ATTACHMENT0,x),this._validateTextureDescriptor(x.descriptor),this._validateColorAttachmentPoint(s.Nm.COLOR_ATTACHMENT0),null!=l)if(function T(v){return m(v)||null!=v&&"pixelFormat"in v}(l))this._context.capabilities.depthTexture||console.error("Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2"),this._depthStencilTexture=m(l)?l:new F.g(this._context,l),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const b=function g(v){return null!=v&&"type"in v&&v.type===A.p.RenderBuffer}(l)?l:new R.l(this._context,l);this._depthStencilBuffer=b,this._validateRenderBufferDescriptor(b.descriptor)}}dispose(){var n,o;if(0===this._colorAttachments.size&&!this._glName)return;const l=this._context.getBoundFramebufferObject();this._colorAttachments.forEach((x,b)=>{var O;return null===(O=this.detachColorTexture(b))||void 0===O?void 0:O.dispose()}),null!==(n=this.detachDepthStencilBuffer())&&void 0!==n&&n.dispose(),null!==(o=this.detachDepthStencilTexture())&&void 0!==o&&o.dispose(),this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),this._context.bindFramebuffer(l),this._context.instanceCounter.decrement(s.vt.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(s.Nm.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){var n,o;const l=this._colorAttachments.get(s.Nm.COLOR_ATTACHMENT0);return null!==(n=null==l||null===(o=l.descriptor)||void 0===o?void 0:o.width)&&void 0!==n?n:0}get height(){var n,o;const l=this._colorAttachments.get(s.Nm.COLOR_ATTACHMENT0);return null!==(n=null==l||null===(o=l.descriptor)||void 0===o?void 0:o.height)&&void 0!==n?n:0}get usedMemory(){var n,o;return[...this._colorAttachments].reduce((l,[x,b])=>l+b.usedMemory,null!==(n=null===(o=this.depthStencil)||void 0===o?void 0:o.usedMemory)&&void 0!==n?n:0)}getColorTexture(n){const o=this._colorAttachments.get(n);return o&&m(o)?o:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(n,o=s.Nm.COLOR_ATTACHMENT0){var l;n&&(this._validateColorAttachmentPoint(o),this._validateTextureDescriptor(n.descriptor),null!==(l=this.detachColorTexture(o))&&void 0!==l&&l.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(n.glName,o)),this._colorAttachments.set(o,n))}detachColorTexture(n=s.Nm.COLOR_ATTACHMENT0){const o=this._colorAttachments.get(n);if(o){if(this._initialized){const l=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,n),this._context.bindFramebuffer(l)}return this._colorAttachments.delete(n),o}}setColorTextureTarget(n,o=s.Nm.COLOR_ATTACHMENT0){const l=this._colorAttachments.get(o);l&&this._framebufferTexture2D(l.glName,o,n)}attachDepthStencil(n){if(n)switch(n.type){case A.p.Texture:return this._attachDepthStencilTexture(n);case A.p.RenderBuffer:return this._attachDepthStencilBuffer(n)}}_attachDepthStencilTexture(n){var o;if(null==n)return;const l=n.descriptor;l.pixelFormat!==s.Ab.DEPTH_STENCIL&&l.pixelFormat!==s.Ab.DEPTH24_STENCIL8&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),l.dataType!==s.ld.UNSIGNED_INT_24_8&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDescriptor(l),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(n.glName,s.nI)),null!==(o=this._depthStencilTexture)&&void 0!==o&&o.dispose(),this._depthStencilTexture=n}detachDepthStencilTexture(){const n=this._depthStencilTexture;return n&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,s.nI)),this._depthStencilTexture=null,n}_attachDepthStencilBuffer(n){if(null==n)return;const o=n.descriptor;if(this._validateRenderBufferDescriptor(o),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const l=this._context.gl,x=this._getGLAttachmentPoint(o);l.framebufferRenderbuffer(s.R.FRAMEBUFFER,x,l.RENDERBUFFER,n.glName)}this._depthStencilBuffer=n}detachDepthStencilBuffer(){const n=this._depthStencilBuffer;if(n&&this._initialized){this._context.bindFramebuffer(this);const o=this._context.gl,l=this._getGLAttachmentPoint(n.descriptor);o.framebufferRenderbuffer(s.R.FRAMEBUFFER,l,o.RENDERBUFFER,null)}return this._depthStencilBuffer=null,n}copyToTexture(n,o,l,x,b,O,z){(n<0||o<0||b<0||O<0)&&console.error("Offsets cannot be negative!"),(l<=0||x<=0)&&console.error("Copy width and height must be greater than zero!");const U=z.descriptor;z.descriptor.target!==s.Ap.TEXTURE_2D&&console.error("Texture target must be TEXTURE_2D!"),(null==(null==U?void 0:U.width)||null==(null==U?void 0:U.height)||n+l>this.width||o+x>this.height||b+l>U.width||O+x>U.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");const V=this._context,W=V.bindTexture(z,F.g.TEXTURE_UNIT_FOR_UPDATES);V.setActiveTexture(F.g.TEXTURE_UNIT_FOR_UPDATES),V.bindFramebuffer(this),V.gl.copyTexSubImage2D(s.Ap.TEXTURE_2D,0,b,O,n,o,l,x),V.bindTexture(W,F.g.TEXTURE_UNIT_FOR_UPDATES)}readPixels(n,o,l,x,b,O,z){(l<=0||x<=0)&&console.error("Copy width and height must be greater than zero!"),z||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(n,o,l,x,b,O,z)}readPixelsAsync(n,o,l,x,b,O,z){var U=this;return(0,I.A)(function*(){const{gl:V}=U._context,W=B.g.createPixelPack(U._context,s._U.STREAM_READ,z.byteLength);U._context.bindBuffer(W),U._context.bindFramebuffer(U),V.readPixels(n,o,l,x,b,O,0),U._context.unbindBuffer(s.NZ.PIXEL_PACK_BUFFER),yield W.getSubDataAsync(z),W.dispose()})()}resize(n,o){var l,x;if(this.width===n&&this.height===o)return;const b={width:n,height:o};L(b,this._context.parameters.maxTextureSize),this._colorAttachments.forEach(O=>O.resize(b.width,b.height)),null!==(l=this._depthStencilTexture)&&void 0!==l&&l.resize(b.width,b.height),this._initialized&&(L(b,this._context.parameters.maxRenderbufferSize),null!==(x=this._depthStencilBuffer)&&void 0!==x&&x.resize(b.width,b.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(n=s.R.FRAMEBUFFER){const o=this._context.gl;if(this._initialized)return void o.bindFramebuffer(n,this.glName);this._glName&&o.deleteFramebuffer(this._glName);const l=o.createFramebuffer();if(o.bindFramebuffer(n,l),this._colorAttachments.forEach((x,b)=>this._framebufferTexture2D(x.glName,b,X(x),n)),this._depthStencilBuffer){const x=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);o.framebufferRenderbuffer(n,x,o.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,o.DEPTH_STENCIL_ATTACHMENT,X(this._depthStencilTexture),n);(0,u.en)()&&o.checkFramebufferStatus(n)!==o.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!"),this._glName=l,this._initialized=!0}_framebufferTexture2D(n,o=s.Nm.COLOR_ATTACHMENT0,l=s.Ap.TEXTURE_2D,x=s.R.FRAMEBUFFER,b=0){this._context.gl.framebufferTexture2D(x,o,l,n,b)}_disposeDepthStencilAttachments(){const n=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const o=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);n.framebufferRenderbuffer(s.R.FRAMEBUFFER,o,n.RENDERBUFFER,null)}this._depthStencilBuffer=(0,C.WD)(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,n.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=(0,C.WD)(this._depthStencilTexture))}_validateTextureDescriptor(n){n.target!==s.Ap.TEXTURE_2D&&n.target!==s.Ap.TEXTURE_CUBE_MAP&&console.error("Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!"),L(n,this._context.parameters.maxTextureSize),this._validateBufferDimensions(n)}_validateRenderBufferDescriptor(n){L(n,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(n)}_validateBufferDimensions(n){n.width<=0&&(n.width=this.width),n.height<=0&&(n.height=this.height),this.width>0&&this.height>0&&(this.width===n.width&&this.height===n.height||console.error("Attachment size must match framebuffer size!"))}_getGLAttachmentPoint(n){switch(n.internalFormat){case s.yQ.DEPTH_COMPONENT16:case s.yQ.DEPTH_COMPONENT24:case s.yQ.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case s.yQ.DEPTH24_STENCIL8:case s.yQ.DEPTH32F_STENCIL8:case s.yQ.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case s.yQ.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(n){if(-1===c._MAX_COLOR_ATTACHMENTS){const{gl:l}=this._context;c._MAX_COLOR_ATTACHMENTS=l.getParameter(l.MAX_COLOR_ATTACHMENTS)}const o=n-s.Nm.COLOR_ATTACHMENT0;o+1>c._MAX_COLOR_ATTACHMENTS&&E.A.getLogger("esri.views.webgl.FrameBufferObject").error("esri.FrameBufferObject",`illegal attachment point for color attachment: ${o+1}. Implementation supports up to ${c._MAX_COLOR_ATTACHMENTS} color attachments`)}}function m(v){return null!=v&&"type"in v&&v.type===A.p.Texture}function L(v,n){const o=Math.max(v.width,v.height);if(o>n){E.A.getLogger("esri.views.webgl.FramebufferObject").warn(`Resizing FBO attachment size ${v.width}x${v.height} to device limit ${n}`);const l=n/o;return v.width=Math.round(v.width*l),v.height=Math.round(v.height*l),!1}return!0}function X(v){return v.descriptor.target===s.Ap.TEXTURE_CUBE_MAP?s.Ap.TEXTURE_CUBE_MAP_POSITIVE_X:s.Ap.TEXTURE_2D}c._MAX_COLOR_ATTACHMENTS=-1},23063:(K,H,p)=>{p.d(H,{B:()=>ce}),p(3248);var j=p(77440),E=p(50915);const C=["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"],B_enableCache=!1;var u=p(92517),s=999,A=9999,R=0,F=1,k=2,c=3,m=4,g=5,T=6,L=7,X=8,v=9,n=10,o=11,l=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function O(i){return function b(i){var t=function x(){var i,t,r,e=0,_=0,h=s,a=[],P=[],d=1,f=0,D=0,S=!1,y=!1,N="";return function(M){return P=[],null!==M?function de(M){var $;for(e=0,r=(N+=M).length;i=N[e],e<r;){switch($=e,h){case R:e="/"===i&&"*"===t?(a.push(i),w(a.join("")),h=s,e+1):(a.push(i),t=i,e+1);break;case F:case k:e=re();break;case c:e=xe();break;case m:e="."===i||/[eE]/.test(i)?(a.push(i),h=g,t=i,e+1):"x"===i&&1===a.length&&"0"===a[0]?(h=o,a.push(i),t=i,e+1):/[^\d]/.test(i)?(w(a.join("")),h=s,e):(a.push(i),t=i,e+1);break;case o:e=/[^a-fA-F0-9]/.test(i)?(w(a.join("")),h=s,e):(a.push(i),t=i,e+1);break;case g:"f"===i&&(a.push(i),t=i,e+=1),e=/[eE]/.test(i)||"-"===i&&/[eE]/.test(t)?(a.push(i),t=i,e+1):/[^\d]/.test(i)?(w(a.join("")),h=s,e):(a.push(i),t=i,e+1);break;case A:e=ve();break;case v:e=/[^\s]/g.test(i)?(w(a.join("")),h=s,e):(a.push(i),t=i,e+1);break;case s:a=a.length?[]:a,e="/"===t&&"*"===i?(D=_+e-1,h=R,t=i,e+1):"/"===t&&"/"===i?(D=_+e-1,h=F,t=i,e+1):"#"===i?(h=k,D=_+e,e):/\s/.test(i)?(h=v,D=_+e,e):(S=/\d/.test(i),y=/[^\w_]/.test(i),D=_+e,h=S?m:y?c:A,e)}$!==e&&("\n"===N[$]?(f=0,++d):++f)}return _+=e,N=N.slice(e),P}(M.replace?M.replace(/\r\n/g,"\n"):M):function me(M){return a.length&&w(a.join("")),h=n,w("(eof)"),P}()};function w(M){M.length&&P.push({type:l[h],data:M,position:D,line:d,column:f})}function re(){return"\r"!==i&&"\n"!==i||"\\"===t?(a.push(i),t=i,e+1):(w(a.join("")),h=s,e)}function xe(){if("."===t&&/\d/.test(i))return h=g,e;if("/"===t&&"*"===i)return h=R,e;if("/"===t&&"/"===i)return h=F,e;if("."===i&&a.length){for(;Q(a););return h=g,e}if(";"===i||")"===i||"("===i){if(a.length)for(;Q(a););return w(i),h=s,e+1}var M=2===a.length&&"="!==i;if(/[\w_\d\s]/.test(i)||M){for(;Q(a););return h=s,e}return a.push(i),t=i,e+1}function Q(M){for(var $,Y,ie=0;;){if($=u.o.indexOf(M.slice(0,M.length+ie).join("")),Y=u.o[$],-1===$){if(ie--+M.length>0)continue;Y=M.slice(0,1).join("")}return w(Y),D+=Y.length,(a=a.slice(Y.length)).length}}function ve(){if(/[^\d\w_]/.test(i)){var M=a.join("");return h=u.l.indexOf(M)>-1?X:u.b.indexOf(M)>-1?L:T,w(a.join("")),h=s,e}return a.push(i),t=i,e+1}}(),r=[];return(r=r.concat(t(i))).concat(t(null))}(i)}const U=new Set(["GL_OES_standard_derivatives","GL_EXT_frag_depth","GL_EXT_draw_buffers","GL_EXT_shader_texture_lod"]);function W(i,t){for(let r=t-1;r>=0;r--){const e=i[r];if("whitespace"!==e.type&&"block-comment"!==e.type){if("keyword"!==e.type)break;if("attribute"===e.data||"in"===e.data)return!0}}return!1}function Z(i,t,r,e){e=e||r;for(const _ of i)if("ident"===_.type&&_.data===r)return e in t?t[e]++:t[e]=0,Z(i,t,e+"_"+t[e],e);return r}function J(i,t,r="afterVersion"){function e(d,f){for(let D=f;D<d.length;D++){const S=d[D];if("operator"===S.type&&";"===S.data)return D}return null}const h={data:"\n",type:"whitespace"},a=d=>d<i.length&&/[^\r\n]$/.test(i[d].data);let P=function _(d){let f=-1,D=0,S=-1;for(let y=0;y<d.length;y++){const N=d[y];if("preprocessor"===N.type&&(/\#(if|ifdef|ifndef)\s+.+/.test(N.data)?++D:/\#endif\s*.*/.test(N.data)&&--D),"afterVersion"!==r&&"afterPrecision"!==r||"preprocessor"===N.type&&N.data.startsWith("#version")&&(S=Math.max(S,y)),"afterPrecision"===r&&"keyword"===N.type&&"precision"===N.data){const w=e(d,y);if(null===w)throw new Error("precision statement not followed by any semicolons!");S=Math.max(S,w)}f<S&&0===D&&(f=y)}return f+1}(i);a(P-1)&&i.splice(P++,0,h);for(const d of t)i.splice(P++,0,d);a(P-1)&&a(P)&&i.splice(P,0,h)}function ne(i,t,r,e="lowp"){J(i,[{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:e},{type:"whitespace",data:" "},{type:"keyword",data:r},{type:"whitespace",data:" "},{type:"ident",data:t},{type:"operator",data:";"}],"afterPrecision")}function oe(i,t,r,e,_="lowp"){J(i,[{type:"keyword",data:"layout"},{type:"operator",data:"("},{type:"keyword",data:"location"},{type:"whitespace",data:" "},{type:"operator",data:"="},{type:"whitespace",data:" "},{type:"integer",data:e.toString()},{type:"operator",data:")"},{type:"whitespace",data:" "},{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:_},{type:"whitespace",data:" "},{type:"keyword",data:r},{type:"whitespace",data:" "},{type:"ident",data:t},{type:"operator",data:";"}],"afterPrecision")}function se(i,t){let r,e,_=-1;for(let h=t;h<i.length;h++){const a=i[h];if("operator"===a.type&&("["===a.data&&(r=h),"]"===a.data)){e=h;break}"integer"===a.type&&(_=parseInt(a.data,10))}return r&&e&&i.splice(r,e-r+1),_}function q(i,t){if(i.startsWith("#version 300"))return i;const r=function ae(i){return B_enableCache?ee.get(i):null}(i);if(null!=r)return r;const e=O(i);if("300 es"===function V(i,t="100",r="300 es"){const e=/^\s*\#version\s+([0-9]+(\s+[a-zA-Z]+)?)\s*/;for(const _ of i)if("preprocessor"===_.type){const h=e.exec(_.data);if(h){const a=h[1].replaceAll(/\s\s+/g," ");if(a===r)return a;if(a===t)return _.data="#version "+r,t;throw new Error("unknown glsl version: "+a)}}return i.splice(0,0,{type:"preprocessor",data:"#version "+r},{type:"whitespace",data:"\n"}),null}(e,"100","300 es"))return i;let _=null,h=null;const a={},P={};for(let d=0;d<e.length;++d){const f=e[d];switch(f.type){case"keyword":t===E.Co.VERTEX_SHADER&&"attribute"===f.data?f.data="in":"varying"===f.data&&(f.data=t===E.Co.VERTEX_SHADER?"out":"in");break;case"builtin":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(f.data.trim())&&(f.data=f.data.replaceAll(/(2D|Cube|EXT)/g,"")),t===E.Co.FRAGMENT_SHADER&&"gl_FragColor"===f.data&&(_||(_=Z(e,a,"fragColor"),ne(e,_,"vec4")),f.data=_),t===E.Co.FRAGMENT_SHADER&&"gl_FragData"===f.data){const D=se(e,d+1),S=Z(e,a,"fragData");oe(e,S,"vec4",D,"mediump"),f.data=S}else t===E.Co.FRAGMENT_SHADER&&"gl_FragDepthEXT"===f.data&&(h||(h=Z(e,a,"gl_FragDepth")),f.data=h);break;case"ident":if(C.includes(f.data)){if(t===E.Co.VERTEX_SHADER&&W(e,d))throw new Error("attribute in vertex shader uses a name that is a reserved word in glsl 300 es");f.data in P||(P[f.data]=Z(e,a,f.data)),f.data=P[f.data]}}}for(let d=e.length-1;d>=0;--d){const f=e[d];if("preprocessor"===f.type){const D=f.data.match(/\#extension\s+(.*)\:/);if(D&&D[1]&&U.has(D[1].trim())){const N=e[d+1];e.splice(d,N&&"whitespace"===N.type?2:1)}const S=f.data.match(/\#ifdef\s+(.*)/);S&&S[1]&&U.has(S[1].trim())&&(f.data="#if 1");const y=f.data.match(/\#ifndef\s+(.*)/);y&&y[1]&&U.has(y[1].trim())&&(f.data="#if 0")}}return function le(i,t){return B_enableCache&&ee.set(i,t),t}(i,function z(i){return i.map(t=>"eof"!==t.type?t.data:"").join("")}(e))}const ee=new Map;class ce{constructor(t,r,e,_,h=new Map,a=[]){var P;this._context=t,this._locations=_,this._uniformBlockBindings=h,this._transformFeedbackVaryings=a,this._refCount=1,this._compiled=!1,this._linesOfCode=0,this._nameToUniformLocation=new Map,this._nameToUniform1=new Map,this._nameToUniform1v=new Map,this._nameToUniform2=new Map,this._nameToUniform3=new Map,this._nameToUniform4=new Map,this._nameToUniformMatrix3=new Map,this._nameToUniformMatrix4=new Map,t||console.error("RenderingContext isn't initialized!"),0===r.length&&console.error("Shaders source should not be empty!"),r=q(r,E.Co.VERTEX_SHADER),e=q(e,E.Co.FRAGMENT_SHADER),this._vShader=te(this._context,E.Co.VERTEX_SHADER,r),this._fShader=te(this._context,E.Co.FRAGMENT_SHADER,e),fe.enabled&&(this._linesOfCode=r.match(/\n/g).length+e.match(/\n/g).length+2,this._context.instanceCounter.increment(E.vt.LinesOfCode,this._vShader,this._linesOfCode)),this._vShader&&this._fShader||console.error("Error loading shaders!"),this._context.instanceCounter.increment(E.vt.Shader,this),(0,j.Xc)()&&(this.vertexShader=r,this.fragmentShader=e),this.usedMemory=r.length+e.length;const d=this._context.gl,f=d.createProgram();d.attachShader(f,this._vShader),d.attachShader(f,this._fShader),this._locations.forEach((D,S)=>d.bindAttribLocation(f,D,S)),null!==(P=this._transformFeedbackVaryings)&&void 0!==P&&P.length&&d.transformFeedbackVaryings(f,this._transformFeedbackVaryings,d.SEPARATE_ATTRIBS),d.linkProgram(f),(0,j.Xc)()&&!d.getProgramParameter(f,d.LINK_STATUS)&&console.error(`Could not link shader\nvalidated: ${d.getProgramParameter(f,d.VALIDATE_STATUS)}, gl error ${d.getError()}, vertex: ${d.getShaderParameter(this._vShader,d.COMPILE_STATUS)}, fragment: ${d.getShaderParameter(this._fShader,d.COMPILE_STATUS)}, info log: ${d.getProgramInfoLog(f)}, vertex source: ${this.vertexShader}, fragment source: ${this.fragmentShader}`);for(const[D,S]of this._uniformBlockBindings){const y=d.getUniformBlockIndex(f,D);y<4294967295&&d.uniformBlockBinding(f,y,S)}this._glName=f,this._context.instanceCounter.increment(E.vt.Program,this)}get glName(){return this._glName}get hasGLName(){return null!=this._glName}get hasTransformFeedbackVaryings(){var t;return!(null===(t=this._transformFeedbackVaryings)||void 0===t||!t.length)}get compiled(){if(this._compiled)return!0;const t=this._context.gl.getExtension("KHR_parallel_shader_compile");return null==t||null==this.glName?(this._compiled=!0,!0):(this._compiled=!!this._context.gl.getProgramParameter(this.glName,t.COMPLETION_STATUS_KHR),this._compiled)}dispose(){if(--this._refCount>0)return;const t=this._context.gl,r=this._context.instanceCounter;this._nameToUniformLocation.forEach(e=>e&&r.decrement(E.vt.Uniform,e)),this._nameToUniformLocation.clear(),this._vShader&&(this._linesOfCode>0&&(r.decrement(E.vt.LinesOfCode,this._vShader,this._linesOfCode),this._linesOfCode=0),t.deleteShader(this._vShader),this._vShader=null,r.decrement(E.vt.Shader,this)),this._fShader&&(t.deleteShader(this._fShader),this._fShader=null),this._glName&&(t.deleteProgram(this._glName),this._glName=null,r.decrement(E.vt.Program,this))}ref(){++this._refCount}_getUniformLocation(t){const r=this._nameToUniformLocation.get(t);if(void 0!==r)return r;if(this.glName){const e=this._context.gl.getUniformLocation(this.glName,t);return this._nameToUniformLocation.set(t,e),e&&this._context.instanceCounter.increment(E.vt.Uniform,e),e}return null}hasUniform(t){return null!=this._getUniformLocation(t)}setUniform1i(t,r){const e=this._nameToUniform1.get(t);void 0!==e&&r===e||(this._context.gl.uniform1i(this._getUniformLocation(t),r),this._nameToUniform1.set(t,r))}setUniform1iv(t,r){G(this._nameToUniform1v,t,r)&&this._context.gl.uniform1iv(this._getUniformLocation(t),r)}setUniform2iv(t,r){G(this._nameToUniform2,t,r)&&this._context.gl.uniform2iv(this._getUniformLocation(t),r)}setUniform3iv(t,r){G(this._nameToUniform3,t,r)&&this._context.gl.uniform3iv(this._getUniformLocation(t),r)}setUniform4iv(t,r){G(this._nameToUniform4,t,r)&&this._context.gl.uniform4iv(this._getUniformLocation(t),r)}setUniform1f(t,r){const e=this._nameToUniform1.get(t);void 0!==e&&r===e||(this._context.gl.uniform1f(this._getUniformLocation(t),r),this._nameToUniform1.set(t,r))}setUniform1fv(t,r){G(this._nameToUniform1v,t,r)&&this._context.gl.uniform1fv(this._getUniformLocation(t),r)}setUniform2f(t,r,e){const _=this._nameToUniform2.get(t);void 0===_?(this._context.gl.uniform2f(this._getUniformLocation(t),r,e),this._nameToUniform2.set(t,[r,e])):r===_[0]&&e===_[1]||(this._context.gl.uniform2f(this._getUniformLocation(t),r,e),_[0]=r,_[1]=e)}setUniform2fv(t,r){G(this._nameToUniform2,t,r)&&this._context.gl.uniform2fv(this._getUniformLocation(t),r)}setUniform3f(t,r,e,_){const h=this._nameToUniform3.get(t);void 0===h?(this._context.gl.uniform3f(this._getUniformLocation(t),r,e,_),this._nameToUniform3.set(t,[r,e,_])):r===h[0]&&e===h[1]&&_===h[2]||(this._context.gl.uniform3f(this._getUniformLocation(t),r,e,_),h[0]=r,h[1]=e,h[2]=_)}setUniform3fv(t,r){const e=this._getUniformLocation(t);null!=e&&G(this._nameToUniform3,t,r)&&this._context.gl.uniform3fv(e,r)}setUniform4f(t,r,e,_,h){const a=this._nameToUniform4.get(t);void 0===a?(this._context.gl.uniform4f(this._getUniformLocation(t),r,e,_,h),this._nameToUniform4.set(t,[r,e,_,h])):void 0!==a&&r===a[0]&&e===a[1]&&_===a[2]&&h===a[3]||(this._context.gl.uniform4f(this._getUniformLocation(t),r,e,_,h),a[0]=r,a[1]=e,a[2]=_,a[3]=h)}setUniform4fv(t,r){const e=this._getUniformLocation(t);null!=e&&G(this._nameToUniform4,t,r)&&this._context.gl.uniform4fv(e,r)}setUniformMatrix3fv(t,r,e=!1){const _=this._getUniformLocation(t);null!=_&&G(this._nameToUniformMatrix3,t,r)&&this._context.gl.uniformMatrix3fv(_,e,r)}setUniformMatrix4fv(t,r,e=!1){const _=this._getUniformLocation(t);null!=_&&G(this._nameToUniformMatrix4,t,r)&&this._context.gl.uniformMatrix4fv(_,e,r)}stop(){}}function te(i,t,r){const e=i.gl,_=e.createShader(t);return e.shaderSource(_,r),e.compileShader(_),(0,j.Xc)()&&!e.getShaderParameter(_,e.COMPILE_STATUS)&&(console.error("Compile error in ".concat(t===E.Co.VERTEX_SHADER?"vertex":"fragment"," shader")),console.error(e.getShaderInfoLog(_)),console.error(function _e(i){let t=2;return i.replaceAll("\n",()=>"\n"+function ue(i){return i>=1e3?i.toString():("  "+i).slice(-3)}(t++)+":")}(r))),_}function G(i,t,r){const e=i.get(t);if(!e)return i.set(t,Array.from(r)),!0;const _=r.length;if(e.length!==_)return i.set(t,Array.from(r)),!0;for(let h=0;h<_;++h){const a=r[h];if(e[h]!==a){for(e[h]=a;h<_;++h)e[h]=r[h];return!0}}return!1}const fe={enabled:!1}},17107:(K,H,p)=>{p.d(H,{l:()=>C});var I=p(50915),j=p(68165),E=p(49950);class C{constructor(u,s){this._context=u,this._descriptor=s,this.type=j.p.RenderBuffer,this._context.instanceCounter.increment(I.vt.Renderbuffer,this);const A=this._context.gl;this.glName=A.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:R,height:F,internalFormat:k,multisampled:c}=s;c?A.renderbufferStorageMultisample(A.RENDERBUFFER,this.samples,k,R,F):A.renderbufferStorage(A.RENDERBUFFER,k,R,F)}get descriptor(){return this._descriptor}get samples(){const u=this._descriptor.samples,s=this._context.parameters.maxSamples;return u?Math.min(u,s):s}get usedMemory(){return(0,E.e)(this._descriptor)}resize(u,s){const A=this._descriptor;if(A.width===u&&A.height===s)return;A.width=u,A.height=s;const R=this._context.gl;this._context.bindRenderbuffer(this),A.multisampled?R.renderbufferStorageMultisample(R.RENDERBUFFER,this.samples,A.internalFormat,A.width,A.height):R.renderbufferStorage(R.RENDERBUFFER,A.internalFormat,A.width,A.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(I.vt.Renderbuffer,this),this._context=null)}}},49950:(K,H,p)=>{p.d(H,{e:()=>E,q:()=>j});var I=p(84757);class j{constructor(B,u,s=u){this.internalFormat=B,this.width=u,this.height=s,this.multisampled=!1,this.samples=1}}function E(C){return C.width<=0||C.height<=0||null==C.internalFormat?0:C.width*C.height*(0,I.IB)(C.internalFormat)}}}]);