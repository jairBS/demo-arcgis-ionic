"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[893,4098,3258],{33087:(Q,w,p)=>{p.d(w,{q:()=>F});var h=p(60611);class F{constructor(x,b){this._storage=new h.F,this.id="",this.name="",this.size=0,this._storage.maxSize=x,this._storage.register(this),b&&this._storage.registerRemoveFunc("",b)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(x,b,P=1){this._storage.put(this,x,b,P,1)}pop(x){return this._storage.pop(this,x)}get(x){return this._storage.get(this,x)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(x){this._storage.maxSize=x}resetHitRate(){}}},60611:(Q,w,p)=>{p.d(w,{F:()=>P,Mn:()=>b});var x,C,h=p(12438);(C=x||(x={}))[C.ALL=0]="ALL",C[C.SOME=1]="SOME";class b{constructor(i,a,l){this.name=i,this._storage=a,this.id=T+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),l&&(this._storage.registerRemoveFunc(this.id,l),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(i){return this._storage.getSize(this,i)}resetHitRate(){this._hit=this._miss=0}put(i,a,l,m=0){this._storage.put(this,i,a,l,m)}pop(i){const a=this._storage.pop(this,i);return void 0===a?++this._miss:++this._hit,a}get(i){const a=this._storage.get(this,i);return void 0===a?++this._miss:++this._hit,a}peek(i){return this._storage.peek(this,i)}updateSize(i,a,l){this._storage.updateSize(this,i,a,l)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class P{get size(){return this._size}constructor(i=10485760){this._maxSize=i,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new h.A,this._users=new h.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(i){this._users.push(i)}deregister(i){this._users.removeUnordered(i)}registerRemoveFunc(i,a){this._removeFuncs.push([i,a])}deregisterRemoveFunc(i){this._removeFuncs.filterInPlace(a=>a[0]!==i)}get maxSize(){return this._maxSize}set maxSize(i){this._maxSize=Math.max(i,-1),this._checkSize()}getSize(i,a){var l;const m=this._db.get(i.id+a);return null!==(l=null==m?void 0:m.size)&&void 0!==l?l:0}put(i,a,l,m,f){const d=this._db.get(a=i.id+a);if(d&&(this._size-=d.size,i.size-=d.size,this._db.delete(a),d.entry!==l&&this._notifyRemove(a,d.entry,d.size,x.ALL)),m>this._maxSize)return void this._notifyRemove(a,l,m,x.ALL);if(void 0===l)return void console.warn("Refusing to cache undefined entry ");if(!m||m<0)return console.warn(`Refusing to cache entry with size ${m} for key ${a}`),void this._notifyRemove(a,l,0,x.ALL);const A=1+Math.max(f,-4)- -3;this._db.set(a,new R(l,m,A)),this._size+=m,i.size+=m,this._checkSize()}updateSize(i,a,l,m){const f=this._db.get(a=i.id+a);if(f&&f.entry===l){for(this._size-=f.size,i.size-=f.size;m>this._maxSize;){const d=this._notifyRemove(a,l,m,x.SOME);if(!(null!=d&&d>0))return void this._db.delete(a);m=d}f.size=m,this._size+=m,i.size+=m,this._checkSize()}}pop(i,a){const l=this._db.get(a=i.id+a);if(l)return this._size-=l.size,i.size-=l.size,this._db.delete(a),++this._hit,l.entry;++this._miss}get(i,a){const l=this._db.get(a=i.id+a);if(void 0!==l)return this._db.delete(a),l.lives=l.lifetime,this._db.set(a,l),++this._hit,l.entry;++this._miss}peek(i,a){const l=this._db.get(i.id+a);return l?++this._hit:++this._miss,null==l?void 0:l.entry}get performanceInfo(){const i={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},a={},l=new Array;this._db.forEach((d,A)=>{const U=d.lifetime;l[U]=(l[U]||0)+d.size,this._users.forAll(L=>{const{id:y,name:I}=L;A.startsWith(y)&&(a[I]=(a[I]||0)+d.size)})});const m={};this._users.forAll(d=>{const A=d.name;"hitRate"in d&&"number"==typeof d.hitRate&&!isNaN(d.hitRate)&&d.hitRate>0?(a[A]=a[A]||0,m[A]=Math.round(100*d.hitRate)+"%"):m[A]="0%"});const f=Object.keys(a);f.sort((d,A)=>a[A]-a[d]),f.forEach(d=>i[d]=Math.round(a[d]/2**20)+"MB / "+m[d]);for(let d=l.length-1;d>=0;--d){const A=l[d];A&&(i["Priority "+(d+-3-1)]=Math.round(A/this._size*100)+"%")}return i}resetStats(){this._hit=this._miss=0,this._users.forAll(i=>i.resetHitRate())}clear(i){const a=i.id;this._db.forEach((l,m)=>{m.startsWith(a)&&(this._size-=l.size,this._db.delete(m),this._notifyRemove(m,l.entry,l.size,x.ALL))}),i.size=0}clearAll(){this._db.forEach((i,a)=>this._notifyRemove(a,i.entry,i.size,x.ALL)),this._users.forAll(i=>i.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(i,a,l,m){let f;return this._removeFuncs.some(d=>{if(i.startsWith(d[0])){const A=d[1](a,m,l);return"number"==typeof A&&(f=A),!0}return!1}),f}_checkSize(){this._users.forAll(i=>this._checkSizeLimits(i)),this._checkSizeLimits()}_checkSizeLimits(i){const a=null!=i?i:this;if(a.maxSize<0||a.size<=a.maxSize)return;const l=null==i?void 0:i.id;let m=!0;for(;m;){m=!1;for(const[f,d]of this._db)if(0===d.lifetime&&(!l||f.startsWith(l))){if(this._purgeItem(f,d,i),a.size<=.9*a.maxSize)return;m||(m=this._db.has(f))}}for(const[f,d]of this._db)if((!l||f.startsWith(l))&&(this._purgeItem(f,d,i),a.size<=.9*a.maxSize))return}_purgeItem(i,a,l=this._users.find(m=>i.startsWith(m.id))){if(this._db.delete(i),a.lives<=1){this._size-=a.size,l&&(l.size-=a.size);const m=this._notifyRemove(i,a.entry,a.size,x.SOME);null!=m&&m>0&&(this._size+=m,l&&(l.size+=m),a.lives=a.lifetime,a.size=m,this._db.set(i,a))}else--a.lives,this._db.set(i,a)}}let T=0;class R{constructor(i,a,l){this.entry=i,this.size=a,this.lifetime=l,this.lives=l}}},24098:(Q,w,p)=>{p.d(w,{GB:()=>F,Qo:()=>x,Y4:()=>M});var h=p(44549);class F{}function M(P){return P instanceof h.bo?P===F.instance:"unknown"===(null==P?void 0:P.toString().toLowerCase())}function x(P){return M(P)?F.instance:P}F.instance=new h.oh("Etc/UTC")},721:(Q,w,p)=>{p.d(w,{$X:()=>N,Gy:()=>j,P5:()=>te,SW:()=>k,Tr:()=>V,VV:()=>P}),p(61320);const M=(o,s,_)=>[s,_],x=(o,s,_)=>[s,_,o[2]],b=(o,s,_)=>[s,_,o[2],o[3]];function P(o){return o?{originPosition:"upper-left"===o.originPosition?"upperLeft":"lower-left"===o.originPosition?"lowerLeft":o.originPosition,scale:o.tolerance?[o.tolerance,o.tolerance]:[1,1],translate:null!=o.extent?[o.extent.xmin,o.extent.ymax]:[0,0]}:null}function d({scale:o,translate:s},_){return _*o[0]+s[0]}function A({scale:o,translate:s},_){return s[1]-_*o[1]}function U(o,s,_){const O=new Array(_.length);if(!_.length)return O;const[z,Z]=o.scale;let Y=d(o,_[0][0]),G=A(o,_[0][1]);O[0]=s(_[0],Y,G);for(let ee=1;ee<_.length;ee++){const q=_[ee];Y+=q[0]*z,G-=q[1]*Z,O[ee]=s(q,Y,G)}return O}function L(o,s,_){const O=new Array(_.length);for(let z=0;z<_.length;z++)O[z]=U(o,s,_[z]);return O}function j(o,s,_,O,z){return s.x=function R({scale:o,translate:s},_){return Math.round((_-s[0])/o[0])}(o,_.x),s.y=function C({scale:o,translate:s},_){return Math.round((s[1]-_)/o[1])}(o,_.y),s!==_&&(O&&(s.z=_.z),z&&(s.m=_.m)),s}function k(o,s,_,O,z){return null!=_&&(s.points=function I(o,s,_,O){return U(o,_?O?b:x:O?x:M,s)}(o,_.points,O,z)),s}function V(o,s,_,O,z){return null==_||(s.x=d(o,_.x),s.y=A(o,_.y),s!==_&&(O&&(s.z=_.z),z&&(s.m=_.m))),s}function N(o,s,_,O,z){return null!=_&&(s.rings=function B(o,s,_,O){return L(o,_?O?b:x:O?x:M,s)}(o,_.rings,O,z)),s}function te(o,s,_,O,z){return null!=_&&(s.paths=function S(o,s,_,O){return L(o,_?O?b:x:O?x:M,s)}(o,_.paths,O,z)),s}},91297:(Q,w,p)=>{p.d(w,{M:()=>a});var h=p(8189),F=p(12849),M=p(99980),x=p(85211),R=(p(3248),p(35150),p(40707),p(76576)),C=p(86300),i=p(38488);const a=l=>{let m=class extends l{get timeInfo(){var f;const d=null===(f=this.associatedLayer)||void 0===f?void 0:f.timeInfo;if(null==d)return d;const A=d.clone();return(0,C.sv)(A,this.fieldsIndex),A}set timeInfo(f){(0,C.sv)(f,this.fieldsIndex),this._override("timeInfo",f)}get timeExtent(){var f;return null===(f=this.associatedLayer)||void 0===f?void 0:f.timeExtent}set timeExtent(f){this._override("timeExtent",f)}get timeOffset(){var f;return null===(f=this.associatedLayer)||void 0===f?void 0:f.timeOffset}set timeOffset(f){this._override("timeOffset",f)}get useViewTime(){var f,d;return null===(f=null===(d=this.associatedLayer)||void 0===d?void 0:d.useViewTime)||void 0===f||f}set useViewTime(f){this._override("useViewTime",f)}get datesInUnknownTimezone(){var f,d;return null!==(f=null===(d=this.associatedLayer)||void 0===d?void 0:d.datesInUnknownTimezone)&&void 0!==f&&f}set datesInUnknownTimezone(f){this._override("datesInUnknownTimezone",f)}};return(0,h._)([(0,x.MZ)({type:i.A})],m.prototype,"timeInfo",null),(0,h._)([(0,x.MZ)({type:F.A})],m.prototype,"timeExtent",null),(0,h._)([(0,x.MZ)({type:M.A})],m.prototype,"timeOffset",null),(0,h._)([(0,x.MZ)({type:Boolean,nonNullable:!0})],m.prototype,"useViewTime",null),(0,h._)([(0,x.MZ)({type:Boolean,nonNullable:!0})],m.prototype,"datesInUnknownTimezone",null),m=(0,h._)([(0,R.$)("esri.layers.mixins.TemporalSceneLayer")],m),m}},73258:(Q,w,p)=>{p.d(w,{A:()=>m});var h=p(5922),F=p(71065),M=p(35150),x=p(60797),b=p(24098),P=p(86300),T=p(22639),R=p(44549);const l=new Map;class m{static fromJSON(y){return new m(y.fields,y.timeZoneByFieldName)}static fromLayer(y){var I;return new m(null!==(I=y.fields)&&void 0!==I?I:[],U(y))}static fromLayerJSON(y){var I;return new m(null!==(I=y.fields)&&void 0!==I?I:[],U(y))}constructor(y=[],I){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=y||[],this._timeZoneByFieldName=I?new Map(I):null;const S=[];for(const g of this.fields){const E=null==g?void 0:g.name,J=d(E);if(E&&J){var B;const K=f(E);this._fieldsMap.set(E,g),this._fieldsMap.set(K,g),this._normalizedFieldsMap.set(J,g),S.push(`${K}:${g.type}:${null===(B=this._timeZoneByFieldName)||void 0===B?void 0:B.get(E)}`),(0,P.vE)(g)?(this.dateFields.push(g),this._dateFieldsSet.add(g)):(0,P.WA)(g)&&(this._numericFieldsSet.add(g),this.numericFields.push(g)),(0,P.te)(g)||(0,P.Xz)(g)||(g.editable=null==g.editable||!!g.editable,g.nullable=null==g.nullable||!!g.nullable)}}S.sort(),this.uid=S.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const y of this.fields)(0,P.te)(y)||(0,P.Xz)(y)||y.nullable||void 0!==(0,P.lD)(y)||this._requiredFields.push(y)}return this._requiredFields}equals(y){return this.uid===(null==y?void 0:y.uid)}has(y){return null!=this.get(y)}get(y){var I;if(!y)return;let S=this._fieldsMap.get(y);return S||(S=null!==(I=this._fieldsMap.get(f(y)))&&void 0!==I?I:this._normalizedFieldsMap.get(d(y)),S&&this._fieldsMap.set(y,S),S)}getTimeZone(y){const I=this.get(y&&"string"!=typeof y?y.name:y);return I?this._timeZoneByFieldName?this._timeZoneByFieldName.get(I.name):"date"===I.type||"esriFieldTypeDate"===I.type?(M.A.getLogger("esri.layers.support.FieldsIndex").error(new h.A("getTimeZone:no-timezone-information",`no time zone information for field '${I.name}'`)),T.n$):A.has(I.type)?T.L5:null:null}getLuxonTimeZone(y){const I=this.getTimeZone(y);return I?I===T.L5?b.GB.instance:I===T.n$?R.mQ.utcInstance:(0,x.tE)(l,I,()=>R.oh.create(I)):null}isDateField(y){return this._dateFieldsSet.has(this.get(y))}isTimeOnlyField(y){return(0,P.OH)(this.get(y))}isNumericField(y){return this._numericFieldsSet.has(this.get(y))}normalizeFieldName(y){var I,S;return null!==(I=null===(S=this.get(y))||void 0===S?void 0:S.name)&&void 0!==I?I:void 0}toJSON(){return{fields:this.fields.map(y=>(0,F.Wj)(y)?y.toJSON():y),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function f(L){return L.trim().toLowerCase()}function d(L){var y,I;return null!==(y=null===(I=(0,P.rS)(L))||void 0===I?void 0:I.toLowerCase())&&void 0!==y?y:""}const A=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function U(L){var y,I,S,B,g,E,J;const K=new Map;if(!L.fields)return K;const v=!0===L.datesInUnknownTimezone,{timeInfo:c,editFieldsInfo:D}=L,j=null!==(y=c?"startField"in c?c.startField:c.startTimeField:"")&&void 0!==y?y:"",$=null!==(I=c?"endField"in c?c.endField:c.endTimeField:"")&&void 0!==I?I:"",W=function a(L){return"dateFieldsTimeZone"in L}(L)?null!==(S=L.dateFieldsTimeZone)&&void 0!==S?S:null:L.dateFieldsTimeReference?(0,T.ZS)(L.dateFieldsTimeReference):null,H=D?function C(L){return"timeZone"in L}(D)?null!==(B=D.timeZone)&&void 0!==B?B:W:D.dateFieldsTimeReference?(0,T.ZS)(D.dateFieldsTimeReference):null!=W?W:T.n$:null,X=c?function i(L){return"timeZone"in L}(c)?null!==(g=c.timeZone)&&void 0!==g?g:W:c.timeReference?(0,T.ZS)(c.timeReference):W:null,k=new Map([[f(null!==(E=null==D?void 0:D.creationDateField)&&void 0!==E?E:""),H],[f(null!==(J=null==D?void 0:D.editDateField)&&void 0!==J?J:""),H],[f(j),X],[f($),X]]);for(const{name:N,type:te}of L.fields)if(A.has(te))K.set(N,T.L5);else if("date"!==te&&"esriFieldTypeDate"!==te)K.set(N,null);else if(v)K.set(N,T.L5);else{var V;const o=null!==(V=k.get(f(null!=N?N:"")))&&void 0!==V?V:W;K.set(N,o)}return K}},10581:(Q,w,p)=>{p.d(w,{L0:()=>L,Ot:()=>f,W4:()=>C,uV:()=>l});var h=p(8189),F=p(71065),M=p(85211),T=(p(3248),p(35150),p(40707),p(15463)),R=p(76576);let C=class extends F.oY{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,h._)([(0,M.MZ)({type:Number})],C.prototype,"nodesPerPage",void 0),(0,h._)([(0,M.MZ)({type:Number})],C.prototype,"rootIndex",void 0),(0,h._)([(0,M.MZ)({type:String})],C.prototype,"lodSelectionMetricType",void 0),C=(0,h._)([(0,R.$)("esri.layer.support.I3SNodePageDefinition")],C);let i=class extends F.oY{constructor(){super(...arguments),this.factor=1}};(0,h._)([(0,M.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],i.prototype,"id",void 0),(0,h._)([(0,M.MZ)({type:Number})],i.prototype,"factor",void 0),i=(0,h._)([(0,R.$)("esri.layer.support.I3SMaterialTexture")],i);let a=class extends F.oY{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,h._)([(0,M.MZ)({type:[Number]})],a.prototype,"baseColorFactor",void 0),(0,h._)([(0,M.MZ)({type:i})],a.prototype,"baseColorTexture",void 0),(0,h._)([(0,M.MZ)({type:i})],a.prototype,"metallicRoughnessTexture",void 0),(0,h._)([(0,M.MZ)({type:Number})],a.prototype,"metallicFactor",void 0),(0,h._)([(0,M.MZ)({type:Number})],a.prototype,"roughnessFactor",void 0),a=(0,h._)([(0,R.$)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],a);let l=class extends F.oY{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,h._)([(0,T.e)({opaque:"opaque",mask:"mask",blend:"blend"})],l.prototype,"alphaMode",void 0),(0,h._)([(0,M.MZ)({type:Number})],l.prototype,"alphaCutoff",void 0),(0,h._)([(0,M.MZ)({type:Boolean})],l.prototype,"doubleSided",void 0),(0,h._)([(0,T.e)({none:"none",back:"back",front:"front"})],l.prototype,"cullFace",void 0),(0,h._)([(0,M.MZ)({type:i})],l.prototype,"normalTexture",void 0),(0,h._)([(0,M.MZ)({type:i})],l.prototype,"occlusionTexture",void 0),(0,h._)([(0,M.MZ)({type:i})],l.prototype,"emissiveTexture",void 0),(0,h._)([(0,M.MZ)({type:[Number]})],l.prototype,"emissiveFactor",void 0),(0,h._)([(0,M.MZ)({type:a})],l.prototype,"pbrMetallicRoughness",void 0),l=(0,h._)([(0,R.$)("esri.layer.support.I3SMaterialDefinition")],l);let m=class extends F.oY{};(0,h._)([(0,M.MZ)({type:String,json:{read:{source:["name","index"],reader:(y,I)=>null!=y?y:`${I.index}`}}})],m.prototype,"name",void 0),(0,h._)([(0,T.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],m.prototype,"format",void 0),m=(0,h._)([(0,R.$)("esri.layer.support.I3STextureFormat")],m);let f=class extends F.oY{constructor(){super(...arguments),this.atlas=!1}};(0,h._)([(0,M.MZ)({type:[m]})],f.prototype,"formats",void 0),(0,h._)([(0,M.MZ)({type:Boolean})],f.prototype,"atlas",void 0),f=(0,h._)([(0,R.$)("esri.layer.support.I3STextureSetDefinition")],f);let d=class extends F.oY{};(0,h._)([(0,T.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],d.prototype,"type",void 0),(0,h._)([(0,M.MZ)({type:Number})],d.prototype,"component",void 0),d=(0,h._)([(0,R.$)("esri.layer.support.I3SGeometryAttribute")],d);let A=class extends F.oY{};(0,h._)([(0,T.e)({draco:"draco"})],A.prototype,"encoding",void 0),(0,h._)([(0,M.MZ)({type:[String]})],A.prototype,"attributes",void 0),A=(0,h._)([(0,R.$)("esri.layer.support.I3SGeometryCompressedAttributes")],A);let U=class extends F.oY{constructor(){super(...arguments),this.offset=0}};(0,h._)([(0,M.MZ)({type:Number})],U.prototype,"offset",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"position",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"normal",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"uv0",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"color",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"uvRegion",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"featureId",void 0),(0,h._)([(0,M.MZ)({type:d})],U.prototype,"faceRange",void 0),(0,h._)([(0,M.MZ)({type:A})],U.prototype,"compressedAttributes",void 0),U=(0,h._)([(0,R.$)("esri.layer.support.I3SGeometryBuffer")],U);let L=class extends F.oY{};(0,h._)([(0,T.e)({triangle:"triangle"})],L.prototype,"topology",void 0),(0,h._)([(0,M.MZ)()],L.prototype,"geometryBuffers",void 0),L=(0,h._)([(0,R.$)("esri.layer.support.I3SGeometryDefinition")],L)},64584:(Q,w,p)=>{p.d(w,{A:()=>a});var C,h=p(8189),F=p(31178),M=p(71065),x=p(85211),R=(p(3248),p(35150),p(40707),p(76576));let i=C=class extends M.oY{constructor(l){super(l),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new F.A}clone(){return new C({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,h._)([(0,x.MZ)({type:String,json:{write:!0}})],i.prototype,"floorField",void 0),(0,h._)([(0,x.MZ)({json:{read:!1,write:!1}})],i.prototype,"viewAllMode",void 0),(0,h._)([(0,x.MZ)({json:{read:!1,write:!1}})],i.prototype,"viewAllLevelIds",void 0),i=C=(0,h._)([(0,R.$)("esri.layers.support.LayerFloorInfo")],i);const a=i},86537:(Q,w,p)=>{p.d(w,{L:()=>C});var h=p(10467),F=p(77469),M=p(89563),x=p(5922),b=p(56492),P=p(68438),T=p(73874),R=p(46577);function C(S,B){return i.apply(this,arguments)}function i(){return i=(0,h.A)(function*(S,B){var g,E;const J=(0,P.qg)(S);if(!J)throw new x.A("invalid-url","Invalid scene service url");const K={...B,sceneServerUrl:J.url.path,layerId:null!==(g=J.sublayer)&&void 0!==g?g:void 0};if(null!==(E=K.sceneLayerItem)&&void 0!==E||(K.sceneLayerItem=yield function a(S){return l.apply(this,arguments)}(K)),null==K.sceneLayerItem)return U(K.sceneServerUrl.replace("/SceneServer","/FeatureServer"),K);const v=yield function y(S){return I.apply(this,arguments)}(K);if(null==v||!v.url)throw new x.A("related-service-not-found","Could not find feature service through portal item relationship");K.featureServiceItem=v;const c=yield U(v.url,K);return c.portalItem=v,c}),i.apply(this,arguments)}function l(){return l=(0,h.A)(function*(S){const B=(yield m(S)).serviceItemId;if(!B)return null;const g=new R.default({id:B,apiKey:S.apiKey}),E=yield function d(S){return A.apply(this,arguments)}(S);null!=E&&(g.portal=new T.A({url:E}));try{return g.load({signal:S.signal})}catch(J){return(0,b.QP)(J),null}}),l.apply(this,arguments)}function m(S){return f.apply(this,arguments)}function f(){return(f=(0,h.A)(function*(S){if(S.rootDocument)return S.rootDocument;const B={query:{f:"json",...S.customParameters,token:S.apiKey},responseType:"json",signal:S.signal};try{const g=yield(0,M.A)(S.sceneServerUrl,B);S.rootDocument=g.data}catch{S.rootDocument={}}return S.rootDocument})).apply(this,arguments)}function A(){return(A=(0,h.A)(function*(S){const B=null==F.id?void 0:F.id.findServerInfo(S.sceneServerUrl);if(null!=B&&B.owningSystemUrl)return B.owningSystemUrl;const g=S.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const E=(yield(0,M.A)(g,{query:{f:"json"},responseType:"json",signal:S.signal})).data.owningSystemUrl;if(E)return E}catch(E){(0,b.QP)(E)}return null})).apply(this,arguments)}function U(S,B){return L.apply(this,arguments)}function L(){return(L=(0,h.A)(function*(S,B){var g,E,J;const K=(0,P.qg)(S);if(!K)throw new x.A("invalid-feature-service-url","Invalid feature service url");const v=K.url.path,c=B.layerId;if(null==c)return{serverUrl:v};const D=m(B),j=B.featureServiceItem?yield B.featureServiceItem.fetchData("json"):null,$=null===(g=(null==j||null===(E=j.layers)||void 0===E?void 0:E[0])||(null==j||null===(J=j.tables)||void 0===J?void 0:J[0]))||void 0===g?void 0:g.customParameters,W=te=>{const o={query:{f:"json",...$},responseType:"json",authMode:te,signal:B.signal};return(0,M.A)(v,o)},H=W("anonymous").catch(()=>W("no-prompt")),[X,k]=yield Promise.all([H,D]),V=null==k?void 0:k.layers,N=X.data&&X.data.layers;if(!Array.isArray(N))throw new Error("expected layers array");if(Array.isArray(V)){for(let te=0;te<Math.min(V.length,N.length);te++)if(V[te].id===c)return{serverUrl:v,layerId:N[te].id}}else if(null!=c&&c<N.length)return{serverUrl:v,layerId:N[c].id};throw new Error("could not find matching associated sublayer")})).apply(this,arguments)}function I(){return(I=(0,h.A)(function*({sceneLayerItem:S,signal:B}){if(!S)return null;try{const g=(yield S.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:B})).find(J=>"Feature Service"===J.type)||null;if(!g)return null;const E=new R.default({portal:g.portal,id:g.id});return yield E.load(),E}catch(g){return(0,b.QP)(g),null}})).apply(this,arguments)}},75783:(Q,w,p)=>{p.d(w,{P:()=>h});const h={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},4858:(Q,w,p)=>{p.d(w,{BI:()=>f,D3:()=>l,XJ:()=>m,lc:()=>a,mX:()=>A,rU:()=>d,tH:()=>B});var h=p(1119);const F="__begin__",M="__end__",x=new RegExp(F,"ig"),b=new RegExp(M,"ig"),P=new RegExp("^"+F,"i"),T=new RegExp(M+"$","i"),R='"',C=R+" + ",i=" + "+R;function a(g){return g.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function l(g){return g.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function m(g){const E={expression:"",type:"none"};return g.labelExpressionInfo?g.labelExpressionInfo.value?(E.expression=g.labelExpressionInfo.value,E.type="conventional"):g.labelExpressionInfo.expression&&(E.expression=g.labelExpressionInfo.expression,E.type="arcade"):null!=g.labelExpression&&(E.expression=a(g.labelExpression),E.type="conventional"),E}function f(g){const E=m(g);if(!E)return null;switch(E.type){case"conventional":return A(E.expression);case"arcade":return E.expression}return null}function d(g){const E=m(g);if(!E)return null;switch(E.type){case"conventional":return function L(g){const E=null==g?void 0:g.match(U);return(null==E?void 0:E[1].trim())||null}(E.expression);case"arcade":return B(E.expression)}return null}function A(g){let E;return g?(E=(0,h.HC)(g,J=>F+'$feature["'+J+'"]'+M),E=P.test(E)?E.replace(P,""):R+E,E=T.test(E)?E.replace(T,""):E+R,E=E.replaceAll(x,C).replaceAll(b,i)):E='""',E}const U=/^\s*\{([^}]+)\}\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,I=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,S=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function B(g){if(!g)return null;let E=y.exec(g)||I.exec(g);return E?E[1]||E[3]:(E=S.exec(g),E?E[2]:null)}},78592:(Q,w,p)=>{p.d(w,{O3:()=>C,PU:()=>T,YW:()=>a,ex:()=>b,hv:()=>i,zp:()=>P});var h=p(69287),F=p(67685),M=p(53781),x=p(89141);const b=2.4;function P(l){return(0,F.PN)(l*b)}function T(l){return(0,F.Lz)(l)/b}function R(l,m,f,d){let{color:A,ratio:U}=m,{color:L,ratio:y}=f;y===U&&(1===y?U-=1e-6:y+=1e-6);const I=(0,h.qE)((d-U)/(y-U),0,1);(0,M.l)(l,A.toArray(),L.toArray(),I)}function C(l){const f=new Uint8ClampedArray(2048);if((l=l.filter(({ratio:y})=>y>=0&&y<=1).sort((y,I)=>y.ratio-I.ratio).map(({color:y,ratio:I})=>({color:y,ratio:Math.max(I,.001)}))).length<1)return f;let d=l[0],A=l[0],U=1;const L=(0,x.vt)();for(let y=0;y<512;y++){const I=(y+.5)/512;for(;I>A.ratio&&U<l.length;)d=A,A=l[U++];R(L,d,A,I),f.set(L,4*y)}return f}function i(l,m,f){const d=Math.sqrt(l**2+m**2)/f;return d>1?0:3/(Math.PI*f**2)*(1-d**2)**2}function a(l){return"function"==typeof l?l:l?m=>+m[l]:()=>1}},73812:(Q,w,p)=>{function P(v,c){return function x(v,c){return null!=c&&c.mode?c.mode:function M(v){return v?J:K}(v).mode}(null!=v&&v.hasZ,c)}function I(v,c,D){return D&&D.mode!==c?`${v} only support ${c} elevation mode`:null}function S(v,c,D){return(null==D?void 0:D.mode)===c?`${v} do not support ${c} elevation mode`:null}function B(v,c){return null!=(null==c?void 0:c.featureExpressionInfo)&&"0"!==c.featureExpressionInfo.expression?`${v} do not support featureExpressionInfo`:null}function g(v,c){c&&v.warn(".elevationInfo=",c)}p.d(w,{$7:()=>S,B:()=>I,XF:()=>g,tW:()=>B,w7:()=>P}),p(82663),p(82575);const J={mode:"absolute-height",offset:0},K={mode:"on-the-ground",offset:null}},91644:(Q,w,p)=>{p.d(w,{A7:()=>R,Cx:()=>C,Hk:()=>i,JJ:()=>f,UK:()=>T,jM:()=>l,x3:()=>m}),p(3248);var F=p(88521),M=p(55417),x=p(46602),b=p(47705),P=p(48254);const T=x.A.fromJSON(P.Cb),R=M.A.fromJSON(P.yM),C=F.A.fromJSON(P.WR),i=b.A.fromJSON(P.JZ),l=x.A.fromJSON(P.nC),m=M.A.fromJSON(P.HW),f=F.A.fromJSON(P.b6)},48254:(Q,w,p)=>{p.d(w,{Cb:()=>M,HW:()=>R,JZ:()=>P,WR:()=>b,b6:()=>C,nC:()=>T,yM:()=>x});const h=[252,146,31,255],M={type:"esriSMS",style:"esriSMSCircle",size:6,color:h,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},x={type:"esriSLS",style:"esriSLSSolid",width:.75,color:h},b={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},P={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},T={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},R={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},C={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},64935:(Q,w,p)=>{p.d(w,{D8:()=>b,TO:()=>M});var h=p(10467),F=p(86300);function M(T){return x.apply(this,arguments)}function x(){return(x=(0,h.A)(function*(T,R=T.popupTemplate){var C,i;if(null==R)return[];const a=yield R.getRequiredFields(T.fieldsIndex),{lastEditInfoEnabled:l}=R,{objectIdField:m,typeIdField:f,globalIdField:d,relationships:A}=T;if(a.includes("*"))return["*"];const U=l?(0,F.eX)(T):[],L=(0,F.DB)(T.fieldsIndex,[...a,...U]);return f&&L.push(f),L&&m&&null!==(C=T.fieldsIndex)&&void 0!==C&&C.has(m)&&!L.includes(m)&&L.push(m),L&&d&&null!==(i=T.fieldsIndex)&&void 0!==i&&i.has(d)&&!L.includes(d)&&L.push(d),A&&A.forEach(y=>{var I;const{keyField:S}=y;L&&S&&null!==(I=T.fieldsIndex)&&void 0!==I&&I.has(S)&&!L.includes(S)&&L.push(S)}),L})).apply(this,arguments)}function b(T,R){return T.popupTemplate?T.popupTemplate:null!=R&&R.defaultPopupTemplateEnabled&&null!=T.defaultPopupTemplate?T.defaultPopupTemplate:null}}}]);