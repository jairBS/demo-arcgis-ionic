"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5821,9927],{55144:(J,b,d)=>{d.d(b,{T:()=>v,d:()=>I});const v={Base64:0,Hex:1,String:2,Raw:3},f=8,h=(1<<f)-1;function U(o,y){const r=(65535&o)+(65535&y);return(o>>16)+(y>>16)+(r>>16)<<16|65535&r}function E(o,y,r,s,i,u){return U(function T(o,y){return o<<y|o>>>32-y}(U(U(y,o),U(s,u)),i),r)}function M(o,y,r,s,i,u,c){return E(y&r|~y&s,o,y,i,u,c)}function m(o,y,r,s,i,u,c){return E(y&s|r&~s,o,y,i,u,c)}function S(o,y,r,s,i,u,c){return E(y^r^s,o,y,i,u,c)}function R(o,y,r,s,i,u,c){return E(r^(y|~s),o,y,i,u,c)}function I(o,y=v.Hex){const r=y||v.Base64,s=function Z(o,y){o[y>>5]|=128<<y%32,o[14+(y+64>>>9<<4)]=y;let r=1732584193,s=-271733879,i=-1732584194,u=271733878;for(let c=0;c<o.length;c+=16){const $=r,V=s,F=i,a=u;r=M(r,s,i,u,o[c],7,-680876936),u=M(u,r,s,i,o[c+1],12,-389564586),i=M(i,u,r,s,o[c+2],17,606105819),s=M(s,i,u,r,o[c+3],22,-1044525330),r=M(r,s,i,u,o[c+4],7,-176418897),u=M(u,r,s,i,o[c+5],12,1200080426),i=M(i,u,r,s,o[c+6],17,-1473231341),s=M(s,i,u,r,o[c+7],22,-45705983),r=M(r,s,i,u,o[c+8],7,1770035416),u=M(u,r,s,i,o[c+9],12,-1958414417),i=M(i,u,r,s,o[c+10],17,-42063),s=M(s,i,u,r,o[c+11],22,-1990404162),r=M(r,s,i,u,o[c+12],7,1804603682),u=M(u,r,s,i,o[c+13],12,-40341101),i=M(i,u,r,s,o[c+14],17,-1502002290),s=M(s,i,u,r,o[c+15],22,1236535329),r=m(r,s,i,u,o[c+1],5,-165796510),u=m(u,r,s,i,o[c+6],9,-1069501632),i=m(i,u,r,s,o[c+11],14,643717713),s=m(s,i,u,r,o[c],20,-373897302),r=m(r,s,i,u,o[c+5],5,-701558691),u=m(u,r,s,i,o[c+10],9,38016083),i=m(i,u,r,s,o[c+15],14,-660478335),s=m(s,i,u,r,o[c+4],20,-405537848),r=m(r,s,i,u,o[c+9],5,568446438),u=m(u,r,s,i,o[c+14],9,-1019803690),i=m(i,u,r,s,o[c+3],14,-187363961),s=m(s,i,u,r,o[c+8],20,1163531501),r=m(r,s,i,u,o[c+13],5,-1444681467),u=m(u,r,s,i,o[c+2],9,-51403784),i=m(i,u,r,s,o[c+7],14,1735328473),s=m(s,i,u,r,o[c+12],20,-1926607734),r=S(r,s,i,u,o[c+5],4,-378558),u=S(u,r,s,i,o[c+8],11,-2022574463),i=S(i,u,r,s,o[c+11],16,1839030562),s=S(s,i,u,r,o[c+14],23,-35309556),r=S(r,s,i,u,o[c+1],4,-1530992060),u=S(u,r,s,i,o[c+4],11,1272893353),i=S(i,u,r,s,o[c+7],16,-155497632),s=S(s,i,u,r,o[c+10],23,-1094730640),r=S(r,s,i,u,o[c+13],4,681279174),u=S(u,r,s,i,o[c],11,-358537222),i=S(i,u,r,s,o[c+3],16,-722521979),s=S(s,i,u,r,o[c+6],23,76029189),r=S(r,s,i,u,o[c+9],4,-640364487),u=S(u,r,s,i,o[c+12],11,-421815835),i=S(i,u,r,s,o[c+15],16,530742520),s=S(s,i,u,r,o[c+2],23,-995338651),r=R(r,s,i,u,o[c],6,-198630844),u=R(u,r,s,i,o[c+7],10,1126891415),i=R(i,u,r,s,o[c+14],15,-1416354905),s=R(s,i,u,r,o[c+5],21,-57434055),r=R(r,s,i,u,o[c+12],6,1700485571),u=R(u,r,s,i,o[c+3],10,-1894986606),i=R(i,u,r,s,o[c+10],15,-1051523),s=R(s,i,u,r,o[c+1],21,-2054922799),r=R(r,s,i,u,o[c+8],6,1873313359),u=R(u,r,s,i,o[c+15],10,-30611744),i=R(i,u,r,s,o[c+6],15,-1560198380),s=R(s,i,u,r,o[c+13],21,1309151649),r=R(r,s,i,u,o[c+4],6,-145523070),u=R(u,r,s,i,o[c+11],10,-1120210379),i=R(i,u,r,s,o[c+2],15,718787259),s=R(s,i,u,r,o[c+9],21,-343485551),r=U(r,$),s=U(s,V),i=U(i,F),u=U(u,a)}return[r,s,i,u]}(function Y(o){const y=[];for(let r=0,s=o.length*f;r<s;r+=f)y[r>>5]|=(o.charCodeAt(r/f)&h)<<r%32;return y}(o),o.length*f);switch(r){case v.Raw:return s;case v.Hex:return function C(o){const y="0123456789abcdef",r=[];for(let s=0,i=4*o.length;s<i;s++)r.push(y.charAt(o[s>>2]>>s%4*8+4&15)+y.charAt(o[s>>2]>>s%4*8&15));return r.join("")}(s);case v.String:return function N(o){const y=[];for(let r=0,s=32*o.length;r<s;r+=f)y.push(String.fromCharCode(o[r>>5]>>>r%32&h));return y.join("")}(s);case v.Base64:return function P(o){const s=[];for(let i=0,u=4*o.length;i<u;i+=3){const c=(o[i>>2]>>i%4*8&255)<<16|(o[i+1>>2]>>(i+1)%4*8&255)<<8|o[i+2>>2]>>(i+2)%4*8&255;for(let $=0;$<4;$++)s.push(8*i+6*$>32*o.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6*(3-$)&63))}return s.join("")}(s)}}},12138:(J,b,d)=>{d.r(b),d.d(b,{default:()=>oe});var B,v=d(10467),f=d(8189),h=d(5922),U=d(35150),Y=d(39693),N=d(56492),C=d(48900),P=d(85211),M=(d(3248),d(40707),d(17221)),m=d(76576),S=d(25968),R=d(95478),Z=d(94376),I=d(25936),o=d(23e3),y=d(17049),r=d(85551),s=d(33036),i=d(46406),u=d(81687),c=d(10581),$=d(89563),V=d(31178),F=d(71065),a=d(45272),p=(d(21152),d(77806)),_=d(96996),O=d(50305),D=d(11817),x=d(55861);let j=B=class extends F.oY{constructor(g){super(g),this.geometry=null,this.type="clip"}writeGeometry(g,A,W,K){var Q;if(null!==(Q=K.layer)&&void 0!==Q&&Q.spatialReference&&!K.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,D.canProjectWithoutEngine)(g.spatialReference,K.layer.spatialReference))return void((null==K?void 0:K.messages)&&K.messages.push(new _.A("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:K.layer.spatialReference,context:K})));const w=new x.A;(0,D.projectPolygon)(g,w,K.layer.spatialReference),A[W]=w.toJSON(K)}else A[W]=g.toJSON(K);delete A[W].spatialReference}clone(){return new B({geometry:(0,p.o8)(this.geometry),type:this.type})}};(0,f._)([(0,P.MZ)({type:x.A}),(0,S.P)()],j.prototype,"geometry",void 0),(0,f._)([(0,O.K)(["web-scene","portal-item"],"geometry")],j.prototype,"writeGeometry",null),(0,f._)([(0,P.MZ)({type:["clip","mask","replace"],nonNullable:!0}),(0,S.P)()],j.prototype,"type",void 0),j=B=(0,f._)([(0,m.$)("esri.layers.support.SceneModification")],j);const G=j;var L;let z=L=class extends((0,F.Te)(V.A.ofType(G))){constructor(g){super(g),this.url=null}clone(){return new L({url:this.url,items:this.items.map(g=>g.clone())})}toJSON(g){return this.toArray().map(A=>A.toJSON(g)).filter(A=>!!A.geometry)}static fromJSON(g,A){const W=new L;for(const K of g)W.add(G.fromJSON(K,A));return W}static fromUrl(g,A,W){return(0,v.A)(function*(){const K={url:(0,a.An)(g),origin:"service"},Q=yield(0,$.A)(g,{responseType:"json",signal:null==W?void 0:W.signal}),w=A.toJSON(),q=[];for(const ee of Q.data)q.push(G.fromJSON({...ee,geometry:{...ee.geometry,spatialReference:w}},K));return new L({url:g,items:q})})()}};(0,f._)([(0,P.MZ)({type:String})],z.prototype,"url",void 0),z=L=(0,f._)([(0,m.$)("esri.layers.support.SceneModifications")],z);const k=z;var X=d(73812),te=d(88135);let H=class extends((0,i.w6)((0,I.b)((0,y.q)((0,r.A)((0,s.j)((0,Y.P)((0,o.d)((0,Z.p)(R.A))))))))){constructor(...g){super(...g),this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.path=null}initialize(){this.addHandles((0,C.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,C.OH))}normalizeCtorArgs(g,A){return"string"==typeof g?{url:g,...A}:g}readModifications(g,A,W){this._modificationsSource={url:(0,te.f)(g,W),context:W}}set elevationInfo(g){this._set("elevationInfo",g),this._validateElevationInfo()}load(g){var A=this;return(0,v.A)(function*(){return A.addResolvingPromise(A._doLoad(g)),A})()}_doLoad(g){var A=this;return(0,v.A)(function*(){const W=null==g?void 0:g.signal;try{yield A.loadFromPortal({supportedTypes:["Scene Service"]},g)}catch(K){(0,N.QP)(K)}if(yield A._fetchService(W),null!=A._modificationsSource){const K=yield k.fromUrl(A._modificationsSource.url,A.spatialReference,g);A.setAtOrigin("modifications",K,A._modificationsSource.context.origin),A._modificationsSource=null}yield A._fetchIndexAndUpdateExtent(A.nodePages,W)})()}beforeSave(){if(null!=this._modificationsSource)return this.load().then(()=>{},()=>{})}saveAs(g,A){var W=this;return(0,v.A)(function*(){return W._debouncedSaveOperations(i.Xh.SAVE_AS,{...A,getTypeKeywords:()=>W._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},g)})()}save(){var g=this;return(0,v.A)(function*(){const A={getTypeKeywords:()=>g._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return g._debouncedSaveOperations(i.Xh.SAVE,A)})()}validateLayer(g){if(g.layerType&&"IntegratedMesh"!==g.layerType)throw new h.A("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:g.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new h.A("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new h.A("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}_validateElevationInfo(){const g=this.elevationInfo,A="Integrated mesh layers";(0,X.XF)(U.A.getLogger(this),(0,X.B)(A,"absolute-height",g)),(0,X.XF)(U.A.getLogger(this),(0,X.tW)(A,g))}};(0,f._)([(0,P.MZ)({type:String,readOnly:!0})],H.prototype,"geometryType",void 0),(0,f._)([(0,P.MZ)({type:["show","hide"]})],H.prototype,"listMode",void 0),(0,f._)([(0,P.MZ)({type:["IntegratedMeshLayer"]})],H.prototype,"operationalLayerType",void 0),(0,f._)([(0,P.MZ)({json:{read:!1},readOnly:!0})],H.prototype,"type",void 0),(0,f._)([(0,P.MZ)({type:c.W4,readOnly:!0})],H.prototype,"nodePages",void 0),(0,f._)([(0,P.MZ)({type:[c.uV],readOnly:!0})],H.prototype,"materialDefinitions",void 0),(0,f._)([(0,P.MZ)({type:[c.Ot],readOnly:!0})],H.prototype,"textureSetDefinitions",void 0),(0,f._)([(0,P.MZ)({type:[c.L0],readOnly:!0})],H.prototype,"geometryDefinitions",void 0),(0,f._)([(0,P.MZ)({readOnly:!0})],H.prototype,"serviceUpdateTimeStamp",void 0),(0,f._)([(0,P.MZ)({type:k}),(0,S.P)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],H.prototype,"modifications",void 0),(0,f._)([(0,M.w)(["web-scene","portal-item"],"modifications")],H.prototype,"readModifications",null),(0,f._)([(0,P.MZ)(u.Yj)],H.prototype,"elevationInfo",null),(0,f._)([(0,P.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],H.prototype,"path",void 0),H=(0,f._)([(0,m.$)("esri.layers.IntegratedMeshLayer")],H);const oe=H},23e3:(J,b,d)=>{d.d(b,{d:()=>C});var v=d(8189),f=d(85211),N=(d(3248),d(35150),d(40707),d(76576));const C=P=>{let T=class extends P{constructor(){super(...arguments),this.customParameters=null}};return(0,v._)([(0,f.MZ)({type:Object,json:{write:{overridePolicy:E=>({enabled:!!(E&&Object.keys(E).length>0)})}}})],T.prototype,"customParameters",void 0),T=(0,v._)([(0,N.$)("esri.layers.mixins.CustomParametersMixin")],T),T}},85551:(J,b,d)=>{d.d(b,{A:()=>c});var v=d(10467),f=d(8189),h=d(23098),U=d(77469),Y=d(89563),N=d(89447),C=d(5922),P=d(35150),T=d(11432),E=d(56492),M=d(45272),m=d(85211),Z=(d(3248),d(40707),d(17221)),I=d(76576),o=d(50305),y=d(58443),r=d(73874),s=d(46577),i=d(52606),u=d(69927);const c=V=>{let F=class extends V{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,T.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(a){a!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",a))}readPortalItem(a,l,p){if(l.itemId)return new s.default({id:l.itemId,portal:null==p?void 0:p.portal})}writePortalItem(a,l){null!=a&&a.id&&(l.itemId=a.id)}loadFromPortal(a,l){var p=this;return(0,v.A)(function*(){var _;if(null!==(_=p.portalItem)&&void 0!==_&&_.id)try{const{load:O}=yield Promise.all([d.e(5565),d.e(2076),d.e(6180)]).then(d.bind(d,56180));return(0,E.Te)(l),yield O({instance:p,supportedTypes:a.supportedTypes,validateItem:a.validateItem,supportsData:a.supportsData,layerModuleTypeMap:a.layerModuleTypeMap},l)}catch(O){throw(0,E.zf)(O)||P.A.getLogger(p).warn(`Failed to load layer (${p.title}, ${p.id}) portal item (${p.portalItem.id})\n  ${O}`),O}})()}finishLoadEditablePortalLayer(a){var l=this;return(0,v.A)(function*(){l._set("userHasEditingPrivileges",yield l._fetchUserHasEditingPrivileges(a).catch(p=>((0,E.QP)(p),!0)))})()}setUserPrivileges(a,l){var p=this;return(0,v.A)(function*(){if(!h.A.userPrivilegesApplied)return p.finishLoadEditablePortalLayer(l);if(p.url)try{const{features:{edit:_,fullEdit:O},content:{updateItem:D}}=yield p._fetchUserPrivileges(a,l);p._set("userHasEditingPrivileges",_),p._set("userHasFullEditingPrivileges",O),p._set("userHasUpdateItemPrivileges",D)}catch(_){(0,E.QP)(_)}})()}_fetchUserPrivileges(a,l){var p=this;return(0,v.A)(function*(){let _=p.portalItem;if(!a||!_||!_.loaded||_.sourceUrl)return p._fetchFallbackUserPrivileges(l);const O=a===_.id;if(O&&_.portal.user)return(0,u.It)(_);let D,x;if(O)D=_.portal.url;else try{D=yield(0,y.wI)(p.url,l)}catch(L){(0,E.QP)(L)}if(!D||!(0,M.b8)(D,_.portal.url))return p._fetchFallbackUserPrivileges(l);try{const L=null!=l?l.signal:null;x=yield null==U.id?void 0:U.id.getCredential(`${D}/sharing`,{prompt:!1,signal:L})}catch(L){(0,E.QP)(L)}if(!x)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(O?yield _.reload():(_=new s.default({id:a,portal:{url:D}}),yield _.load(l)),_.portal.user)return(0,u.It)(_)}catch(L){(0,E.QP)(L)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(a){var l=this;return(0,v.A)(function*(){let p=!0;try{p=yield l._fetchUserHasEditingPrivileges(a)}catch(_){(0,E.QP)(_)}return{features:{edit:p,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(a){var l=this;return(0,v.A)(function*(){const p=l.url?null==U.id?void 0:U.id.findCredential(l.url):null;if(!p)return!0;const _=$.credential===p?$.user:yield l._fetchEditingUser(a);return $.credential=p,$.user=_,null==(null==_?void 0:_.privileges)||_.privileges.includes("features:user:edit")})()}_fetchEditingUser(a){var l=this;return(0,v.A)(function*(){var p,_;const O=null===(p=l.portalItem)||void 0===p||null===(p=p.portal)||void 0===p?void 0:p.user;if(O)return O;const D=U.id.findServerInfo(null!==(_=l.url)&&void 0!==_?_:"");if(null==D||!D.owningSystemUrl)return null;const x=`${D.owningSystemUrl}/sharing/rest`,B=r.A.getDefault();if(B&&B.loaded&&(0,M.S8)(B.restUrl)===(0,M.S8)(x))return B.user;const j=`${x}/community/self`,G=null!=a?a.signal:null,L=yield(0,N.Ke)((0,Y.A)(j,{authMode:"no-prompt",query:{f:"json"},signal:G}));return L.ok?i.A.fromJSON(L.value.data):null})()}read(a,l){l&&(l.layer=this),super.read(a,l)}write(a,l){var p;const _=null==l?void 0:l.portal,O=(null===(p=this.portalItem)||void 0===p?void 0:p.id)&&(this.portalItem.portal||r.A.getDefault());return _&&O&&!(0,M.ut)(O.restUrl,_.restUrl)?(l.messages&&l.messages.push(new C.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(a,{...l,layer:this})}};return(0,f._)([(0,m.MZ)({type:s.default})],F.prototype,"portalItem",null),(0,f._)([(0,Z.w)("web-document","portalItem",["itemId"])],F.prototype,"readPortalItem",null),(0,f._)([(0,o.K)("web-document","portalItem",{itemId:{type:String}})],F.prototype,"writePortalItem",null),(0,f._)([(0,m.MZ)({clonable:!1})],F.prototype,"resourceReferences",void 0),(0,f._)([(0,m.MZ)({type:Boolean,readOnly:!0})],F.prototype,"userHasEditingPrivileges",void 0),(0,f._)([(0,m.MZ)({type:Boolean,readOnly:!0})],F.prototype,"userHasFullEditingPrivileges",void 0),(0,f._)([(0,m.MZ)({type:Boolean,readOnly:!0})],F.prototype,"userHasUpdateItemPrivileges",void 0),F=(0,f._)([(0,I.$)("esri.layers.mixins.PortalLayer")],F),F},$={credential:null,user:null}},33036:(J,b,d)=>{d.d(b,{j:()=>C});var v=d(8189),f=d(85211),N=(d(3248),d(35150),d(40707),d(76576));const C=T=>{let E=class extends T{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const M={minScale:this.minScale,maxScale:this.maxScale},m=this.parent;m&&"effectiveScaleRange"in m&&function P(T,E){T.minScale=T.minScale>0?E.minScale>0?Math.min(T.minScale,E.minScale):T.minScale:E.minScale,T.maxScale=T.maxScale>0?E.maxScale>0?Math.max(T.maxScale,E.maxScale):T.maxScale:E.maxScale}(M,m.effectiveScaleRange);const S=this._get("effectiveScaleRange");return S&&S.minScale===M.minScale&&S.maxScale===M.maxScale?S:M}};return(0,v._)([(0,f.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],E.prototype,"minScale",void 0),(0,v._)([(0,f.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],E.prototype,"maxScale",void 0),(0,v._)([(0,f.MZ)({readOnly:!0})],E.prototype,"effectiveScaleRange",null),E=(0,v._)([(0,N.$)("esri.layers.mixins.ScaleRangeLayer")],E),E}},10581:(J,b,d)=>{d.d(b,{L0:()=>y,Ot:()=>R,W4:()=>T,uV:()=>m});var v=d(8189),f=d(71065),h=d(85211),C=(d(3248),d(35150),d(40707),d(15463)),P=d(76576);let T=class extends f.oY{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,v._)([(0,h.MZ)({type:Number})],T.prototype,"nodesPerPage",void 0),(0,v._)([(0,h.MZ)({type:Number})],T.prototype,"rootIndex",void 0),(0,v._)([(0,h.MZ)({type:String})],T.prototype,"lodSelectionMetricType",void 0),T=(0,v._)([(0,P.$)("esri.layer.support.I3SNodePageDefinition")],T);let E=class extends f.oY{constructor(){super(...arguments),this.factor=1}};(0,v._)([(0,h.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],E.prototype,"id",void 0),(0,v._)([(0,h.MZ)({type:Number})],E.prototype,"factor",void 0),E=(0,v._)([(0,P.$)("esri.layer.support.I3SMaterialTexture")],E);let M=class extends f.oY{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,v._)([(0,h.MZ)({type:[Number]})],M.prototype,"baseColorFactor",void 0),(0,v._)([(0,h.MZ)({type:E})],M.prototype,"baseColorTexture",void 0),(0,v._)([(0,h.MZ)({type:E})],M.prototype,"metallicRoughnessTexture",void 0),(0,v._)([(0,h.MZ)({type:Number})],M.prototype,"metallicFactor",void 0),(0,v._)([(0,h.MZ)({type:Number})],M.prototype,"roughnessFactor",void 0),M=(0,v._)([(0,P.$)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],M);let m=class extends f.oY{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,v._)([(0,C.e)({opaque:"opaque",mask:"mask",blend:"blend"})],m.prototype,"alphaMode",void 0),(0,v._)([(0,h.MZ)({type:Number})],m.prototype,"alphaCutoff",void 0),(0,v._)([(0,h.MZ)({type:Boolean})],m.prototype,"doubleSided",void 0),(0,v._)([(0,C.e)({none:"none",back:"back",front:"front"})],m.prototype,"cullFace",void 0),(0,v._)([(0,h.MZ)({type:E})],m.prototype,"normalTexture",void 0),(0,v._)([(0,h.MZ)({type:E})],m.prototype,"occlusionTexture",void 0),(0,v._)([(0,h.MZ)({type:E})],m.prototype,"emissiveTexture",void 0),(0,v._)([(0,h.MZ)({type:[Number]})],m.prototype,"emissiveFactor",void 0),(0,v._)([(0,h.MZ)({type:M})],m.prototype,"pbrMetallicRoughness",void 0),m=(0,v._)([(0,P.$)("esri.layer.support.I3SMaterialDefinition")],m);let S=class extends f.oY{};(0,v._)([(0,h.MZ)({type:String,json:{read:{source:["name","index"],reader:(r,s)=>null!=r?r:`${s.index}`}}})],S.prototype,"name",void 0),(0,v._)([(0,C.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],S.prototype,"format",void 0),S=(0,v._)([(0,P.$)("esri.layer.support.I3STextureFormat")],S);let R=class extends f.oY{constructor(){super(...arguments),this.atlas=!1}};(0,v._)([(0,h.MZ)({type:[S]})],R.prototype,"formats",void 0),(0,v._)([(0,h.MZ)({type:Boolean})],R.prototype,"atlas",void 0),R=(0,v._)([(0,P.$)("esri.layer.support.I3STextureSetDefinition")],R);let Z=class extends f.oY{};(0,v._)([(0,C.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],Z.prototype,"type",void 0),(0,v._)([(0,h.MZ)({type:Number})],Z.prototype,"component",void 0),Z=(0,v._)([(0,P.$)("esri.layer.support.I3SGeometryAttribute")],Z);let I=class extends f.oY{};(0,v._)([(0,C.e)({draco:"draco"})],I.prototype,"encoding",void 0),(0,v._)([(0,h.MZ)({type:[String]})],I.prototype,"attributes",void 0),I=(0,v._)([(0,P.$)("esri.layer.support.I3SGeometryCompressedAttributes")],I);let o=class extends f.oY{constructor(){super(...arguments),this.offset=0}};(0,v._)([(0,h.MZ)({type:Number})],o.prototype,"offset",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"position",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"normal",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"uv0",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"color",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"uvRegion",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"featureId",void 0),(0,v._)([(0,h.MZ)({type:Z})],o.prototype,"faceRange",void 0),(0,v._)([(0,h.MZ)({type:I})],o.prototype,"compressedAttributes",void 0),o=(0,v._)([(0,P.$)("esri.layer.support.I3SGeometryBuffer")],o);let y=class extends f.oY{};(0,v._)([(0,C.e)({triangle:"triangle"})],y.prototype,"topology",void 0),(0,v._)([(0,h.MZ)()],y.prototype,"geometryBuffers",void 0),y=(0,v._)([(0,P.$)("esri.layer.support.I3SGeometryDefinition")],y)},69927:(J,b,d)=>{d.d(b,{It:()=>Z,LG:()=>C,OM:()=>E,Sm:()=>M,Y:()=>P,bK:()=>T,mm:()=>R,sQ:()=>m});var v=d(10467),f=d(11817),h=d(32034),U=d(55039);function N(){return(N=(0,v.A)(function*(I){const o=I.spatialReference;if(o.isWGS84)return I.clone();if(o.isWebMercator)return(0,U.ci)(I);const y=h.A.WGS84;return yield(0,f.initializeProjection)(o,y),(0,f.project)(I,y)})).apply(this,arguments)}function C(I,o){if(!P(I,o)){const y=I.typeKeywords;y?y.push(o):I.typeKeywords=[o]}}function P(I,o){var y;return!(null===(y=I.typeKeywords)||void 0===y||!y.includes(o))}function T(I){return P(I,R.HOSTED_SERVICE)}function E(I,o){const y=I.typeKeywords;if(y){const r=y.indexOf(o);r>-1&&y.splice(r,1)}}function M(I,o,y){y?C(I,o):E(I,o)}function m(I){return S.apply(this,arguments)}function S(){return S=(0,v.A)(function*(I){const o=I.clone().normalize();let y;if(o.length>1)for(const r of o)y?r.width>y.width&&(y=r):y=r;else y=o[0];return function Y(I){return N.apply(this,arguments)}(y)}),S.apply(this,arguments)}const R={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function Z(I){var o;const{portal:y,isOrgItem:r,itemControl:s}=I,i=null===(o=y.user)||void 0===o?void 0:o.privileges;let u=!i||i.includes("features:user:edit"),c=!!r&&!(null==i||!i.includes("features:user:fullEdit"));const $="update"===s||"admin"===s;return $?c=u=!0:c&&(u=!0),{features:{edit:u,fullEdit:c},content:{updateItem:$}}}},73812:(J,b,d)=>{function N(a,l){return function U(a,l){return null!=l&&l.mode?l.mode:function h(a){return a?V:F}(a).mode}(null!=a&&a.hasZ,l)}function s(a,l,p){return p&&p.mode!==l?`${a} only support ${l} elevation mode`:null}function i(a,l,p){return(null==p?void 0:p.mode)===l?`${a} do not support ${l} elevation mode`:null}function u(a,l){return null!=(null==l?void 0:l.featureExpressionInfo)&&"0"!==l.featureExpressionInfo.expression?`${a} do not support featureExpressionInfo`:null}function c(a,l){l&&a.warn(".elevationInfo=",l)}d.d(b,{$7:()=>i,B:()=>s,XF:()=>c,tW:()=>u,w7:()=>N}),d(82663),d(82575);const V={mode:"absolute-height",offset:0},F={mode:"on-the-ground",offset:null}}}]);