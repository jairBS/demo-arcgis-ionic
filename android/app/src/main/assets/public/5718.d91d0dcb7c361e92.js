"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5718],{43420:(w,L,e)=>{e.d(L,{R:()=>r});var f=e(5922);let r=class X{constructor(p,h,A=""){this.major=p,this.minor=h,this._context=A}lessThan(p,h){return this.major<p||p===this.major&&this.minor<h}since(p,h){return!this.lessThan(p,h)}validate(p){if(this.major!==p.major)throw new f.A((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:p})}clone(){return new X(this.major,this.minor,this._context)}static parse(p,h=""){const[A,x]=p.split("."),E=/^\s*\d+\s*$/;if(null==A||!A.match||!E.test(A))throw new f.A((h&&h+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:p});if(null==x||!x.match||!E.test(x))throw new f.A((h&&h+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:p});const P=parseInt(A,10),b=parseInt(x,10);return new X(P,b,h)}}},70176:(w,L,e)=>{e.d(L,{A:()=>Z});var f=e(10467),r=e(8189),D=e(77806),p=e(85211),A=(e(3248),e(35150)),x=e(76576),E=e(50305),P=e(86300),b=e(38582),N=e(12887),I=e(68677),T=e(89563),R=e(5922),c=e(33087),u=e(56492),t=e(43420),s=e(73258),o=e(48218),i=e(81279),n=e(1684),d=e(32117);const M="esri.renderers.support.DictionaryLoader",v={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class S{constructor(a,y,g){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new c.q(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=a,this.config=y,this.fieldMap=g}getSymbolFields(){return this._symbolFields}getSymbolAsync(a,y){var g=this;return(0,f.A)(function*(){let j;g._dictionaryPromise||(g._dictionaryPromise=g.fetchResources(y));try{j=yield g._dictionaryPromise}catch(B){if((0,u.zf)(B))return g._dictionaryPromise=null,null}const W=g._dictionaryVersion&&g._dictionaryVersion.since(4,0),V={};if(g.fieldMap)for(const B of g._symbolFields){const C=(0,d.MO)(g.fieldMap[B],g._fieldIndex);if(C){const K=a.attributes[C];V[B]=W?K:null!=K?""+a.attributes[C]:""}else V[B]=""}let U=null;try{var G;U=null===(G=j)||void 0===G?void 0:G(V,y)}catch{return null}if(!U||"string"!=typeof U||"invalid"===U)return null;const J=U.split(";"),$=[],z=[];for(const B of J)if(B)if(B.includes("po:")){const C=B.substr(3).split("|");if(3===C.length){const K=C[0],_=C[1];let F=C[2];if("DashTemplate"===_)F=F.split(" ").map(H=>Number(H));else if("Color"===_){const H=new I.A(F).toRgba();F=[H[0],H[1],H[2],255*H[3]]}else F=Number(F);z.push({primitiveName:K,propertyName:_,value:F,defaultValue:null})}}else if(B.includes("|")){for(const C of B.split("|"))if(g._itemNames.has(C)){$.push(C);break}}else g._itemNames.has(B)&&$.push(B);return g._cimPartsToCIMSymbol(a,$,z,null==a.geometry||!a.geometry.hasZ&&"point"===a.geometry.type,y)})()}fetchResources(a){var y=this;return(0,f.A)(function*(){if(y._dictionaryPromise)return y._dictionaryPromise;if(!y.url)return void A.A.getLogger(M).error("no valid URL!");const g=(0,T.A)(y.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=a?a.signal:null}),[{data:j}]=yield Promise.all([g,(0,o.lw)()]);if(!j)throw y._dictionaryPromise=null,new R.A("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:W,dictionary_version:V,expression:U,itemsNames:G}=j,J=U;let $=!1;V&&(y._dictionaryVersion=t.R.parse(V),$=y._dictionaryVersion.since(4,0)),y._refSymbolUrlTemplate=y.url+"/"+j.cimRefTemplateUrl,y._itemNames=new Set(G),y._symbolFields=W.symbol;const z={};if(y.config){const C=y.config;for(const K in C)z[K]=C[K]}if(W.configuration)for(const C of W.configuration)z.hasOwnProperty(C.name)||(z[C.name]=C.value);const Y=[];if(null!=a&&a.fields&&y.fieldMap)for(const C in y.fieldMap){const K=y.fieldMap[C],_=a.fields.filter(F=>F.name.toLowerCase()===(null==K?void 0:K.toLowerCase()));_.length>0&&Y.push({..._[0],type:$?_[0].type:"esriFieldTypeString"})}Y.length>0&&(y._fieldIndex=new s.A(Y));const B=(0,o.xR)(J,null!=a?a.spatialReference:null,Y,z).then(C=>{const K={scale:0};return(_,F)=>{var H;if(null==C)return null;const Q=C.repurposeFeature({geometry:null,attributes:_});return K.scale=null!=F&&null!==(H=F.scale)&&void 0!==H?H:void 0,C.evaluate({$feature:Q,$view:K},C.services)}}).catch(C=>(A.A.getLogger(M).error("Creating dictinoary expression failed:",C),null));return y._dictionaryPromise=B,B})()}_cimPartsToCIMSymbol(a,y,g,j,W){var V=this;return(0,f.A)(function*(){const U=new Array(y.length);for(let $=0;$<y.length;$++)U[$]=V._getSymbolPart(y[$],W);let G=yield Promise.all(U);const J=V.fieldMap;if(J){G=(0,D.o8)(G);for(const $ of G)n.$.applyDictionaryTextOverrides($,a,J,V._fieldIndex,(0,d.bs)($))}return new i.A({data:V._combineSymbolParts(G,g,j)})})()}_getSymbolPart(a,y){var g=this;return(0,f.A)(function*(){const j=g._symbolCache.get(a);if(j)return j;if(g._ongoingRequests.has(a))return g._ongoingRequests.get(a).then(U=>U.data);const W=g._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,a),V=(0,T.A)(W,{responseType:"json",query:{f:"json"},...y});g._ongoingRequests.set(a,V),V.finally(()=>g._ongoingRequests.delete(a));try{const U=yield V;return g._symbolCache.put(a,U.data),U.data}catch(U){throw U}})()}_combineSymbolParts(a,y,g){if(!a||0===a.length)return null;const j={...a[0]};if(a.length>1){j.symbolLayers=[];for(const W of a)j.symbolLayers.unshift(...W.symbolLayers)}return g&&(j.callout=v),{type:"CIMSymbolReference",symbol:j,primitiveOverrides:y}}}var O;let m=O=class extends((0,N.h)(b.A)){constructor(l){super(l),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new S(this.url,this.config,this.fieldMap)}writeData(l,a){l&&(a.scalingExpressionInfo={expression:l,returnType:"number"})}writeVisualVariables(l,a,y,g){null!=g&&g.origin||super.writeVisualVariables(l,a,y,g)}clone(){return new O({config:(0,D.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,D.o8)(this.fieldMap),url:(0,D.o8)(this.url),visualVariables:(0,D.o8)(this.visualVariables)})}getSymbolAsync(l,a){var y=this;return(0,f.A)(function*(){return y._loader.getSymbolAsync(l,a)})()}collectRequiredFields(l,a){var y=this;return(0,f.A)(function*(){yield y.collectVVRequiredFields(l,a),y.scaleExpression&&(yield(0,P.Dx)(l,a,y.scaleExpression));for(const g in y.fieldMap){const j=y.fieldMap[g];a.has(j)&&l.add(j)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((l,a)=>l+a.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,r._)([(0,p.MZ)({type:S})],m.prototype,"_loader",null),(0,r._)([(0,p.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],m.prototype,"config",void 0),(0,r._)([(0,p.MZ)({type:Object,json:{write:!0}})],m.prototype,"fieldMap",void 0),(0,r._)([(0,p.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],m.prototype,"scaleExpression",void 0),(0,r._)([(0,E.K)("scaleExpression")],m.prototype,"writeData",null),(0,r._)([(0,p.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(l){return{enabled:!!l&&!!this.scaleExpression}}}}})],m.prototype,"scaleExpressionTitle",void 0),(0,r._)([(0,p.MZ)({type:String,json:{write:!0}})],m.prototype,"url",void 0),(0,r._)([(0,E.K)("visualVariables")],m.prototype,"writeVisualVariables",null),m=O=(0,r._)([(0,x.$)("esri.renderers.DictionaryRenderer")],m);const Z=m},92089:(w,L,e)=>{e.d(L,{A:()=>M});var u,f=e(10467),r=e(8189),D=e(68677),p=e(77806),h=e(85211),E=(e(3248),e(35150),e(15463)),P=e(76576),b=e(86300),N=e(38582),I=e(12887),T=e(36486),R=e(71065);e(40707);let t=u=class extends R.oY{constructor(){super(...arguments),this.unit=null}clone(){return new u({unit:this.unit})}};(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],t.prototype,"unit",void 0),t=u=(0,r._)([(0,P.$)("esri.renderers.support.DotDensityLegendOptions")],t);const s=t;var n,o=e(88521),i=e(55417);let d=n=class extends((0,I.h)(N.A)){constructor(v){super(v),this.attributes=null,this.backgroundColor=new D.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new i.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(v){if(null==this.referenceScale)return this.dotValue;const S=v/this.referenceScale*this.dotValue;return S<1?1:S}getSymbol(){return new o.A({outline:this.outline})}getSymbolAsync(){var v=this;return(0,f.A)(function*(){return v.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var v,S;return null!==(v=null===(S=this.attributes)||void 0===S?void 0:S.reduce((O,m)=>O+m.getAttributeHash(),""))&&void 0!==v?v:""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new n({attributes:(0,p.o8)(this.attributes),backgroundColor:(0,p.o8)(this.backgroundColor),dotBlendingEnabled:(0,p.o8)(this.dotBlendingEnabled),dotShape:(0,p.o8)(this.dotShape),dotSize:(0,p.o8)(this.dotSize),dotValue:(0,p.o8)(this.dotValue),legendOptions:(0,p.o8)(this.legendOptions),outline:(0,p.o8)(this.outline),referenceScale:(0,p.o8)(this.referenceScale),seed:(0,p.o8)(this.seed),visualVariables:(0,p.o8)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){var v;return`${null===(v=this.attributes)||void 0===v?void 0:v.map(O=>O.field||O.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(v,S){var O=this;return(0,f.A)(function*(){yield O.collectVVRequiredFields(v,S);for(const Z of null!==(m=O.attributes)&&void 0!==m?m:[]){var m;Z.valueExpression&&(yield(0,b.Dx)(v,S,Z.valueExpression)),Z.field&&v.add(Z.field)}})()}};(0,r._)([(0,h.MZ)({type:[T.A],json:{write:!0}})],d.prototype,"attributes",void 0),(0,r._)([(0,h.MZ)({type:D.A,json:{write:!0}})],d.prototype,"backgroundColor",void 0),(0,r._)([(0,h.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"dotBlendingEnabled",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!1}})],d.prototype,"dotShape",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],d.prototype,"dotSize",void 0),(0,r._)([(0,h.MZ)({type:s,json:{write:!0}})],d.prototype,"legendOptions",void 0),(0,r._)([(0,h.MZ)({type:i.A,json:{default:null,write:!0}})],d.prototype,"outline",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],d.prototype,"dotValue",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],d.prototype,"referenceScale",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],d.prototype,"seed",void 0),(0,r._)([(0,E.e)({dotDensity:"dot-density"})],d.prototype,"type",void 0),d=n=(0,r._)([(0,P.$)("esri.renderers.DotDensityRenderer")],d);const M=d},9826:(w,L,e)=>{e.d(L,{A:()=>Z});var f=e(10467),r=e(8189),D=e(68677),h=(e(47280),e(23159)),A=e(77806),x=e(35150),E=e(3804),P=e(67685),b=e(85211),I=(e(3248),e(74220)),T=e(15463),R=e(76576),c=e(86300),u=e(38582),t=e(13306),s=e(3114),o=e(90660),i=e(71065);e(40707);let d=class extends((0,o.O)(i.oY)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,r._)([(0,b.MZ)({type:String,json:{write:!0}})],d.prototype,"minLabel",void 0),(0,r._)([(0,b.MZ)({type:String,json:{write:!0}})],d.prototype,"maxLabel",void 0),(0,r._)([(0,b.MZ)({type:String,json:{write:!0}})],d.prototype,"title",void 0),d=(0,r._)([(0,R.$)("esri.renderers.support.HeatmapLegendOptions")],d);var S,M=e(78592),v=e(46602);function O(l){if(null!=l){const{maxDensity:a,minDensity:y,radius:g}=l;if(null!=a||null!=y||null!=g){const{blurRadius:j,maxPixelIntensity:W,minPixelIntensity:V,...U}=l;return U}}return l}let m=S=class extends u.A{constructor(l){super(l),this.authoringInfo=null,this.colorStops=[new s.A({ratio:0,color:new D.A("rgba(255, 140, 0, 0)")}),new s.A({ratio:.75,color:new D.A("rgba(255, 140, 0, 1)")}),new s.A({ratio:.9,color:new D.A("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(l){return O(l)}get blurRadius(){return(0,M.PU)(this.radius)}set blurRadius(l){const a=this.maxPixelIntensity,y=this.minPixelIntensity;this._set("radius",(0,M.zp)(l)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",a*this._pixelIntensityToDensity),this._set("minDensity",y*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(l){this._set("maxDensity",l*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(l){this._set("minDensity",l*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(M.ex**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(l,a){this._warnedProps[l]||"user"===(0,I.oY)(this).getDefaultOrigin()&&(this._warnedProps[l]=!0,(0,E._)(()=>{(0,h.Lx)(x.A.getLogger(this),l,{replacement:`${String(a)} (suggested value: ${this._get(a)})`,version:"4.24"})}))}read(l,a){l=O(l),super.read(l,a)}getSymbol(){return new v.A}getSymbolAsync(){var l=this;return(0,f.A)(function*(){return l.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(l,a){var y=this;return(0,f.A)(function*(){const g=y.field,j=y.valueExpression;g&&"string"==typeof g&&(0,c.rq)(l,a,g),j&&"string"==typeof j&&(yield(0,c.Dx)(l,a,j))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new S({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,A.o8)(this.colorStops),field:this.field,legendOptions:(0,A.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,r._)([(0,b.MZ)({type:t.A,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],m.prototype,"authoringInfo",void 0),(0,r._)([(0,b.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],m.prototype,"blurRadius",null),(0,r._)([(0,b.MZ)({type:[s.A],json:{write:!0}})],m.prototype,"colorStops",void 0),(0,r._)([(0,b.MZ)({type:String,json:{write:!0}})],m.prototype,"field",void 0),(0,r._)([(0,b.MZ)({type:d,json:{write:!0}})],m.prototype,"legendOptions",void 0),(0,r._)([(0,b.MZ)({type:Number,json:{write:!0}})],m.prototype,"maxDensity",void 0),(0,r._)([(0,b.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],m.prototype,"maxPixelIntensity",null),(0,r._)([(0,b.MZ)({type:Number,json:{write:!0}})],m.prototype,"minDensity",void 0),(0,r._)([(0,b.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],m.prototype,"minPixelIntensity",null),(0,r._)([(0,b.MZ)({type:Number,cast:P.cr,json:{write:!0}})],m.prototype,"radius",void 0),(0,r._)([(0,b.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],m.prototype,"referenceScale",void 0),(0,r._)([(0,T.e)({heatmap:"heatmap"})],m.prototype,"type",void 0),(0,r._)([(0,b.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],m.prototype,"valueExpression",void 0),(0,r._)([(0,b.MZ)({type:String})],m.prototype,"valueExpressionTitle",void 0),(0,r._)([(0,b.MZ)({readOnly:!0})],m.prototype,"_pixelIntensityToDensity",null),m=S=(0,r._)([(0,R.$)("esri.renderers.HeatmapRenderer")],m);const Z=m},15317:(w,L,e)=>{e.d(L,{A:()=>S});var f=e(10467),r=e(8189),D=e(68677),h=(e(47280),e(89952)),A=e(90660),x=e(67685),E=e(85211),N=(e(3248),e(35150),e(15463)),I=e(76576),T=e(86300),R=e(38582),c=e(12887),u=e(36486),t=e(71065);e(40707);let o=class extends((0,A.O)(t.oY)){constructor(){super(...arguments),this.color=new D.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,r._)([(0,E.MZ)({type:D.A,json:{write:!0}})],o.prototype,"color",void 0),(0,r._)([(0,E.MZ)({type:String,json:{write:!0}})],o.prototype,"label",void 0),(0,r._)([(0,E.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],o.prototype,"threshold",void 0),o=(0,r._)([(0,I.$)("esri.renderers.support.OthersCategory")],o);let i=class extends((0,A.O)(t.oY)){constructor(){super(...arguments),this.title=null}};(0,r._)([(0,E.MZ)({type:String,json:{write:!0}})],i.prototype,"title",void 0),i=(0,r._)([(0,I.$)("esri.renderers.support.PieChartLegendOptions")],i);var n=e(46602),d=e(88521),M=e(55417);let v=class extends((0,c.h)((0,A.O)(R.A))){constructor(O){super(O),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new D.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new o,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var O;return new n.A({size:this.size?this.size/2+((null===(O=this.outline)||void 0===O?void 0:O.width)||0):0})}getSymbolAsync(){var O=this;return(0,f.A)(function*(){return O.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(h.Ru)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((O,m)=>O+m.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((O,m)=>O+JSON.stringify(m),"")}collectRequiredFields(O,m){var Z=this;return(0,f.A)(function*(){yield Z.collectVVRequiredFields(O,m);for(const l of Z.attributes)l.valueExpression&&(yield(0,T.Dx)(O,m,l.valueExpression)),l.field&&O.add(l.field)})()}};(0,r._)([(0,E.MZ)({type:[u.A],json:{write:!0}})],v.prototype,"attributes",void 0),(0,r._)([(0,E.MZ)({type:d.A,json:{default:null,write:!0}})],v.prototype,"backgroundFillSymbol",void 0),(0,r._)([(0,E.MZ)({type:D.A,json:{write:!0}})],v.prototype,"defaultColor",void 0),(0,r._)([(0,E.MZ)({type:String,json:{write:!0}})],v.prototype,"defaultLabel",void 0),(0,r._)([(0,E.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],v.prototype,"holePercentage",void 0),(0,r._)([(0,E.MZ)({type:o,json:{write:!0}})],v.prototype,"othersCategory",void 0),(0,r._)([(0,E.MZ)({type:i,json:{write:!0}})],v.prototype,"legendOptions",void 0),(0,r._)([(0,E.MZ)({type:M.A,json:{default:null,write:!0}})],v.prototype,"outline",void 0),(0,r._)([(0,E.MZ)({type:Number,cast:x.cr,json:{write:!0}})],v.prototype,"size",void 0),(0,r._)([(0,N.e)({pieChart:"pie-chart"})],v.prototype,"type",void 0),v=(0,r._)([(0,I.$)("esri.renderers.PieChartRenderer")],v);const S=v},73747:(w,L,e)=>{e.d(L,{A:()=>R});var I,f=e(10467),r=e(8189),D=e(77806),p=e(85211),x=(e(3248),e(35150),e(15463)),E=e(76576),P=e(38582),b=e(12887),N=e(36345);let T=I=class extends((0,b.h)(P.A)){constructor(c){super(c),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(c,u){var t=this;return(0,f.A)(function*(){yield Promise.all([t.collectSymbolFields(c,u),t.collectVVRequiredFields(c,u)])})()}collectSymbolFields(c,u){var t=this;return(0,f.A)(function*(){yield Promise.all(t.getSymbols().map(s=>s.collectRequiredFields(c,u)))})()}getSymbol(c,u){return this.symbol}getSymbolAsync(c,u){var t=this;return(0,f.A)(function*(){return t.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((c,u)=>c+u.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((c,u)=>c+JSON.stringify(u),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new I({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,D.o8)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,r._)([(0,p.MZ)({type:String,json:{write:!0}})],T.prototype,"description",void 0),(0,r._)([(0,p.MZ)({type:String,json:{write:!0}})],T.prototype,"label",void 0),(0,r._)([(0,p.MZ)(N.Wp)],T.prototype,"symbol",void 0),(0,r._)([(0,x.e)({simple:"simple"})],T.prototype,"type",void 0),T=I=(0,r._)([(0,E.$)("esri.renderers.SimpleRenderer")],T);const R=T},36486:(w,L,e)=>{e.d(L,{A:()=>T});var N,f=e(8189),r=e(68677),D=e(71065),p=e(35150),h=e(85211),A=e(48669),P=(e(40707),e(3248),e(76576)),b=e(55739);let I=N=class extends D.oY{constructor(R){super(R),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(R){return null==R?R:"function"==typeof R?(p.A.getLogger(this).error(".field: field must be a string value"),null):(0,b.GX)(R)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var R;return new N({color:null===(R=this.color)||void 0===R?void 0:R.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,f._)([(0,h.MZ)({type:r.A,json:{type:[Number],write:!0}})],I.prototype,"color",void 0),(0,f._)([(0,h.MZ)({type:String,json:{write:!0}})],I.prototype,"field",void 0),(0,f._)([(0,A.w)("field")],I.prototype,"castField",null),(0,f._)([(0,h.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,f._)([(0,h.MZ)({type:String,json:{write:!0}})],I.prototype,"valueExpression",void 0),(0,f._)([(0,h.MZ)({type:String,json:{write:!0}})],I.prototype,"valueExpressionTitle",void 0),I=N=(0,f._)([(0,P.$)("esri.renderers.support.AttributeColorInfo")],I);const T=I},3114:(w,L,e)=>{e.d(L,{A:()=>N});var P,f=e(8189),r=e(68677),D=e(71065),p=e(85211),h=e(55739),E=(e(40707),e(3248),e(76576));let b=P=class extends D.oY{constructor(I){super(I),this.color=null,this.ratio=null}clone(){return new P({color:this.color&&this.color.clone(),ratio:this.ratio})}};(0,f._)([(0,p.MZ)({type:r.A,json:{type:[h.jz],default:null,write:!0}})],b.prototype,"color",void 0),(0,f._)([(0,p.MZ)({type:Number,json:{write:!0}})],b.prototype,"ratio",void 0),b=P=(0,f._)([(0,E.$)("esri.renderers.support.HeatmapColorStop")],b);const N=b},85718:(w,L,e)=>{e.d(L,{L:()=>A,r:()=>p});var f=e(96996),r=e(71224),D=e(36156);function p(x,E){return A(x,null,E)}const h=(0,r.C)({types:D.H});function A(x,E,P){return x?x&&(x.styleName||x.styleUrl)&&"uniqueValue"!==x.type?(null!=P&&P.messages&&P.messages.push(new f.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+x.type+"'",{definition:x,context:P})),null):h(x,E,P):null}},36156:(w,L,e)=>{e.d(L,{H:()=>b,X:()=>N});var f=e(35150),r=e(79122),D=e(70176),p=e(92089),h=e(9826),A=e(15317),x=e(38582),E=e(73747),P=e(13318);const b={key:"type",base:x.A,typeMap:{heatmap:h.A,simple:E.A,"unique-value":P.A,"class-breaks":r.A,"dot-density":p.A,dictionary:D.A,"pie-chart":A.A},errorContext:"renderer"},N={key:"type",base:x.A,typeMap:{simple:E.A,"unique-value":P.A,"class-breaks":r.A,heatmap:h.A},errorContext:"renderer",validate:function I(u){switch(u.type){case"simple":return function T(u){if(u.symbol)return u;f.A.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(u);case"unique-value":return function R(u){const t=u.uniqueValueInfos,s=null==t?void 0:t.filter(({symbol:o,label:i},n)=>(o||f.A.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${i}) without a symbol from web scene.`),!!o));return(null==s?void 0:s.length)!==(null==t?void 0:t.length)&&(u.uniqueValueInfos=s),u}(u);case"class-breaks":return function c(u){const t=u.classBreakInfos,s=null==t?void 0:t.filter(({symbol:o,label:i},n)=>(o||f.A.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${i}) without a symbol from web scene.`),!!o));return(null==s?void 0:s.length)!==(null==t?void 0:t.length)&&(u.classBreakInfos=s),u}(u);case"heatmap":return u}}}},1684:(w,L,e)=>{e.d(L,{$:()=>c});var f=e(10467),r=e(68677),D=e(29430),p=e(77806),h=e(48218),A=e(32117),x=e(5922),E=e(35150),P=e(721);function b(u,t,s,o,i){if(null==u)return null;const n=u.referencesGeometry()&&i?function I(u,t,s){const{transform:o,hasZ:i,hasM:n}=s;N.has(t)||N.set(t,function T(u){const t={};switch(u){case"esriGeometryPoint":return(s,o,i,n)=>(0,P.Tr)(o,t,s,i,n);case"esriGeometryPolygon":return(s,o,i,n)=>(0,P.$X)(o,t,s,i,n);case"esriGeometryPolyline":return(s,o,i,n)=>(0,P.P5)(o,t,s,i,n);case"esriGeometryMultipoint":return(s,o,i,n)=>(0,P.SW)(o,t,s,i,n);default:return E.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new x.A("mapview-arcade",`Unable to handle geometryType: ${u}`)),s=>s}}(t));const d=N.get(t)(u.geometry,o,i,n);return{...u,geometry:d}}(t,o,i):t,d=u.repurposeFeature(n);try{return u.evaluate({...s,$feature:d},u.services)}catch(M){return E.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",M),null}}const N=new Map,R=u=>{if(!u)return[0,0,0,0];const{r:t,g:s,b:o,a:i}=u;return[t,s,o,255*i]};class c{static findApplicableOverrides(t,s,o){if(t&&s){if(t.primitiveName){let i=!1;for(const n of o)if(n.primitiveName===t.primitiveName){i=!0;break}if(!i)for(const n of s)n.primitiveName===t.primitiveName&&o.push(n)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const i of t.effects)c.findApplicableOverrides(i,s,o);if(t.symbolLayers)for(const i of t.symbolLayers)c.findApplicableOverrides(i,s,o);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const i of t.effects)c.findApplicableOverrides(i,s,o);if(t.markerPlacement&&c.findApplicableOverrides(t.markerPlacement,s,o),"CIMVectorMarker"===t.type){if(t.markerGraphics)for(const i of t.markerGraphics)c.findApplicableOverrides(i,s,o),c.findApplicableOverrides(i.symbol,s,o)}else"CIMCharacterMarker"===t.type?c.findApplicableOverrides(t.symbol,s,o):"CIMHatchFill"===t.type?c.findApplicableOverrides(t.lineSymbol,s,o):"CIMPictureMarker"===t.type&&c.findApplicableOverrides(t.animatedSymbolProperties,s,o)}}}static findEffectOverrides(t,s){if(!t)return null;if("CIMGeometricEffectDashes"===t.type&&(0,A.K3)(t),!s||!t.primitiveName)return{type:"cim-effect-info",effect:t,overrides:[]};const o=t.primitiveName,i=[];for(const n of s)n.primitiveName===o&&i.push({...n,propertyName:(0,A.YF)(n.propertyName)});return{type:"cim-effect-info",effect:t,overrides:i}}static resolveSymbolOverrides(t,s,o,i,n,d,M){return(0,f.A)(function*(){if(null==t||!t.symbol)return null;let{symbol:v,primitiveOverrides:S}=t;const O=!!S;if(!O&&!i)return v;v=(0,p.o8)(v),S=(0,p.o8)(S);let m=!0;if(s||(s={attributes:{}},m=!1),O){if(m||(S=S.filter(Z=>{var l;return!(null!==(l=Z.valueExpressionInfo)&&void 0!==l&&l.expression.includes("$feature"))})),M||(S=S.filter(Z=>{var l;return!(null!==(l=Z.valueExpressionInfo)&&void 0!==l&&l.expression.includes("$view"))})),S.length>0){const Z={spatialReference:o,fields:(0,A.O2)(s.attributes),geometryType:n};yield c.createRenderExpressions(S,Z),c.evaluateOverrides(S,s,null!=n?n:"esriGeometryPoint",d,M)}c.applyOverrides(v,S)}return i&&c.applyDictionaryTextOverrides(v,s,i,null),v})()}static createRenderExpressions(t,s){return(0,f.A)(function*(){const o=[];for(const i of t){const n=i.valueExpressionInfo;if(!n||c._expressionToRenderExpression.has(n.expression))continue;const d=(0,h.Ad)(n.expression,s.spatialReference,s.fields);o.push(d),d.then(M=>c._expressionToRenderExpression.set(n.expression,M))}o.length>0&&(yield Promise.all(o))})()}static evaluateOverrides(t,s,o,i,n){const d={$view:{scale:null==n?void 0:n.scale}};for(const M of t){M.value&&"object"==typeof M.value&&(0,D.IB)(M.value)&&("Color"===M.propertyName||"StrokeColor"===M.propertyName)&&(M.value=R(M.value));const v=M.valueExpressionInfo;if(!v)continue;const S=c._expressionToRenderExpression.get(v.expression);S&&(M.value=b(S,s,d,o,i))}}static applyDictionaryTextOverrides(t,s,o,i,n="Normal"){if(null!=t&&t.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const d=t.symbolLayers;if(!d)return;for(const M of d)M&&"CIMVectorMarker"===M.type&&c.applyDictionaryTextOverrides(M,s,o,i,"CIMTextSymbol"===t.type?t.textCase:n)}break;case"CIMVectorMarker":{const d=t.markerGraphics;if(!d)return;for(const M of d)M&&c.applyDictionaryTextOverrides(M,s,o,i)}break;case"CIMMarkerGraphic":{const d=t.textString;if(d&&d.includes("[")){const M=(0,A.gQ)(d,o);t.textString=(0,A.FM)(s,M,i,n)}}}}static applyOverrides(t,s,o,i){if(t.primitiveName)for(const n of s)if(n.primitiveName===t.primitiveName){const d=(0,A.YF)(n.propertyName);if(i&&i.push({cim:t,nocapPropertyName:d,value:t[d]}),o){let M=!1;for(const v of o)v.primitiveName===t.primitiveName&&(M=!0);M||o.push(n)}null!=n.value&&(t[d]=n.value)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const n of t.effects)c.applyOverrides(n,s,o,i);if(t.symbolLayers)for(const n of t.symbolLayers)c.applyOverrides(n,s,o,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const n of t.effects)c.applyOverrides(n,s,o,i);if("CIMVectorMarker"===t.type&&t.markerGraphics)for(const n of t.markerGraphics)c.applyOverrides(n,s,o,i),c.applyOverrides(n.symbol,s,o,i)}}static restoreOverrides(t){for(const s of t)s.cim[s.nocapPropertyName]=s.value}static buildOverrideKey(t){let s="";for(const o of t)void 0!==o.value&&(s+=`${o.primitiveName}${o.propertyName}${JSON.stringify(o.value)}`);return s}static toValue(t,s){if("DashTemplate"===t)return s.split(" ").map(o=>Number(o));if("Color"===t){const o=new r.A(s).toRgba();return o[3]*=255,o}return s}}c._expressionToRenderExpression=new Map}}]);