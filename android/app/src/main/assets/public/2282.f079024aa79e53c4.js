"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2282],{94376:(W,S,i)=>{i.d(S,{p:()=>D});var c=i(8189),C=i(85211),I=(i(3248),i(35150),i(40707),i(76576));const D=A=>{let v=class extends A{get apiKey(){var f;return this._isOverridden("apiKey")?this._get("apiKey"):function g(A){return"portalItem"in A}(this)?null===(f=this.portalItem)||void 0===f?void 0:f.apiKey:null}set apiKey(f){null!=f?this._override("apiKey",f):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,c._)([(0,C.MZ)({type:String})],v.prototype,"apiKey",null),v=(0,c._)([(0,I.$)("esri.layers.mixins.APIKeyMixin")],v),v}},25936:(W,S,i)=>{i.d(S,{b:()=>D});var c=i(8189),C=i(35150),n=i(85211),I=(i(3248),i(40707),i(76576)),g=i(68438);const D=A=>{let v=class extends A{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const f=(0,g.qg)(this.url);if(null!=f&&f.title)return f.title}return this._get("title")||""}set title(f){this._set("title",f)}set url(f){this._set("url",(0,g.Jf)(f,C.A.getLogger(this)))}};return(0,c._)([(0,n.MZ)()],v.prototype,"title",null),(0,c._)([(0,n.MZ)({type:String})],v.prototype,"url",null),v=(0,c._)([(0,I.$)("esri.layers.mixins.ArcGISService")],v),v}},47063:(W,S,i)=>{i.d(S,{A:()=>K});var c=i(8189),C=i(90660),n=i(71065),O=i(85211),D=(i(3248),i(35150),i(40707),i(17221)),A=i(76576),v=i(50305),f=i(84546),U=i(69741);let P=class extends((0,C.O)(n.oY)){constructor(T){super(T),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(T){const j={};for(const L of Object.keys(T))j[L]=(0,f.rS)(T[L]);return j}writeDomains(T,j){const L={};for(const x of Object.keys(T)){var E;T[x]&&(L[x]=null===(E=T[x])||void 0===E?void 0:E.toJSON())}j.domains=L}};(0,c._)([(0,O.MZ)({json:{write:!0}})],P.prototype,"id",void 0),(0,c._)([(0,O.MZ)({json:{write:!0}})],P.prototype,"name",void 0),(0,c._)([(0,O.MZ)({json:{write:!0}})],P.prototype,"domains",void 0),(0,c._)([(0,D.w)("domains")],P.prototype,"readDomains",null),(0,c._)([(0,v.K)("domains")],P.prototype,"writeDomains",null),(0,c._)([(0,O.MZ)({type:[U.A],json:{write:!0}})],P.prototype,"templates",void 0),P=(0,c._)([(0,A.$)("esri.layers.support.FeatureType")],P);const K=P},64584:(W,S,i)=>{i.d(S,{A:()=>f});var A,c=i(8189),C=i(31178),n=i(71065),O=i(85211),D=(i(3248),i(35150),i(40707),i(76576));let v=A=class extends n.oY{constructor(U){super(U),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new C.A}clone(){return new A({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,c._)([(0,O.MZ)({type:String,json:{write:!0}})],v.prototype,"floorField",void 0),(0,c._)([(0,O.MZ)({json:{read:!1,write:!1}})],v.prototype,"viewAllMode",void 0),(0,c._)([(0,O.MZ)({json:{read:!1,write:!1}})],v.prototype,"viewAllLevelIds",void 0),v=A=(0,c._)([(0,D.$)("esri.layers.support.LayerFloorInfo")],v);const f=v},90543:(W,S,i)=>{i.d(S,{S:()=>A});var c=i(3248),C=i(68438);function n(t,o,r){return!!B(t,o,r)}function O(t,o,r){return B(t,o,r)}function B(t,o,r){return t&&t.hasOwnProperty(o)?t[o]:r}const I={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function g(t){var o;const r=null==t||null===(o=t.supportedSpatialAggregationStatistics)||void 0===o?void 0:o.map(s=>s.toLowerCase());return{envelope:!(null==r||!r.includes("envelopeaggregate")),centroid:!(null==r||!r.includes("centroidaggregate")),convexHull:!(null==r||!r.includes("convexhullaggregate"))}}function D(t,o){var r;const s=null==t||null===(r=t.supportedOperationsWithCacheHint)||void 0===r?void 0:r.map(l=>l.toLowerCase());return!(null==s||!s.includes(o.toLowerCase()))}function A(t,o){return{analytics:v(t),attachment:f(t),data:U(t),metadata:P(t),operations:K(t.capabilities,t,o),query:T(t,o),queryRelated:j(t),queryTopFeatures:L(t),editing:E(t)}}function v(t){return{supportsCacheHint:D(t.advancedQueryCapabilities,"queryAnalytics")}}function f(t){const o=t.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:D(t.advancedQueryCapabilities,"queryAttachments"),supportsResize:n(t,"supportsAttachmentsResizing",!1)};return o&&Array.isArray(o)&&o.forEach(s=>{const l=I[s.name];l&&(r[l]=!!s.isEnabled)}),r}function U(t){return{isVersioned:n(t,"isDataVersioned",!1),supportsAttachment:n(t,"hasAttachments",!1),supportsM:n(t,"hasM",!1),supportsZ:n(t,"hasZ",!1)}}function P(t){return{supportsAdvancedFieldProperties:n(t,"supportsFieldDescriptionProperty",!1)}}function K(t,o,r){const s=t?t.toLowerCase().split(",").map(M=>M.trim()):[],l=r?(0,C.qg)(r):null,p=s.includes(null!=l&&"MapServer"===l.serverType?"data":"query"),u=s.includes("editing")&&!o.datesInUnknownTimezone;let m=u&&s.includes("create"),h=u&&s.includes("delete"),a=u&&s.includes("update");const d=s.includes("changetracking"),_=o.advancedQueryCapabilities;return u&&!(m||h||a)&&(m=h=a=!0),{supportsCalculate:n(o,"supportsCalculate",!1),supportsTruncate:n(o,"supportsTruncate",!1),supportsValidateSql:n(o,"supportsValidateSql",!1),supportsAdd:m,supportsDelete:h,supportsEditing:u,supportsChangeTracking:d,supportsQuery:p,supportsQueryAnalytics:n(_,"supportsQueryAnalytic",!1),supportsQueryAttachments:n(_,"supportsQueryAttachments",!1),supportsQueryTopFeatures:n(_,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:n(o,"supportsAttachmentsResizing",!1),supportsSync:s.includes("sync"),supportsUpdate:a,supportsExceedsLimitStatistics:n(o,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:n(o,"supportsAsyncConvert3D",!1)}}function T(t,o){var r;const s=t.advancedQueryCapabilities,l=t.ownershipBasedAccessControlForFeatures,p=t.archivingInfo,u=t.currentVersion,h=!(null==o?void 0:o.includes("MapServer"))||u>=(0,c.A)("mapserver-pbf-version-support"),a=(0,C.Wo)(o),d=new Set((null!==(r=t.supportedQueryFormats)&&void 0!==r?r:"").split(",").map(_=>_.toLowerCase().trim()));return{supportsStatistics:n(s,"supportsStatistics",t.supportsStatistics),supportsPercentileStatistics:n(s,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:n(s,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:g(s),supportsCentroid:n(s,"supportsReturningGeometryCentroid",!1),supportsDistance:n(s,"supportsQueryWithDistance",!1),supportsDistinct:n(s,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:n(s,"supportsReturningQueryExtent",!1),supportsGeometryProperties:n(s,"supportsReturningGeometryProperties",!1),supportsHavingClause:n(s,"supportsHavingClause",!1),supportsOrderBy:n(s,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:n(s,"supportsPagination",!1),supportsQuantization:n(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:n(t,"supportsQuantizationEditMode",!1),supportsQueryGeometry:n(t,"supportsReturningQueryGeometry",!1),supportsResultType:n(s,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:n(s,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:n(s,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:n(t,"useStandardizedQueries",!1),supportsTopFeaturesQuery:n(s,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:n(l,"allowAnonymousToQuery",!0),supportsQueryByOthers:n(l,"allowOthersToQuery",!0),supportsHistoricMoment:n(p,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:h&&d.has("pbf"),supportsDisjointSpatialRelationship:n(s,"supportsDisjointSpatialRel",!1),supportsCacheHint:n(s,"supportsQueryWithCacheHint",!1)||D(s,"query"),supportsDefaultSpatialReference:n(s,"supportsDefaultSR",!1),supportsCompactGeometry:a,supportsFullTextSearch:n(s,"supportsFullTextSearch",!1),maxRecordCountFactor:O(t,"maxRecordCountFactor",void 0),maxRecordCount:O(t,"maxRecordCount",void 0),standardMaxRecordCount:O(t,"standardMaxRecordCount",void 0),tileMaxRecordCount:O(t,"tileMaxRecordCount",void 0)}}function j(t){const o=t.advancedQueryCapabilities,r=n(o,"supportsAdvancedQueryRelated",!1);return{supportsPagination:n(o,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:D(o,"queryRelated")}}function L(t){return{supportsCacheHint:D(t.advancedQueryCapabilities,"queryTopFilter")}}function E(t){const o=t.ownershipBasedAccessControlForFeatures,r=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:n(t,"allowGeometryUpdates",!0),supportsGlobalId:n(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:n(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:n(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:n(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:n(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:n(o,"allowAnonymousToDelete",!0),supportsDeleteByOthers:n(o,"allowOthersToDelete",!0),supportsUpdateByAnonymous:n(o,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:n(o,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:n(r,"supportsAsyncApplyEdits",!1),zDefault:O(t,"zDefault",void 0)}}},93327:(W,S,i)=>{i.d(S,{A:()=>x});var j,c=i(8189),C=i(21152),n=i(81098),O=i(49976),B=i(71065),I=i(77806),g=i(85211),v=(i(3248),i(35150),i(17221)),f=i(76576),U=i(50305),P=i(32034),K=i(61320),T=i(29141);const L=new O.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let E=j=class extends B.oY{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,o){const r=P.A.fromJSON(o.spatialReference),s=[];for(let p=0;p<t.length;p++){var l;const u=t[p],m=n.A.fromJSON(u),h=null===(l=u.geometry)||void 0===l?void 0:l.spatialReference;null==m.geometry||h||(m.geometry.spatialReference=r);const a=u.aggregateGeometries,d=m.aggregateGeometries;if(a&&null!=d)for(const _ in d){const M=d[_],R=a[_];null==M||(null==R?void 0:R.spatialReference)||(M.spatialReference=r)}s.push(m)}return s}writeGeometryType(t,o,r,s){if(t)return void L.write(t,o,r,s);const{features:l}=this;if(l)for(const p of l)if(null!=(null==p?void 0:p.geometry))return void L.write(p.geometry.type,o,r,s)}readQueryGeometry(t,o){if(!t)return null;const r=!!t.spatialReference,s=(0,K.rS)(t);return s&&!r&&o.spatialReference&&(s.spatialReference=P.A.fromJSON(o.spatialReference)),s}writeSpatialReference(t,o){if(t)return void(o.spatialReference=t.toJSON());const{features:r}=this;if(r)for(const s of r)if(s&&null!=s.geometry&&s.geometry.spatialReference)return void(o.spatialReference=s.geometry.spatialReference.toJSON())}clone(){return new j(this.cloneProperties())}cloneProperties(){return(0,I.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const o=this.write();if(o.features&&Array.isArray(t)&&t.length>0)for(let r=0;r<o.features.length;r++){const s=o.features[r];if(s.geometry){const l=null==t?void 0:t[r];s.geometry=(null==l?void 0:l.toJSON())||s.geometry}}return o}quantize(t){const{scale:[o,r],translate:[s,l]}=t,m=this.features,h=this._getQuantizationFunction(this.geometryType,a=>Math.round((a-s)/o),a=>Math.round((l-a)/r));for(let a=0,d=m.length;a<d;a++)null!=h&&h(m[a].geometry)||(m.splice(a,1),a--,d--);return this.transform=t,this}unquantize(){var t,o;const{geometryType:r,features:s,transform:l}=this;if(!l)return this;const{translate:[p,u],scale:[m,h]}=l;let _=null,M=null;if(this.hasZ&&null!=(null==l||null===(t=l.scale)||void 0===t?void 0:t[2])){const{translate:[,,y],scale:[,,F]}=l;_=Q=>Q*F+y}if(this.hasM&&null!=(null==l||null===(o=l.scale)||void 0===o?void 0:o[3])){const{translate:[,,,y],scale:[,,,F]}=l;M=Q=>null==Q?Q:Q*F+y}const R=this._getHydrationFunction(r,y=>y*m+p,y=>u-y*h,_,M);for(const{geometry:y}of s)null!=y&&R&&R(y);return this.transform=null,this}_quantizePoints(t,o,r){let s,l;const p=[];for(let u=0,m=t.length;u<m;u++){const h=t[u];if(u>0){const a=o(h[0]),d=r(h[1]);a===s&&d===l||(p.push([a-s,d-l]),s=a,l=d)}else s=o(h[0]),l=r(h[1]),p.push([s,l])}return p.length>0?p:null}_getQuantizationFunction(t,o,r){return"point"===t?s=>(s.x=o(s.x),s.y=r(s.y),s):"polyline"===t||"polygon"===t?s=>{const l=(0,K.Bi)(s)?s.rings:s.paths,p=[];for(let u=0,m=l.length;u<m;u++){const a=this._quantizePoints(l[u],o,r);a&&p.push(a)}return p.length>0?((0,K.Bi)(s)?s.rings=p:s.paths=p,s):null}:"multipoint"===t?s=>{const l=this._quantizePoints(s.points,o,r);return l&&l.length>0?(s.points=l,s):null}:"extent"===t?s=>s:null}_getHydrationFunction(t,o,r,s,l){return"point"===t?p=>{p.x=o(p.x),p.y=r(p.y),s&&(p.z=s(p.z))}:"polyline"===t||"polygon"===t?p=>{const u=(0,K.Bi)(p)?p.rings:p.paths;let m,h;for(let a=0,d=u.length;a<d;a++){const _=u[a];for(let M=0,R=_.length;M<R;M++){const y=_[M];M>0?(m+=y[0],h+=y[1]):(m=y[0],h=y[1]),y[0]=o(m),y[1]=r(h)}}if(s&&l)for(let a=0,d=u.length;a<d;a++){const _=u[a];for(let M=0,R=_.length;M<R;M++){const y=_[M];y[2]=s(y[2]),y[3]=l(y[3])}}else if(s)for(let a=0,d=u.length;a<d;a++){const _=u[a];for(let M=0,R=_.length;M<R;M++){const y=_[M];y[2]=s(y[2])}}else if(l)for(let a=0,d=u.length;a<d;a++){const _=u[a];for(let M=0,R=_.length;M<R;M++){const y=_[M];y[2]=l(y[2])}}}:"extent"===t?p=>{p.xmin=o(p.xmin),p.ymin=r(p.ymin),p.xmax=o(p.xmax),p.ymax=r(p.ymax),s&&null!=p.zmax&&null!=p.zmin&&(p.zmax=s(p.zmax),p.zmin=s(p.zmin)),l&&null!=p.mmax&&null!=p.mmin&&(p.mmax=l(p.mmax),p.mmin=l(p.mmin))}:"multipoint"===t?p=>{const u=p.points;let m,h;for(let a=0,d=u.length;a<d;a++){const _=u[a];a>0?(m+=_[0],h+=_[1]):(m=_[0],h=_[1]),_[0]=o(m),_[1]=r(h)}if(s&&l)for(let a=0,d=u.length;a<d;a++){const _=u[a];_[2]=s(_[2]),_[3]=l(_[3])}else if(s)for(let a=0,d=u.length;a<d;a++){const _=u[a];_[2]=s(_[2])}else if(l)for(let a=0,d=u.length;a<d;a++){const _=u[a];_[2]=l(_[2])}}:null}};(0,c._)([(0,g.MZ)({type:String,json:{write:!0}})],E.prototype,"displayFieldName",void 0),(0,c._)([(0,g.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],E.prototype,"exceededTransferLimit",void 0),(0,c._)([(0,g.MZ)({type:[n.A],json:{write:!0}})],E.prototype,"features",void 0),(0,c._)([(0,v.w)("features")],E.prototype,"readFeatures",null),(0,c._)([(0,g.MZ)({type:[T.A],json:{write:!0}})],E.prototype,"fields",void 0),(0,c._)([(0,g.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:L.read}}})],E.prototype,"geometryType",void 0),(0,c._)([(0,U.K)("geometryType")],E.prototype,"writeGeometryType",null),(0,c._)([(0,g.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],E.prototype,"hasM",void 0),(0,c._)([(0,g.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],E.prototype,"hasZ",void 0),(0,c._)([(0,g.MZ)({types:C.yR,json:{write:!0}})],E.prototype,"queryGeometry",void 0),(0,c._)([(0,v.w)("queryGeometry")],E.prototype,"readQueryGeometry",null),(0,c._)([(0,g.MZ)({type:P.A,json:{write:!0}})],E.prototype,"spatialReference",void 0),(0,c._)([(0,U.K)("spatialReference")],E.prototype,"writeSpatialReference",null),(0,c._)([(0,g.MZ)({json:{write:!0}})],E.prototype,"transform",void 0),E=j=(0,c._)([(0,f.$)("esri.rest.support.FeatureSet")],E),E.prototype.toJSON.isDefaultToJSON=!0;const x=E}}]);