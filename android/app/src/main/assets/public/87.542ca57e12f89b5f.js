"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[87],{93327:(q,Y,g)=>{g.d(Y,{A:()=>a});var $,O=g(8189),k=g(21152),D=g(81098),X=g(49976),U=g(71065),B=g(77806),S=g(85211),G=(g(3248),g(35150),g(17221)),K=g(76576),N=g(50305),W=g(32034),R=g(61320),V=g(29141);const F=new X.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let e=$=class extends U.oY{constructor(u){super(u),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(u,l){const c=W.A.fromJSON(l.spatialReference),m=[];for(let d=0;d<u.length;d++){var y;const _=u[d],E=D.A.fromJSON(_),P=null===(y=_.geometry)||void 0===y?void 0:y.spatialReference;null==E.geometry||P||(E.geometry.spatialReference=c);const h=_.aggregateGeometries,C=E.aggregateGeometries;if(h&&null!=C)for(const v in C){const A=C[v],T=h[v];null==A||(null==T?void 0:T.spatialReference)||(A.spatialReference=c)}m.push(E)}return m}writeGeometryType(u,l,c,m){if(u)return void F.write(u,l,c,m);const{features:y}=this;if(y)for(const d of y)if(null!=(null==d?void 0:d.geometry))return void F.write(d.geometry.type,l,c,m)}readQueryGeometry(u,l){if(!u)return null;const c=!!u.spatialReference,m=(0,R.rS)(u);return m&&!c&&l.spatialReference&&(m.spatialReference=W.A.fromJSON(l.spatialReference)),m}writeSpatialReference(u,l){if(u)return void(l.spatialReference=u.toJSON());const{features:c}=this;if(c)for(const m of c)if(m&&null!=m.geometry&&m.geometry.spatialReference)return void(l.spatialReference=m.geometry.spatialReference.toJSON())}clone(){return new $(this.cloneProperties())}cloneProperties(){return(0,B.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(u){const l=this.write();if(l.features&&Array.isArray(u)&&u.length>0)for(let c=0;c<l.features.length;c++){const m=l.features[c];if(m.geometry){const y=null==u?void 0:u[c];m.geometry=(null==y?void 0:y.toJSON())||m.geometry}}return l}quantize(u){const{scale:[l,c],translate:[m,y]}=u,E=this.features,P=this._getQuantizationFunction(this.geometryType,h=>Math.round((h-m)/l),h=>Math.round((y-h)/c));for(let h=0,C=E.length;h<C;h++)null!=P&&P(E[h].geometry)||(E.splice(h,1),h--,C--);return this.transform=u,this}unquantize(){var u,l;const{geometryType:c,features:m,transform:y}=this;if(!y)return this;const{translate:[d,_],scale:[E,P]}=y;let v=null,A=null;if(this.hasZ&&null!=(null==y||null===(u=y.scale)||void 0===u?void 0:u[2])){const{translate:[,,b],scale:[,,Z]}=y;v=z=>z*Z+b}if(this.hasM&&null!=(null==y||null===(l=y.scale)||void 0===l?void 0:l[3])){const{translate:[,,,b],scale:[,,,Z]}=y;A=z=>null==z?z:z*Z+b}const T=this._getHydrationFunction(c,b=>b*E+d,b=>_-b*P,v,A);for(const{geometry:b}of m)null!=b&&T&&T(b);return this.transform=null,this}_quantizePoints(u,l,c){let m,y;const d=[];for(let _=0,E=u.length;_<E;_++){const P=u[_];if(_>0){const h=l(P[0]),C=c(P[1]);h===m&&C===y||(d.push([h-m,C-y]),m=h,y=C)}else m=l(P[0]),y=c(P[1]),d.push([m,y])}return d.length>0?d:null}_getQuantizationFunction(u,l,c){return"point"===u?m=>(m.x=l(m.x),m.y=c(m.y),m):"polyline"===u||"polygon"===u?m=>{const y=(0,R.Bi)(m)?m.rings:m.paths,d=[];for(let _=0,E=y.length;_<E;_++){const h=this._quantizePoints(y[_],l,c);h&&d.push(h)}return d.length>0?((0,R.Bi)(m)?m.rings=d:m.paths=d,m):null}:"multipoint"===u?m=>{const y=this._quantizePoints(m.points,l,c);return y&&y.length>0?(m.points=y,m):null}:"extent"===u?m=>m:null}_getHydrationFunction(u,l,c,m,y){return"point"===u?d=>{d.x=l(d.x),d.y=c(d.y),m&&(d.z=m(d.z))}:"polyline"===u||"polygon"===u?d=>{const _=(0,R.Bi)(d)?d.rings:d.paths;let E,P;for(let h=0,C=_.length;h<C;h++){const v=_[h];for(let A=0,T=v.length;A<T;A++){const b=v[A];A>0?(E+=b[0],P+=b[1]):(E=b[0],P=b[1]),b[0]=l(E),b[1]=c(P)}}if(m&&y)for(let h=0,C=_.length;h<C;h++){const v=_[h];for(let A=0,T=v.length;A<T;A++){const b=v[A];b[2]=m(b[2]),b[3]=y(b[3])}}else if(m)for(let h=0,C=_.length;h<C;h++){const v=_[h];for(let A=0,T=v.length;A<T;A++){const b=v[A];b[2]=m(b[2])}}else if(y)for(let h=0,C=_.length;h<C;h++){const v=_[h];for(let A=0,T=v.length;A<T;A++){const b=v[A];b[2]=y(b[2])}}}:"extent"===u?d=>{d.xmin=l(d.xmin),d.ymin=c(d.ymin),d.xmax=l(d.xmax),d.ymax=c(d.ymax),m&&null!=d.zmax&&null!=d.zmin&&(d.zmax=m(d.zmax),d.zmin=m(d.zmin)),y&&null!=d.mmax&&null!=d.mmin&&(d.mmax=y(d.mmax),d.mmin=y(d.mmin))}:"multipoint"===u?d=>{const _=d.points;let E,P;for(let h=0,C=_.length;h<C;h++){const v=_[h];h>0?(E+=v[0],P+=v[1]):(E=v[0],P=v[1]),v[0]=l(E),v[1]=c(P)}if(m&&y)for(let h=0,C=_.length;h<C;h++){const v=_[h];v[2]=m(v[2]),v[3]=y(v[3])}else if(m)for(let h=0,C=_.length;h<C;h++){const v=_[h];v[2]=m(v[2])}else if(y)for(let h=0,C=_.length;h<C;h++){const v=_[h];v[2]=y(v[2])}}:null}};(0,O._)([(0,S.MZ)({type:String,json:{write:!0}})],e.prototype,"displayFieldName",void 0),(0,O._)([(0,S.MZ)({type:Boolean,json:{write:{overridePolicy:u=>({enabled:u})}}})],e.prototype,"exceededTransferLimit",void 0),(0,O._)([(0,S.MZ)({type:[D.A],json:{write:!0}})],e.prototype,"features",void 0),(0,O._)([(0,G.w)("features")],e.prototype,"readFeatures",null),(0,O._)([(0,S.MZ)({type:[V.A],json:{write:!0}})],e.prototype,"fields",void 0),(0,O._)([(0,S.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:F.read}}})],e.prototype,"geometryType",void 0),(0,O._)([(0,N.K)("geometryType")],e.prototype,"writeGeometryType",null),(0,O._)([(0,S.MZ)({type:Boolean,json:{write:{overridePolicy:u=>({enabled:u})}}})],e.prototype,"hasM",void 0),(0,O._)([(0,S.MZ)({type:Boolean,json:{write:{overridePolicy:u=>({enabled:u})}}})],e.prototype,"hasZ",void 0),(0,O._)([(0,S.MZ)({types:k.yR,json:{write:!0}})],e.prototype,"queryGeometry",void 0),(0,O._)([(0,G.w)("queryGeometry")],e.prototype,"readQueryGeometry",null),(0,O._)([(0,S.MZ)({type:W.A,json:{write:!0}})],e.prototype,"spatialReference",void 0),(0,O._)([(0,N.K)("spatialReference")],e.prototype,"writeSpatialReference",null),(0,O._)([(0,S.MZ)({json:{write:!0}})],e.prototype,"transform",void 0),e=$=(0,O._)([(0,K.$)("esri.rest.support.FeatureSet")],e),e.prototype.toJSON.isDefaultToJSON=!0;const a=e},76926:(q,Y,g)=>{g.d(Y,{Fe:()=>W,Nk:()=>G});var O=g(68677),k=g(32117);function G(e){const a=[];return K((0,k.lW)(e),a),a.length?new O.A((0,k.e6)(a[0])):null}function K(e,a){var u,l;if(!e)return;let c;c="CIMTextSymbol"===e.type?e.symbol:e;const m="CIMPolygonSymbol"===e.type;if(null!==(u=c)&&void 0!==u&&u.symbolLayers)for(const y of c.symbolLayers)if(!(y.colorLocked||m&&((0,k.mA)(y)||(0,k.MM)(y)&&y.markerPlacement&&(0,k.zr)(y.markerPlacement))))switch(y.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":y.tintColor&&N(a,y.tintColor);break;case"CIMVectorMarker":null===(l=y.markerGraphics)||void 0===l||l.forEach(d=>{K(d.symbol,a)});break;case"CIMSolidStroke":case"CIMSolidFill":N(a,y.color);break;case"CIMHatchFill":K(y.lineSymbol,a)}}function N(e,a){for(const u of e)if(u.join(".")===a.join("."))return;e.push(a)}function W(e,a,u){a instanceof O.A||(a=new O.A(a));const l=(0,k.lW)(e);l&&R(l,a,u)}function R(e,a,u){var l,c,m;if(!e)return;let y;y="CIMTextSymbol"===e.type?e.symbol:e;const d="CIMPolygonSymbol"===(null===(l=y)||void 0===l?void 0:l.type);if(null!==(c=y)&&void 0!==c&&c.symbolLayers)for(const _ of y.symbolLayers){if(_.colorLocked)continue;if(d)if(u){const{layersToColor:P}=u;if(((0,k.mA)(_)||(0,k.MM)(_)&&_.markerPlacement&&(0,k.zr)(_.markerPlacement))&&"fill"===P||(0,k.jn)(_)&&"outline"===P)continue}else if((0,k.mA)(_)||(0,k.MM)(_)&&_.markerPlacement&&(0,k.zr)(_.markerPlacement))continue;const E=a.toArray();switch(_.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":_.tintColor=E;break;case"CIMVectorMarker":null===(m=_.markerGraphics)||void 0===m||m.forEach(P=>{R(P.symbol,a,u)});break;case"CIMSolidStroke":case"CIMSolidFill":_.color=E;break;case"CIMHatchFill":R(_.lineSymbol,a,u)}}}},8134:(q,Y,g)=>{g.d(Y,{$4:()=>F,O0:()=>e,O1:()=>a,Sw:()=>u,eH:()=>V,rc:()=>$});var O=g(90261),k=g(68677),D=g(89563),X=g(33087),U=g(67685),B=g(76926);const S="picture-fill",J="simple-fill",H="simple-line",G="simple-marker",K="text",N="cim",W=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),R=new X.q(1e3);function V(l){const c=l.style;let m=null;if(l)switch(l.type){case G:"cross"!==c&&"x"!==c&&(m=l.color);break;case J:c&&"solid"!==c?"none"!==c&&(m={type:"pattern",x:0,y:0,src:(0,O.s)(`esri/symbols/patterns/${c}.png`),width:5,height:5}):m=l.color;break;case S:m={type:"pattern",src:l.url,width:(0,U.Lz)(l.width)*l.xscale,height:(0,U.Lz)(l.height)*l.yscale,x:(0,U.Lz)(l.xoffset),y:(0,U.Lz)(l.yoffset)};break;case K:m=l.color;break;case N:m=(0,B.Nk)(l)}return m}function $(l,c){const m=l+"-"+c;return void 0!==R.get(m)?Promise.resolve(R.get(m)):(0,D.A)(l,{responseType:"image"}).then(y=>{const d=y.data,_=d.naturalWidth,E=d.naturalHeight,P=document.createElement("canvas");P.width=_,P.height=E;const h=P.getContext("2d");h.fillStyle=c,h.fillRect(0,0,_,E),h.globalCompositeOperation="destination-in",h.drawImage(d,0,0);const C=P.toDataURL();return R.put(m,C),C})}function F(l){if(!l)return null;let c=null;switch(l.type){case J:case S:case G:c=F(l.outline);break;case H:{const m=(0,U.Lz)(l.width);null!=l.style&&"none"!==l.style&&0!==m&&(c={color:l.color,style:a(l.style),width:m,cap:l.cap,join:"miter"===l.join?(0,U.Lz)(l.miterLimit):l.join},c.dashArray=e(c).join(",")||"none");break}default:c=null}return c}function e(l){if(null==l||!l.style)return[];const{dashArray:c,style:m,width:y}=l;if("string"==typeof c&&"none"!==c)return c.split(",").map(E=>Number(E));const d=null!=y?y:0,_=W.has(m)?W.get(m).map(E=>E*d):[];if("butt"!==l.cap)for(const[E,P]of _.entries())_[E]=E%2==1?P+d:Math.max(P-d,1);return _}const a=(()=>{const l={};return c=>{if(l[c])return l[c];const m=c.replaceAll("-","");return l[c]=m,m}})(),u=new k.A([128,128,128])},83393:(q,Y,g)=>{g.d(Y,{$d:()=>V,GG:()=>rt,N7:()=>$,Sx:()=>F,UQ:()=>nt,di:()=>lt,dt:()=>c,k_:()=>R,yG:()=>st});var O=g(10467),k=g(68677),D=g(47280),X=g(89447),B=(g(3248),g(67685)),S=g(25866),J=g(72211),H=g(76926),G=g(8134),K=g(74760);const N=new k.A("white");function R(i){var f;if(!i)return 0;if((0,D.wk)(i)){const p=function W(i){var f,p;const M=null===(f=i.symbolLayers)||void 0===f?void 0:f.at(-1);if(M&&"outline"in M)return null==M||null===(p=M.outline)||void 0===p?void 0:p.size}(i);return null!=p?p:0}return(0,B.PN)(null===(f=(0,G.$4)(i))||void 0===f?void 0:f.width)}function V(i){if(null==i||!("symbolLayers"in i)||null==i.symbolLayers)return!1;switch(i.type){case"point-3d":return i.symbolLayers.some(f=>"object"===f.type);case"line-3d":return i.symbolLayers.some(f=>"path"===f.type);case"polygon-3d":return i.symbolLayers.some(f=>"object"===f.type||"extrude"===f.type);default:return!1}}function $(i){var f,p;return null!==(f=null===(p=i.resource)||void 0===p?void 0:p.href)&&void 0!==f?f:""}function F(i,f){if(!i)return null;let p=null;return(0,D.wk)(i)?p=function e(i){const f=i.symbolLayers;if(!f)return null;let p=null;return f.forEach(M=>{var I;"object"===M.type&&null!==(I=M.resource)&&void 0!==I&&I.href||(p="water"===M.type?M.color:M.material?M.material.color:null)}),p?new k.A(p):null}(i):(0,D.$y)(i)&&(p="cim"===i.type?(0,H.Nk)(i):i.color?new k.A(i.color):null),p?a(p,f):null}function a(i,f){if(null==f||null==i)return i;const p=i.toRgba();return p[3]=p[3]*f,new k.A(p)}function c(i,f,p){i&&(f||null!=p)&&(f&&(f=new k.A(f)),(0,D.wk)(i)?function u(i,f,p){const M=i.symbolLayers;if(!M)return;const I=L=>{var x,j;return a(f=null!==(x=null!==(j=f)&&void 0!==j?j:L)&&void 0!==x?x:null!=p?N:null,p)};M.forEach(L=>{var x;if("object"!==L.type||null===(x=L.resource)||void 0===x||!x.href||f)if("water"===L.type)L.color=I(L.color);else{var j;const Q=I(null!=L.material?L.material.color:null);null==L.material?L.material=new K.N({color:Q}):L.material.color=Q,null!=p&&"outline"in L&&null!=(null===(j=L.outline)||void 0===j?void 0:j.color)&&(L.outline.color=a(L.outline.color,p))}})}(i,f,p):(0,D.$y)(i)&&function l(i,f,p){var M,I;(f=null!==(M=f)&&void 0!==M?M:i.color)&&(i.color=a(f,p)),null!=p&&"outline"in i&&null!==(I=i.outline)&&void 0!==I&&I.color&&(i.outline.color=a(i.outline.color,p))}(i,f,p))}function y(){return y=(0,O.A)(function*(i,f){const p=i.symbolLayers;p&&(yield(0,X.jJ)(p,function(){var M=(0,O.A)(function*(I){return function d(i,f){return _.apply(this,arguments)}(I,f)});return function(I){return M.apply(this,arguments)}}()))}),y.apply(this,arguments)}function _(){return _=(0,O.A)(function*(i,f){switch(i.type){case"extrude":!function h(i,f){i.size="number"==typeof f[2]?f[2]:0}(i,f);break;case"icon":case"line":case"text":!function E(i,f){const p=P(f);null!=p&&(i.size=p)}(i,f);break;case"path":!function A(i,f){const p=T(f,S.Un,[i.width,void 0,i.height]);i.width=z(f[0],i.width,1,p),i.height=z(f[2],i.height,1,p)}(i,f);break;case"object":yield function C(i,f){return v.apply(this,arguments)}(i,f)}}),_.apply(this,arguments)}function P(i){for(const f of i)if("number"==typeof f)return f;return null}function v(){return v=(0,O.A)(function*(i,f){const{resourceSize:p,symbolSize:M}=yield function b(i){return Z.apply(this,arguments)}(i),I=T(f,p,M);i.width=z(f[0],M[0],p[0],I),i.depth=z(f[1],M[1],p[1],I),i.height=z(f[2],M[2],p[2],I)}),v.apply(this,arguments)}function T(i,f,p){for(let M=0;M<3;M++){const I=i[M];switch(I){case"symbol-value":{const L=p[M];return null!=L?L/f[M]:1}case"proportional":break;default:if(I&&f[M])return I/f[M]}}return 1}function Z(){return(Z=(0,O.A)(function*(i){const{computeObjectLayerResourceSize:f}=yield g.e(5020).then(g.bind(g,75020)),p=yield f(i,10),{width:M,height:I,depth:L}=i,x=[M,L,I];let j=1;for(let w=0;w<3;w++){const Q=x[w];if(null!=Q){j=Q/p[w];break}}for(let w=0;w<3;w++)null==x[w]&&(x[w]=p[w]*j);return{resourceSize:p,symbolSize:x}})).apply(this,arguments)}function z(i,f,p,M){switch(i){case"proportional":return p*M;case"symbol-value":return null!=f?f:p;default:return i}}function nt(i,f){return tt.apply(this,arguments)}function tt(){return tt=(0,O.A)(function*(i,f){if(i&&f)return(0,D.wk)(i)?function m(i,f){return y.apply(this,arguments)}(i,f):void((0,D.$y)(i)&&function ot(i,f){const p=P(f);if(null!=p)switch(i.type){case"simple-marker":i.size=p;break;case"picture-marker":{const M=i.width/i.height;M>1?(i.width=p,i.height=p*M):(i.width=p*M,i.height=p);break}case"simple-line":i.width=p;break;case"text":i.font.size=p}}(i,f))}),tt.apply(this,arguments)}function rt(i,f,p){if(i&&null!=f)if((0,D.wk)(i)){const M=i.symbolLayers;M&&M.forEach(I=>{var L,x,j;if(I&&"object"===I.type)switch(p){case"tilt":I.tilt=(null!==(L=I.tilt)&&void 0!==L?L:0)+f;break;case"roll":I.roll=(null!==(x=I.roll)&&void 0!==x?x:0)+f;break;default:I.heading=(null!==(j=I.heading)&&void 0!==j?j:0)+f}})}else(0,D.$y)(i)&&("simple-marker"!==i.type&&"picture-marker"!==i.type&&"text"!==i.type||(i.angle+=f))}function lt(i){if(!i)return null;const f=i.effects.filter(p=>"bloom"!==p.type).map(p=>p.toJSON());return(0,J.zu)(f)}function st(i,f){return et.apply(this,arguments)}function et(){return(et=(0,O.A)(function*(i,f){return(yield i.fetchSymbol(f))||i.fetchCIMSymbol(f)})).apply(this,arguments)}}}]);