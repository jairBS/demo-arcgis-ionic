"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5345,9487],{65345:(Z,m,r)=>{r.r(m),r.d(m,{executeRelationshipQuery:()=>p,executeRelationshipQueryForCount:()=>A});var o=r(10467),v=r(68800),j=r(89563),R=r(58701),i=r(1832);function E(n,s){const t=n.toJSON();return t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.orderByFields&&(t.orderByFields=t.orderByFields.join(",")),!t.outFields||null!=s&&s.returnCountOnly?delete t.outFields:t.outFields=t.outFields.includes("*")?"*":t.outFields.join(","),t.outSR&&(t.outSR=(0,R.YX)(t.outSR)),t.dynamicDataSource&&(t.layer=JSON.stringify({source:t.dynamicDataSource}),delete t.dynamicDataSource),t}function c(){return(c=(0,o.A)(function*(n,s,t){const d=yield h(n,s,t),a=d.data,y=a.geometryType,l=a.spatialReference,_={};for(const M of a.relatedRecordGroups){const P={fields:void 0,objectIdFieldName:void 0,geometryType:y,spatialReference:l,hasZ:!!a.hasZ,hasM:!!a.hasM,features:M.relatedRecords};if(null!=M.objectId)_[M.objectId]=P;else for(const x of Object.keys(M))"relatedRecords"!==x&&(_[M[x]]=P)}return{...d,data:_}})).apply(this,arguments)}function f(){return(f=(0,o.A)(function*(n,s,t){const d=yield h(n,s,t,{returnCountOnly:!0}),a=d.data,y={};for(const l of a.relatedRecordGroups)null!=l.objectId&&(y[l.objectId]=l.count);return{...d,data:y}})).apply(this,arguments)}function h(n,s){return e.apply(this,arguments)}function e(){return(e=(0,o.A)(function*(n,s,t={},d){const a=(0,i.z)({...n.query,f:"json",...d,...E(s,d)});return(0,j.A)(n.path+"/queryRelatedRecords",{...t,query:{...t.query,...a}})})).apply(this,arguments)}var g=r(93327),u=r(59487);function p(n,s,t){return D.apply(this,arguments)}function D(){return D=(0,o.A)(function*(n,s,t){return s=u.default.from(s),function O(n,s,t){return c.apply(this,arguments)}((0,v.Dl)(n),s,t).then(a=>{const y=a.data,l={};return Object.keys(y).forEach(_=>l[_]=g.A.fromJSON(y[_])),l})}),D.apply(this,arguments)}function A(n,s,t){return I.apply(this,arguments)}function I(){return I=(0,o.A)(function*(n,s,t){return s=u.default.from(s),function S(n,s,t){return f.apply(this,arguments)}((0,v.Dl)(n),s,{...t}).then(a=>a.data)}),I.apply(this,arguments)}},59487:(Z,m,r)=>{r.r(m),r.d(m,{default:()=>g});var h,o=r(8189),j=(r(21152),r(71065)),R=r(77806),i=r(85211),E=r(55739),O=r(76576),c=r(50305),S=r(93164),f=r(32034);let e=h=class extends j.oY{constructor(u){super(u),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(u,p){p.historicMoment=u&&u.getTime()}writeStart(u,p){p.resultOffset=this.start,p.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(p.definitionExpression="1=1")}clone(){return new h((0,R.o8)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,o._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],e.prototype,"cacheHint",void 0),(0,o._)([(0,i.MZ)({type:S.L,json:{write:!0}})],e.prototype,"dynamicDataSource",void 0),(0,o._)([(0,i.MZ)({type:String,json:{write:!0}})],e.prototype,"gdbVersion",void 0),(0,o._)([(0,i.MZ)({type:Number,json:{write:!0}})],e.prototype,"geometryPrecision",void 0),(0,o._)([(0,i.MZ)({type:Date})],e.prototype,"historicMoment",void 0),(0,o._)([(0,c.K)("historicMoment")],e.prototype,"_writeHistoricMoment",null),(0,o._)([(0,i.MZ)({type:Number,json:{write:!0}})],e.prototype,"maxAllowableOffset",void 0),(0,o._)([(0,i.MZ)({type:[Number],json:{write:!0}})],e.prototype,"objectIds",void 0),(0,o._)([(0,i.MZ)({type:[String],json:{write:!0}})],e.prototype,"orderByFields",void 0),(0,o._)([(0,i.MZ)({type:[String],json:{write:!0}})],e.prototype,"outFields",void 0),(0,o._)([(0,i.MZ)({type:f.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],e.prototype,"outSpatialReference",void 0),(0,o._)([(0,i.MZ)({json:{write:!0}})],e.prototype,"relationshipId",void 0),(0,o._)([(0,i.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],e.prototype,"start",void 0),(0,o._)([(0,c.K)("start"),(0,c.K)("num")],e.prototype,"writeStart",null),(0,o._)([(0,i.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],e.prototype,"num",void 0),(0,o._)([(0,i.MZ)({json:{write:!0}})],e.prototype,"returnGeometry",void 0),(0,o._)([(0,i.MZ)({type:Boolean,json:{write:{overridePolicy:u=>({enabled:u})}}})],e.prototype,"returnM",void 0),(0,o._)([(0,i.MZ)({type:Boolean,json:{write:{overridePolicy:u=>({enabled:u})}}})],e.prototype,"returnZ",void 0),(0,o._)([(0,i.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],e.prototype,"where",void 0),e=h=(0,o._)([(0,O.$)("esri.rest.support.RelationshipQuery")],e),e.from=(0,E.dp)(e);const g=e}}]);