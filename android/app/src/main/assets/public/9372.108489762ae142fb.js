"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9372,4098,8460,3258,2282],{33087:(te,V,l)=>{l.d(V,{q:()=>S});var I=l(60611);class S{constructor(T,K){this._storage=new I.F,this.id="",this.name="",this.size=0,this._storage.maxSize=T,this._storage.register(this),K&&this._storage.registerRemoveFunc("",K)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(T,K,L=1){this._storage.put(this,T,K,L,1)}pop(T){return this._storage.pop(this,T)}get(T){return this._storage.get(this,T)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(T){this._storage.maxSize=T}resetHitRate(){}}},60611:(te,V,l)=>{l.d(V,{F:()=>L,Mn:()=>K});var T,w,I=l(12438);(w=T||(T={}))[w.ALL=0]="ALL",w[w.SOME=1]="SOME";class K{constructor(c,p,_){this.name=c,this._storage=p,this.id=W+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),_&&(this._storage.registerRemoveFunc(this.id,_),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(c){return this._storage.getSize(this,c)}resetHitRate(){this._hit=this._miss=0}put(c,p,_,v=0){this._storage.put(this,c,p,_,v)}pop(c){const p=this._storage.pop(this,c);return void 0===p?++this._miss:++this._hit,p}get(c){const p=this._storage.get(this,c);return void 0===p?++this._miss:++this._hit,p}peek(c){return this._storage.peek(this,c)}updateSize(c,p,_){this._storage.updateSize(this,c,p,_)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class L{get size(){return this._size}constructor(c=10485760){this._maxSize=c,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new I.A,this._users=new I.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(c){this._users.push(c)}deregister(c){this._users.removeUnordered(c)}registerRemoveFunc(c,p){this._removeFuncs.push([c,p])}deregisterRemoveFunc(c){this._removeFuncs.filterInPlace(p=>p[0]!==c)}get maxSize(){return this._maxSize}set maxSize(c){this._maxSize=Math.max(c,-1),this._checkSize()}getSize(c,p){var _;const v=this._db.get(c.id+p);return null!==(_=null==v?void 0:v.size)&&void 0!==_?_:0}put(c,p,_,v,B){const g=this._db.get(p=c.id+p);if(g&&(this._size-=g.size,c.size-=g.size,this._db.delete(p),g.entry!==_&&this._notifyRemove(p,g.entry,g.size,T.ALL)),v>this._maxSize)return void this._notifyRemove(p,_,v,T.ALL);if(void 0===_)return void console.warn("Refusing to cache undefined entry ");if(!v||v<0)return console.warn(`Refusing to cache entry with size ${v} for key ${p}`),void this._notifyRemove(p,_,0,T.ALL);const U=1+Math.max(B,-4)- -3;this._db.set(p,new N(_,v,U)),this._size+=v,c.size+=v,this._checkSize()}updateSize(c,p,_,v){const B=this._db.get(p=c.id+p);if(B&&B.entry===_){for(this._size-=B.size,c.size-=B.size;v>this._maxSize;){const g=this._notifyRemove(p,_,v,T.SOME);if(!(null!=g&&g>0))return void this._db.delete(p);v=g}B.size=v,this._size+=v,c.size+=v,this._checkSize()}}pop(c,p){const _=this._db.get(p=c.id+p);if(_)return this._size-=_.size,c.size-=_.size,this._db.delete(p),++this._hit,_.entry;++this._miss}get(c,p){const _=this._db.get(p=c.id+p);if(void 0!==_)return this._db.delete(p),_.lives=_.lifetime,this._db.set(p,_),++this._hit,_.entry;++this._miss}peek(c,p){const _=this._db.get(c.id+p);return _?++this._hit:++this._miss,null==_?void 0:_.entry}get performanceInfo(){const c={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},p={},_=new Array;this._db.forEach((g,U)=>{const Y=g.lifetime;_[Y]=(_[Y]||0)+g.size,this._users.forAll(C=>{const{id:h,name:s}=C;U.startsWith(h)&&(p[s]=(p[s]||0)+g.size)})});const v={};this._users.forAll(g=>{const U=g.name;"hitRate"in g&&"number"==typeof g.hitRate&&!isNaN(g.hitRate)&&g.hitRate>0?(p[U]=p[U]||0,v[U]=Math.round(100*g.hitRate)+"%"):v[U]="0%"});const B=Object.keys(p);B.sort((g,U)=>p[U]-p[g]),B.forEach(g=>c[g]=Math.round(p[g]/2**20)+"MB / "+v[g]);for(let g=_.length-1;g>=0;--g){const U=_[g];U&&(c["Priority "+(g+-3-1)]=Math.round(U/this._size*100)+"%")}return c}resetStats(){this._hit=this._miss=0,this._users.forAll(c=>c.resetHitRate())}clear(c){const p=c.id;this._db.forEach((_,v)=>{v.startsWith(p)&&(this._size-=_.size,this._db.delete(v),this._notifyRemove(v,_.entry,_.size,T.ALL))}),c.size=0}clearAll(){this._db.forEach((c,p)=>this._notifyRemove(p,c.entry,c.size,T.ALL)),this._users.forAll(c=>c.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(c,p,_,v){let B;return this._removeFuncs.some(g=>{if(c.startsWith(g[0])){const U=g[1](p,v,_);return"number"==typeof U&&(B=U),!0}return!1}),B}_checkSize(){this._users.forAll(c=>this._checkSizeLimits(c)),this._checkSizeLimits()}_checkSizeLimits(c){const p=null!=c?c:this;if(p.maxSize<0||p.size<=p.maxSize)return;const _=null==c?void 0:c.id;let v=!0;for(;v;){v=!1;for(const[B,g]of this._db)if(0===g.lifetime&&(!_||B.startsWith(_))){if(this._purgeItem(B,g,c),p.size<=.9*p.maxSize)return;v||(v=this._db.has(B))}}for(const[B,g]of this._db)if((!_||B.startsWith(_))&&(this._purgeItem(B,g,c),p.size<=.9*p.maxSize))return}_purgeItem(c,p,_=this._users.find(v=>c.startsWith(v.id))){if(this._db.delete(c),p.lives<=1){this._size-=p.size,_&&(_.size-=p.size);const v=this._notifyRemove(c,p.entry,p.size,T.SOME);null!=v&&v>0&&(this._size+=v,_&&(_.size+=v),p.lives=p.lifetime,p.size=v,this._db.set(c,p))}else--p.lives,this._db.set(c,p)}}let W=0;class N{constructor(c,p,_){this.entry=c,this.size=p,this.lifetime=_,this.lives=_}}},24098:(te,V,l)=>{l.d(V,{GB:()=>S,Qo:()=>T,Y4:()=>f});var I=l(44549);class S{}function f(L){return L instanceof I.bo?L===S.instance:"unknown"===(null==L?void 0:L.toString().toLowerCase())}function T(L){return f(L)?S.instance:L}S.instance=new I.oh("Etc/UTC")},721:(te,V,l)=>{l.d(V,{$X:()=>se,Gy:()=>Z,P5:()=>ae,SW:()=>ne,Tr:()=>re,VV:()=>L}),l(61320);const f=(a,i,y)=>[i,y],T=(a,i,y)=>[i,y,a[2]],K=(a,i,y)=>[i,y,a[2],a[3]];function L(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:a.tolerance?[a.tolerance,a.tolerance]:[1,1],translate:null!=a.extent?[a.extent.xmin,a.extent.ymax]:[0,0]}:null}function g({scale:a,translate:i},y){return y*a[0]+i[0]}function U({scale:a,translate:i},y){return i[1]-y*a[1]}function Y(a,i,y){const A=new Array(y.length);if(!y.length)return A;const[z,x]=a.scale;let k=g(a,y[0][0]),E=U(a,y[0][1]);A[0]=i(y[0],k,E);for(let O=1;O<y.length;O++){const R=y[O];k+=R[0]*z,E-=R[1]*x,A[O]=i(R,k,E)}return A}function C(a,i,y){const A=new Array(y.length);for(let z=0;z<y.length;z++)A[z]=Y(a,i,y[z]);return A}function Z(a,i,y,A,z){return i.x=function N({scale:a,translate:i},y){return Math.round((y-i[0])/a[0])}(a,y.x),i.y=function w({scale:a,translate:i},y){return Math.round((i[1]-y)/a[1])}(a,y.y),i!==y&&(A&&(i.z=y.z),z&&(i.m=y.m)),i}function ne(a,i,y,A,z){return null!=y&&(i.points=function s(a,i,y,A){return Y(a,y?A?K:T:A?T:f,i)}(a,y.points,A,z)),i}function re(a,i,y,A,z){return null==y||(i.x=g(a,y.x),i.y=U(a,y.y),i!==y&&(A&&(i.z=y.z),z&&(i.m=y.m))),i}function se(a,i,y,A,z){return null!=y&&(i.rings=function M(a,i,y,A){return C(a,y?A?K:T:A?T:f,i)}(a,y.rings,A,z)),i}function ae(a,i,y,A,z){return null!=y&&(i.paths=function m(a,i,y,A){return C(a,y?A?K:T:A?T:f,i)}(a,y.paths,A,z)),i}},72921:(te,V,l)=>{l.r(V),l.d(V,{default:()=>k});var I=l(10467),S=l(8189),T=(l(21152),l(81098)),L=(l(47280),l(31178)),W=l(5922),N=l(77806),w=l(39693),c=l(89221),p=l(96996),_=l(85211),g=(l(3248),l(35150),l(17221)),U=l(76576),Y=l(50305),C=l(11817),h=l(51995),s=l(77098),m=l(58701),M=l(35940),o=l(36819),d=l(95478),D=l(18056),j=l(93410),X=l(17049),b=l(85551),P=l(33036),Z=l(29141),F=l(88521),G=l(55417),ee=l(46602),Q=l(47705),ne=l(32034),re=l(28067);function se(E){return"markup"===E.featureCollectionType||E.layers.some(O=>null!=O.layerDefinition.visibilityField||!ae(O))}function ae({layerDefinition:E,featureSet:O}){var R;const J=null!==(R=E.geometryType)&&void 0!==R?R:O.geometryType;return z.find($=>{var H;return J===$.geometryTypeJSON&&(null===(H=E.drawingInfo)||void 0===H||null===(H=H.renderer)||void 0===H||null===(H=H.symbol)||void 0===H?void 0:H.type)===$.identifyingSymbol.type})}function a(){return new re.A({xmin:-180,ymin:-90,xmax:180,ymax:90})}const i=new Z.A({name:"OBJECTID",alias:"OBJECTID",type:"oid",nullable:!1,editable:!1}),y=new Z.A({name:"title",alias:"Title",type:"string",nullable:!0,editable:!0,length:255});let A=class extends o.A{constructor(E){super(E),this.visibilityMode="inherited"}initialize(){for(const E of this.graphics)E.sourceLayer=this.layer;this.graphics.on("after-add",E=>{E.item.sourceLayer=this.layer}),this.graphics.on("after-remove",E=>{E.item.sourceLayer=null})}get fullExtent(){var E;const O=null===(E=this.layer)||void 0===E?void 0:E.spatialReference,R=this.fullBounds;return O?null==R?(0,C.projectOrLoad)(a(),O).geometry:(0,h.w1)(R,O):null}get fullBounds(){var E;const O=null===(E=this.layer)||void 0===E?void 0:E.spatialReference;if(!O)return null;const R=(0,h.Ie)();return this.graphics.forEach(J=>{const $=null!=J.geometry?(0,C.projectOrLoad)(J.geometry,O).geometry:null;null!=$&&(0,h.fT)(R,"point"===$.type?$:$.extent,R)}),(0,h.aI)(R,h.qv)?null:R}get sublayers(){return this.graphics}};(0,S._)([(0,_.MZ)({readOnly:!0})],A.prototype,"fullExtent",null),(0,S._)([(0,_.MZ)({readOnly:!0})],A.prototype,"fullBounds",null),(0,S._)([(0,_.MZ)({readOnly:!0})],A.prototype,"sublayers",null),(0,S._)([(0,_.MZ)()],A.prototype,"layer",void 0),(0,S._)([(0,_.MZ)()],A.prototype,"layerId",void 0),(0,S._)([(0,_.MZ)({readOnly:!0})],A.prototype,"visibilityMode",void 0),A=(0,S._)([(0,U.$)("esri.layers.MapNotesLayer.MapNotesSublayer")],A);const z=[{geometryType:"polygon",geometryTypeJSON:"esriGeometryPolygon",id:"polygonLayer",layerId:0,title:"Polygons",identifyingSymbol:(new F.A).toJSON()},{geometryType:"polyline",geometryTypeJSON:"esriGeometryPolyline",id:"polylineLayer",layerId:1,title:"Polylines",identifyingSymbol:(new G.A).toJSON()},{geometryType:"multipoint",geometryTypeJSON:"esriGeometryMultipoint",id:"multipointLayer",layerId:2,title:"Multipoints",identifyingSymbol:(new ee.A).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",id:"pointLayer",layerId:3,title:"Points",identifyingSymbol:(new ee.A).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",id:"textLayer",layerId:4,title:"Text",identifyingSymbol:(new Q.A).toJSON()}];let x=class extends((0,j.d)((0,P.j)((0,X.q)((0,b.A)((0,w.P)(d.A)))))){constructor(E){super(E),this.capabilities={operations:{supportsMapNotesEditing:!0}},this.featureCollections=null,this.featureCollectionJSON=null,this.featureCollectionType="notes",this.legendEnabled=!1,this.listMode="hide-children",this.minScale=0,this.maxScale=0,this.spatialReference=ne.A.WGS84,this.sublayers=new L.A(z.map(O=>new A({id:O.id,layerId:O.layerId,title:O.title,layer:this}))),this.title="Map Notes",this.type="map-notes",this.visibilityMode="inherited"}readCapabilities(E,O,R){return{operations:{supportsMapNotesEditing:!se(O)&&"portal-item"!==(null==R?void 0:R.origin)}}}readFeatureCollections(E,O,R){if(!se(O))return null;const J=O.layers.map($=>{const H=new M.default;return H.read($,R),H});return new L.A({items:J})}readLegacyfeatureCollectionJSON(E,O){return se(O)?(0,N.o8)(O.featureCollection):null}get fullExtent(){var E;const O=this.spatialReference,R=(0,h.Ie)();return null!=this.sublayers?this.sublayers.forEach(({fullBounds:J})=>null!=J?(0,h.fT)(R,J,R):R,R):null!==(E=this.featureCollectionJSON)&&void 0!==E&&E.layers.some(J=>J.layerDefinition.extent)&&this.featureCollectionJSON.layers.forEach(J=>{const $=(0,C.projectOrLoad)(J.layerDefinition.extent,O).geometry;null!=$&&(0,h.fT)(R,$,R)}),(0,h.aI)(R,h.qv)?(0,C.projectOrLoad)(a(),O).geometry:(0,h.w1)(R,O)}readMinScale(E,O){for(const R of O.layers)if(null!=R.layerDefinition.minScale)return R.layerDefinition.minScale;return 0}readMaxScale(E,O){for(const R of O.layers)if(null!=R.layerDefinition.maxScale)return R.layerDefinition.maxScale;return 0}get multipointLayer(){return this._findSublayer("multipointLayer")}get pointLayer(){return this._findSublayer("pointLayer")}get polygonLayer(){return this._findSublayer("polygonLayer")}get polylineLayer(){return this._findSublayer("polylineLayer")}readSpatialReference(E,O){return O.layers.length?ne.A.fromJSON(O.layers[0].layerDefinition.spatialReference):ne.A.WGS84}readSublayers(E,O,R){if(se(O))return null;const J=[];let $=O.layers.reduce((q,oe)=>{var ie;return Math.max(q,null!==(ie=oe.layerDefinition.id)&&void 0!==ie?ie:-1)},-1)+1;for(const q of O.layers){var H;const{layerDefinition:oe,featureSet:ie}=q,ue=null!==(H=oe.id)&&void 0!==H?H:$++,le=ae(q);if(null!=le){const _e=new A({id:le.id,title:oe.name,layerId:ue,layer:this,graphics:ie.features.map(({geometry:pe,symbol:de,attributes:ce,popupInfo:ye})=>T.A.fromJSON({attributes:ce,geometry:pe,symbol:de,popupTemplate:ye}))});J.push(_e)}}return new L.A(J)}writeSublayers(E,O,R,J){var $;const{minScale:H,maxScale:q}=this;if(null==E)return;const oe=E.some(le=>le.graphics.length>0);if(!this.capabilities.operations.supportsMapNotesEditing)return void(oe&&(null==J||null===($=J.messages)||void 0===$||$.push(new W.A("map-notes-layer:editing-not-supported","New map notes cannot be added to this layer"))));const ie=[];let ue=this.spatialReference.toJSON();e:for(const le of E)for(const _e of le.graphics)if(null!=_e.geometry){ue=_e.geometry.spatialReference.toJSON();break e}for(const le of z){const _e=E.find(pe=>le.id===pe.id);this._writeMapNoteSublayer(ie,_e,le,H,q,ue,J)}(0,c.sM)("featureCollection.layers",ie,O)}get textLayer(){return this._findSublayer("textLayer")}load(E){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},E)),Promise.resolve(this)}read(E,O){"featureCollection"in E&&(E=(0,N.o8)(E),Object.assign(E,E.featureCollection)),super.read(E,O)}beforeSave(){var E=this;return(0,I.A)(function*(){if(null==E.sublayers)return;let O=null;const R=[];for(const $ of E.sublayers)for(const H of $.graphics)if(null!=H.geometry){const q=H.geometry;O?(0,m.aI)(q.spatialReference,O)||((0,C.canProjectWithoutEngine)(q.spatialReference,O)||(0,C.isLoaded)()||(yield(0,C.load)()),H.geometry=(0,C.project)(q,O)):O=q.spatialReference,R.push(H)}const J=yield(0,s.el)(R.map($=>$.geometry));R.forEach(($,H)=>$.geometry=J[H])})()}_findSublayer(E){var O,R;return null==this.sublayers?null:null!==(O=null===(R=this.sublayers)||void 0===R?void 0:R.find(J=>J.id===E))&&void 0!==O?O:null}_writeMapNoteSublayer(E,O,R,J,$,H,q){const oe=[];if(null!=O){for(const ie of O.graphics)this._writeMapNote(oe,ie,R.geometryType,q);this._normalizeObjectIds(oe,i),E.push({layerDefinition:{name:O.title,drawingInfo:{renderer:{type:"simple",symbol:(0,N.o8)(R.identifyingSymbol)}},id:O.layerId,geometryType:R.geometryTypeJSON,minScale:J,maxScale:$,objectIdField:"OBJECTID",fields:[i.toJSON(),y.toJSON()],spatialReference:H},featureSet:{features:oe,geometryType:R.geometryTypeJSON}})}}_writeMapNote(E,O,R,J){var $,H;if(null==O)return;const{geometry:q,symbol:oe,popupTemplate:ie}=O;if(null==q)return;if(q.type!==R)return void(null==J||null===($=J.messages)||void 0===$||$.push(new p.A("map-notes-layer:invalid-geometry-type",`Geometry "${q.type}" cannot be saved in "${R}" layer`,{graphic:O})));if(null==oe)return void(null==J||null===(H=J.messages)||void 0===H||H.push(new p.A("map-notes-layer:no-symbol","Skipping map notes with no symbol",{graphic:O})));const ue={attributes:{...O.attributes},geometry:q.toJSON(),symbol:oe.toJSON()};null!=ie&&(ue.popupInfo=ie.toJSON()),E.push(ue)}_normalizeObjectIds(E,O){const R=O.name;let J=(0,D.H)(R,E)+1;const $=new Set;for(const H of E){H.attributes||(H.attributes={});const{attributes:q}=H;(null==q[R]||$.has(q[R]))&&(q[R]=J++),$.add(q[R])}}};(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"capabilities",void 0),(0,S._)([(0,g.w)(["portal-item","web-map"],"capabilities",["layers"])],x.prototype,"readCapabilities",null),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"featureCollections",void 0),(0,S._)([(0,g.w)(["web-map","portal-item"],"featureCollections",["layers"])],x.prototype,"readFeatureCollections",null),(0,S._)([(0,_.MZ)({readOnly:!0,json:{origins:{"web-map":{write:{enabled:!0,target:"featureCollection"}}}}})],x.prototype,"featureCollectionJSON",void 0),(0,S._)([(0,g.w)(["web-map","portal-item"],"featureCollectionJSON",["featureCollection"])],x.prototype,"readLegacyfeatureCollectionJSON",null),(0,S._)([(0,_.MZ)({readOnly:!0,json:{read:!0,write:{enabled:!0,ignoreOrigin:!0}}})],x.prototype,"featureCollectionType",void 0),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"fullExtent",null),(0,S._)([(0,_.MZ)({readOnly:!0,json:{origins:{"web-map":{write:{target:"featureCollection.showLegend",overridePolicy(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],x.prototype,"legendEnabled",void 0),(0,S._)([(0,_.MZ)({type:["show","hide","hide-children"]})],x.prototype,"listMode",void 0),(0,S._)([(0,_.MZ)({type:Number,nonNullable:!0,json:{write:!1}})],x.prototype,"minScale",void 0),(0,S._)([(0,g.w)(["web-map","portal-item"],"minScale",["layers"])],x.prototype,"readMinScale",null),(0,S._)([(0,_.MZ)({type:Number,nonNullable:!0,json:{write:!1}})],x.prototype,"maxScale",void 0),(0,S._)([(0,g.w)(["web-map","portal-item"],"maxScale",["layers"])],x.prototype,"readMaxScale",null),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"multipointLayer",null),(0,S._)([(0,_.MZ)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],x.prototype,"operationalLayerType",void 0),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"pointLayer",null),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"polygonLayer",null),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"polylineLayer",null),(0,S._)([(0,_.MZ)({type:ne.A})],x.prototype,"spatialReference",void 0),(0,S._)([(0,g.w)(["web-map","portal-item"],"spatialReference",["layers"])],x.prototype,"readSpatialReference",null),(0,S._)([(0,_.MZ)({readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],x.prototype,"sublayers",void 0),(0,S._)([(0,g.w)("web-map","sublayers",["layers"])],x.prototype,"readSublayers",null),(0,S._)([(0,Y.K)("web-map","sublayers")],x.prototype,"writeSublayers",null),(0,S._)([(0,_.MZ)({readOnly:!0})],x.prototype,"textLayer",null),(0,S._)([(0,_.MZ)()],x.prototype,"title",void 0),(0,S._)([(0,_.MZ)({readOnly:!0,json:{read:!1}})],x.prototype,"type",void 0),x=(0,S._)([(0,U.$)("esri.layers.MapNotesLayer")],x);const k=x},94376:(te,V,l)=>{l.d(V,{p:()=>N});var I=l(8189),S=l(85211),L=(l(3248),l(35150),l(40707),l(76576));const N=w=>{let c=class extends w{get apiKey(){var p;return this._isOverridden("apiKey")?this._get("apiKey"):function W(w){return"portalItem"in w}(this)?null===(p=this.portalItem)||void 0===p?void 0:p.apiKey:null}set apiKey(p){null!=p?this._override("apiKey",p):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,I._)([(0,S.MZ)({type:String})],c.prototype,"apiKey",null),c=(0,I._)([(0,L.$)("esri.layers.mixins.APIKeyMixin")],c),c}},25936:(te,V,l)=>{l.d(V,{b:()=>N});var I=l(8189),S=l(35150),f=l(85211),L=(l(3248),l(40707),l(76576)),W=l(68438);const N=w=>{let c=class extends w{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const p=(0,W.qg)(this.url);if(null!=p&&p.title)return p.title}return this._get("title")||""}set title(p){this._set("title",p)}set url(p){this._set("url",(0,W.Jf)(p,S.A.getLogger(this)))}};return(0,I._)([(0,f.MZ)()],c.prototype,"title",null),(0,I._)([(0,f.MZ)({type:String})],c.prototype,"url",null),c=(0,I._)([(0,L.$)("esri.layers.mixins.ArcGISService")],c),c}},47063:(te,V,l)=>{l.d(V,{A:()=>B});var I=l(8189),S=l(90660),f=l(71065),T=l(85211),N=(l(3248),l(35150),l(40707),l(17221)),w=l(76576),c=l(50305),p=l(84546),_=l(69741);let v=class extends((0,S.O)(f.oY)){constructor(g){super(g),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(g){const U={};for(const Y of Object.keys(g))U[Y]=(0,p.rS)(g[Y]);return U}writeDomains(g,U){const Y={};for(const h of Object.keys(g)){var C;g[h]&&(Y[h]=null===(C=g[h])||void 0===C?void 0:C.toJSON())}U.domains=Y}};(0,I._)([(0,T.MZ)({json:{write:!0}})],v.prototype,"id",void 0),(0,I._)([(0,T.MZ)({json:{write:!0}})],v.prototype,"name",void 0),(0,I._)([(0,T.MZ)({json:{write:!0}})],v.prototype,"domains",void 0),(0,I._)([(0,N.w)("domains")],v.prototype,"readDomains",null),(0,I._)([(0,c.K)("domains")],v.prototype,"writeDomains",null),(0,I._)([(0,T.MZ)({type:[_.A],json:{write:!0}})],v.prototype,"templates",void 0),v=(0,I._)([(0,w.$)("esri.layers.support.FeatureType")],v);const B=v},73258:(te,V,l)=>{l.d(V,{A:()=>v});var I=l(5922),S=l(71065),f=l(35150),T=l(60797),K=l(24098),L=l(86300),W=l(22639),N=l(44549);const _=new Map;class v{static fromJSON(h){return new v(h.fields,h.timeZoneByFieldName)}static fromLayer(h){var s;return new v(null!==(s=h.fields)&&void 0!==s?s:[],Y(h))}static fromLayerJSON(h){var s;return new v(null!==(s=h.fields)&&void 0!==s?s:[],Y(h))}constructor(h=[],s){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=h||[],this._timeZoneByFieldName=s?new Map(s):null;const m=[];for(const o of this.fields){const d=null==o?void 0:o.name,D=g(d);if(d&&D){var M;const j=B(d);this._fieldsMap.set(d,o),this._fieldsMap.set(j,o),this._normalizedFieldsMap.set(D,o),m.push(`${j}:${o.type}:${null===(M=this._timeZoneByFieldName)||void 0===M?void 0:M.get(d)}`),(0,L.vE)(o)?(this.dateFields.push(o),this._dateFieldsSet.add(o)):(0,L.WA)(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),(0,L.te)(o)||(0,L.Xz)(o)||(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable)}}m.sort(),this.uid=m.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const h of this.fields)(0,L.te)(h)||(0,L.Xz)(h)||h.nullable||void 0!==(0,L.lD)(h)||this._requiredFields.push(h)}return this._requiredFields}equals(h){return this.uid===(null==h?void 0:h.uid)}has(h){return null!=this.get(h)}get(h){var s;if(!h)return;let m=this._fieldsMap.get(h);return m||(m=null!==(s=this._fieldsMap.get(B(h)))&&void 0!==s?s:this._normalizedFieldsMap.get(g(h)),m&&this._fieldsMap.set(h,m),m)}getTimeZone(h){const s=this.get(h&&"string"!=typeof h?h.name:h);return s?this._timeZoneByFieldName?this._timeZoneByFieldName.get(s.name):"date"===s.type||"esriFieldTypeDate"===s.type?(f.A.getLogger("esri.layers.support.FieldsIndex").error(new I.A("getTimeZone:no-timezone-information",`no time zone information for field '${s.name}'`)),W.n$):U.has(s.type)?W.L5:null:null}getLuxonTimeZone(h){const s=this.getTimeZone(h);return s?s===W.L5?K.GB.instance:s===W.n$?N.mQ.utcInstance:(0,T.tE)(_,s,()=>N.oh.create(s)):null}isDateField(h){return this._dateFieldsSet.has(this.get(h))}isTimeOnlyField(h){return(0,L.OH)(this.get(h))}isNumericField(h){return this._numericFieldsSet.has(this.get(h))}normalizeFieldName(h){var s,m;return null!==(s=null===(m=this.get(h))||void 0===m?void 0:m.name)&&void 0!==s?s:void 0}toJSON(){return{fields:this.fields.map(h=>(0,S.Wj)(h)?h.toJSON():h),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function B(C){return C.trim().toLowerCase()}function g(C){var h,s;return null!==(h=null===(s=(0,L.rS)(C))||void 0===s?void 0:s.toLowerCase())&&void 0!==h?h:""}const U=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function Y(C){var h,s,m,M,o,d,D;const j=new Map;if(!C.fields)return j;const X=!0===C.datesInUnknownTimezone,{timeInfo:b,editFieldsInfo:P}=C,Z=null!==(h=b?"startField"in b?b.startField:b.startTimeField:"")&&void 0!==h?h:"",F=null!==(s=b?"endField"in b?b.endField:b.endTimeField:"")&&void 0!==s?s:"",G=function p(C){return"dateFieldsTimeZone"in C}(C)?null!==(m=C.dateFieldsTimeZone)&&void 0!==m?m:null:C.dateFieldsTimeReference?(0,W.ZS)(C.dateFieldsTimeReference):null,ee=P?function w(C){return"timeZone"in C}(P)?null!==(M=P.timeZone)&&void 0!==M?M:G:P.dateFieldsTimeReference?(0,W.ZS)(P.dateFieldsTimeReference):null!=G?G:W.n$:null,Q=b?function c(C){return"timeZone"in C}(b)?null!==(o=b.timeZone)&&void 0!==o?o:G:b.timeReference?(0,W.ZS)(b.timeReference):G:null,ne=new Map([[B(null!==(d=null==P?void 0:P.creationDateField)&&void 0!==d?d:""),ee],[B(null!==(D=null==P?void 0:P.editDateField)&&void 0!==D?D:""),ee],[B(Z),Q],[B(F),Q]]);for(const{name:se,type:ae}of C.fields)if(U.has(ae))j.set(se,W.L5);else if("date"!==ae&&"esriFieldTypeDate"!==ae)j.set(se,null);else if(X)j.set(se,W.L5);else{var re;const a=null!==(re=ne.get(B(null!=se?se:"")))&&void 0!==re?re:G;j.set(se,a)}return j}},64584:(te,V,l)=>{l.d(V,{A:()=>p});var w,I=l(8189),S=l(31178),f=l(71065),T=l(85211),N=(l(3248),l(35150),l(40707),l(76576));let c=w=class extends f.oY{constructor(_){super(_),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new S.A}clone(){return new w({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,I._)([(0,T.MZ)({type:String,json:{write:!0}})],c.prototype,"floorField",void 0),(0,I._)([(0,T.MZ)({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0),(0,I._)([(0,T.MZ)({json:{read:!1,write:!1}})],c.prototype,"viewAllLevelIds",void 0),c=w=(0,I._)([(0,N.$)("esri.layers.support.LayerFloorInfo")],c);const p=c},4858:(te,V,l)=>{l.d(V,{BI:()=>B,D3:()=>_,XJ:()=>v,lc:()=>p,mX:()=>U,rU:()=>g,tH:()=>M});var I=l(1119);const S="__begin__",f="__end__",T=new RegExp(S,"ig"),K=new RegExp(f,"ig"),L=new RegExp("^"+S,"i"),W=new RegExp(f+"$","i"),N='"',w=N+" + ",c=" + "+N;function p(o){return o.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function _(o){return o.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function v(o){const d={expression:"",type:"none"};return o.labelExpressionInfo?o.labelExpressionInfo.value?(d.expression=o.labelExpressionInfo.value,d.type="conventional"):o.labelExpressionInfo.expression&&(d.expression=o.labelExpressionInfo.expression,d.type="arcade"):null!=o.labelExpression&&(d.expression=p(o.labelExpression),d.type="conventional"),d}function B(o){const d=v(o);if(!d)return null;switch(d.type){case"conventional":return U(d.expression);case"arcade":return d.expression}return null}function g(o){const d=v(o);if(!d)return null;switch(d.type){case"conventional":return function C(o){const d=null==o?void 0:o.match(Y);return(null==d?void 0:d[1].trim())||null}(d.expression);case"arcade":return M(d.expression)}return null}function U(o){let d;return o?(d=(0,I.HC)(o,D=>S+'$feature["'+D+'"]'+f),d=L.test(d)?d.replace(L,""):N+d,d=W.test(d)?d.replace(W,""):d+N,d=d.replaceAll(T,w).replaceAll(K,c)):d='""',d}const Y=/^\s*\{([^}]+)\}\s*$/i,h=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,s=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,m=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function M(o){if(!o)return null;let d=h.exec(o)||s.exec(o);return d?d[1]||d[3]:(d=m.exec(o),d?d[2]:null)}},90543:(te,V,l)=>{l.d(V,{S:()=>w});var I=l(3248),S=l(68438);function f(s,m,M){return!!K(s,m,M)}function T(s,m,M){return K(s,m,M)}function K(s,m,M){return s&&s.hasOwnProperty(m)?s[m]:M}const L={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function W(s){var m;const M=null==s||null===(m=s.supportedSpatialAggregationStatistics)||void 0===m?void 0:m.map(o=>o.toLowerCase());return{envelope:!(null==M||!M.includes("envelopeaggregate")),centroid:!(null==M||!M.includes("centroidaggregate")),convexHull:!(null==M||!M.includes("convexhullaggregate"))}}function N(s,m){var M;const o=null==s||null===(M=s.supportedOperationsWithCacheHint)||void 0===M?void 0:M.map(d=>d.toLowerCase());return!(null==o||!o.includes(m.toLowerCase()))}function w(s,m){return{analytics:c(s),attachment:p(s),data:_(s),metadata:v(s),operations:B(s.capabilities,s,m),query:g(s,m),queryRelated:U(s),queryTopFeatures:Y(s),editing:C(s)}}function c(s){return{supportsCacheHint:N(s.advancedQueryCapabilities,"queryAnalytics")}}function p(s){const m=s.attachmentProperties,M={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:N(s.advancedQueryCapabilities,"queryAttachments"),supportsResize:f(s,"supportsAttachmentsResizing",!1)};return m&&Array.isArray(m)&&m.forEach(o=>{const d=L[o.name];d&&(M[d]=!!o.isEnabled)}),M}function _(s){return{isVersioned:f(s,"isDataVersioned",!1),supportsAttachment:f(s,"hasAttachments",!1),supportsM:f(s,"hasM",!1),supportsZ:f(s,"hasZ",!1)}}function v(s){return{supportsAdvancedFieldProperties:f(s,"supportsFieldDescriptionProperty",!1)}}function B(s,m,M){const o=s?s.toLowerCase().split(",").map(G=>G.trim()):[],d=M?(0,S.qg)(M):null,D=o.includes(null!=d&&"MapServer"===d.serverType?"data":"query"),j=o.includes("editing")&&!m.datesInUnknownTimezone;let X=j&&o.includes("create"),b=j&&o.includes("delete"),P=j&&o.includes("update");const Z=o.includes("changetracking"),F=m.advancedQueryCapabilities;return j&&!(X||b||P)&&(X=b=P=!0),{supportsCalculate:f(m,"supportsCalculate",!1),supportsTruncate:f(m,"supportsTruncate",!1),supportsValidateSql:f(m,"supportsValidateSql",!1),supportsAdd:X,supportsDelete:b,supportsEditing:j,supportsChangeTracking:Z,supportsQuery:D,supportsQueryAnalytics:f(F,"supportsQueryAnalytic",!1),supportsQueryAttachments:f(F,"supportsQueryAttachments",!1),supportsQueryTopFeatures:f(F,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:f(m,"supportsAttachmentsResizing",!1),supportsSync:o.includes("sync"),supportsUpdate:P,supportsExceedsLimitStatistics:f(m,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:f(m,"supportsAsyncConvert3D",!1)}}function g(s,m){var M;const o=s.advancedQueryCapabilities,d=s.ownershipBasedAccessControlForFeatures,D=s.archivingInfo,j=s.currentVersion,b=!(null==m?void 0:m.includes("MapServer"))||j>=(0,I.A)("mapserver-pbf-version-support"),P=(0,S.Wo)(m),Z=new Set((null!==(M=s.supportedQueryFormats)&&void 0!==M?M:"").split(",").map(F=>F.toLowerCase().trim()));return{supportsStatistics:f(o,"supportsStatistics",s.supportsStatistics),supportsPercentileStatistics:f(o,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:f(o,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:W(o),supportsCentroid:f(o,"supportsReturningGeometryCentroid",!1),supportsDistance:f(o,"supportsQueryWithDistance",!1),supportsDistinct:f(o,"supportsDistinct",s.supportsAdvancedQueries),supportsExtent:f(o,"supportsReturningQueryExtent",!1),supportsGeometryProperties:f(o,"supportsReturningGeometryProperties",!1),supportsHavingClause:f(o,"supportsHavingClause",!1),supportsOrderBy:f(o,"supportsOrderBy",s.supportsAdvancedQueries),supportsPagination:f(o,"supportsPagination",!1),supportsQuantization:f(s,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:f(s,"supportsQuantizationEditMode",!1),supportsQueryGeometry:f(s,"supportsReturningQueryGeometry",!1),supportsResultType:f(o,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:f(o,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:f(o,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:f(s,"useStandardizedQueries",!1),supportsTopFeaturesQuery:f(o,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:f(d,"allowAnonymousToQuery",!0),supportsQueryByOthers:f(d,"allowOthersToQuery",!0),supportsHistoricMoment:f(D,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:b&&Z.has("pbf"),supportsDisjointSpatialRelationship:f(o,"supportsDisjointSpatialRel",!1),supportsCacheHint:f(o,"supportsQueryWithCacheHint",!1)||N(o,"query"),supportsDefaultSpatialReference:f(o,"supportsDefaultSR",!1),supportsCompactGeometry:P,supportsFullTextSearch:f(o,"supportsFullTextSearch",!1),maxRecordCountFactor:T(s,"maxRecordCountFactor",void 0),maxRecordCount:T(s,"maxRecordCount",void 0),standardMaxRecordCount:T(s,"standardMaxRecordCount",void 0),tileMaxRecordCount:T(s,"tileMaxRecordCount",void 0)}}function U(s){const m=s.advancedQueryCapabilities,M=f(m,"supportsAdvancedQueryRelated",!1);return{supportsPagination:f(m,"supportsQueryRelatedPagination",!1),supportsCount:M,supportsOrderBy:M,supportsCacheHint:N(m,"queryRelated")}}function Y(s){return{supportsCacheHint:N(s.advancedQueryCapabilities,"queryTopFilter")}}function C(s){const m=s.ownershipBasedAccessControlForFeatures,M=s?s.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:f(s,"allowGeometryUpdates",!0),supportsGlobalId:f(s,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:f(s,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:f(s,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:f(s,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:f(s,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:f(m,"allowAnonymousToDelete",!0),supportsDeleteByOthers:f(m,"allowOthersToDelete",!0),supportsUpdateByAnonymous:f(m,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:f(m,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:f(M,"supportsAsyncApplyEdits",!1),zDefault:T(s,"zDefault",void 0)}}},78592:(te,V,l)=>{l.d(V,{O3:()=>w,PU:()=>W,YW:()=>p,ex:()=>K,hv:()=>c,zp:()=>L});var I=l(69287),S=l(67685),f=l(53781),T=l(89141);const K=2.4;function L(_){return(0,S.PN)(_*K)}function W(_){return(0,S.Lz)(_)/K}function N(_,v,B,g){let{color:U,ratio:Y}=v,{color:C,ratio:h}=B;h===Y&&(1===h?Y-=1e-6:h+=1e-6);const s=(0,I.qE)((g-Y)/(h-Y),0,1);(0,f.l)(_,U.toArray(),C.toArray(),s)}function w(_){const B=new Uint8ClampedArray(2048);if((_=_.filter(({ratio:h})=>h>=0&&h<=1).sort((h,s)=>h.ratio-s.ratio).map(({color:h,ratio:s})=>({color:h,ratio:Math.max(s,.001)}))).length<1)return B;let g=_[0],U=_[0],Y=1;const C=(0,T.vt)();for(let h=0;h<512;h++){const s=(h+.5)/512;for(;s>U.ratio&&Y<_.length;)g=U,U=_[Y++];N(C,g,U,s),B.set(C,4*h)}return B}function c(_,v,B){const g=Math.sqrt(_**2+v**2)/B;return g>1?0:3/(Math.PI*B**2)*(1-g**2)**2}function p(_){return"function"==typeof _?_:_?v=>+v[_]:()=>1}},98789:(te,V,l)=>{l.d(V,{q:()=>S});var I=l(23743);function S(f,T,K){if(null==K||!K.features||!K.hasZ)return;const L=(0,I.N)(K.geometryType,T,f.outSpatialReference);if(null!=L)for(const W of K.features)L(W.geometry)}},93327:(te,V,l)=>{l.d(V,{A:()=>h});var U,I=l(8189),S=l(21152),f=l(81098),T=l(49976),K=l(71065),L=l(77806),W=l(85211),c=(l(3248),l(35150),l(17221)),p=l(76576),_=l(50305),v=l(32034),B=l(61320),g=l(29141);const Y=new T.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let C=U=class extends K.oY{constructor(s){super(s),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(s,m){const M=v.A.fromJSON(m.spatialReference),o=[];for(let D=0;D<s.length;D++){var d;const j=s[D],X=f.A.fromJSON(j),b=null===(d=j.geometry)||void 0===d?void 0:d.spatialReference;null==X.geometry||b||(X.geometry.spatialReference=M);const P=j.aggregateGeometries,Z=X.aggregateGeometries;if(P&&null!=Z)for(const F in Z){const G=Z[F],ee=P[F];null==G||(null==ee?void 0:ee.spatialReference)||(G.spatialReference=M)}o.push(X)}return o}writeGeometryType(s,m,M,o){if(s)return void Y.write(s,m,M,o);const{features:d}=this;if(d)for(const D of d)if(null!=(null==D?void 0:D.geometry))return void Y.write(D.geometry.type,m,M,o)}readQueryGeometry(s,m){if(!s)return null;const M=!!s.spatialReference,o=(0,B.rS)(s);return o&&!M&&m.spatialReference&&(o.spatialReference=v.A.fromJSON(m.spatialReference)),o}writeSpatialReference(s,m){if(s)return void(m.spatialReference=s.toJSON());const{features:M}=this;if(M)for(const o of M)if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(m.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new U(this.cloneProperties())}cloneProperties(){return(0,L.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(s){const m=this.write();if(m.features&&Array.isArray(s)&&s.length>0)for(let M=0;M<m.features.length;M++){const o=m.features[M];if(o.geometry){const d=null==s?void 0:s[M];o.geometry=(null==d?void 0:d.toJSON())||o.geometry}}return m}quantize(s){const{scale:[m,M],translate:[o,d]}=s,X=this.features,b=this._getQuantizationFunction(this.geometryType,P=>Math.round((P-o)/m),P=>Math.round((d-P)/M));for(let P=0,Z=X.length;P<Z;P++)null!=b&&b(X[P].geometry)||(X.splice(P,1),P--,Z--);return this.transform=s,this}unquantize(){var s,m;const{geometryType:M,features:o,transform:d}=this;if(!d)return this;const{translate:[D,j],scale:[X,b]}=d;let F=null,G=null;if(this.hasZ&&null!=(null==d||null===(s=d.scale)||void 0===s?void 0:s[2])){const{translate:[,,Q],scale:[,,ne]}=d;F=re=>re*ne+Q}if(this.hasM&&null!=(null==d||null===(m=d.scale)||void 0===m?void 0:m[3])){const{translate:[,,,Q],scale:[,,,ne]}=d;G=re=>null==re?re:re*ne+Q}const ee=this._getHydrationFunction(M,Q=>Q*X+D,Q=>j-Q*b,F,G);for(const{geometry:Q}of o)null!=Q&&ee&&ee(Q);return this.transform=null,this}_quantizePoints(s,m,M){let o,d;const D=[];for(let j=0,X=s.length;j<X;j++){const b=s[j];if(j>0){const P=m(b[0]),Z=M(b[1]);P===o&&Z===d||(D.push([P-o,Z-d]),o=P,d=Z)}else o=m(b[0]),d=M(b[1]),D.push([o,d])}return D.length>0?D:null}_getQuantizationFunction(s,m,M){return"point"===s?o=>(o.x=m(o.x),o.y=M(o.y),o):"polyline"===s||"polygon"===s?o=>{const d=(0,B.Bi)(o)?o.rings:o.paths,D=[];for(let j=0,X=d.length;j<X;j++){const P=this._quantizePoints(d[j],m,M);P&&D.push(P)}return D.length>0?((0,B.Bi)(o)?o.rings=D:o.paths=D,o):null}:"multipoint"===s?o=>{const d=this._quantizePoints(o.points,m,M);return d&&d.length>0?(o.points=d,o):null}:"extent"===s?o=>o:null}_getHydrationFunction(s,m,M,o,d){return"point"===s?D=>{D.x=m(D.x),D.y=M(D.y),o&&(D.z=o(D.z))}:"polyline"===s||"polygon"===s?D=>{const j=(0,B.Bi)(D)?D.rings:D.paths;let X,b;for(let P=0,Z=j.length;P<Z;P++){const F=j[P];for(let G=0,ee=F.length;G<ee;G++){const Q=F[G];G>0?(X+=Q[0],b+=Q[1]):(X=Q[0],b=Q[1]),Q[0]=m(X),Q[1]=M(b)}}if(o&&d)for(let P=0,Z=j.length;P<Z;P++){const F=j[P];for(let G=0,ee=F.length;G<ee;G++){const Q=F[G];Q[2]=o(Q[2]),Q[3]=d(Q[3])}}else if(o)for(let P=0,Z=j.length;P<Z;P++){const F=j[P];for(let G=0,ee=F.length;G<ee;G++){const Q=F[G];Q[2]=o(Q[2])}}else if(d)for(let P=0,Z=j.length;P<Z;P++){const F=j[P];for(let G=0,ee=F.length;G<ee;G++){const Q=F[G];Q[2]=d(Q[2])}}}:"extent"===s?D=>{D.xmin=m(D.xmin),D.ymin=M(D.ymin),D.xmax=m(D.xmax),D.ymax=M(D.ymax),o&&null!=D.zmax&&null!=D.zmin&&(D.zmax=o(D.zmax),D.zmin=o(D.zmin)),d&&null!=D.mmax&&null!=D.mmin&&(D.mmax=d(D.mmax),D.mmin=d(D.mmin))}:"multipoint"===s?D=>{const j=D.points;let X,b;for(let P=0,Z=j.length;P<Z;P++){const F=j[P];P>0?(X+=F[0],b+=F[1]):(X=F[0],b=F[1]),F[0]=m(X),F[1]=M(b)}if(o&&d)for(let P=0,Z=j.length;P<Z;P++){const F=j[P];F[2]=o(F[2]),F[3]=d(F[3])}else if(o)for(let P=0,Z=j.length;P<Z;P++){const F=j[P];F[2]=o(F[2])}else if(d)for(let P=0,Z=j.length;P<Z;P++){const F=j[P];F[2]=d(F[2])}}:null}};(0,I._)([(0,W.MZ)({type:String,json:{write:!0}})],C.prototype,"displayFieldName",void 0),(0,I._)([(0,W.MZ)({type:Boolean,json:{write:{overridePolicy:s=>({enabled:s})}}})],C.prototype,"exceededTransferLimit",void 0),(0,I._)([(0,W.MZ)({type:[f.A],json:{write:!0}})],C.prototype,"features",void 0),(0,I._)([(0,c.w)("features")],C.prototype,"readFeatures",null),(0,I._)([(0,W.MZ)({type:[g.A],json:{write:!0}})],C.prototype,"fields",void 0),(0,I._)([(0,W.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:Y.read}}})],C.prototype,"geometryType",void 0),(0,I._)([(0,_.K)("geometryType")],C.prototype,"writeGeometryType",null),(0,I._)([(0,W.MZ)({type:Boolean,json:{write:{overridePolicy:s=>({enabled:s})}}})],C.prototype,"hasM",void 0),(0,I._)([(0,W.MZ)({type:Boolean,json:{write:{overridePolicy:s=>({enabled:s})}}})],C.prototype,"hasZ",void 0),(0,I._)([(0,W.MZ)({types:S.yR,json:{write:!0}})],C.prototype,"queryGeometry",void 0),(0,I._)([(0,c.w)("queryGeometry")],C.prototype,"readQueryGeometry",null),(0,I._)([(0,W.MZ)({type:v.A,json:{write:!0}})],C.prototype,"spatialReference",void 0),(0,I._)([(0,_.K)("spatialReference")],C.prototype,"writeSpatialReference",null),(0,I._)([(0,W.MZ)({json:{write:!0}})],C.prototype,"transform",void 0),C=U=(0,I._)([(0,p.$)("esri.rest.support.FeatureSet")],C),C.prototype.toJSON.isDefaultToJSON=!0;const h=C},91644:(te,V,l)=>{l.d(V,{A7:()=>N,Cx:()=>w,Hk:()=>c,JJ:()=>B,UK:()=>W,jM:()=>_,x3:()=>v}),l(3248);var S=l(88521),f=l(55417),T=l(46602),K=l(47705),L=l(48254);const W=T.A.fromJSON(L.Cb),N=f.A.fromJSON(L.yM),w=S.A.fromJSON(L.WR),c=K.A.fromJSON(L.JZ),_=T.A.fromJSON(L.nC),v=f.A.fromJSON(L.HW),B=S.A.fromJSON(L.b6)},48254:(te,V,l)=>{l.d(V,{Cb:()=>f,HW:()=>N,JZ:()=>L,WR:()=>K,b6:()=>w,nC:()=>W,yM:()=>T});const I=[252,146,31,255],f={type:"esriSMS",style:"esriSMSCircle",size:6,color:I,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},T={type:"esriSLS",style:"esriSLSSolid",width:.75,color:I},K={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},L={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},W={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},N={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},w={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);