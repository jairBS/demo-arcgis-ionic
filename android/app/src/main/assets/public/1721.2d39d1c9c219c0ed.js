"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1721,9927],{72211:(F,C,t)=>{t.d(C,{LF:()=>L,M9:()=>S,zu:()=>h});var i=t(5922),P=t(89221),b=t(79845),I=t(26073);function L(_,f,p){try{return function A(_){if(!_||0===_.length)return null;if(function v(_){const f=_[0];return!!f&&"scale"in f}(_)){const f=[];for(const p of _)f.push({scale:p.scale,value:h(p.value)});return f}return h(_)}(_)}catch(E){var u;null==p||null===(u=p.messages)||void 0===u||u.push(E)}return null}function S(_,f,p,u){try{const E=function g(_){const f=(0,b.q)(_);return f?(0,I.dw)(f)?f.map(p=>p.toJSON()):f.map(({scale:p,effects:u})=>({scale:p,value:u.map(E=>E.toJSON())})):null}(_);(0,P.sM)(p,E,f)}catch(E){u.messages&&u.messages.push(E)}}function h(_){if(null==_||!_.length)return"";const f=[];for(const p of _){let u=[];switch(p.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":u=[m(p,"amount")];break;case"blur":u=[m(p,"radius","pt")];break;case"hue-rotate":u=[m(p,"angle","deg")];break;case"drop-shadow":u=[m(p,"xoffset","pt"),m(p,"yoffset","pt"),m(p,"blurRadius","pt"),M(p,"color")];break;case"bloom":u=[m(p,"strength"),m(p,"radius","pt"),m(p,"threshold")]}const E=`${p.type}(${u.filter(Boolean).join(" ")})`;(0,b.q)(E),f.push(E)}return f.join(" ")}function m(_,f,p){if(null==_[f])throw new i.A("effect:missing-parameter",`Missing parameter '${f}' in ${_.type} effect`,{effect:_});return p?_[f]+p:""+_[f]}function M(_,f){if(null==_[f])throw new i.A("effect:missing-parameter",`Missing parameter '${f}' in ${_.type} effect`,{effect:_});const p=_[f];return`rgba(${p[0]||0}, ${p[1]||0}, ${p[2]||0}, ${p[3]/255||0})`}},93410:(F,C,t)=>{t.d(C,{d:()=>v});var i=t(8189),P=t(85211),S=(t(3248),t(35150),t(40707),t(76576)),g=t(72211);const A={read:{reader:g.LF},write:{allowNull:!0,writer:g.M9}},v=h=>{let m=class extends h{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,i._)([(0,P.MZ)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],m.prototype,"blendMode",void 0),(0,i._)([(0,P.MZ)({json:{read:!1,write:!1,origins:{"web-map":A,"portal-item":A}}})],m.prototype,"effect",void 0),m=(0,i._)([(0,S.$)("esri.layers.mixins.BlendLayer")],m),m}},23e3:(F,C,t)=>{t.d(C,{d:()=>g});var i=t(8189),P=t(85211),S=(t(3248),t(35150),t(40707),t(76576));const g=A=>{let v=class extends A{constructor(){super(...arguments),this.customParameters=null}};return(0,i._)([(0,P.MZ)({type:Object,json:{write:{overridePolicy:h=>({enabled:!!(h&&Object.keys(h).length>0)})}}})],v.prototype,"customParameters",void 0),v=(0,i._)([(0,S.$)("esri.layers.mixins.CustomParametersMixin")],v),v}},85551:(F,C,t)=>{t.d(C,{A:()=>w});var i=t(10467),P=t(8189),b=t(23098),I=t(77469),L=t(89563),S=t(89447),g=t(5922),A=t(35150),v=t(11432),h=t(56492),m=t(45272),M=t(85211),p=(t(3248),t(40707),t(17221)),u=t(76576),E=t(50305),D=t(58443),T=t(73874),B=t(46577),x=t(52606),R=t(69927);const w=$=>{let U=class extends ${constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,v.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(O){O!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",O))}readPortalItem(O,n,o){if(n.itemId)return new B.default({id:n.itemId,portal:null==o?void 0:o.portal})}writePortalItem(O,n){null!=O&&O.id&&(n.itemId=O.id)}loadFromPortal(O,n){var o=this;return(0,i.A)(function*(){var r;if(null!==(r=o.portalItem)&&void 0!==r&&r.id)try{const{load:c}=yield Promise.all([t.e(5565),t.e(2076),t.e(6180)]).then(t.bind(t,56180));return(0,h.Te)(n),yield c({instance:o,supportedTypes:O.supportedTypes,validateItem:O.validateItem,supportsData:O.supportsData,layerModuleTypeMap:O.layerModuleTypeMap},n)}catch(c){throw(0,h.zf)(c)||A.A.getLogger(o).warn(`Failed to load layer (${o.title}, ${o.id}) portal item (${o.portalItem.id})\n  ${c}`),c}})()}finishLoadEditablePortalLayer(O){var n=this;return(0,i.A)(function*(){n._set("userHasEditingPrivileges",yield n._fetchUserHasEditingPrivileges(O).catch(o=>((0,h.QP)(o),!0)))})()}setUserPrivileges(O,n){var o=this;return(0,i.A)(function*(){if(!b.A.userPrivilegesApplied)return o.finishLoadEditablePortalLayer(n);if(o.url)try{const{features:{edit:r,fullEdit:c},content:{updateItem:d}}=yield o._fetchUserPrivileges(O,n);o._set("userHasEditingPrivileges",r),o._set("userHasFullEditingPrivileges",c),o._set("userHasUpdateItemPrivileges",d)}catch(r){(0,h.QP)(r)}})()}_fetchUserPrivileges(O,n){var o=this;return(0,i.A)(function*(){let r=o.portalItem;if(!O||!r||!r.loaded||r.sourceUrl)return o._fetchFallbackUserPrivileges(n);const c=O===r.id;if(c&&r.portal.user)return(0,R.It)(r);let d,y;if(c)d=r.portal.url;else try{d=yield(0,D.wI)(o.url,n)}catch(Z){(0,h.QP)(Z)}if(!d||!(0,m.b8)(d,r.portal.url))return o._fetchFallbackUserPrivileges(n);try{const Z=null!=n?n.signal:null;y=yield null==I.id?void 0:I.id.getCredential(`${d}/sharing`,{prompt:!1,signal:Z})}catch(Z){(0,h.QP)(Z)}if(!y)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(c?yield r.reload():(r=new B.default({id:O,portal:{url:d}}),yield r.load(n)),r.portal.user)return(0,R.It)(r)}catch(Z){(0,h.QP)(Z)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(O){var n=this;return(0,i.A)(function*(){let o=!0;try{o=yield n._fetchUserHasEditingPrivileges(O)}catch(r){(0,h.QP)(r)}return{features:{edit:o,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(O){var n=this;return(0,i.A)(function*(){const o=n.url?null==I.id?void 0:I.id.findCredential(n.url):null;if(!o)return!0;const r=K.credential===o?K.user:yield n._fetchEditingUser(O);return K.credential=o,K.user=r,null==(null==r?void 0:r.privileges)||r.privileges.includes("features:user:edit")})()}_fetchEditingUser(O){var n=this;return(0,i.A)(function*(){var o,r;const c=null===(o=n.portalItem)||void 0===o||null===(o=o.portal)||void 0===o?void 0:o.user;if(c)return c;const d=I.id.findServerInfo(null!==(r=n.url)&&void 0!==r?r:"");if(null==d||!d.owningSystemUrl)return null;const y=`${d.owningSystemUrl}/sharing/rest`,j=T.A.getDefault();if(j&&j.loaded&&(0,m.S8)(j.restUrl)===(0,m.S8)(y))return j.user;const W=`${y}/community/self`,N=null!=O?O.signal:null,Z=yield(0,S.Ke)((0,L.A)(W,{authMode:"no-prompt",query:{f:"json"},signal:N}));return Z.ok?x.A.fromJSON(Z.value.data):null})()}read(O,n){n&&(n.layer=this),super.read(O,n)}write(O,n){var o;const r=null==n?void 0:n.portal,c=(null===(o=this.portalItem)||void 0===o?void 0:o.id)&&(this.portalItem.portal||T.A.getDefault());return r&&c&&!(0,m.ut)(c.restUrl,r.restUrl)?(n.messages&&n.messages.push(new g.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(O,{...n,layer:this})}};return(0,P._)([(0,M.MZ)({type:B.default})],U.prototype,"portalItem",null),(0,P._)([(0,p.w)("web-document","portalItem",["itemId"])],U.prototype,"readPortalItem",null),(0,P._)([(0,E.K)("web-document","portalItem",{itemId:{type:String}})],U.prototype,"writePortalItem",null),(0,P._)([(0,M.MZ)({clonable:!1})],U.prototype,"resourceReferences",void 0),(0,P._)([(0,M.MZ)({type:Boolean,readOnly:!0})],U.prototype,"userHasEditingPrivileges",void 0),(0,P._)([(0,M.MZ)({type:Boolean,readOnly:!0})],U.prototype,"userHasFullEditingPrivileges",void 0),(0,P._)([(0,M.MZ)({type:Boolean,readOnly:!0})],U.prototype,"userHasUpdateItemPrivileges",void 0),U=(0,P._)([(0,u.$)("esri.layers.mixins.PortalLayer")],U),U},K={credential:null,user:null}},1151:(F,C,t)=>{t.d(C,{J:()=>n});var i=t(10467),P=t(8189),b=t(35150),I=t(56492),L=t(85211),S=t(48669),v=(t(40707),t(3248),t(76576)),h=t(50501),m=t(31178),p=(t(89447),t(5922),t(76410),t(34703));const u=new m.A,E=new WeakMap;function x(o,r){return Number.isFinite(o)&&Number.isFinite(r)?r<=0?o:x(r,o%r):0}let R=0,w=0;function K(){const o=Date.now();let r=!1;for(const d of u){const y=d.deref();var c;y?y.refreshInterval&&o-(null!==(c=E.get(y))&&void 0!==c?c:0)+5>=6e4*y.refreshInterval&&(E.set(y,o),y.refresh(o)):r=!0}if(r)for(let d=u.length-1;d>=0;d--)u.at(d).deref()||u.removeAt(d)}(0,p.fm)(()=>{const o=Date.now();let r=0;for(const c of u){const d=c.deref();d&&(r=x(Math.round(6e4*d.refreshInterval),r),d.refreshInterval?E.get(d)||E.set(d,o):E.delete(d))}if(r!==w){if(w=r,clearInterval(R),0===w)return void(R=0);R=setInterval(K,w)}});const n=o=>{let r=class extends o{constructor(...c){super(...c),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,I.sg)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function D(o){(function B(o){return null!=o&&"object"==typeof o&&"refreshInterval"in o&&"refresh"in o})(o)&&u.push(new WeakRef(o))}(this)},()=>{})}destroy(){!function T(o){const r=u.find(c=>c.deref()===o);r&&u.remove(r)}(this)}castRefreshInterval(c){return c>=.1?c:c<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(c=Date.now()){(0,I.QZ)(this._debounceHasDataChanged()).then(d=>{d&&this._set("refreshTimestamp",c),this.emit("refresh",{dataChanged:d})},d=>{b.A.getLogger(this).error(d),this.emit("refresh",{dataChanged:!1,error:d})})}hasDataChanged(){return(0,i.A)(function*(){return!0})()}get test(){const c=this;return{set refreshInterval(d){c._set("refreshInterval",d)}}}};return(0,P._)([(0,L.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:h.K}}}}})],r.prototype,"refreshInterval",void 0),(0,P._)([(0,S.w)("refreshInterval")],r.prototype,"castRefreshInterval",null),(0,P._)([(0,L.MZ)({readOnly:!0})],r.prototype,"refreshTimestamp",void 0),(0,P._)([(0,L.MZ)({readOnly:!0})],r.prototype,"refreshParameters",null),r=(0,P._)([(0,v.$)("esri.layers.mixins.RefreshableLayer")],r),r}},33036:(F,C,t)=>{t.d(C,{j:()=>g});var i=t(8189),P=t(85211),S=(t(3248),t(35150),t(40707),t(76576));const g=v=>{let h=class extends v{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const m={minScale:this.minScale,maxScale:this.maxScale},M=this.parent;M&&"effectiveScaleRange"in M&&function A(v,h){v.minScale=v.minScale>0?h.minScale>0?Math.min(v.minScale,h.minScale):v.minScale:h.minScale,v.maxScale=v.maxScale>0?h.maxScale>0?Math.max(v.maxScale,h.maxScale):v.maxScale:h.maxScale}(m,M.effectiveScaleRange);const _=this._get("effectiveScaleRange");return _&&_.minScale===m.minScale&&_.maxScale===m.maxScale?_:m}};return(0,i._)([(0,P.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],h.prototype,"minScale",void 0),(0,i._)([(0,P.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],h.prototype,"maxScale",void 0),(0,i._)([(0,P.MZ)({readOnly:!0})],h.prototype,"effectiveScaleRange",null),h=(0,i._)([(0,S.$)("esri.layers.mixins.ScaleRangeLayer")],h),h}},69741:(F,C,t)=>{t.d(C,{A:()=>M});var i=t(8189),P=t(90660),b=t(49976),I=t(71065),L=t(85211),v=(t(3248),t(35150),t(40707),t(76576));const h=new b.J({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let m=class extends((0,P.O)(I.oY)){constructor(_){super(_),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,i._)([(0,L.MZ)({json:{write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,L.MZ)({json:{write:!0}})],m.prototype,"description",void 0),(0,i._)([(0,L.MZ)({json:{read:h.read,write:h.write}})],m.prototype,"drawingTool",void 0),(0,i._)([(0,L.MZ)({json:{write:!0}})],m.prototype,"prototype",void 0),(0,i._)([(0,L.MZ)({json:{write:!0}})],m.prototype,"thumbnail",void 0),m=(0,i._)([(0,v.$)("esri.layers.support.FeatureTemplate")],m);const M=m},20329:(F,C,t)=>{t.d(C,{A:()=>o});var p,i=t(8189),P=t(47280),b=t(49976),I=t(71065),L=t(77806),S=t(67685),g=t(85211),h=(t(3248),t(35150),t(17221)),m=t(76576),M=t(50305),f=(t(40707),t(4858));let u=p=class extends I.oY{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(r,c){return c.value?(0,f.mX)(c.value):r}writeExpression(r,c,d){null!=this.value&&(r=(0,f.mX)(this.value)),null!=r&&(c[d]=r)}clone(){return new p({expression:this.expression,title:this.title,value:this.value})}};(0,i._)([(0,g.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],u.prototype,"expression",void 0),(0,i._)([(0,h.w)("expression",["expression","value"])],u.prototype,"readExpression",null),(0,i._)([(0,M.K)("expression")],u.prototype,"writeExpression",null),(0,i._)([(0,g.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"title",void 0),(0,i._)([(0,g.MZ)({json:{read:!1,write:!1}})],u.prototype,"value",void 0),u=p=(0,i._)([(0,m.$)("esri.layers.support.LabelExpressionInfo")],u);const E=u;var x,D=t(58443),T=t(91644),B=t(35564);const R=new b.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function w(r,c,d){return{enabled:!(0,D.TU)(null==d?void 0:d.layer)}}function K(r){var c;return!r||"service"!==r.origin&&"map-image"!==(null===(c=r.layer)||void 0===c?void 0:c.type)}function U(r){var c;return!!function $(r){return"map-image"===(null==r?void 0:r.type)}(r)&&!(null===(c=r.capabilities)||void 0===c||null===(c=c.exportMap)||void 0===c||!c.supportsArcadeExpressionForLabeling)}let n=x=class extends I.oY{static evaluateWhere(r,c){const d=(y,j,W)=>{switch(j){case"=":return y==W;case"<>":return y!=W;case">":return y>W;case">=":return y>=W;case"<":return y<W;case"<=":return y<=W}return!1};try{if(null==r)return!0;const y=r.split(" ");if(3===y.length)return d(c[y[0]],y[1],y[2]);if(7===y.length){const j=d(c[y[0]],y[1],y[2]),W=y[3],N=d(c[y[4]],y[5],y[6]);switch(W){case"AND":return j&&N;case"OR":return j||N}}return!1}catch{console.log("Error.: can't parse = "+r)}}constructor(r){super(r),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=T.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(r,c){const d=c.labelExpressionInfo;if(!d||!d.value&&!d.expression)return r}writeLabelExpression(r,c,d){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)r=(0,f.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const y=(0,f.tH)(this.labelExpressionInfo.expression);y&&(r="["+y+"]")}null!=r&&(c[d]=r)}writeLabelExpressionInfo(r,c,d,y){if(null==r&&null!=this.labelExpression&&K(y))r=new E({expression:this.getLabelExpressionArcade()});else if(!r)return;const j=r.toJSON(y);j.expression&&(c[d]=j)}writeMaxScale(r,c){(r||this.minScale)&&(c.maxScale=r)}writeMinScale(r,c){(r||this.maxScale)&&(c.minScale=r)}getLabelExpression(){return(0,f.XJ)(this)}getLabelExpressionArcade(){return(0,f.BI)(this)}getLabelExpressionSingleField(){return(0,f.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new x({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,L.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,L.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,i._)([(0,g.MZ)({type:String,json:{write:!0}})],n.prototype,"name",void 0),(0,i._)([(0,g.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:w}}}}})],n.prototype,"allowOverrun",void 0),(0,i._)([(0,g.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:w}}}}})],n.prototype,"deconflictionStrategy",void 0),(0,i._)([(0,g.MZ)({type:String,json:{write:{overridePolicy(r,c,d){return this.labelExpressionInfo&&"service"===(null==d?void 0:d.origin)&&U(d.layer)?{enabled:!1}:{allowNull:!0}}}}})],n.prototype,"labelExpression",void 0),(0,i._)([(0,h.w)("labelExpression")],n.prototype,"readLabelExpression",null),(0,i._)([(0,M.K)("labelExpression")],n.prototype,"writeLabelExpression",null),(0,i._)([(0,g.MZ)({type:E,json:{write:{overridePolicy:(r,c,d)=>function O(r){return K(r)||U(null==r?void 0:r.layer)}(d)?{allowNull:!0}:{enabled:!1}}}})],n.prototype,"labelExpressionInfo",void 0),(0,i._)([(0,M.K)("labelExpressionInfo")],n.prototype,"writeLabelExpressionInfo",null),(0,i._)([(0,g.MZ)({type:R.apiValues,json:{type:R.jsonValues,read:R.read,write:R.write}})],n.prototype,"labelPlacement",void 0),(0,i._)([(0,g.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],n.prototype,"labelPosition",void 0),(0,i._)([(0,g.MZ)({type:Number})],n.prototype,"maxScale",void 0),(0,i._)([(0,M.K)("maxScale")],n.prototype,"writeMaxScale",null),(0,i._)([(0,g.MZ)({type:Number})],n.prototype,"minScale",void 0),(0,i._)([(0,M.K)("minScale")],n.prototype,"writeMinScale",null),(0,i._)([(0,g.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],n.prototype,"repeatLabel",void 0),(0,i._)([(0,g.MZ)({type:Number,cast:S.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],n.prototype,"repeatLabelDistance",void 0),(0,i._)([(0,g.MZ)({types:P.em,json:{origins:{"web-scene":{types:P.Rv,write:B.oO,default:null}},write:B.oO,default:null}})],n.prototype,"symbol",void 0),(0,i._)([(0,g.MZ)({type:Boolean,json:{write:!0}})],n.prototype,"useCodedValues",void 0),(0,i._)([(0,g.MZ)({type:String,json:{write:!0}})],n.prototype,"where",void 0),n=x=(0,i._)([(0,m.$)("esri.layers.support.LabelClass")],n);const o=n},73975:(F,C,t)=>{t.d(C,{w:()=>g,z:()=>h});var i=t(5922),P=t(77806),b=t(35150),I=t(20329);const L=()=>b.A.getLogger("esri.layers.support.labelingInfo"),S=/\[([^\[\]]+)\]/gi;function g(M,_,f){return M?M.map(p=>{const u=new I.A;if(u.read(p,f),u.labelExpression){var E;const D=_.fields||(null===(E=_.layerDefinition)||void 0===E?void 0:E.fields)||this.fields;u.labelExpression=u.labelExpression.replaceAll(S,(T,B)=>`[${function A(M,_){if(!_)return M;const f=M.toLowerCase();for(let p=0;p<_.length;p++){const u=_[p].name;if(u.toLowerCase()===f)return u}return M}(B,D)}]`)}return u}):null}const v={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function h(M,_){const f=(0,P.o8)(M);return f.some(p=>function m(M,_){const f=M.labelPlacement,p=v[_];if(!M.symbol)return L().warn("No ILabelClass symbol specified."),!0;if(!p)return L().error(new i.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${_}' is not supported`)),!0;if(!p.includes(f)){const u=p[0];f&&L().warn(`Found invalid label placement type ${f} for ${_}. Defaulting to ${u}`),M.labelPlacement=u}return!1}(p,_))?[]:f}},69927:(F,C,t)=>{t.d(C,{It:()=>p,LG:()=>g,OM:()=>h,Sm:()=>m,Y:()=>A,bK:()=>v,mm:()=>f,sQ:()=>M});var i=t(10467),P=t(11817),b=t(32034),I=t(55039);function S(){return(S=(0,i.A)(function*(u){const E=u.spatialReference;if(E.isWGS84)return u.clone();if(E.isWebMercator)return(0,I.ci)(u);const D=b.A.WGS84;return yield(0,P.initializeProjection)(E,D),(0,P.project)(u,D)})).apply(this,arguments)}function g(u,E){if(!A(u,E)){const D=u.typeKeywords;D?D.push(E):u.typeKeywords=[E]}}function A(u,E){var D;return!(null===(D=u.typeKeywords)||void 0===D||!D.includes(E))}function v(u){return A(u,f.HOSTED_SERVICE)}function h(u,E){const D=u.typeKeywords;if(D){const T=D.indexOf(E);T>-1&&D.splice(T,1)}}function m(u,E,D){D?g(u,E):h(u,E)}function M(u){return _.apply(this,arguments)}function _(){return _=(0,i.A)(function*(u){const E=u.clone().normalize();let D;if(E.length>1)for(const T of E)D?T.width>D.width&&(D=T):D=T;else D=E[0];return function L(u){return S.apply(this,arguments)}(D)}),_.apply(this,arguments)}const f={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function p(u){var E;const{portal:D,isOrgItem:T,itemControl:B}=u,x=null===(E=D.user)||void 0===E?void 0:E.privileges;let R=!x||x.includes("features:user:edit"),w=!!T&&!(null==x||!x.includes("features:user:fullEdit"));const K="update"===B||"admin"===B;return K?w=R=!0:w&&(R=!0),{features:{edit:R,fullEdit:w},content:{updateItem:K}}}},52466:(F,C,t)=>{t.d(C,{A:()=>h});var A,i=t(8189),P=t(71065),b=t(77806),I=t(85211),L=t(55739),S=t(76576),g=t(50305);let v=A=class extends P.oY{constructor(m){super(m),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(m,M){M.resultOffset=this.start,M.resultRecordCount=this.num||10}clone(){return new A((0,b.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,i._)([(0,I.MZ)({type:[String],json:{write:!0}})],v.prototype,"attachmentTypes",void 0),(0,i._)([(0,I.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],v.prototype,"attachmentsWhere",void 0),(0,i._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"cacheHint",void 0),(0,i._)([(0,I.MZ)({type:[String],json:{write:!0}})],v.prototype,"keywords",void 0),(0,i._)([(0,I.MZ)({type:[Number],json:{write:!0}})],v.prototype,"globalIds",void 0),(0,i._)([(0,I.MZ)({json:{write:!0}})],v.prototype,"name",void 0),(0,i._)([(0,I.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],v.prototype,"num",void 0),(0,i._)([(0,I.MZ)({type:[Number],json:{write:!0}})],v.prototype,"objectIds",void 0),(0,i._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"returnMetadata",void 0),(0,i._)([(0,I.MZ)({type:[Number],json:{write:!0}})],v.prototype,"size",void 0),(0,i._)([(0,I.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],v.prototype,"start",void 0),(0,i._)([(0,g.K)("start"),(0,g.K)("num")],v.prototype,"writeStart",null),(0,i._)([(0,I.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],v.prototype,"where",void 0),v=A=(0,i._)([(0,S.$)("esri.rest.support.AttachmentQuery")],v),v.from=(0,L.dp)(v);const h=v},41843:(F,C,t)=>{t.d(C,{tn:()=>_});var i=t(92165),P=t(86300),b=t(54042),g=(t(75432),t(65121),t(558),t(8975)),m=(t(90792),t(83902),t(98089),t(61099)),M=t(17580);function _({displayField:n,editFieldsInfo:o,fields:r,objectIdField:c,title:d},y){if(!r)return null;const j=function T(n,o){var r;const c=null==o?void 0:o.visibleFieldNames;return function u(n,o){const r=n;return o&&(n=n.filter(c=>!o.includes(c.type))),n===r&&(n=n.slice()),n.sort(E),n}(null!==(r=n.fields)&&void 0!==r?r:[],(null==o?void 0:o.ignoreFieldTypes)||O).map(d=>new m.A({fieldName:d.name,isEditable:(0,P.R$)(d,n),label:d.alias,format:R(d),visible:p(d,{...n,visibleFieldNames:c})}))}({editFieldsInfo:o,fields:r,objectIdField:c},y);if(!j.length)return null;const W=function $(n){const o=(0,P.mB)(n),{titleBase:r}=n;return o?`${r}: {${o.trim()}}`:null!=r?r:""}({titleBase:d,fields:r,displayField:n}),N=function w(){return[new g.A,new b.A]}();return new i.A({title:W,content:N,fieldInfos:j})}const p=(n,o)=>o.visibleFieldNames?o.visibleFieldNames.has(n.name):(0,P.Bz)(n,o);function E(n,o){return"oid"===n.type?-1:"oid"===o.type?1:U(n)?-1:U(o)?1:(n.alias||n.name).toLocaleLowerCase().localeCompare((o.alias||o.name).toLocaleLowerCase())}function R(n){switch(n.type){case"small-integer":case"integer":case"single":return new M.A({digitSeparator:!0,places:0});case"double":return new M.A({digitSeparator:!0,places:2});case"string":return(0,P.JL)(n.name)?new M.A({digitSeparator:!0,places:0}):null;default:return null}}function U(n){return"name"===(n.name&&n.name.toLowerCase())||"name"===(n.alias&&n.alias.toLowerCase())}const O=["geometry","blob","raster","guid","xml"]}}]);