"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9176,4098,3258],{50279:(Oe,ve,_)=>{_.d(ve,{x:()=>$});class ${constructor(E){this.source=E}}},48504:(Oe,ve,_)=>{_.d(ve,{a:()=>$});class ${constructor(E,ce){this._moduleSingletons=E,this._syntaxModules=ce}loadLibrary(E){if(null==this._syntaxModules)return null;const ce=this._syntaxModules[E.toLowerCase()];return ce?{syntax:ce.script,uri:ce.uri}:null}}},45369:(Oe,ve,_)=>{_.d(ve,{A:()=>B});var $=_(53787);class B extends $.A{constructor(ce){super(),this.declaredClass="esri.arcade.Portal",this.immutable=!1,this.setField("url",ce),this.immutable=!0}}},84462:(Oe,ve,_)=>{_.d(ve,{A:()=>B});var $=_(53787);class B extends $.A{constructor(ce,x,u,Y,L,l,z){super(),this.attachmentUrl=L,this.declaredClass="esri.arcade.Attachment",this.immutable=!1,this.setField("id",ce),this.setField("name",x),this.setField("contenttype",u),this.setField("size",Y),this.setField("exifinfo",l),this.setField("keywords",z),this.immutable=!0}deepClone(){var ce,x;return new B(this.field("id"),this.field("name"),this.field("contenttype"),this.field("size"),this.attachmentUrl,null!==(ce=null===(x=this.field("exifinfo"))||void 0===x?void 0:x.deepClone())&&void 0!==ce?ce:null,this.field("keywords"))}}},53787:(Oe,ve,_)=>{_.d(ve,{A:()=>l});var $=_(10467),B=_(61299),E=_(59312),ce=_(55279),x=_(42970),u=_(42686),Y=_(68643);function L(z,K,N=!1,ee=!1){if(null==z)return null;if((0,u.b)(z))return(0,u.g)(z);if((0,u.a)(z))return(0,u.h)(z);if((0,u.c)(z))return(0,u.j)(z);if((0,u.k)(z))return(0,u.l)(z,K);if((0,u.m)(z)||(0,u.n)(z))return z;if((0,u.o)(z)){const j=[];for(const te of z)j.push(L(te,K,N,ee));return j}if(ee&&(0,u.p)(z))return z;const ae=new l;ae.immutable=!1;for(const j of Object.keys(z)){const te=z[j];void 0!==te&&ae.setField(j,L(te,K,N,ee))}return ae.immutable=N,ae}class l{constructor(K){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=K instanceof l?K.attributes:null!=K?K:{}}field(K){const N=K.toLowerCase(),ee=this.attributes[K];if(void 0!==ee)return ee;for(const ae in this.attributes)if(ae.toLowerCase()===N)return this.attributes[ae];throw new ce.D$(null,ce.TX.FieldNotFound,null,{key:K})}setField(K,N){if(this.immutable)throw new ce.D$(null,ce.TX.Immutable,null);if((0,u.i)(N))throw new ce.D$(null,ce.TX.NoFunctionInDictionary,null);const ee=K.toLowerCase();if(N instanceof Date&&(N=B.lY.dateJSToArcadeDate(N)),void 0===this.attributes[K]){for(const ae in this.attributes)if(ae.toLowerCase()===ee)return void(this.attributes[ae]=N);this.attributes[K]=N}else this.attributes[K]=N}hasField(K){const N=K.toLowerCase();if(void 0!==this.attributes[K])return!0;for(const ee in this.attributes)if(ee.toLowerCase()===N)return!0;return!1}keys(){let K=[];for(const N in this.attributes)K.push(N);return K=K.sort(),K}castToText(K=!1){let N="";for(const ee in this.attributes){""!==N&&(N+=",");const ae=this.attributes[ee];null==ae?N+=JSON.stringify(ee)+":null":(0,u.a)(ae)||(0,u.b)(ae)||(0,u.c)(ae)?N+=JSON.stringify(ee)+":"+JSON.stringify(ae):ae instanceof Y.A?N+=JSON.stringify(ee)+":"+(0,u.t)(ae):ae instanceof x.A||ae instanceof Array?N+=JSON.stringify(ee)+":"+(0,u.t)(ae,null,K):ae instanceof B.lY?N+=K?JSON.stringify(ee)+":"+JSON.stringify(ae.getTime()):JSON.stringify(ee)+":"+ae.stringify():null!==ae&&"object"==typeof ae&&void 0!==ae.castToText&&(N+=JSON.stringify(ee)+":"+ae.castToText(K))}return"{"+N+"}"}static convertObjectToArcadeDictionary(K,N,ee=!0,ae=!1){const j=new l;j.immutable=!1;for(const te in K){const v=K[te];void 0!==v&&j.setField(te.toString(),L(v,N,ee,ae))}return j.immutable=ee,j}static convertJsonToArcade(K,N,ee=!1,ae=!1){return L(K,N,ee,ae)}castAsJson(K=null){const N={};for(let ee in this.attributes){const ae=this.attributes[ee];void 0!==ae&&(null!=K&&K.keyTranslate&&(ee=K.keyTranslate(ee)),N[ee]=(0,u.d)(ae,K))}return N}castDictionaryValueAsJsonAsync(K,N,ee,ae=null,j){return(0,$.A)(function*(){const te=yield(0,u.e)(ee,ae,j);return K[N]=te,te})()}castAsJsonAsync(K=null,N=null){var ee=this;return(0,$.A)(function*(){const ae={},j=[];for(let te in ee.attributes){const v=ee.attributes[te];null!=N&&N.keyTranslate&&(te=N.keyTranslate(te)),void 0!==v&&((0,u.f)(v)||v instanceof Y.A||v instanceof B.lY?ae[te]=(0,u.d)(v,N):j.push(ee.castDictionaryValueAsJsonAsync(ae,te,v,K,N)))}return j.length>0&&(yield Promise.all(j)),ae})()}deepClone(){const K=new l;K.immutable=!1;for(const N of this.keys())K.setField(N,(0,E.G)(this.field(N)));return K}}},63145:(Oe,ve,_)=>{_.d(ve,{A:()=>j});var $=_(10467),B=_(61299),E=_(59312),ce=_(53787),x=_(55279),u=_(42970),Y=_(42686),L=_(87257),l=_(29752),z=_(68643),K=_(13303),N=_(61320),ee=_(31732),ae=_(73258);class j{constructor(){this.arcadeDeclaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._fieldTypesFixed=!0,this.fieldsIndex=null,this.contextTimeZone=null,this.immutable=!0,this._fieldsToFixDataTypes=null,this.immutable=!0}static createFromGraphic(v,p){const f=new j;return f.contextTimeZone=null!=p?p:null,f._geometry=null!=v.geometry?v.geometry:null,f.attributes=null==v.attributes?{}:v.attributes,v._sourceLayer?(f._layer=v._sourceLayer,f._fieldTypesFixed=!1):v._layer?(f._layer=v._layer,f._fieldTypesFixed=!1):v.layer&&"fields"in v.layer?(f._layer=v.layer,f._fieldTypesFixed=!1):v.sourceLayer&&"fields"in v.sourceLayer&&(f._layer=v.sourceLayer,f._fieldTypesFixed=!1),f._layer&&!f._fieldTypesFixed&&(f.fieldsIndex=this.hydrateFieldsIndex(f._layer)),f}static createFromArcadeFeature(v){if(v instanceof j){const f=new j;return f._fieldTypesFixed=v._fieldTypesFixed,f.attributes=v.attributes,f._geometry=v._geometry,f._optimizedGeomDefinition=v._optimizedGeomDefinition,v._layer&&(f._layer=v._layer),f.fieldsIndex=v.fieldsIndex,f.contextTimeZone=v.contextTimeZone,f}const p={};for(const f of v.keys())p[f]=v.field(f);return j.createFromGraphicLikeObject(v.geometry(),p,v.fullSchema(),v.contextTimeZone)}static createFromOptimisedFeature(v,p,f){const D=new j;return D._geometry=v.geometry?{geometry:v.geometry}:null,D._optimizedGeomDefinition=f,D.attributes=v.attributes||{},D._layer=p,D._fieldTypesFixed=!1,D}static createFromArcadeDictionary(v,p){const f=new j;return f.attributes=v.field("attributes"),null!==f.attributes&&f.attributes instanceof ce.A?(f.attributes=f.attributes.attributes,null===f.attributes&&(f.attributes={})):f.attributes={},f._geometry=v.field("geometry"),null!==f._geometry&&(f._geometry instanceof ce.A?f._geometry=j.parseGeometryFromDictionary(f._geometry,p):f._geometry instanceof z.A||(f._geometry=null)),f}static createFromGraphicLikeObject(v,p,f=null,D){const T=new j;return T.contextTimeZone=null!=D?D:null,null===p&&(p={}),T.attributes=p,T._geometry=null!=v?v:null,T._layer=f,T._layer&&(T._fieldTypesFixed=!1,T.fieldsIndex=this.hydrateFieldsIndex(T._layer)),T}static hydrateFieldsIndex(v){var p;return null===v?null:(0,Y.u)(v)?v.getFieldsIndex():v.fieldsIndex?v.fieldsIndex:ae.A.fromLayerJSON({datesInUnknownTimezone:v.datesInUnknownTimezone,fields:v.fields,timeInfo:v.timeInfo,editFieldsInfo:v.editFieldsInfo,dateFieldsTimeReference:null!==(p=v.dateFieldsTimeReference)&&void 0!==p?p:{timeZone:"UTC",respectsDaylightSaving:!1}})}repurposeFromGraphicLikeObject(v,p,f=null){null===p&&(p={}),this.attributes=p,this._geometry=null!=v?v:null,this._layer=f,this._fieldTypesFixed=!this._layer}castToText(v=!1){let p="";!1===this._fieldTypesFixed&&this._fixFieldTypes();for(const f in this.attributes){""!==p&&(p+=",");const D=this.attributes[f];null==D?p+=JSON.stringify(f)+":null":(0,Y.a)(D)||(0,Y.b)(D)||(0,Y.c)(D)?p+=JSON.stringify(f)+":"+JSON.stringify(D):D instanceof z.A?p+=JSON.stringify(f)+":"+(0,Y.t)(D):D instanceof l.k||D instanceof L.n?p+=`${JSON.stringify(f)}:${JSON.stringify(D.toString())}`:D instanceof u.A||D instanceof Array?p+=JSON.stringify(f)+":"+(0,Y.t)(D,null,v):D instanceof B.lY?p+=v?JSON.stringify(f)+":"+JSON.stringify(D.getTime()):JSON.stringify(f)+":"+D.stringify():null!==D&&"object"==typeof D&&void 0!==D.castToText&&(p+=JSON.stringify(f)+":"+D.castToText(v))}return'{"geometry":'+(null===this.geometry()?"null":(0,Y.t)(this.geometry()))+',"attributes":{'+p+"}}"}_fixFieldTypes(){var v;if(this._fieldsToFixDataTypes&&(null===(v=this._fieldsToFixDataTypes)||void 0===v?void 0:v.length)>0)return this._fixAllFields(this._fieldsToFixDataTypes),void(this._fieldTypesFixed=!0);const p=[],f=this._layer.fields;for(let D=0;D<f.length;D++){const T=f[D],{name:c,type:g}=T;switch(g){case"date":case"esriFieldTypeDate":p.push({field:c,dataType:"date"});break;case"date-only":case"esriFieldTypeDateOnly":p.push({field:c,dataType:"date-only"});break;case"time-only":case"esriFieldTypeTimeOnly":p.push({field:c,dataType:"time-only"});break;case"timestamp-offset":case"esriFieldTypeTimestampOffset":p.push({field:c,dataType:"timestamp-offset"})}}this._fieldsToFixDataTypes=p,p.length>0&&this._fixAllFields(p),this._fieldTypesFixed=!0}isUnknownDateTimeField(v){var p;return"unknown"===(null===(p=this.fieldsIndex)||void 0===p?void 0:p.getTimeZone(v))}_fixAllFields(v){var p;this.attributes={...this.attributes};const f=null!==(p=this.contextTimeZone)&&void 0!==p?p:"system";for(let D=0;D<v.length;D++){const T=v[D].field,c=v[D].dataType;let g=this.attributes[T];if(void 0===g){for(const k in this.attributes)if(k.toLowerCase()===T.toLowerCase()){if(g=this.attributes[k],null!==g){if("time-only"===c){(0,Y.n)(g)||(this.attributes[k]=l.k.fromReader(g.toString()));break}if("date-only"===c){(0,Y.m)(g)||(this.attributes[k]=L.n.fromReader(g.toString()));break}if("timestamp-offset"===c){(0,Y.k)(g)||(this.attributes[k]=B.lY.fromReaderAsTimeStampOffset(g.toString()));break}const Q=this.isUnknownDateTimeField(k);g instanceof Date?this.attributes[k]=Q?B.lY.unknownDateJSToArcadeDate(g):B.lY.dateJSAndZoneToArcadeDate(g,f):(0,Y.k)(g)||(this.attributes[k]=Q?B.lY.unknownEpochToArcadeDate(g):B.lY.epochToArcadeDate(g,f))}break}}else if(null!==g){if("time-only"===c){this.attributes[T]=(0,Y.n)(g)?g:l.k.fromReader(g.toString());continue}if("date-only"===c){this.attributes[T]=(0,Y.m)(g)?g:L.n.fromReader(g.toString());continue}if("timestamp-offset"===c){this.attributes[T]=(0,Y.k)(g)?g:B.lY.fromReaderAsTimeStampOffset(g.toString());continue}const k=this.isUnknownDateTimeField(T);this.attributes[T]=(0,Y.k)(g)?g:g instanceof Date?k?B.lY.unknownDateJSToArcadeDate(g):B.lY.dateJSAndZoneToArcadeDate(g,f):k?B.lY.unknownEpochToArcadeDate(g):B.lY.epochToArcadeDate(g,f)}}}geometry(){return null===this._geometry||this._geometry instanceof z.A||(this._optimizedGeomDefinition?(this._geometry=(0,N.rS)((0,ee.zv)(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM)),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=(0,N.rS)(this._geometry)),this._geometry}field(v){this._fieldTypesFixed||this._fixFieldTypes();const p=this.attributes[v];if(void 0!==p)return p;const f=v.toLowerCase();for(const D in this.attributes)if(D.toLowerCase()===f)return this.attributes[D];if(this._hasFieldDefinition(f))return null;throw new x.D$(null,x.TX.FieldNotFound,null,{key:v})}_hasFieldDefinition(v){if(null===this._layer)return!1;for(let p=0;p<this._layer.fields.length;p++)if(this._layer.fields[p].name.toLowerCase()===v)return!0;return!1}setField(v,p){if(this.immutable)throw new x.D$(null,x.TX.Immutable,null);if(p instanceof Date&&(p=this.isUnknownDateTimeField(v)?B.lY.unknownDateJSToArcadeDate(p):B.lY.dateJSToArcadeDate(p)),!1===(0,Y.f)(p))throw new x.D$(null,x.TX.TypeNotAllowedInFeature,null);const f=v.toLowerCase();if(void 0===this.attributes[v]){for(const D in this.attributes)if(D.toLowerCase()===f)return void(this.attributes[D]=p);this.attributes[v]=p}else this.attributes[v]=p}hasField(v){const p=v.toLowerCase();if(void 0!==this.attributes[v])return!0;for(const f in this.attributes)if(f.toLowerCase()===p)return!0;return!!this._hasFieldDefinition(p)}keys(){let v=[];const p={};for(const f in this.attributes)v.push(f),p[f.toLowerCase()]=1;if(null!==this._layer)for(let f=0;f<this._layer.fields.length;f++){const D=this._layer.fields[f];1!==p[D.name.toLowerCase()]&&v.push(D.name)}return v=v.sort(),v}static parseGeometryFromDictionary(v,p){const f=j._convertDictionaryToJson(v,!0);return void 0!==f.hasm&&(f.hasM=f.hasm,delete f.hasm),void 0!==f.hasz&&(f.hasZ=f.hasz,delete f.hasz),void 0!==f.spatialreference&&(f.spatialReference=f.spatialreference,delete f.spatialreference),f.spatialReference||(f.spatialReference=p),void 0!==f.rings&&(f.rings=this._fixPathArrays(f.rings,!0===f.hasZ,!0===f.hasZ)),void 0!==f.paths&&(f.paths=this._fixPathArrays(f.paths,!0===f.hasZ,!0===f.hasM)),void 0!==f.points&&(f.points=this._fixPointArrays(f.points,!0===f.hasZ,!0===f.hasM)),(0,N.rS)(f)}static _fixPathArrays(v,p,f){const D=[];if(v instanceof Array)for(let T=0;T<v.length;T++)D.push(this._fixPointArrays(v[T],p,f));else if(v instanceof u.A)for(let T=0;T<v.length();T++)D.push(this._fixPointArrays(v.get(T),p,f));return D}static _fixPointArrays(v,p,f){const D=[];if(v instanceof Array)for(let T=0;T<v.length;T++){const c=v[T];D.push(c instanceof K.A?p&&f?[c.x,c.y,c.z,c.m]:p?[c.x,c.y,c.z]:f?[c.x,c.y,c.m]:[c.x,c.y]:c instanceof u.A?c.toArray():c)}else if(v instanceof u.A)for(let T=0;T<v.length();T++){const c=v.get(T);D.push(c instanceof K.A?p&&f?[c.x,c.y,c.z,c.m]:p?[c.x,c.y,c.z]:f?[c.x,c.y,c.m]:[c.x,c.y]:c instanceof u.A?c.toArray():c)}return D}static _convertDictionaryToJson(v,p=!1){const f={};for(const D in v.attributes){let T=v.attributes[D];T instanceof ce.A&&(T=j._convertDictionaryToJson(T)),p?f[D.toLowerCase()]=T:f[D]=T}return f}static parseAttributesFromDictionary(v){const p={};for(const f in v.attributes){const D=v.attributes[f];if(!(0,Y.f)(D))throw new x.D$(null,x.TX.InvalidParameter,null);p[f]=D}return p}static fromJson(v,p){let f=null;null!=v.geometry&&(f=(0,N.rS)(v.geometry));const D={};if(null!=v.attributes)for(const T in v.attributes){const c=v.attributes[T];if(null===c)D[T]=c;else{if(!((0,Y.c)(c)||(0,Y.b)(c)||(0,Y.a)(c)||(0,Y.k)(c)||(0,Y.n)(c)||(0,Y.m)(c)))throw new x.D$(null,x.TX.InvalidParameter,null);D[T]=c}}return j.createFromGraphicLikeObject(f,D,null,null!=p?p:null)}fullSchema(){return this._layer}gdbVersion(){var v;if(null===this._layer)return"";const p=this._layer.gdbVersion;return void 0===p?"":""===p&&null!==(v=this._layer.capabilities)&&void 0!==v&&v.isVersioned?"SDE.DEFAULT":p}castAsJson(v){var p,f;const D={attributes:{},geometry:!0===(null==v?void 0:v.keepGeometryType)?this.geometry():null!==(p=null===(f=this.geometry())||void 0===f?void 0:f.toJSON())&&void 0!==p?p:null};for(const T in this.attributes){const c=this.attributes[T];void 0!==c&&(D.attributes[T]=(0,Y.d)(c,v))}return D}castAsJsonAsync(v=null,p){var f=this;return(0,$.A)(function*(){return f.castAsJson(p)})()}}(0,E.y)(j)},61552:(Oe,ve,_)=>{_.d(ve,{CU:()=>x,UQ:()=>ce,fF:()=>B,o6:()=>E});var $=_(56492);class B{constructor(){}}function E(u,Y,L){if(u instanceof B&&!(u instanceof x)){const l=new x;return l.fn=u,l.parameterEvaluator=L,l.context=Y,l}return u}class ce extends B{constructor(Y){super(),this.fn=Y}createFunction(Y){return(...L)=>this.fn(Y,{preparsed:!0,arguments:L})}call(Y,L){return this.fn(Y,L)}marshalledCall(Y,L,l,z){return z(Y,L,(K,N,ee)=>{ee=ee.map(j=>j instanceof B&&!(j instanceof x)?E(j,Y,z):j);const ae=this.call(l,{args:ee});return(0,$.$X)(ae)?ae.then(j=>E(j,l,z)):ae})}}class x extends B{constructor(){super(...arguments),this.fn=null,this.context=null}createFunction(Y){return this.fn.createFunction(this.context)}call(Y,L){return this.fn.marshalledCall(Y,L,this.context,this.parameterEvaluator)}marshalledCall(Y,L,l){return this.fn.marshalledCall(Y,L,this.context,this.parameterEvaluator)}}},61223:(Oe,ve,_)=>{_.d(ve,{A:()=>E});var $=_(42970),B=_(40056);class E extends $.A{constructor(x,u,Y,L,l){super(x),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=Y,this._hasM=L,this._spRef=u,this._cacheId=l}get(x){if(void 0===this._lazyPath[x]){const u=this._elements[x];if(void 0===u)return;this._lazyPath[x]=new B.A(u,this._spRef,this._hasZ,this._hasM,this._cacheId,x)}return this._lazyPath[x]}equalityTest(x){return x===this||null!==x&&x instanceof E&&x.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},40056:(Oe,ve,_)=>{_.d(ve,{A:()=>E});var $=_(42970),B=_(13303);class E extends $.A{constructor(x,u,Y,L,l,z){super(x),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=u,this._hasZ=Y,this._hasM=L,this._cacheId=l,this._partId=z}get(x){if(void 0===this._lazyPt[x]){const u=this._elements[x];if(void 0===u)return;const Y=this._hasZ,L=this._hasM;let l=null;l=Y&&!L?new B.A(u[0],u[1],u[2],void 0,this._spRef):L&&!Y?new B.A(u[0],u[1],void 0,u[2],this._spRef):Y&&L?new B.A(u[0],u[1],u[2],u[3],this._spRef):new B.A(u[0],u[1],this._spRef),l.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+x.toString(),this._lazyPt[x]=l}return this._lazyPt[x]}equalityTest(x){return x===this||null!==x&&x instanceof E&&x.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},59312:(Oe,ve,_)=>{_.d(ve,{G:()=>x,y:()=>E});var $=_(50279),B=_(42686);function E(u){ce=u}let ce;function x(u){return null===u?null:(0,B.k)(u)?u.clone():(0,B.f)(u)?u:(0,B.p)(u)?u.clone():(0,B.q)(u)?u.toArray().map(Y=>x(Y)):(0,B.o)(u)?u.map(Y=>x(Y)):(0,B.r)(u)?ce.createFromArcadeFeature(u):(0,B.s)(u)||(0,B.u)(u)?u:(0,B.v)(u)||"esri.arcade.Attachment"===(null==u?void 0:u.declaredClass)?u.deepClone():("esri.arcade.Portal"===(null==u?void 0:u.declaredClass)||(0,B.w)(u)||u instanceof $.x||(0,B.i)(u),u)}},55279:(Oe,ve,_)=>{_.d(ve,{B:()=>K,D$:()=>u,Nh:()=>z,O$:()=>l,TX:()=>B,mT:()=>L,ps:()=>ee});var B,j,$=_(1119);(j=B||(B={})).AsyncNotEnabled="AsyncNotEnabled",j.ModulesNotSupported="ModulesNotSupported",j.CircularModules="CircularModules",j.CannotCompareDateAndTime="CannotCompareDateAndTime",j.NeverReach="NeverReach",j.UnsupportedHashType="UnsupportedHashType",j.InvalidParameter="InvalidParameter",j.FeatureSetDoesNotHaveSubtypes="FeatureSetDoesNotHaveSubtypes",j.UnexpectedToken="UnexpectedToken",j.Unrecognized="Unrecognized",j.UnrecognizedType="UnrecognizedType",j.MaximumCallDepth="MaximumCallDepth",j.BooleanConditionRequired="BooleanConditionRequired",j.TypeNotAllowedInFeature="TypeNotAllowedInFeature",j.KeyMustBeString="KeyMustBeString",j.WrongNumberOfParameters="WrongNumberOfParameters",j.CallNonFunction="CallNonFunction",j.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",j.NoFunctionInDictionary="NoFunctionInDictionary",j.NoFunctionInArray="NoFunctionInArray",j.AssignModuleFunction="AssignModuleFunction",j.LogicExpressionOrAnd="LogicExpressionOrAnd",j.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",j.FunctionNotFound="FunctionNotFound",j.InvalidMemberAccessKey="InvalidMemberAccessKey",j.UnsupportedUnaryOperator="UnsupportUnaryOperator",j.InvalidIdentifier="InvalidIdentifier",j.MemberOfNull="MemberOfNull",j.UnsupportedOperator="UnsupportedOperator",j.Cancelled="Cancelled",j.ModuleAccessorMustBeString="ModuleAccessorMustBeString",j.ModuleExportNotFound="ModuleExportNotFound",j.Immutable="Immutable",j.OutOfBounds="OutOfBounds",j.IllegalResult="IllegalResult",j.FieldNotFound="FieldNotFound",j.PortalRequired="PortalRequired",j.LogicError="LogicError",j.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",j.KeyAccessorMustBeString="KeyAccessorMustBeString",j.WrongSpatialReference="WrongSpatialReference",j.CannotChangeTimeZoneTime="CannotChangeTimeZoneTime",j.CannotChangeTimeZoneDateOnly="CannotChangeTimeZoneDateOnly";const E={[B.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[B.LogicError]:"Logic error - {reason}",[B.CannotCompareDateAndTime]:"Cannot compare date or dateonly with timeonly types",[B.NeverReach]:"Encountered unreachable logic",[B.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[B.ModuleAccessorMustBeString]:"Module accessor must be a string",[B.ModuleExportNotFound]:"Module has no export with provided identifier",[B.ModulesNotSupported]:"Current profile does not support modules",[B.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[B.FunctionNotFound]:"Function not found",[B.FieldNotFound]:"Key not found - {key}",[B.CircularModules]:"Circular module dependencies are not allowed",[B.Cancelled]:"Execution cancelled",[B.UnsupportedHashType]:"Type not supported in hash function",[B.IllegalResult]:"Value is not a supported return type",[B.PortalRequired]:"Portal is required",[B.InvalidParameter]:"Invalid parameter",[B.WrongNumberOfParameters]:"Call with wrong number of parameters",[B.Unrecognized]:"Unrecognized code structure",[B.UnrecognizedType]:"Unrecognized type",[B.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[B.BooleanConditionRequired]:"Conditions must use booleans",[B.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[B.NoFunctionInArray]:"Arrays cannot contain functions.",[B.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[B.KeyAccessorMustBeString]:"Accessor must be a string",[B.KeyMustBeString]:"Object keys must be a string",[B.Immutable]:"Object is immutable",[B.UnexpectedToken]:"Unexpected token",[B.MemberOfNull]:"Cannot access property of null object",[B.MaximumCallDepth]:"Exceeded maximum function depth",[B.OutOfBounds]:"Out of bounds",[B.InvalidIdentifier]:"Identifier not recognized",[B.CallNonFunction]:"Expression is not a function",[B.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[B.AssignModuleFunction]:"Cannot assign function to module variable",[B.UnsupportedUnaryOperator]:"Unsupported unary operator",[B.UnsupportedOperator]:"Unsupported operator",[B.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[B.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&",[B.CannotChangeTimeZoneTime]:"Cannot change the timezone of a Time",[B.CannotChangeTimeZoneDateOnly]:"Cannot change the timezone of a DateOnly",[B.FeatureSetDoesNotHaveSubtypes]:"FeatureSet does not have subtypes"};class ce extends Error{constructor(...te){super(...te)}}class x extends ce{constructor(te,v){super(Y(v)+te.message,{cause:te}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,x),null!=v&&v.loc&&(this.loc=v.loc)}}class u extends Error{constructor(te,v,p,f){super("Execution error - "+Y(p)+(0,$.HC)(E[v],f)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,u),null!=p&&p.loc&&(this.loc=p.loc)}}function Y(j){var te,v;return j&&j.loc?`Line : ${null===(te=j.loc.start)||void 0===te?void 0:te.line}, ${null===(v=j.loc.start)||void 0===v?void 0:v.column}: `:""}class L extends Error{constructor(te,v,p,f){super("Compilation error - "+Y(p)+(0,$.HC)(E[v],f)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,L),null!=p&&p.loc&&(this.loc=p.loc)}}class l extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,l)}}function z(j,te,v){return"esri.arcade.arcadeexecutionerror"===v.declaredRootClass||"esri.arcade.arcadecompilationerror"===v.declaredRootClass?null===v.loc&&null!=te&&te.loc?new x(v,{cause:v}):v:null!=te&&te.loc?new x(v,{cause:v}):v}var K;!function(j){j.UnrecognizedUri="UnrecognizedUri",j.UnsupportedUriProtocol="UnsupportedUriProtocol"}(K||(K={}));const N={[K.UnrecognizedUri]:"Unrecognized uri - {uri}",[K.UnsupportedUriProtocol]:"Unrecognized uri protocol"};class ee extends Error{constructor(te,v){super((0,$.HC)(N[te],v)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,ee)}}},7981:(Oe,ve,_)=>{_.d(ve,{$P:()=>j,At:()=>me,Et:()=>ee,J6:()=>L,JB:()=>ne,Kg:()=>K,Lk:()=>te,Qi:()=>W,SQ:()=>k,Tf:()=>D,Yc:()=>g,eg:()=>f,f0:()=>p,gO:()=>y,ik:()=>oe,ke:()=>l,nE:()=>z,rX:()=>v,uf:()=>c,yT:()=>ie,zl:()=>Y});var Y,L,U,$=_(61299),B=_(87257),E=_(29752),ce=_(28067),x=_(29141),u=_(44549);function l(U){return x.A.fromJSON(U.toJSON())}function z(U){return U.toJSON?U.toJSON():U}function K(U){return"string"==typeof U||U instanceof String}function ee(U){return"number"==typeof U}function j(U){return U instanceof Date}function te(U){return U instanceof u.c9}function v(U){return U instanceof $.lY}function p(U){return U instanceof B.n}function f(U){return U instanceof E.k}function D(U,V){return U===V||!(!j(U)&&!v(U)||!j(V)&&!v(V))&&U.getTime()===V.getTime()}function c(U){if(null==U)return null;if("number"==typeof U)return U;switch(U.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109439;case"kilometers":case"kilometer":case"km":return 109414}return null}function g(U){if(null==U)return null;switch(U.type){case"polygon":case"multipoint":case"polyline":return U.extent;case"point":return new ce.A({xmin:U.x,ymin:U.y,xmax:U.x,ymax:U.y,spatialReference:U.spatialReference});case"extent":return U}return null}function k(U){if(null==U)return null;if("number"==typeof U||"number"==typeof U)return U;switch(U.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9093;case"kilometers":case"kilometer":case"km":return 9036}return null}(U=Y||(Y={}))[U.Standardised=0]="Standardised",U[U.StandardisedNoInterval=1]="StandardisedNoInterval",U[U.SqlServer=2]="SqlServer",U[U.Oracle=3]="Oracle",U[U.Postgres=4]="Postgres",U[U.PGDB=5]="PGDB",U[U.FILEGDB=6]="FILEGDB",U[U.NotEvaluated=7]="NotEvaluated",function(U){U[U.InFeatureSet=0]="InFeatureSet",U[U.NotInFeatureSet=1]="NotInFeatureSet",U[U.Unknown=2]="Unknown"}(L||(L={}));const y=1e3,oe={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},ie={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},me={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function W(U){return void 0===U?"":U=(U=(U=U.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function ne(U,V){V||(V={}),"function"==typeof V&&(V={cmp:V});const H="boolean"==typeof V.cycles&&V.cycles,ue=V.cmp&&(q=V.cmp,function(Fe){return function(Ce,Ge){return q({key:Ce,value:Fe[Ce]},{key:Ge,value:Fe[Ge]})}});var q;const ye=[];return function Fe(Ce,Ge){if(null!==(Ge=Ce)&&void 0!==Ge&&Ge.toJSON&&"function"==typeof Ce.toJSON&&(Ce=Ce.toJSON()),void 0===Ce)return;if("number"==typeof Ce)return isFinite(Ce)?""+Ce:"null";if("object"!=typeof Ce)return JSON.stringify(Ce);let be,Be;if(Array.isArray(Ce)){for(Be="[",be=0;be<Ce.length;be++)be&&(Be+=","),Be+=Fe(Ce[be])||"null";return Be+"]"}if(null===Ce)return"null";if(ye.includes(Ce)){if(H)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const At=ye.push(Ce)-1,Ne=Object.keys(Ce).sort(null==ue?void 0:ue(Ce));for(Be="",be=0;be<Ne.length;be++){const lt=Ne[be],Xe=Fe(Ce[lt]);Xe&&(Be&&(Be+=","),Be+=JSON.stringify(lt)+":"+Xe)}return ye.splice(At,1),"{"+Be+"}"}(U)}},29417:(Oe,ve,_)=>{_.d(ve,{BM:()=>ce,E8:()=>N,G9:()=>L,L5:()=>Q,UX:()=>ee,Uc:()=>k,Ws:()=>me,_j:()=>X,e0:()=>te,eb:()=>T,ln:()=>c,tI:()=>j,ux:()=>Ae,x6:()=>x});var $=_(69287),B=_(13303),E=_(62928);function ce(W,ne,U){return Math.sqrt((W[0]-ne[0])**2+(W[1]-ne[1])**2+(void 0!==W[2]&&void 0!==ne[2]?(W[2]*U-ne[2]*U)**2:0))}function x(W,ne,U){return Math.sqrt((W[0]-ne[0])**2+(W[1]-ne[1])**2+(void 0!==W[2]&&void 0!==ne[2]?(W[2]*U-ne[2]*U)**2:0))}const u=[];for(const W of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const ne=W[0];for(let U=1;U<W.length;U++)u[W[U]]=ne}const Y=[];function L(W){return W.vcsWkid&&void 0!==u[W.vcsWkid]?Y[u[W.vcsWkid]]:W.latestVcsWkid&&void 0!==u[W.latestVcsWkid]?Y[u[W.latestVcsWkid]]:1}function l(W,ne,U){const V={x:0,y:0};ne&&(V.z=0),U&&(V.m=0);let H=0,ue=W[0];for(let q=0;q<W.length;q++){const ye=W[q];if(!1===ae(ye,ue)){const Fe=N(ue,ye,ne),Ce=z(ue,ye,ne,U);Ce.x*=Fe,Ce.y*=Fe,V.x+=Ce.x,V.y+=Ce.y,ne&&(Ce.z*=Fe,V.z+=Ce.z),U&&(Ce.m*=Fe,V.m+=Ce.m),H+=Fe,ue=ye}}return H>0?(V.x/=H,V.y/=H,ne&&(V.z/=H),U&&(V.m/=H)):(V.x=W[0][0],V.y=W[0][1],ne&&(V.z=W[0][2]),U&&ne?V.m=W[0][3]:U&&(V.m=W[0][2])),V}function z(W,ne,U,V){const H={x:(W[0]+ne[0])/2,y:(W[1]+ne[1])/2};return U&&(H.z=(W[2]+ne[2])/2),U&&V?H.m=(W[3]+ne[3])/2:V&&(H.m=(W[2]+ne[2])/2),H}function K(W,ne){if(W.length<=1)return 0;let U=0;for(let V=1;V<W.length;V++)U+=N(W[V-1],W[V],ne);return U}function N(W,ne,U){const V=ne[0]-W[0],H=ne[1]-W[1];if(U){const ue=ne[2]-ne[2];return Math.sqrt(V*V+H*H+ue*ue)}return Math.sqrt(V*V+H*H)}function ee(W,ne,U){const V=ne[0]-W[0],H=ne[1]-W[1];if(U){const ue=ne[2]-ne[2];return V*V+H*H+ue*ue}return V*V+H*H}function ae(W,ne){if(W.length!==ne.length)return!1;for(let U=0;U<W.length;U++)if(W[U]!==ne[U])return!1;return!0}function j(W){const ne={x:0,y:0,spatialReference:W.spatialReference.toJSON()},U={x:0,y:0,spatialReference:W.spatialReference.toJSON()};let V=0,H=0;for(let ue=0;ue<W.paths.length;ue++){if(0===W.paths[ue].length)continue;const q=K(W.paths[ue],!0===W.hasZ);if(0===q){const ye=l(W.paths[ue],!0===W.hasZ,!0===W.hasM);ne.x+=ye.x,ne.y+=ye.y,!0===W.hasZ&&(ne.z+=ye.z),!0===W.hasM&&(ne.m+=ye.m),++V}else{const ye=l(W.paths[ue],!0===W.hasZ,!0===W.hasM);U.x+=ye.x*q,U.y+=ye.y*q,!0===W.hasZ&&(U.z+=ye.z*q),!0===W.hasM&&(U.m+=ye.m*q),H+=q}}return H>0?(U.x/=H,U.y/=H,!0===W.hasZ&&(U.z/=H),!0===W.hasM&&(U.m/=H),new B.A(U)):V>0?(ne.x/=V,ne.y/=V,!0===W.hasZ&&(U.z/=V),!0===W.hasM&&(ne.m/=V),new B.A(ne)):null}function te(W){if(0===W.points.length)return null;let ne=0,U=0,V=0,H=0;for(let q=0;q<W.points.length;q++){const ye=W.getPoint(q);!0===ye.hasZ&&(V+=ye.z),!0===ye.hasM&&(H+=ye.m),ne+=ye.x,U+=ye.y,H+=ye.m}const ue={x:ne/W.points.length,y:U/W.points.length,spatialReference:null};return ue.spatialReference=W.spatialReference.toJSON(),!0===W.hasZ&&(ue.z=V/W.points.length),!0===W.hasM&&(ue.m=H/W.points.length),new B.A(ue)}function f(W,ne,U=0){for(;W<U;)W+=ne;const V=U+ne;for(;W>=V;)W-=ne;return W}function D(W,ne){return Math.atan2(ne.y-W.y,ne.x-W.x)}function T(W,ne){return f(D(W,ne),2*Math.PI)*(180/Math.PI)}function c(W,ne){return f(Math.PI/2-D(W,ne),2*Math.PI)*(180/Math.PI)}function g(W,ne,U){const V={x:W.x-ne.x,y:W.y-ne.y},H={x:U.x-ne.x,y:U.y-ne.y};return Math.atan2(function p(W,ne){return W.x*ne.y-ne.x*W.y}(V,H),function v(W,ne){return W.x*ne.x+W.y*ne.y}(V,H))}function k(W,ne,U){return(0,$.KJ)(f(g(W,ne,U),2*Math.PI))}function Q(W,ne,U){return(0,$.KJ)(f(-1*g(W,ne,U),2*Math.PI))}Y[9002]=.3048,Y[9003]=.3048006096012192,Y[9095]=.3048007491;const y=[0,0];function X(W){for(let ne=0;ne<W.length;ne++){const U=W[ne];for(let H=0;H<U.length-1;H++){const ue=U[H],q=U[H+1];for(let ye=ne+1;ye<W.length;ye++)for(let Fe=0;Fe<W[ye].length-1;Fe++){const Ce=W[ye][Fe],Ge=W[ye][Fe+1];if((0,E.Ql)(ue,q,Ce,Ge,y)&&!(y[0]===ue[0]&&y[1]===ue[1]||y[0]===Ce[0]&&y[1]===Ce[1]||y[0]===q[0]&&y[1]===q[1]||y[0]===Ge[0]&&y[1]===Ge[1]))return!0}}const V=U.length;if(!(V<3))for(let H=0;H<=V-2;H++){const ue=U[H],q=U[H+1];for(let ye=H+2;ye<=V-2;ye++){const Fe=U[ye],Ce=U[ye+1];if((0,E.Ql)(ue,q,Fe,Ce,y)&&!(y[0]===ue[0]&&y[1]===ue[1]||y[0]===Fe[0]&&y[1]===Fe[1]||y[0]===q[0]&&y[1]===q[1]||y[0]===Ce[0]&&y[1]===Ce[1]))return!0}}}return!1}function me(W,ne,U){const V=[U[0]-ne[0],U[1]-ne[1],U[2]-ne[2]],H=function R(W,ne,U){return Math.max(ne,Math.min(U,W))}(function oe(W,ne){return W[0]*ne[0]+W[1]*ne[1]+W[2]*ne[2]}(V,[W[0]-ne[0],W[1]-ne[1],W[2]-ne[2]])/function ie(W){return W[0]*W[0]+W[1]*W[1]+W[2]*W[2]}(V),0,1);return[ne[0]+(U[0]-ne[0])*H,ne[1]+(U[1]-ne[1])*H,ne[2]+(U[2]-ne[2])*H]}function Ae(W,ne,U){let V=0;const H=U[0]-ne[0],ue=U[1]-ne[1],q=H*H+ue*ue;return 0===q?V=.5:(V=((W[0]-ne[0])*H+(W[1]-ne[1])*ue)/q,V<0?V=0:V>1&&(V=1)),V<=.5?[ne[0]+(U[0]-ne[0])*V,ne[1]+(U[1]-ne[1])*V]:[U[0]-(U[0]-ne[0])*(1-V),U[1]-(U[1]-ne[1])*(1-V)]}},98745:(Oe,ve,_)=>{_.d(ve,{d:()=>j});var $=_(61299),B=_(55279),E=_(42686),ce=_(87257),x=_(29752),u=_(66615),Y=_(44549);const z=[0,31,59,90,120,151,181,212,243,273,304,334],K=[0,31,60,91,121,152,182,213,244,274,305,335];function N(te){return null===te?te:!1===te.isValid?null:te}function ee(te,v){return""===te||"default"===te.toLowerCase().trim()?(0,E.N)(v):"z"===te||"Z"===te?"UTC":te}function ae(te,v){return(0,E.m)(te)?te.toArcadeDate():(0,E.l)(te,(0,E.N)(v))}function j(te,v){te.today=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,0,0,p,f);const g=new Date;return g.setHours(0,0,0,0),$.lY.dateJSAndZoneToArcadeDate(g,(0,E.N)(p))})},te.time=function(p,f){return v(p,f,(D,T,c)=>{switch((0,E.H)(c,0,4,p,f),c.length){case 0:{const g=$.lY.nowToArcadeDate((0,E.N)(p));return new x.k(g.hour,g.minute,g.second,g.millisecond)}case 1:{if((0,E.n)(c[0]))return c[0].clone();if((0,E.k)(c[0]))return new x.k(c[0].hour,c[0].minute,c[0].second,c[0].millisecond);if((0,E.m)(c[0]))return new x.k(0,0,0,0);if((0,E.c)(c[0]))return x.k.fromString(c[0]);const g=(0,E.g)(c[0]);return!1===isNaN(g)?x.k.fromMilliseconds(g):null}case 2:return(0,E.c)(c[0])&&(0,E.c)(c[1])?x.k.fromString(c[0],c[1]):x.k.fromParts((0,E.g)(c[0]),(0,E.g)(c[1]),0,0);case 3:return x.k.fromParts((0,E.g)(c[0]),(0,E.g)(c[1]),(0,E.g)(c[2]),0);case 4:return x.k.fromParts((0,E.g)(c[0]),(0,E.g)(c[1]),(0,E.g)(c[2]),(0,E.g)(c[3]))}throw new B.D$(p,B.TX.InvalidParameter,f)})},te.dateonly=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,0,3,p,f),3===c.length)return ce.n.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]));if(2===c.length){const g=(0,E.j)(c[1]);return""===g?null:"X"===g?ce.n.fromSeconds((0,E.g)(c[0])):"x"===g?ce.n.fromMilliseconds((0,E.g)(c[0])):ce.n.fromString((0,E.j)(c[0]),g)}if(1===c.length){if((0,E.c)(c[0])){if(""===c[0].replaceAll(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(c[0]))return ce.n.fromString(c[0]+"-01-01")}if((0,E.m)(c[0]))return c[0].clone();if((0,E.k)(c[0]))return ce.n.fromParts(c[0].year,c[0].monthJS+1,c[0].day);const g=(0,E.g)(c[0]);return!1===isNaN(g)?ce.n.fromMilliseconds(g):(0,E.c)(c[0])?ce.n.fromString(c[0]):null}if(0===c.length){const g=$.lY.nowToArcadeDate((0,E.N)(p));return!1===g.isValid?null:ce.n.fromParts(g.year,g.monthJS+1,g.day)}return null})},te.changetimezone=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,2,2,p,f),null===c[0])return null;if((0,E.m)(c[0]))throw new B.D$(p,B.TX.CannotChangeTimeZoneDateOnly,f);if((0,E.m)(c[0]))throw new B.D$(p,B.TX.CannotChangeTimeZoneTime,f);const g=(0,E.l)(c[0],(0,E.N)(p));if(null===g)throw new B.D$(p,B.TX.InvalidParameter,f);const k=(0,$.mT)(ee((0,E.j)(c[1]),p),!1);if(null===k)return null;const Q=$.lY.arcadeDateAndZoneToArcadeDate(g,k);return!1===Q.isValid?null:Q})},te.timezone=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,1,2,p,f),(0,E.n)(c[0])||(0,E.m)(c[0]))return"Unknown";const g=(0,E.l)(c[0],(0,E.N)(p));if(null===g)return null;const k=g.timeZone;return"system"===k?$.lY.systemTimeZoneCanonicalName:"utc"===k.toLowerCase()?"UTC":"unknown"===k.toLowerCase()?"Unknown":k})},te.timezoneoffset=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?null:60*g.timeZoneOffset*1e3})},te.now=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,0,0,p,f);const g=$.lY.nowToArcadeDate((0,E.N)(p));return!1===g.isValid?null:g})},te.timestamp=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,0,0,p,f);const g=$.lY.nowUTCToArcadeDate();return!1===g.isValid?null:g})},te.toutc=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?null:g.toUTC()})},te.tolocal=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?null:g.toLocal()})},te.day=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.day})},te.month=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.monthJS})},te.year=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.year})},te.hour=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,1,1,p,f),(0,E.n)(c[0]))return c[0].hour;const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?NaN:g.hour})},te.second=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,1,1,p,f),(0,E.n)(c[0]))return c[0].second;const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?NaN:g.second})},te.millisecond=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,1,1,p,f),(0,E.n)(c[0]))return c[0].millisecond;const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?NaN:g.millisecond})},te.minute=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,1,1,p,f),(0,E.n)(c[0]))return c[0].minute;const g=(0,E.l)(c[0],(0,E.N)(p));return null===g?NaN:g.minute})},te.week=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,2,p,f);const g=ae(c[0],(0,E.N)(p));if(null===g)return NaN;const k=(0,E.g)((0,E.K)(c[1],0));if(k<0||k>6)throw new B.D$(p,B.TX.InvalidParameter,f);const R=g.dayOfWeekJS,oe=function L(te,v,p){return te+(function l(te){return te%4==0&&(te%100!=0||te%400==0)}(p)?K:z)[v]}(g.day,g.monthJS,g.year)-1,ie=Math.floor(oe/7);return R-k+(R-k<0?7:0)<oe-7*ie?ie+1:ie})},te.weekday=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.dayOfWeekJS})},te.isoweekday=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.dayOfWeekISO})},te.isomonth=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.monthISO})},te.isoweek=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.weekISO})},te.isoyear=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,1,1,p,f);const g=ae(c[0],(0,E.N)(p));return null===g?NaN:g.yearISO})},te.date=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,0,8,p,f),3===c.length){if((0,E.m)(c[0])&&(0,E.n)(c[1])&&(0,E.c)(c[2])){var g;const y=(0,$.mT)(ee(null!==(g=(0,E.j)(c[2]))&&void 0!==g?g:"unknown",p),!1);return null===y?null:N($.lY.fromParts(c[0].year,c[0].month,c[0].day,c[1].hour,c[1].minute,c[1].second,c[1].millisecond,y))}return N($.lY.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]),0,0,0,0,(0,E.N)(p)))}if(4===c.length)return N($.lY.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]),(0,E.g)(c[3]),0,0,0,(0,E.N)(p)));if(5===c.length)return N($.lY.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]),(0,E.g)(c[3]),(0,E.g)(c[4]),0,0,(0,E.N)(p)));if(6===c.length)return N($.lY.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]),(0,E.g)(c[3]),(0,E.g)(c[4]),(0,E.g)(c[5]),0,(0,E.N)(p)));if(7===c.length)return N($.lY.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]),(0,E.g)(c[3]),(0,E.g)(c[4]),(0,E.g)(c[5]),(0,E.g)(c[6]),(0,E.N)(p)));if(8===c.length){var k;const y=(0,$.mT)(ee(null!==(k=(0,E.j)(c[7]))&&void 0!==k?k:"unknown",p),!1);return null===y?null:N($.lY.fromParts((0,E.g)(c[0]),(0,E.g)(c[1])+1,(0,E.g)(c[2]),(0,E.g)(c[3]),(0,E.g)(c[4]),(0,E.g)(c[5]),(0,E.g)(c[6]),y))}if(2===c.length){if((0,E.m)(c[0])&&(0,E.c)(c[1])){var Q;const R=(0,$.mT)(ee(null!==(Q=(0,E.j)(c[1]))&&void 0!==Q?Q:"unknown",p),!1);return null===R?null:N($.lY.fromParts(c[0].year,c[0].month,c[0].day,0,0,0,0,R))}if((0,E.m)(c[0])&&(0,E.n)(c[1]))return N($.lY.fromParts(c[0].year,c[0].month,c[0].day,c[1].hour,c[1].minute,c[1].second,c[1].millisecond,"unknown"));let y,X=(0,E.j)(c[1]);return""===X?null:(X=(0,E.Q)(X,!0),y="X"===X?Y.c9.fromSeconds((0,E.g)(c[0])):"x"===X?Y.c9.fromMillis((0,E.g)(c[0])):Y.c9.fromFormat((0,E.j)(c[0]),X,{locale:(0,u.JK)(),numberingSystem:"latn"}),y.isValid?$.lY.dateTimeToArcadeDate(y):null)}if(1===c.length){if((0,E.m)(c[0]))return N($.lY.fromParts(c[0].year,c[0].month,c[0].day,0,0,0,0,"unknown"));if((0,E.c)(c[0])){if(""===c[0].replaceAll(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(c[0]))return(0,E.l)(c[0]+"-01-01",(0,E.N)(p))}const y=(0,E.g)(c[0]);if(!1===isNaN(y)){const X=Y.c9.fromMillis(y);return X.isValid?$.lY.dateTimeAndZoneToArcadeDate(X,(0,E.N)(p)):null}return(0,E.l)(c[0],(0,E.N)(p))}return 0===c.length?$.lY.nowToArcadeDate((0,E.N)(p)):null})},te.datediff=function(p,f){return v(p,f,(D,T,c)=>{if((0,E.H)(c,2,4,p,f),(0,E.n)(c[0]))return(0,E.n)(c[1])?c[0].difference(c[1],(0,E.j)(c[2])):NaN;if((0,E.n)(c[1]))return NaN;if((0,E.m)(c[0]))return(0,E.m)(c[1])?c[0].difference(c[1],(0,E.j)(c[2])):NaN;if((0,E.m)(c[1]))return NaN;let g=(0,E.l)(c[0],(0,E.N)(p)),k=(0,E.l)(c[1],(0,E.N)(p));if(null===g||null===k)return NaN;let Q=(0,E.K)(c[3],"");switch(""!==Q&&null!==Q?(Q=ee((0,E.j)(Q),p),g=$.lY.arcadeDateAndZoneToArcadeDate(g,Q),k=$.lY.arcadeDateAndZoneToArcadeDate(k,Q)):g.timeZone!==k.timeZone&&(g.isUnknownTimeZone?g=$.lY.arcadeDateAndZoneToArcadeDate(g,k.timeZone):k=$.lY.arcadeDateAndZoneToArcadeDate(k,g.timeZone)),(0,E.j)(c[2]).toLowerCase()){case"days":case"day":case"d":return g.diff(k,"days");case"months":case"month":return g.diff(k,"months");case"minutes":case"minute":case"m":return g.diff(k,"M"===c[2]?"months":"minutes");case"seconds":case"second":case"s":return g.diff(k,"seconds");case"milliseconds":case"millisecond":case"ms":default:return g.diff(k);case"hours":case"hour":case"h":return g.diff(k,"hours");case"years":case"year":case"y":return g.diff(k,"years")}})},te.dateadd=function(p,f){return v(p,f,(D,T,c)=>{(0,E.H)(c,2,3,p,f);let g=(0,E.g)(c[1]);if(isNaN(g)||g===1/0||g===-1/0)return(0,E.n)(c[0])||(0,E.m)(c[0])?c[0].clone():(0,E.l)(c[0],(0,E.N)(p));let k="milliseconds";switch((0,E.j)(c[2]).toLowerCase()){case"days":case"day":case"d":k="days",g=(0,E.m)(c[0])?g:(0,E.R)(g);break;case"months":case"month":k="months",g=(0,E.m)(c[0])?g:(0,E.R)(g);break;case"minutes":case"minute":case"m":k="M"===c[2]?"months":"minutes";break;case"seconds":case"second":case"s":k="seconds";break;case"milliseconds":case"millisecond":case"ms":k="milliseconds";break;case"hours":case"hour":case"h":k="hours";break;case"years":case"year":case"y":k="years"}if((0,E.n)(c[0])||(0,E.m)(c[0]))return c[0].plus(k,g);const Q=(0,E.l)(c[0],(0,E.N)(p));return null===Q?null:Q.plus({[k]:g})})}}},59118:(Oe,ve,_)=>{_.d(ve,{t:()=>Y});var $=_(42686);function B(L){let l=0;for(let z=0;z<L.length;z++)l+=L[z];return l/L.length}function E(L){const l=B(L);let z=0;for(let K=0;K<L.length;K++)z+=(l-L[K])**2;return z/L.length}function Y(L,l,z=1e3){switch(L.toLowerCase()){case"distinct":return function x(L,l){const z=[],K={},N=[];for(let ee=0;ee<L.length;ee++){if(null!=L[ee]&&L[ee]!==$.B){const ae=L[ee];if((0,$.b)(ae)||(0,$.c)(ae))void 0===K[ae]&&(z.push(ae),K[ae]=1);else{let j=!1;for(let te=0;te<N.length;te++)!0===(0,$.F)(N[te],ae)&&(j=!0);!1===j&&(N.push(ae),z.push(ae))}}if(z.length>=l&&-1!==l)return z}return z}(l,z);case"avg":case"mean":return B((0,$.$)(l));case"min":return Math.min.apply(Math,(0,$.$)(l));case"sum":return function ce(L){let l=0;for(let z=0;z<L.length;z++)l+=L[z];return l}((0,$.$)(l));case"max":return Math.max.apply(Math,(0,$.$)(l));case"stdev":case"stddev":return Math.sqrt(E((0,$.$)(l)));case"var":case"variance":return E((0,$.$)(l));case"count":return l.length}return 0}},39521:(Oe,ve,_)=>{_.d(ve,{B:()=>f,d:()=>v});var $=_(53787),B=_(55279),E=_(63145),ce=_(61223),x=_(40056),u=_(42686),Y=_(29417),L=_(28067),l=_(68643),z=_(21870),K=_(13303),N=_(55861),ee=_(93615),ae=_(15268),j=_(61320);function te(D){return D&&"esri.arcade.Feature"===D.arcadeDeclaredClass}function v(D,T){D.ringisclockwise=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,1,1,c,g);let X=[];if(null===y[0])return!1;if((0,u.o)(y[0]))for(const R of y[0]){if(!(R instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);X.push(R.hasZ?R.hasM?[R.x,R.y,R.z,R.m]:[R.x,R.y,R.z]:[R.x,R.y])}else if(y[0]instanceof x.A)X=y[0]._elements;else{if(!(0,u.q)(y[0]))throw new B.D$(c,B.TX.InvalidParameter,g);for(const R of y[0].toArray()){if(!(R instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);X.push(R.hasZ?R.hasM?[R.x,R.y,R.z,R.m]:[R.x,R.y,R.z]:[R.x,R.y])}}return!(X.length<3)&&(0,ae.$3)(X)})},D.polygon=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,1,1,c,g);let X=null;if(y[0]instanceof $.A){if(X=(0,u.x)(E.A.parseGeometryFromDictionary(y[0],c.spatialReference),c.spatialReference),!(X instanceof N.A))throw new B.D$(c,B.TX.InvalidParameter,g)}else if(y[0]instanceof N.A)X=(0,j.rS)(y[0].toJSON());else{const R=JSON.parse(y[0]);R&&!R.spatialReference&&(R.spatialReference=c.spatialReference),X=(0,u.x)(new N.A(R),c.spatialReference)}if(null!==X&&!1===X.spatialReference.equals(c.spatialReference))throw new B.D$(c,B.TX.WrongSpatialReference,g);return(0,u.S)(X)})},D.polyline=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,1,1,c,g);let X=null;if(y[0]instanceof $.A){if(X=(0,u.x)(E.A.parseGeometryFromDictionary(y[0],c.spatialReference),c.spatialReference),!(X instanceof ee.A))throw new B.D$(c,B.TX.InvalidParameter,g)}else if(y[0]instanceof ee.A)X=(0,j.rS)(y[0].toJSON());else{const R=JSON.parse(y[0]);R&&!R.spatialReference&&(R.spatialReference=c.spatialReference),X=(0,u.x)(new ee.A(R),c.spatialReference)}if(null!==X&&!1===X.spatialReference.equals(c.spatialReference))throw new B.D$(c,B.TX.WrongSpatialReference,g);return(0,u.S)(X)})},D.point=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,1,1,c,g);let X=null;if(y[0]instanceof $.A){if(X=(0,u.x)(E.A.parseGeometryFromDictionary(y[0],c.spatialReference),c.spatialReference),!(X instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g)}else if(y[0]instanceof K.A)X=(0,j.rS)(y[0].toJSON());else{const R=JSON.parse(y[0]);R&&!R.spatialReference&&(R.spatialReference=c.spatialReference),X=(0,u.x)(new K.A(R),c.spatialReference)}if(null!==X&&!1===X.spatialReference.equals(c.spatialReference))throw new B.D$(c,B.TX.WrongSpatialReference,g);return(0,u.S)(X)})},D.multipoint=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,1,1,c,g);let X=null;if(y[0]instanceof $.A){if(X=(0,u.x)(E.A.parseGeometryFromDictionary(y[0],c.spatialReference),c.spatialReference),!(X instanceof z.A))throw new B.D$(c,B.TX.InvalidParameter,g)}else if(y[0]instanceof z.A)X=(0,j.rS)(y[0].toJSON());else{const R=JSON.parse(y[0]);R&&!R.spatialReference&&(R.spatialReference=c.spatialReference),X=(0,u.x)(new z.A(R),c.spatialReference)}if(null!==X&&!1===X.spatialReference.equals(c.spatialReference))throw new B.D$(c,B.TX.WrongSpatialReference,g);return(0,u.S)(X)})},D.extent=function(c,g){return T(c,g,(k,Q,y)=>{var X,R,oe;y=(0,u.I)(y),(0,u.H)(y,1,1,c,g);let ie=null;if(y[0]instanceof $.A)ie=(0,u.x)(E.A.parseGeometryFromDictionary(y[0],c.spatialReference),c.spatialReference);else if(y[0]instanceof K.A){const me={xmin:y[0].x,ymin:y[0].y,xmax:y[0].x,ymax:y[0].y,spatialReference:y[0].spatialReference.toJSON()},Ae=y[0];Ae.hasZ?(me.zmin=Ae.z,me.zmax=Ae.z):Ae.hasM&&(me.mmin=Ae.m,me.mmax=Ae.m),ie=(0,j.rS)(me)}else if(y[0]instanceof N.A)ie=(0,j.rS)(null===(X=y[0].extent)||void 0===X?void 0:X.toJSON());else if(y[0]instanceof ee.A)ie=(0,j.rS)(null===(R=y[0].extent)||void 0===R?void 0:R.toJSON());else if(y[0]instanceof z.A)ie=(0,j.rS)(null===(oe=y[0].extent)||void 0===oe?void 0:oe.toJSON());else if(y[0]instanceof L.A)ie=(0,j.rS)(y[0].toJSON());else{const me=JSON.parse(y[0]);me&&!me.spatialReference&&(me.spatialReference=c.spatialReference),ie=(0,u.x)(new L.A(me),c.spatialReference)}if(null!==ie&&!1===ie.spatialReference.equals(c.spatialReference))throw new B.D$(c,B.TX.WrongSpatialReference,g);return(0,u.S)(ie)})},D.geometry=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,1,1,c,g);let X=null;if(null===y[0])return null;if(te(y[0]))X=(0,u.x)(y[0].geometry(),c.spatialReference);else if(y[0]instanceof $.A)X=(0,u.x)(E.A.parseGeometryFromDictionary(y[0],c.spatialReference),c.spatialReference);else{const R=JSON.parse(y[0]);R&&!R.spatialReference&&(R.spatialReference=c.spatialReference),X=(0,u.x)((0,j.rS)(R),c.spatialReference)}if(null!==X&&!1===X.spatialReference.equals(c.spatialReference))throw new B.D$(c,B.TX.WrongSpatialReference,g);return(0,u.S)(X)})},D.setgeometry=function(c,g){return T(c,g,(k,Q,y)=>{if((0,u.H)(y,2,2,c,g),!te(y[0]))throw new B.D$(c,B.TX.InvalidParameter,g);if(!0===y[0].immutable)throw new B.D$(c,B.TX.Immutable,g);if(!(y[1]instanceof l.A||null===y[1]))throw new B.D$(c,B.TX.InvalidParameter,g);return y[0]._geometry=y[1],u.B})},D.feature=function(c,g){return T(c,g,(k,Q,y)=>{if(0===y.length)throw new B.D$(c,B.TX.WrongNumberOfParameters,g);let X=null;if(1===y.length)if((0,u.c)(y[0]))X=E.A.fromJson(JSON.parse(y[0]),c.timeZone);else if(te(y[0]))X=E.A.createFromArcadeFeature(y[0]);else if(y[0]instanceof l.A)X=E.A.createFromGraphicLikeObject(y[0],null,null,c.timeZone);else{if(!(y[0]instanceof $.A))throw new B.D$(c,B.TX.InvalidParameter,g);{let R=y[0].hasField("geometry")?y[0].field("geometry"):null,oe=y[0].hasField("attributes")?y[0].field("attributes"):null;null!==R&&R instanceof $.A&&(R=E.A.parseGeometryFromDictionary(R,c.spatialReference)),null!==oe&&(oe=E.A.parseAttributesFromDictionary(oe)),X=E.A.createFromGraphicLikeObject(R,oe,null,c.timeZone)}}else if(2===y.length){let R=null,oe=null;if(null!==y[0])if(y[0]instanceof l.A)R=y[0];else{if(!(R instanceof $.A))throw new B.D$(c,B.TX.InvalidParameter,g);R=E.A.parseGeometryFromDictionary(y[0],c.spatialReference)}if(null!==y[1]){if(!(y[1]instanceof $.A))throw new B.D$(c,B.TX.InvalidParameter,g);oe=E.A.parseAttributesFromDictionary(y[1])}X=E.A.createFromGraphicLikeObject(R,oe,null,c.timeZone)}else{let R=null;const oe={};if(null!==y[0])if(y[0]instanceof l.A)R=y[0];else{if(!(R instanceof $.A))throw new B.D$(c,B.TX.InvalidParameter,g);R=E.A.parseGeometryFromDictionary(y[0],c.spatialReference)}for(let ie=1;ie<y.length;ie+=2){const me=(0,u.j)(y[ie]),Ae=y[ie+1];if(!(null==Ae||(0,u.c)(Ae)||isNaN(Ae)||(0,u.k)(Ae)||(0,u.b)(Ae)||(0,u.n)(Ae)||(0,u.m)(Ae)||(0,u.a)(Ae)))throw new B.D$(c,B.TX.InvalidParameter,g);if((0,u.i)(Ae)||!1===(0,u.f)(Ae))throw new B.D$(c,B.TX.InvalidParameter,g);oe[me]=Ae===u.B?null:Ae}X=E.A.createFromGraphicLikeObject(R,oe,null,c.timeZone)}return X._geometry=(0,u.x)(X.geometry(),c.spatialReference),X.immutable=!1,X})},D.dictionary=function(c,g){return T(c,g,(k,Q,y)=>{if(0===y.length||1===y.length&&null===y[0]){const oe=new $.A;return oe.immutable=!1,oe}if(1===y.length&&(0,u.c)(y[0]))try{const oe=JSON.parse(y[0]),ie=$.A.convertObjectToArcadeDictionary(oe,(0,u.N)(c),!1);return ie.immutable=!1,ie}catch{throw new B.D$(c,B.TX.InvalidParameter,g)}if(1===y.length&&y[0]instanceof l.A)try{const oe=y[0].toJSON();oe.hasZ=!0===y[0].hasZ,oe.hasM=!0===y[0].hasM;const ie=$.A.convertObjectToArcadeDictionary(oe,(0,u.N)(c),!1);return ie.immutable=!1,ie}catch{throw new B.D$(c,B.TX.InvalidParameter,g)}if(1===y.length&&(0,u.r)(y[0]))try{const oe=new $.A;oe.immutable=!1,oe.setField("geometry",y[0].geometry());const ie=new $.A;ie.immutable=!1,oe.setField("attributes",ie);for(const me of y[0].keys())ie.setField(me,y[0].field(me));return oe}catch{throw new B.D$(c,B.TX.InvalidParameter,g)}if(1===y.length&&y[0]instanceof $.A)try{const oe=new $.A;oe.immutable=!1;for(const ie of y[0].keys())oe.setField(ie,y[0].field(ie));return oe}catch{throw new B.D$(c,B.TX.InvalidParameter,g)}if(2===y.length&&y[0]instanceof $.A&&(0,u.a)(y[1]))try{if(!0!==y[1]){const oe=new $.A;oe.immutable=!1;for(const ie of y[0].keys())oe.setField(ie,y[0].field(ie));return oe}return y[0].deepClone()}catch{throw new B.D$(c,B.TX.InvalidParameter,g)}if(y.length%2!=0)throw new B.D$(c,B.TX.WrongNumberOfParameters,g);const X={};for(let oe=0;oe<y.length;oe+=2){const ie=(0,u.j)(y[oe]),me=y[oe+1];if(!(null==me||(0,u.c)(me)||isNaN(me)||(0,u.k)(me)||(0,u.b)(me)||(0,u.a)(me)||(0,u.m)(me)||(0,u.n)(me)||(0,u.o)(me)||(0,u.q)(me)))throw new B.D$(c,B.TX.InvalidParameter,g);if((0,u.i)(me))throw new B.D$(c,B.TX.InvalidParameter,g);X[ie]=me===u.B?null:me}const R=new $.A(X);return R.immutable=!1,R})},D.haskey=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,2,2,c,g);const X=(0,u.j)(y[1]);if(te(y[0])||y[0]instanceof $.A)return y[0].hasField(X);if(y[0]instanceof l.A){const R=f(y[0],X,null,null,2);return!R||"notfound"!==R.keystate}throw new B.D$(c,B.TX.InvalidParameter,g)})},D.hasvalue=function(c,g){return T(c,g,(k,Q,y)=>{if((0,u.H)(y,2,2,c,g),(0,u.o)(y[1])||(0,u.q)(y[1])){const R=y[1];let oe=[];if((0,u.q)(R))oe=R.toArray();else{if(!(0,u.o)(R))throw new B.D$(c,B.TX.InvalidParameter,g);oe=R}let ie=y[0];if(null===ie)return!1;for(const me of oe)if((0,u.r)(ie)){if(!1===(0,u.c)(me)||!ie.hasField(me)||(ie=ie.field(me),null===ie))return!1}else if(ie instanceof $.A){if(!1===(0,u.c)(me)||!ie.hasField(me)||(ie=ie.field(me),null===ie))return!1}else if(ie instanceof l.A){if(!1===(0,u.c)(me)||(ie=f(ie,me,null,null,0),null===ie))return!1}else if((0,u.o)(ie)){if(!1===(0,u.b)(me)||(ie=ie[me],null==ie))return!1}else if(!(0,u.q)(ie)||!1===(0,u.b)(me)||(ie=ie.get(me),null==ie))return!1;return!0}if(null===y[0]||null===y[1])return!1;const X=(0,u.j)(y[1]);return(0,u.r)(y[0])||y[0]instanceof $.A?!!y[0].hasField(X)&&null!==y[0].field(X):y[0]instanceof l.A&&null!==f(y[0],X,null,null,0)})},D.indexof=function(c,g){return T(c,g,(k,Q,y)=>{(0,u.H)(y,2,2,c,g);const X=y[1];if((0,u.o)(y[0])){for(let R=0;R<y[0].length;R++)if((0,u.F)(X,y[0][R]))return R;return-1}if((0,u.q)(y[0])){const R=y[0].length();for(let oe=0;oe<R;oe++)if((0,u.F)(X,y[0].get(oe)))return oe;return-1}throw new B.D$(c,B.TX.InvalidParameter,g)})},D.angle=function(c,g){return T(c,g,(k,Q,y)=>{if(y=(0,u.I)(y),(0,u.H)(y,2,3,c,g),!(y[0]instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);if(!(y[1]instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);if(y.length>2&&!(y[2]instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);return 2===y.length?(0,Y.eb)(y[0],y[1]):(0,Y.Uc)(y[0],y[1],y[2])})},D.bearing=function(c,g){return T(c,g,(k,Q,y)=>{if(y=(0,u.I)(y),(0,u.H)(y,2,3,c,g),!(y[0]instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);if(!(y[1]instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);if(y.length>2&&!(y[2]instanceof K.A))throw new B.D$(c,B.TX.InvalidParameter,g);return 2===y.length?(0,Y.ln)(y[0],y[1]):(0,Y.L5)(y[0],y[1],y[2])})},D.isselfintersecting=function(c,g){return T(c,g,(k,Q,y)=>{y=(0,u.I)(y),(0,u.H)(y,1,1,c,g);let X=y[0];if(X instanceof N.A)return X.isSelfIntersecting;if(X instanceof ee.A)return X=X.paths,(0,Y._j)(X);if(X instanceof z.A){const R=X.points;for(let oe=0;oe<R.length;oe++)for(let ie=0;ie<R.length;ie++)if(ie!==oe){let me=!0;for(let Ae=0;Ae<R[oe].length;Ae++)if(R[oe][Ae]!==R[ie][Ae]){me=!1;break}if(!0===me)return!0}}return!(!(0,u.o)(X)&&!(0,u.q)(X))&&(X=(0,u.L)(X,c.spatialReference),null!==X&&(X=X.paths),(0,Y._j)(X))})}}let p=0;function f(D,T,c,g,k=1){let Q;switch(T=T.toLowerCase()){case"hasz":{const y=D.hasZ;return void 0!==y&&y}case"hasm":{const y=D.hasM;return void 0!==y&&y}case"spatialreference":{let y=D.spatialReference._arcadeCacheId;if(void 0===y){let R=!0;Object.freeze&&Object.isFrozen(D.spatialReference)&&(R=!1),R&&(p++,D.spatialReference._arcadeCacheId=p,y=p)}const X=new $.A({wkt:D.spatialReference.wkt,wkid:D.spatialReference.wkid});return void 0!==y&&(X._arcadeCacheId="SPREF"+y.toString()),X}}switch(D.type){case"extent":switch(T){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const y=D[T];return void 0!==y?y:null}case"type":return"Extent"}break;case"polygon":switch(T){case"rings":return Q=D.cache._arcadeCacheId,void 0===Q&&(p++,Q=p,D.cache._arcadeCacheId=Q),new ce.A(D.rings,D.spatialReference,!0===D.hasZ,!0===D.hasM,Q);case"type":return"Polygon"}break;case"point":switch(T){case"x":case"y":case"z":case"m":return void 0!==D[T]?D[T]:null;case"type":return"Point"}break;case"polyline":switch(T){case"paths":return Q=D.cache._arcadeCacheId,void 0===Q&&(p++,Q=p,D.cache._arcadeCacheId=Q),new ce.A(D.paths,D.spatialReference,!0===D.hasZ,!0===D.hasM,Q);case"type":return"Polyline"}break;case"multipoint":switch(T){case"points":return Q=D.cache._arcadeCacheId,void 0===Q&&(p++,Q=p,D.cache._arcadeCacheId=Q),new x.A(D.points,D.spatialReference,!0===D.hasZ,!0===D.hasM,Q,1);case"type":return"Multipoint"}}if(1===k)throw new B.D$(c,B.TX.InvalidIdentifier,g);return 2===k?{keystate:"notfound"}:null}},82050:(Oe,ve,_)=>{_.d(ve,{d:()=>ce});var $=_(42686),B=_(85775);function E(x,u,Y){return void 0===Y||0==+Y?Math[x](u):(u=+u,Y=+Y,isNaN(u)||"number"!=typeof Y||Y%1!=0?NaN:(u=u.toString().split("e"),+((u=(u=Math[x](+(u[0]+"e"+(u[1]?+u[1]-Y:-Y)))).toString().split("e"))[0]+"e"+(u[1]?+u[1]+Y:Y))))}function ce(x,u){function Y(L,l,z){const K=(0,$.g)(L);return isNaN(K)?K:isNaN(l)||isNaN(z)||l>z?NaN:K<l?l:K>z?z:K}x.number=function(L,l){return u(L,l,(z,K,N)=>{(0,$.H)(N,1,2,L,l);const ee=N[0];if((0,$.b)(ee))return ee;if(null===ee)return 0;if((0,$.k)(ee)||(0,$.n)(ee)||(0,$.m)(ee))return ee.toNumber();if((0,$.a)(ee))return Number(ee);if((0,$.o)(ee))return NaN;if(""===ee||void 0===ee)return Number(ee);if((0,$.c)(ee)){if(void 0!==N[1]){let ae=(0,$.T)(N[1],"\u2030","");return ae=(0,$.T)(ae,"\xa4",""),(0,B.qg)(ee,{pattern:ae})}return Number(ee.trim())}return Number(ee)})},x.abs=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.abs((0,$.g)(N[0]))))},x.acos=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.acos((0,$.g)(N[0]))))},x.asin=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.asin((0,$.g)(N[0]))))},x.atan=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.atan((0,$.g)(N[0]))))},x.atan2=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,2,2,L,l),Math.atan2((0,$.g)(N[0]),(0,$.g)(N[1]))))},x.ceil=function(L,l){return u(L,l,(z,K,N)=>{if((0,$.H)(N,1,2,L,l),2===N.length){let ee=(0,$.g)(N[1]);return isNaN(ee)&&(ee=0),E("ceil",(0,$.g)(N[0]),-1*ee)}return Math.ceil((0,$.g)(N[0]))})},x.round=function(L,l){return u(L,l,(z,K,N)=>{if((0,$.H)(N,1,2,L,l),2===N.length){let ee=(0,$.g)(N[1]);return isNaN(ee)&&(ee=0),E("round",(0,$.g)(N[0]),-1*ee)}return Math.round((0,$.g)(N[0]))})},x.floor=function(L,l){return u(L,l,(z,K,N)=>{if((0,$.H)(N,1,2,L,l),2===N.length){let ee=(0,$.g)(N[1]);return isNaN(ee)&&(ee=0),E("floor",(0,$.g)(N[0]),-1*ee)}return Math.floor((0,$.g)(N[0]))})},x.cos=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.cos((0,$.g)(N[0]))))},x.isnan=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),"number"==typeof N[0]&&isNaN(N[0])))},x.exp=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.exp((0,$.g)(N[0]))))},x.log=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.log((0,$.g)(N[0]))))},x.pow=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,2,2,L,l),(0,$.g)(N[0])**(0,$.g)(N[1])))},x.random=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,0,0,L,l),Math.random()))},x.sin=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.sin((0,$.g)(N[0]))))},x.sqrt=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.sqrt((0,$.g)(N[0]))))},x.tan=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),Math.tan((0,$.g)(N[0]))))},x.isempty=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),null===N[0]||""===N[0]||void 0===N[0]||N[0]===$.B))},x.boolean=function(L,l){return u(L,l,(z,K,N)=>((0,$.H)(N,1,1,L,l),(0,$.h)(N[0])))},x.constrain=function(L,l){return u(L,l,(z,K,N)=>{(0,$.H)(N,3,3,L,l);const ee=(0,$.g)(N[1]),ae=(0,$.g)(N[2]);if((0,$.o)(N[0])){const j=[];for(const te of N[0])j.push(Y(te,ee,ae));return j}if((0,$.q)(N[0])){const j=[];for(let te=0;te<N[0].length();te++)j.push(Y(N[0].get(te),ee,ae));return j}return Y(N[0],ee,ae)})}}},55316:(Oe,ve,_)=>{_.d(ve,{EP:()=>K,du:()=>N,sO:()=>te});var $=_(29417),B=_(82663),E=_(13303),ce=_(55861);function x(v,p,f){const D=p[0]-v[0],T=p[1]-v[1];return Math.sqrt(D*D+T*T)}function L(v,p,f,D){const T=function Y(v){const p=function u(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2])}(v);return[v[0]/p,v[1]/p,v[2]/p]}([p[0]-v[0],p[1]-v[1],p[2]*D-v[2]*D]);return[v[0]+T[0]*f,v[1]+T[1]*f,v[2]+T[2]*f]}function l(v,p,f,D){return v+(p-v)/f*D}function z(v,p,f){let D=p[0]-v[0],T=p[1]-v[1];const c=Math.sqrt(D*D+T*T);return D/=c,T/=c,D*=f,T*=f,[v[0]+D,v[1]+T]}function K(v,p){if(!v)return null;switch(v.type){case"extent":case"multipoint":case"mesh":case"point":return null}const f="polygon"===v.type?v.rings:v.paths;let D=1;if((v.spatialReference.vcsWkid||v.spatialReference.latestVcsWkid)&&(D=(0,$.G9)(v.spatialReference)/(0,B.GA)(v.spatialReference)),0===f.length||0===f[0].length||!1===v.hasM)return null;let T=-1,c=0;const g=v.hasZ?$.BM:x,k=v.hasZ?3:2;for(const y of f){if(T++,y.length>0&&y[0][k]===p)return{partId:T,distanceAlong:c,coordinate:new E.A({hasZ:v.hasZ,hasM:v.hasM,spatialReference:v.spatialReference,x:y[0][0],y:y[0][1],...v.hasZ?{z:y[0][2]}:{},...v.hasM?{m:y[0][k]}:{}}),segmentId:0};let X=-1;for(let R=1;R<y.length;R++){const oe=g(y[R-1],y[R],D);X++;const ie=y[R][k]-y[R-1][k],me=y[R][k];if(me===p)return{partId:T,distanceAlong:oe+c,coordinate:new E.A({hasZ:v.hasZ,hasM:v.hasM,spatialReference:v.spatialReference,x:y[R][0],y:y[R][1],...v.hasZ?{z:y[R][2]}:{},...v.hasM?{m:y[R][k]}:{}}),segmentId:X};if(me>p&&p>y[R-1][k]){const Ae=(p-y[R-1][k])/ie*oe;let W=v.hasZ?L(y[R-1],y[R],Ae,D):z(y[R-1],y[R],Ae);W=[...W,p];const ne=new E.A({hasZ:v.hasZ,hasM:v.hasM,spatialReference:v.spatialReference,x:W[0],y:W[1],...v.hasZ?{z:W[2]}:{},...v.hasM?{m:W[k]}:{}});return{partId:T,distanceAlong:c+g(y[R-1],[ne.x,ne.y,...ne.hasZ?[ne.z]:[],...ne.hasM?[ne.m]:[]],D),coordinate:ne,segmentId:X}}c+=oe}}return null}function N(v,p){if(!v)return null;switch(v.type){case"extent":case"multipoint":case"mesh":case"point":return null}const f="polygon"===v.type?v.rings:v.paths;if(p<0)return null;let D=1;(v.spatialReference.vcsWkid||v.spatialReference.latestVcsWkid)&&(D=(0,$.G9)(v.spatialReference)/(0,B.GA)(v.spatialReference));let T=0;const c=v.hasZ?3:2,k=v.hasZ?$.BM:x;let Q=-1;if(0===p)return 0===f.length||0===f[0].length?null:{partId:0,coordinate:new E.A({hasZ:v.hasZ,hasM:v.hasM,spatialReference:v.spatialReference,x:f[0][0][0],y:f[0][0][1],...v.hasZ?{z:f[0][0][2]}:{},...v.hasM?{m:f[0][0][c]}:{}}),segmentId:0};for(const y of f){Q++;let X=-1;for(let R=1;R<y.length;R++){X++;const oe=k(y[R-1],y[R],D),ie=T+oe;if(ie===p)return{partId:Q,coordinate:new E.A({hasZ:v.hasZ,hasM:v.hasM,spatialReference:v.spatialReference,x:y[R][0],y:y[R][1],...v.hasZ?{z:y[R][2]}:{},...v.hasM?{m:y[R][c]}:{}}),segmentId:X};if(ie>p){let me=v.hasZ?L(y[R-1],y[R],p-T,D):z(y[R-1],y[R],p-T);return me=[...me,l(y[R-1][c],y[R][c],oe,p-T)],{partId:Q,coordinate:new E.A({hasZ:v.hasZ,hasM:v.hasM,spatialReference:v.spatialReference,x:me[0],y:me[1],...v.hasZ?{z:me[2]}:{},...v.hasM?{m:me[c]}:{}}),segmentId:X}}T=ie}}return null}function te(v,p){var f,D,T;if(!v||!p)return null;switch("extent"===v.type&&(v=new ce.A({spatialReference:v.spatialReference,rings:[[[v.xmin,v.ymin],[v.xmin,v.ymax],[v.xmax,v.ymax],[v.xmax,v.ymin],[v.xmin,v.ymin]]]})),v.type){case"point":return null!==(f=function ee(v,p){if(!v||!p)return null;let f=1;(p.spatialReference.vcsWkid||p.spatialReference.latestVcsWkid)&&(f=(0,$.G9)(p.spatialReference)/(0,B.GA)(p.spatialReference));let D=null,T=0;return D=v,T=v.hasZ&&p.hasZ?(0,$.BM)([p.x,p.y,p.z],[v.x,v.y,v.z],f):(0,$.E8)([p.x,p.y],[v.x,v.y],!1),{coordinate:D,distance:T}}(v,p))&&void 0!==f?f:null;case"multipoint":return null!==(D=function ae(v,p){if(!v||!p)return null;let f=1;(p.spatialReference.vcsWkid||p.spatialReference.latestVcsWkid)&&(f=(0,$.G9)(p.spatialReference)/(0,B.GA)(p.spatialReference));let D=null,T=0,c=Number.MAX_VALUE,g=-1,k=-1;for(const Q of v.points||[]){k++;const y=v.hasZ&&p.hasZ?(0,$.x6)([Q[0],Q[1],Q[2]],[p.x,p.y,p.z],f):(0,$.UX)([Q[0],Q[1]],[p.x,p.y],!1);y<c&&(c=y,g=k)}return g<0?null:(T=c,D=v.getPoint(g),{coordinate:D,distance:Math.sqrt(T)})}(v,p))&&void 0!==D?D:null;case"polygon":case"polyline":return null!==(T=function j(v,p){if(!v||!p)return null;const f="polygon"===v.type?v.rings:v.paths;let D=1;(p.spatialReference.vcsWkid||p.spatialReference.latestVcsWkid)&&(D=(0,$.G9)(p.spatialReference)/(0,B.GA)(p.spatialReference));let T=Number.MAX_VALUE,c=-1,g=-1,k=-1;const Q=v.hasZ&&p.hasZ;let y=null;const X=Q?[p.x,p.y,p.z]:[p.x,p.y];for(const V of f){g++;for(let H=1;H<V.length;H++){const ue=Q?(0,$.Ws)(X,V[H-1],V[H]):(0,$.ux)(X,V[H-1],V[H]),q=Q?(0,$.x6)(ue,X,D):(0,$.UX)(ue,X,!1);q<T&&(T=q,y=ue,k=g,c=H-1)}}if(c<0)return null;const R=v.hasM&&v.hasZ?3:2,ie=f[k][c],me=f[k][c+1];let Ae=null,W=null,ne=Q?y[2]:null;v.hasM&&(W=l(ie[R],me[R],Q?(0,$.BM)(ie,me,D):(0,$.E8)(ie,me,!1),Q?(0,$.BM)(ie,y,D):(0,$.E8)(ie,y,!1))),v.hasZ&&!1===p.hasZ&&(ne=l(ie[2],me[2],Q?(0,$.BM)(ie,me,D):(0,$.E8)(ie,me,!1),Q?(0,$.BM)(ie,y,D):(0,$.E8)(ie,y,!1))),Ae=new E.A({hasZ:Q,hasM:v.hasM,spatialReference:p.spatialReference,x:y[0],y:y[1],...v.hasZ?{z:ne}:{},...v.hasM?{m:W}:{}});let U=0;for(let V=0;V<=k;V++){const H=f[V],ue=V===k?c:H.length-1;for(let q=1;q<=ue;q++)U+=v.hasZ?(0,$.BM)(H[q-1],H[q],D):(0,$.E8)([H[q-1][0],H[q-1][1]],[H[q][0],H[q][1]],!1)}return U+=v.hasZ?(0,$.BM)(ie,[Ae.x,Ae.y,Ae.z],D):(0,$.E8)(ie,[Ae.x,Ae.y],!1),{partId:k,segmentId:c,coordinate:Ae,distance:Math.sqrt(T),distanceAlong:U}}(v,p))&&void 0!==T?T:null;default:return null}}},35154:(Oe,ve,_)=>{_.d(ve,{d:()=>x});var $=_(55279),B=_(42686),E=_(59118);function ce(u,Y,L,l){if(1===l.length){if((0,B.o)(l[0]))return(0,E.t)(u,l[0],-1);if((0,B.q)(l[0]))return(0,E.t)(u,l[0].toArray(),-1)}return(0,E.t)(u,l,-1)}function x(u,Y){u.stdev=function(L,l){return Y(L,l,(z,K,N)=>ce("stdev",0,0,N))},u.variance=function(L,l){return Y(L,l,(z,K,N)=>ce("variance",0,0,N))},u.average=function(L,l){return Y(L,l,(z,K,N)=>ce("mean",0,0,N))},u.mean=function(L,l){return Y(L,l,(z,K,N)=>ce("mean",0,0,N))},u.sum=function(L,l){return Y(L,l,(z,K,N)=>ce("sum",0,0,N))},u.min=function(L,l){return Y(L,l,(z,K,N)=>ce("min",0,0,N))},u.max=function(L,l){return Y(L,l,(z,K,N)=>ce("max",0,0,N))},u.distinct=function(L,l){return Y(L,l,(z,K,N)=>ce("distinct",0,0,N))},u.count=function(L,l){return Y(L,l,(z,K,N)=>{if((0,B.H)(N,1,1,L,l),(0,B.o)(N[0])||(0,B.c)(N[0]))return N[0].length;if((0,B.q)(N[0]))return N[0].length();throw new $.D$(L,$.TX.InvalidParameter,l)})}}},61828:(Oe,ve,_)=>{_.d(ve,{d:()=>Lt});var $=_(37027),B=_(45369),E=_(84462),ce=_(53787),x=_(55279),u=_(42686),Y=_(7981),L=_(11432);const l=I=>(C,S,b)=>(b=b||14,+I(C,S).toFixed(b)),z=(I,C)=>I+C,N=(I,C)=>I*C,ee=(I,C)=>I/C,ae=(I,C,S)=>l(z)(I,C,S),te=(I,C,S)=>l(N)(I,C,S),v=(I,C,S)=>l(ee)(I,C,S),p=360,f=400,D=2*Math.PI,T=3600,g=60,k=60,Q=180*T/Math.PI,y=p*g*k,X=90*T,R=180*T,ie="\u1d4d",me="\xb0";function Ae(I){if(!1===(0,u.c)(I))throw new x.D$(null,x.TX.InvalidParameter,null);return I}function W(I,C){const S=10**C;return Math.round(I*S)/S}function U(I){const C=parseFloat(I.toString().replace(Math.trunc(I).toString(),"0"))*Math.sign(I);return I<0?{fraction:C,integer:Math.ceil(I)}:{fraction:C,integer:Math.floor(I)}}var V,H,ue,q,I;function ye(I,C){switch(I){case V.north:return"SHORT"===C?"N":"North";case V.east:return"SHORT"===C?"E":"East";case V.south:return"SHORT"===C?"S":"South";case V.west:return"SHORT"===C?"W":"West"}}function Fe(I,C){return I-Math.floor(I/C)*C}function Ce(I){switch(I){case H.truncated_degrees:case H.decimal_degrees:return p;case H.radians:return D;case H.gradians:return f;case H.seconds:return y;case H.fractional_degree_minutes:return g;case H.fractional_minute_seconds:return k;default:throw new x.D$(null,x.TX.LogicError,null,{reason:"unsupported evaluations"})}}function Ge(I){switch(I.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return ue.north_azimuth;case"POLAR":return ue.polar;case"QUADRANT":return ue.quadrant;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return ue.south_azimuth}throw new x.D$(null,x.TX.LogicError,null,{reason:"unsupported directionType"})}function be(I){switch(I.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return H.decimal_degrees;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return H.degrees_minutes_seconds;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return H.radians;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return H.gradians}throw new x.D$(null,x.TX.LogicError,null,{reason:"unsupported units"})}(I=V||(V={}))[I.north=0]="north",I[I.east=1]="east",I[I.south=2]="south",I[I.west=3]="west",function(I){I[I.decimal_degrees=1]="decimal_degrees",I[I.seconds=2]="seconds",I[I.degrees_minutes_seconds=3]="degrees_minutes_seconds",I[I.radians=4]="radians",I[I.gradians=5]="gradians",I[I.truncated_degrees=6]="truncated_degrees",I[I.fractional_degree_minutes=7]="fractional_degree_minutes",I[I.fractional_minute_seconds=8]="fractional_minute_seconds"}(H||(H={})),function(I){I[I.north_azimuth=1]="north_azimuth",I[I.polar=2]="polar",I[I.quadrant=3]="quadrant",I[I.south_azimuth=4]="south_azimuth"}(ue||(ue={})),function(I){I[I.meridian=0]="meridian",I[I.direction=1]="direction"}(q||(q={}));class Be{constructor(C,S,b){this.m_degrees=C,this.m_minutes=S,this.m_seconds=b}getField(C){switch(C){case H.decimal_degrees:case H.truncated_degrees:return this.m_degrees;case H.fractional_degree_minutes:return this.m_minutes;case H.seconds:case H.fractional_minute_seconds:return this.m_seconds;default:throw new x.D$(null,x.TX.LogicError,null,{reason:"unexpected evaluation"})}}static secondsToDMS(C){const S=U(C).fraction;let b=U(C).integer;const Z=Math.floor(b/T);b-=Z*T;const J=Math.floor(b/k);return b-=J*k,new Be(Z,J,b+S)}static numberToDms(C){const S=U(C).fraction,b=U(C).integer,Z=te(U(100*S).fraction,100),J=U(100*S).integer;return new Be(b,J,Z)}format(C,S){let b=W(this.m_seconds,S),Z=this.m_minutes,J=this.m_degrees;if(C===H.seconds||C===H.fractional_minute_seconds)k<=b&&(b-=k,++Z),g<=Z&&(Z=0,++J),p<=J&&(J=0);else if(C===H.fractional_degree_minutes)b=0,Z=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,J=this.m_degrees,g<=Z&&(Z=0,++J),p<=J&&(J=0);else if(C===H.decimal_degrees||C===H.truncated_degrees){const F=v(this.m_seconds,T),G=v(this.m_minutes,g);J=Math.round(this.m_degrees+G+F),Z=0,b=0}return new Be(J,Z,b)}static dmsToSeconds(C,S,b){return C*T+S*k+b}}class At{constructor(C,S,b){this.meridian=C,this.angle=S,this.direction=b}fetchAzimuth(C){return C===q.meridian?this.meridian:this.direction}}class Ne{constructor(C){this._angle=C}static createFromAngleAndDirection(C,S){return new Ne(new Xe(Ne._convertDirectionFormat(C.extractAngularUnits(H.seconds),S,ue.north_azimuth)))}getAngle(C){const S=this._angle.extractAngularUnits(H.seconds);switch(C){case ue.north_azimuth:case ue.south_azimuth:case ue.polar:return new Xe(Ne._convertDirectionFormat(S,ue.north_azimuth,C));case ue.quadrant:{const b=Ne.secondsNorthAzimuthToQuadrant(S);return new Xe(b.angle)}}}getMeridian(C){const S=this._angle.extractAngularUnits(H.seconds);switch(C){case ue.north_azimuth:return V.north;case ue.south_azimuth:return V.south;case ue.polar:return V.east;case ue.quadrant:return Ne.secondsNorthAzimuthToQuadrant(S).meridian}}getDirection(C){const S=this._angle.extractAngularUnits(H.seconds);switch(C){case ue.north_azimuth:return V.east;case ue.south_azimuth:return V.west;case ue.polar:return V.north;case ue.quadrant:return Ne.secondsNorthAzimuthToQuadrant(S).direction}}static secondsNorthAzimuthToQuadrant(C){const S=C<=X||C>=972e3?V.north:V.south,b=S===V.north?Math.min(y-C,C):Math.abs(C-R);return new At(S,b,C>R?V.west:V.east)}static createFromAngleMeridianAndDirection(C,S,b){return new Ne(new Xe(Ne.secondsQuadrantToNorthAzimuth(C.extractAngularUnits(H.seconds),S,b)))}static secondsQuadrantToNorthAzimuth(C,S,b){return S===V.north?b===V.east?C:y-C:b===V.east?R-C:R+C}static _convertDirectionFormat(C,S,b){let Z=0;switch(S){case ue.north_azimuth:Z=C;break;case ue.polar:Z=X-C;break;case ue.quadrant:throw new x.D$(null,x.TX.LogicError,null,{reason:"unexpected evaluation"});case ue.south_azimuth:Z=C+R}let J=0;switch(b){case ue.north_azimuth:J=Z;break;case ue.polar:J=X-Z;break;case ue.quadrant:throw new x.D$(null,x.TX.LogicError,null,{reason:"unexpected evaluation"});case ue.south_azimuth:J=Z-R}return J=function ne(I,C){return I%C}(J,y),J<0?y+J:J}}function lt(I,C,S){let b=null;switch(C){case H.decimal_degrees:b=te(I,T);break;case H.seconds:b=I;break;case H.gradians:b=te(I,3240);break;case H.radians:b=te(I,Q);break;default:throw new x.D$(null,x.TX.LogicError,null,{reason:"unexpected evaluation"})}switch(S){case H.decimal_degrees:return v(b,T);case H.seconds:return b;case H.gradians:return v(b,3240);case H.radians:return b/Q;default:throw new x.D$(null,x.TX.LogicError,null,{reason:"unexpected evaluation"})}}class Xe{constructor(C){this._seconds=C}static createFromAngleAndUnits(C,S){return new Xe(lt(C,S,H.seconds))}extractAngularUnits(C){return lt(this._seconds,H.seconds,Ze(C))}static createFromDegreesMinutesSeconds(C,S,b){return new Xe(ae(ae(te(C,T),te(S,k)),b))}}function Ze(I){switch((0,L.Lw)(I),I){case H.decimal_degrees:case H.truncated_degrees:case H.degrees_minutes_seconds:return H.decimal_degrees;case H.gradians:return H.gradians;case H.fractional_degree_minutes:return H.fractional_degree_minutes;case H.radians:return H.radians;case H.seconds:case H.fractional_minute_seconds:return H.seconds}}class _e{constructor(C,S,b,Z){this.view=C,this.angle=S,this.merdian=b,this.direction=Z,this._dms=null,this._formattedDms=null}static createFromStringAndBearing(C,S,b){return new _e(C,S.getAngle(b),S.getMeridian(b),S.getDirection(b))}fetchAngle(){return this.angle}fetchMeridian(){return this.merdian}fetchDirection(){return this.direction}fetchView(){return this.view}fetchDms(){return null===this._dms&&this._calculateDms(),this._dms}fetchFormattedDms(){return null===this._formattedDms&&this._calculateDms(),this._formattedDms}_calculateDms(){let C=null,S=H.truncated_degrees,b=0;for(let Z=0;Z<this.view.length;Z++){const J=this.view[Z];switch(J){case"m":C=Ft(this.view,Z,J),S=S===H.truncated_degrees?H.fractional_degree_minutes:S,Z=C.newpos;continue;case"s":C=Ft(this.view,Z,J),S=H.fractional_minute_seconds,b=b<C.rounding?C.rounding:b,Z=C.newpos;continue;default:continue}}this._dms=Be.secondsToDMS(this.angle.extractAngularUnits(H.seconds)),this._formattedDms=Be.secondsToDMS(this.angle.extractAngularUnits(H.seconds)).format(S,b)}}function Re(I,C,S,b,Z){let J=null;switch(C){case H.decimal_degrees:case H.radians:case H.gradians:return J=Fe(W(I.extractAngularUnits(C),b),Ce(C)),J.toFixed(b).padStart(S+b+(b>0?1:0),"0");case H.truncated_degrees:case H.fractional_degree_minutes:return J=Fe(Z.fetchFormattedDms().getField(C),Ce(C)),J.toFixed(b).padStart(S+b+(b>0?1:0),"0");case H.fractional_minute_seconds:return J=Fe(W(Z.fetchDms().getField(C),b),Ce(C)),J.toFixed(b).padStart(S+b+(b>0?1:0),"0");default:throw new x.D$(null,x.TX.LogicError,null,{reason:"unexpected evaluation"})}}function pt(I){switch(I.toUpperCase().trim()){case"N":case"NORTH":return V.north;case"E":case"EAST":return V.east;case"S":case"SOUTH":return V.south;case"W":case"WEST":return V.west}return null}function ht(I){const C=parseFloat(I);if((0,u.b)(C)){if(isNaN(C))throw new x.D$(null,x.TX.LogicError,null,{reason:"invalid conversion"});return C}throw new x.D$(null,x.TX.LogicError,null,{reason:"invalid conversion"})}function Et(I,C,S){const b=S===ue.quadrant;let Z=null,J=null,F=0,G=0,se=0;if(b){if(I.length<2)throw new x.D$(null,x.TX.LogicError,null,{reason:"conversion error"});se=1;const ge=function ze(I){switch((0,u.g)(I)){case 1:return{first:V.north,second:V.east};case 2:return{first:V.south,second:V.east};case 3:return{first:V.south,second:V.west};case 4:return{first:V.north,second:V.west}}return null}((0,u.j)(I[I.length-1]));if(ge?(Z=ge.first,J=ge.second):(F=1,Z=pt((0,u.j)(I[0])),J=pt((0,u.j)(I[I.length-1]))),null===Z||null===J)throw new x.D$(null,x.TX.LogicError,null,{reason:"invalid conversion"})}switch(C){case H.decimal_degrees:case H.radians:case H.gradians:if(0===I.length)throw new x.D$(null,x.TX.LogicError,null,{reason:"invalid conversion"});return b?Ne.createFromAngleMeridianAndDirection(Xe.createFromAngleAndUnits(ht(I[F]),Ze(C)),Z,J):Ne.createFromAngleAndDirection(Xe.createFromAngleAndUnits(ht(I[F]),Ze(C)),S);case H.degrees_minutes_seconds:if(G=I.length-se-F,3===G){const ge=Xe.createFromDegreesMinutesSeconds(ht(I[F]),ht(I[F+1]),ht(I[F+2]));return b?Ne.createFromAngleMeridianAndDirection(ge,Z,J):Ne.createFromAngleAndDirection(ge,S)}if(1===G){const ge=ht(I[F]),Ue=Be.numberToDms(ge),Pe=Xe.createFromDegreesMinutesSeconds(Ue.m_degrees,Ue.m_minutes,Ue.m_seconds);return b?Ne.createFromAngleMeridianAndDirection(Pe,Z,J):Ne.createFromAngleAndDirection(Pe,S)}}throw new x.D$(null,x.TX.LogicError,null,{reason:"invalid conversion"})}function Ft(I,C,S){const b={padding:0,rounding:0,newpos:C};let Z=!1;for(;C<I.length;){const J=I[C];if(J===S)Z?b.rounding++:b.padding++,C++;else{if("."!==J)break;Z=!0,C++}}return b.newpos=C-1,b}function Bt(I,C,S){const b={escaped:"",newpos:C};for(C++;C<I.length;){const Z=I[C];if(C++,"]"===Z)break;b.escaped+=Z}return b.newpos=C-1,b}function Nt(I,C,S){if(!(C instanceof ce.A))throw new x.D$(null,x.TX.InvalidParameter,null);if(!1===C.hasField("directionType"))throw new x.D$(null,x.TX.LogicError,null,{reason:"missing directionType"});if(!1===C.hasField("angleType"))throw new x.D$(null,x.TX.LogicError,null,{reason:"missing angleType"});const b=Ge(Ae(C.field("directiontype"))),Z=function _t(I,C,S){if((0,u.b)(I))return function $e(I,C,S){if(S===ue.quadrant)throw new x.D$(null,x.TX.LogicError,null,{reason:"conversion error"});if(C===H.degrees_minutes_seconds){const b=Be.numberToDms(I);return Ne.createFromAngleAndDirection(Xe.createFromDegreesMinutesSeconds(b.m_degrees,b.m_minutes,b.m_seconds),S)}return Ne.createFromAngleAndDirection(Xe.createFromAngleAndUnits(I,Ze(C)),S)}((0,u.g)(I),C,S);if((0,u.c)(I))return Et(function kt(I){const C=new Set([" ","-","/","'",'"',"\\","^",me,ie,"\t","\r","\n","*"]);let S="";for(let b=0;b<I.length;b++){const Z=I.charAt(b);C.has(Z)?S+="RRSPLITRRSPLITRR":S+=Z}return S.split("RRSPLITRRSPLITRR").filter(b=>""!==b)}(I),C,S);if((0,u.o)(I))return Et(I,C,S);if((0,u.q)(I))return Et(I.toArray(),C,S);throw new x.D$(null,x.TX.LogicError,null,{reason:"conversion error"})}(I,be(Ae(C.field("angletype"))),b);if(!(S instanceof ce.A))throw new x.D$(null,x.TX.InvalidParameter,null);if(!1===S.hasField("directionType"))throw new x.D$(null,x.TX.LogicError,null,{reason:"missing directionType"});if(!1===S.hasField("outputType"))throw new x.D$(null,x.TX.LogicError,null,{reason:"missing angleType"});const J=Ge(Ae(S.field("directiontype"))),F=S.hasField("angleType")?be(Ae(S.field("angletype"))):null,G=Ae(S.field("outputType")).toUpperCase().trim();if(!J||!G)throw new x.D$(null,x.TX.LogicError,null,{reason:"conversion error"});if(!(F||"TEXT"===G&&S.hasField("format")))throw new x.D$(null,x.TX.LogicError,null,{reason:"invalid unit"});switch(G){case"VALUE":return J===ue.quadrant||F===H.degrees_minutes_seconds?function Mt(I,C,S){const b=I.getAngle(C);if(C===ue.quadrant&&S===H.degrees_minutes_seconds){const Z=Be.secondsToDMS(b.extractAngularUnits(H.seconds));return[ye(I.getMeridian(C),"SHORT"),Z.m_degrees,Z.m_minutes,Z.m_seconds,ye(I.getDirection(C),"SHORT")]}if(S===H.degrees_minutes_seconds){const Z=Be.secondsToDMS(b.extractAngularUnits(H.seconds));return[Z.m_degrees,Z.m_minutes,Z.m_seconds]}return C===ue.quadrant?[ye(I.getMeridian(C),"SHORT"),b.extractAngularUnits(S),ye(I.getDirection(C),"SHORT")]:[b.extractAngularUnits(S)]}(Z,J,F):function Ct(I,C,S){const b=Ze(S);if(b&&S!==H.degrees_minutes_seconds)return I.getAngle(C).extractAngularUnits(b);throw new x.D$(null,x.TX.LogicError,null,{reason:"conversion error"})}(Z,J,F);case"TEXT":{let se="";return S.hasField("format")&&(se=(0,u.j)(S.field("format"))),null!==se&&""!==se||(se=function xe(I,C){let S="";switch(I){case H.decimal_degrees:S=C===ue.quadrant?"DD.DD"+me:"DDD.DD"+me;break;case H.degrees_minutes_seconds:S=C===ue.quadrant?"dd"+me+" mm' ss\"":"ddd"+me+" mm' ss.ss\"";break;case H.radians:S="R.RR";break;case H.gradians:S="GGG.GG"+ie;break;default:throw new x.D$(null,x.TX.LogicError,null,{reason:"conversion error"})}return C===ue.quadrant&&(S="p "+S+" b"),S}(F,J)),function rt(I,C,S){let b="",Z=null,J=null;const F=_e.createFromStringAndBearing(C,I,S),G={D:H.decimal_degrees,d:H.truncated_degrees,m:H.fractional_degree_minutes,s:H.fractional_minute_seconds,R:H.radians,G:H.gradians};for(let se=0;se<C.length;se++){const ge=C[se];switch(ge){case"[":Z=Bt(C,se),b+=Z.escaped,se=Z.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":Z=Ft(C,se,ge),J=I.getAngle(S),b+=Re(J,G[ge],Z.padding,Z.rounding,F),se=Z.newpos;continue;case"P":case"p":b+=ye(F.fetchMeridian(),"p"===ge?"SHORT":"LONG");continue;case"B":case"b":b+=ye(F.fetchDirection(),"b"===ge?"SHORT":"LONG");continue;default:b+=ge}}return b}(Z,se,J)}default:throw new x.D$(null,x.TX.InvalidParameter,null)}}const it=2654435761,ut=2246822519,Ie=3266489917,ke=668265263,Ve=374761393;function He(I){const C=[];for(let S=0,b=I.length;S<b;S++){let Z=I.charCodeAt(S);Z<128?C.push(Z):Z<2048?C.push(192|Z>>6,128|63&Z):Z<55296||Z>=57344?C.push(224|Z>>12,128|Z>>6&63,128|63&Z):(S++,Z=65536+((1023&Z)<<10|1023&I.charCodeAt(S)),C.push(240|Z>>18,128|Z>>12&63,128|Z>>6&63,128|63&Z))}return new Uint8Array(C)}class Dt{constructor(C){this._seed=C,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(C){const S=[];for(const b of C)isNaN(b)?S.push("NaN"):S.push(b===1/0?"Infinity":b===-1/0?"-Infinity":0===b?"0":b.toString(16));this.update(He(S.join("")))}updateIntArray(C){const S=Int32Array.from(C);this.update(new Uint8Array(S.buffer))}updateUint8Array(C){this.update(Uint8Array.from(C))}updateWithString(C){return this.update(He(C))}update(C){return this._bufs.push(C),this._totallen+=C.length,this}digest(){const C=new Uint8Array(this._totallen);let S=0;for(const b of this._bufs)C.set(b,S),S+=b.length;return this.init(),this._xxHash32(C,this._seed)}_xxHash32(C,S=0){const b=C;let Z=S+Ve&4294967295,J=0;if(b.length>=16){const G=[S+it+ut&4294967295,S+ut&4294967295,S+0&4294967295,S-it&4294967295],se=C,ge=se.length-16;let Ue=0;for(J=0;(4294967280&J)<=ge;J+=4){let fe=G[Ue]+((se[J]+(se[J+1]<<8))*ut+((se[J+2]+(se[J+3]<<8))*ut<<16))&4294967295;fe=fe<<13|fe>>>19,G[Ue]=(65535&fe)*it+((fe>>>16)*it<<16)&4294967295,Ue=Ue+1&3}Z=(G[0]<<1|G[0]>>>31)+(G[1]<<7|G[1]>>>25)+(G[2]<<12|G[2]>>>20)+(G[3]<<18|G[3]>>>14)&4294967295}Z=Z+C.length&4294967295;const F=C.length-4;for(;J<=F;J+=4)Z=Z+((b[J]+(b[J+1]<<8))*Ie+((b[J+2]+(b[J+3]<<8))*Ie<<16))&4294967295,Z=Z<<17|Z>>>15,Z=(65535&Z)*ke+((Z>>>16)*ke<<16)&4294967295;for(;J<b.length;++J)Z+=b[J]*Ve,Z=Z<<11|Z>>>21,Z=(65535&Z)*it+((Z>>>16)*it<<16)&4294967295;return Z^=Z>>>15,Z=((65535&Z)*ut&4294967295)+((Z>>>16)*ut<<16),Z^=Z>>>13,Z=((65535&Z)*Ie&4294967295)+((Z>>>16)*Ie<<16),Z^=Z>>>16,Z<0?Z+4294967296:Z}}var wt=_(45272),Tt=_(28067),St=_(21870),It=_(13303),bt=_(55861),ct=_(93615),Rt=_(32034),$t=_(73874);function gt(I,C){if(!I||!C)return I===C;if(I.x===C.x&&I.y===C.y){if(I.hasZ){if(I.z!==C.z)return!1}else if(C.hasZ)return!1;if(I.hasM){if(I.m!==C.m)return!1}else if(C.hasM)return!1;return!0}return!1}function Ke(I,C,S){if(null!==I)if((0,u.o)(I)){if(C.updateUint8Array([61]),S.map.has(I)){const b=S.map.get(I);C.updateIntArray([61237541^b])}else{S.map.set(I,S.currentLength++);for(const b of I)Ke(b,C,S);S.map.delete(I),S.currentLength--}C.updateUint8Array([199])}else if((0,u.q)(I)){if(C.updateUint8Array([61]),S.map.has(I)){const b=S.map.get(I);C.updateIntArray([61237541^b])}else{S.map.set(I,S.currentLength++);for(const b of I.toArray())Ke(b,C,S);S.map.delete(I),S.currentLength--}C.updateUint8Array([199])}else{if((0,u.k)(I))return C.updateIntArray([I.toNumber()]),void C.updateUint8Array([241]);if((0,u.m)(I))return C.updateIntArray([I.toNumber()]),void C.updateIntArray([257]);if((0,u.n)(I))return C.updateIntArray([I.toNumber()]),void C.updateIntArray([263]);if((0,u.c)(I))return C.updateIntArray([I.length]),C.updateWithString(I),void C.updateUint8Array([41]);if((0,u.a)(I))C.updateUint8Array([!0===I?1:0,113]);else{if((0,u.b)(I))return C.updateFloatArray([I]),void C.updateUint8Array([173]);if(I instanceof E.A)throw new x.D$(S.context,x.TX.UnsupportedHashType,S.node);if(I instanceof B.A)throw new x.D$(S.context,x.TX.UnsupportedHashType,S.node);if(!(I instanceof ce.A)){if((0,u.r)(I))throw new x.D$(S.context,x.TX.UnsupportedHashType,S.node);if(I instanceof It.A)return C.updateIntArray([3833836621]),C.updateIntArray([0]),C.updateFloatArray([I.x]),C.updateIntArray([1]),C.updateFloatArray([I.y]),I.hasZ&&(C.updateIntArray([2]),C.updateFloatArray([I.z])),I.hasM&&(C.updateIntArray([3]),C.updateFloatArray([I.m])),C.updateIntArray([3765347959]),void Ke(I.spatialReference.wkid,C,S);if(I instanceof bt.A){C.updateIntArray([1266616829]);for(let b=0;b<I.rings.length;b++){const Z=I.rings[b],J=[];let F=null,G=null;for(let se=0;se<Z.length;se++){const ge=I.getPoint(b,se);if(0===se)F=ge;else if(gt(G,ge))continue;G=ge,se===Z.length-1&&gt(F,ge)||J.push(ge)}C.updateIntArray([1397116793,J.length]);for(let se=0;se<J.length;se++){const ge=J[se];C.updateIntArray([3962308117,se]),Ke(ge,C,S),C.updateIntArray([2716288009])}C.updateIntArray([2278822459])}return C.updateIntArray([3878477243]),void Ke(I.spatialReference.wkid,C,S)}if(I instanceof ct.A){C.updateIntArray([4106883559]);for(let b=0;b<I.paths.length;b++){const Z=I.paths[b];C.updateIntArray([1397116793,Z.length]);for(let J=0;J<Z.length;J++)C.updateIntArray([3962308117,J]),Ke(I.getPoint(b,J),C,S),C.updateIntArray([2716288009]);C.updateIntArray([2278822459])}return C.updateIntArray([2568784753]),void Ke(I.spatialReference.wkid,C,S)}if(I instanceof St.A){C.updateIntArray([588535921,I.points.length]);for(let b=0;b<I.points.length;b++){const Z=I.getPoint(b);C.updateIntArray([b]),Ke(Z,C,S)}return C.updateIntArray([1700171621]),void Ke(I.spatialReference.wkid,C,S)}if(I instanceof Tt.A)return C.updateIntArray([3483648373]),C.updateIntArray([0]),C.updateFloatArray([I.xmax]),C.updateIntArray([1]),C.updateFloatArray([I.xmin]),C.updateIntArray([2]),C.updateFloatArray([I.ymax]),C.updateIntArray([3]),C.updateFloatArray([I.ymin]),I.hasZ&&(C.updateIntArray([4]),C.updateFloatArray([I.zmax]),C.updateIntArray([5]),C.updateFloatArray([I.zmin])),I.hasM&&(C.updateIntArray([6]),C.updateFloatArray([I.mmax]),C.updateIntArray([7]),C.updateFloatArray([I.mmin])),C.updateIntArray([3622027469]),void Ke(I.spatialReference.wkid,C,S);if(I instanceof Rt.A)return C.updateIntArray([14]),null!=I.wkid&&C.updateIntArray([I.wkid]),I.wkt&&C.updateWithString(I.wkt),void(I.wkt2&&C.updateWithString(I.wkt2));throw(0,u.i)(I)||(0,u.u)(I)||(0,u.s)(I),new x.D$(S.context,x.TX.UnsupportedHashType,S.node)}if(C.updateUint8Array([223]),S.map.has(I)){const b=S.map.get(I);C.updateIntArray([61237541^b])}else{S.map.set(I,S.currentLength++);for(const b of I.keys())C.updateIntArray([b.length]),C.updateWithString(b),C.updateUint8Array([251]),Ke(I.field(b),C,S),C.updateUint8Array([239]);S.map.delete(I),S.currentLength--}C.updateUint8Array([73])}}else C.updateUint8Array([0,139])}function Lt(I,C){I.portal=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,1,1,S,b),new B.A((0,u.j)(F[0]))))},I.typeof=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,1,1,S,b);const G=(0,u.P)(F[0]);if("Unrecognized Type"===G)throw new x.D$(S,x.TX.UnrecognizedType,b);return G})},I.trim=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,1,1,S,b),(0,u.j)(F[0]).trim()))},I.tohex=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,1,1,S,b);const G=(0,u.g)(F[0]);return isNaN(G)?G:G.toString(16)})},I.upper=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,1,1,S,b),(0,u.j)(F[0]).toUpperCase()))},I.proper=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,1,2,S,b);let G=1;2===F.length&&"firstword"===(0,u.j)(F[1]).toLowerCase()&&(G=2);const se=/\s/,ge=(0,u.j)(F[0]);let Ue="",Pe=!0;for(let qe=0;qe<ge.length;qe++){let he=ge[qe];se.test(he)?1===G&&(Pe=!0):he.toUpperCase()!==he.toLowerCase()&&(Pe?(he=he.toUpperCase(),Pe=!1):he=he.toLowerCase()),Ue+=he}return Ue})},I.lower=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,1,1,S,b),(0,u.j)(F[0]).toLowerCase()))},I.guid=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,0,1,S,b),F.length>0)switch((0,u.j)(F[0]).toLowerCase()){case"digits":return(0,u.U)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,u.U)();case"digits-hyphen-braces":return"{"+(0,u.U)()+"}";case"digits-hyphen-parentheses":return"("+(0,u.U)()+")"}return"{"+(0,u.U)()+"}"})},I.standardizeguid=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,2,2,S,b);let G=(0,u.j)(F[0]);if(""===G||null===G)return"";const se=(0,$.A)(/^(\{|\()?([0-9a-z]{8})(\x2D?)([0-9a-z]{4})(\x2D?)([0-9a-z]{4})(\x2D?)([0-9a-z]{4})(\x2D?)([0-9a-z]{12})(\}|\))?$/gim,{partA:2,partB:4,partC:6,partD:8,partE:10}).exec(G);if(!se)return"";const ge=se.groups;switch(G=ge.partA+"-"+ge.partB+"-"+ge.partC+"-"+ge.partD+"-"+ge.partE,(0,u.j)(F[1]).toLowerCase()){case"digits":return G.replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return G;case"digits-hyphen-braces":return"{"+G+"}";case"digits-hyphen-parentheses":return"("+G+")"}return"{"+G+"}"})},I.console=function(S,b){return C(S,b,(Z,J,F)=>(0===F.length||S.console((0,u.j)(1===F.length?F[0]:F)),u.B))},I.mid=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,2,3,S,b);let G=(0,u.g)(F[1]);if(isNaN(G))return"";if(G<0&&(G=0),2===F.length)return(0,u.j)(F[0]).substr(G);let se=(0,u.g)(F[2]);return isNaN(se)?"":(se<0&&(se=0),(0,u.j)(F[0]).substr(G,se))})},I.find=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,2,3,S,b);let G=0;if(F.length>2){if(G=(0,u.g)((0,u.K)(F[2],0)),isNaN(G))return-1;G<0&&(G=0)}return(0,u.j)(F[1]).indexOf((0,u.j)(F[0]),G)})},I.left=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,2,2,S,b);let G=(0,u.g)(F[1]);return isNaN(G)?"":(G<0&&(G=0),(0,u.j)(F[0]).substr(0,G))})},I.right=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,2,2,S,b);let G=(0,u.g)(F[1]);return isNaN(G)?"":(G<0&&(G=0),(0,u.j)(F[0]).substr(-1*G,G))})},I.split=function(S,b){return C(S,b,(Z,J,F)=>{let G;(0,u.H)(F,2,4,S,b);let se=(0,u.g)((0,u.K)(F[2],-1));const ge=(0,u.h)((0,u.K)(F[3],!1));if(-1===se||null===se||!0===ge?G=(0,u.j)(F[0]).split((0,u.j)(F[1])):(isNaN(se)&&(se=-1),se<-1&&(se=-1),G=(0,u.j)(F[0]).split((0,u.j)(F[1]),se)),!1===ge)return G;const Ue=[];for(let Pe=0;Pe<G.length&&!(-1!==se&&Ue.length>=se);Pe++)""!==G[Pe]&&void 0!==G[Pe]&&Ue.push(G[Pe]);return Ue})},I.text=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,1,2,S,b),(0,u.t)(F[0],F[1])))},I.concatenate=function(S,b){return C(S,b,(Z,J,F)=>{const G=[];if(F.length<1)return"";if((0,u.o)(F[0])){const se=(0,u.K)(F[2],"");for(let ge=0;ge<F[0].length;ge++)G[ge]=(0,u.t)(F[0][ge],se);return G.join(F.length>1?F[1]:"")}if((0,u.q)(F[0])){const se=(0,u.K)(F[2],"");for(let ge=0;ge<F[0].length();ge++)G[ge]=(0,u.t)(F[0].get(ge),se);return G.join(F.length>1?F[1]:"")}for(let se=0;se<F.length;se++)G[se]=(0,u.t)(F[se]);return G.join("")})},I.reverse=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),(0,u.o)(F[0])){const G=F[0].slice(0);return G.reverse(),G}if((0,u.q)(F[0])){const G=F[0].toArray().slice(0);return G.reverse(),G}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.replace=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,3,4,S,b);const G=(0,u.j)(F[0]),se=(0,u.j)(F[1]),ge=(0,u.j)(F[2]);return 4!==F.length||(0,u.h)(F[3])?(0,u.T)(G,se,ge):G.replace(se,ge)})},I.schema=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.r)(F[0])){const G=(0,u.V)(F[0]);return G?ce.A.convertObjectToArcadeDictionary(G,(0,u.N)(S)):null}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.subtypes=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),(0,u.r)(F[0])){const G=(0,u.W)(F[0]);return G?ce.A.convertObjectToArcadeDictionary(G,(0,u.N)(S)):null}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.subtypecode=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),(0,u.r)(F[0])){const G=(0,u.W)(F[0]);if(!G)return null;if(G.subtypeField&&F[0].hasField(G.subtypeField)){const se=F[0].field(G.subtypeField);for(const ge of G.subtypes)if(ge.code===se)return ge.code;return null}return null}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.subtypename=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),(0,u.r)(F[0])){const G=(0,u.W)(F[0]);if(!G)return"";if(G.subtypeField&&F[0].hasField(G.subtypeField)){const se=F[0].field(G.subtypeField);for(const ge of G.subtypes)if(ge.code===se)return ge.name;return""}return""}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.gdbversion=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),(0,u.r)(F[0]))return F[0].gdbVersion();throw new x.D$(S,x.TX.InvalidParameter,b)})},I.domain=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,2,3,S,b),(0,u.r)(F[0])){const G=(0,u.X)(F[0],(0,u.j)(F[1]),void 0===F[2]?void 0:F[2]);return G&&G.domain?ce.A.convertObjectToArcadeDictionary("coded-value"===G.domain.type||"codedValue"===G.domain.type?{type:"codedValue",name:G.domain.name,dataType:Y.At[G.field.type],codedValues:G.domain.codedValues.map(se=>({name:se.name,code:se.code}))}:{type:"range",name:G.domain.name,dataType:Y.At[G.field.type],min:G.domain.minValue,max:G.domain.maxValue},(0,u.N)(S)):null}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.domainname=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,2,4,S,b),(0,u.r)(F[0]))return(0,u.Y)(F[0],(0,u.j)(F[1]),F[2],void 0===F[3]?void 0:F[3]);throw new x.D$(S,x.TX.InvalidParameter,b)})},I.domaincode=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,2,4,S,b),(0,u.r)(F[0]))return(0,u.Z)(F[0],(0,u.j)(F[1]),F[2],void 0===F[3]?void 0:F[3]);throw new x.D$(S,x.TX.InvalidParameter,b)})},I.urlencode=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),null===F[0])return"";if(F[0]instanceof ce.A){let G="";for(const se of F[0].keys()){const ge=F[0].field(se);""!==G&&(G+="&"),G+=null===ge?encodeURIComponent(se)+"=":encodeURIComponent(se)+"="+encodeURIComponent(ge)}return G}return encodeURIComponent((0,u.j)(F[0]))})},I.hash=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,1,1,S,b);const G=new Dt(0);return Ke(F[0],G,{context:S,node:b,map:new Map,currentLength:0}),G.digest()})},I.convertdirection=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,3,3,S,b),Nt(F[0],F[1],F[2])))},I.fromjson=function(S,b){return C(S,b,(Z,J,F)=>{if((0,u.H)(F,1,1,S,b),!1===(0,u.c)(F[0]))throw new x.D$(S,x.TX.InvalidParameter,b);return ce.A.convertJsonToArcade(JSON.parse((0,u.j)(F[0])),(0,u.N)(S))})},I.expects=function(S,b){return C(S,b,(Z,J,F)=>{if(F.length<1)throw new x.D$(S,x.TX.WrongNumberOfParameters,b);return u.B})},I.tocharcode=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,1,2,S,b);const G=(0,u.g)((0,u.K)(F[1],0)),se=(0,u.j)(F[0]);if(0===se.length&&1===F.length)return null;if(se.length<=G||G<0)throw new x.D$(S,x.TX.OutOfBounds,b);return se.charCodeAt(G)})},I.tocodepoint=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,1,2,S,b);const G=(0,u.g)((0,u.K)(F[1],0)),se=(0,u.j)(F[0]);if(0===se.length&&1===F.length)return null;if(se.length<=G||G<0)throw new x.D$(S,x.TX.OutOfBounds,b);return se.codePointAt(G)})},I.fromcharcode=function(S,b){return C(S,b,(Z,J,F)=>{if(F.length<1)throw new x.D$(S,x.TX.WrongNumberOfParameters,b);const G=F.map(se=>Math.trunc((0,u.g)(se))).filter(se=>se>=0&&se<=65535);return 0===G.length?null:String.fromCharCode.apply(null,G)})},I.fromcodepoint=function(S,b){return C(S,b,(Z,J,F)=>{if(F.length<1)throw new x.D$(S,x.TX.WrongNumberOfParameters,b);let G;try{G=F.map(se=>Math.trunc((0,u.g)(se))).filter(se=>se<=1114111&&se>>>0===se)}catch{return null}return 0===G.length?null:String.fromCodePoint.apply(null,G)})},I.getuser=function(S,b){return C(S,b,(Z,J,F)=>{(0,u.H)(F,0,2,S,b);let G=(0,u.K)(F[1],"");if(G=!0===G||!1===G?"":(0,u.j)(G),null!==G&&""!==G)return null;if(0===F.length||F[0]instanceof B.A){var se;let ge=null;if(ge=null!==(se=S.services)&&void 0!==se&&se.portal?S.services.portal:$t.A.getDefault(),F.length>0&&!function Pt(I,C){return!!I&&(0,wt.ut)(I,(null==C?void 0:C.restUrl)||"")}(F[0].field("url"),ge)||!ge)return null;if(""===G){const Ue=function dt(I){var C;return"loaded"===I.loadStatus&&null!==(C=I.user)&&void 0!==C&&C.sourceJSON?I.user.sourceJSON:null}(ge);if(Ue){const Pe=JSON.parse(JSON.stringify(Ue));for(const qe of["lastLogin","created","modified"])null!=Pe[qe]&&(Pe[qe]=new Date(Pe[qe]));return ce.A.convertObjectToArcadeDictionary(Pe,(0,u.N)(S))}}return null}throw new x.D$(S,x.TX.InvalidParameter,b)})},I.getenvironment=function(S,b){return C(S,b,(Z,J,F)=>((0,u.H)(F,0,0,S,b),ce.A.convertObjectToArcadeDictionary((0,u._)((0,u.N)(S),S.spatialReference),(0,u.N)(S),!0)))}}},63829:(Oe,ve,_)=>{_.d(ve,{$w:()=>te,C0:()=>v,WC:()=>Y,cj:()=>K,cm:()=>ae,jR:()=>z,je:()=>N,qz:()=>ee});const $={all:{min:2,max:2},time:{min:0,max:4},dateonly:{min:0,max:3},getenvironment:{min:0,max:0},none:{min:2,max:2},any:{min:2,max:2},reduce:{min:2,max:3},map:{min:2,max:2},filter:{min:2,max:2},fromcodepoint:{min:1,max:-1},fromcharcode:{min:1,max:-1},tocodepoint:{min:1,max:2},tocharcode:{min:1,max:2},concatenate:{min:0,max:-1},expects:{min:1,max:-1},getfeatureset:{min:1,max:2},week:{min:1,max:2},fromjson:{min:1,max:1},length3d:{min:1,max:2},tohex:{min:1,max:1},hash:{min:1,max:1},timezone:{min:1,max:1},timezoneoffset:{min:1,max:1},changetimezone:{min:2,max:2},isoweek:{min:1,max:1},isoweekday:{min:1,max:1},hasvalue:{min:2,max:2},isomonth:{min:1,max:1},isoyear:{min:1,max:1},resize:{min:2,max:3},slice:{min:0,max:-1},splice:{min:0,max:-1},push:{min:2,max:2},pop:{min:1,max:1},includes:{min:2,max:2},array:{min:0,max:2},front:{min:1,max:1},back:{min:1,max:1},insert:{min:3,max:3},erase:{min:2,max:2},split:{min:2,max:4},guid:{min:0,max:1},standardizeguid:{min:2,max:2},today:{min:0,max:0},angle:{min:2,max:3},bearing:{min:2,max:3},urlencode:{min:1,max:1},now:{min:0,max:0},timestamp:{min:0,max:0},day:{min:1,max:1},month:{min:1,max:1},year:{min:1,max:1},hour:{min:1,max:1},second:{min:1,max:1},millisecond:{min:1,max:1},minute:{min:1,max:1},weekday:{min:1,max:1},toutc:{min:1,max:1},tolocal:{min:1,max:1},date:{min:0,max:8},datediff:{min:2,max:4},dateadd:{min:2,max:3},trim:{min:1,max:1},text:{min:1,max:2},left:{min:2,max:2},right:{min:2,max:2},mid:{min:2,max:3},upper:{min:1,max:1},proper:{min:1,max:2},lower:{min:1,max:1},find:{min:2,max:3},iif:{min:3,max:3},decode:{min:2,max:-1},when:{min:2,max:-1},defaultvalue:{min:2,max:3},isempty:{min:1,max:1},domaincode:{min:2,max:4},domainname:{min:2,max:4},polygon:{min:1,max:1},point:{min:1,max:1},polyline:{min:1,max:1},extent:{min:1,max:1},multipoint:{min:1,max:1},ringisclockwise:{min:1,max:1},geometry:{min:1,max:1},count:{min:0,max:-1},number:{min:1,max:2},acos:{min:1,max:1},asin:{min:1,max:1},atan:{min:1,max:1},atan2:{min:2,max:2},ceil:{min:1,max:2},floor:{min:1,max:2},round:{min:1,max:2},cos:{min:1,max:1},exp:{min:1,max:1},log:{min:1,max:1},min:{min:0,max:-1},constrain:{min:3,max:3},console:{min:0,max:-1},max:{min:0,max:-1},pow:{min:2,max:2},random:{min:0,max:0},sqrt:{min:1,max:1},sin:{min:1,max:1},tan:{min:1,max:1},abs:{min:1,max:1},isnan:{min:1,max:1},stdev:{min:0,max:-1},average:{min:0,max:-1},mean:{min:0,max:-1},sum:{min:0,max:-1},variance:{min:0,max:-1},distinct:{min:0,max:-1},first:{min:1,max:1},top:{min:2,max:2},boolean:{min:1,max:1},dictionary:{min:0,max:-1},typeof:{min:1,max:1},reverse:{min:1,max:1},replace:{min:3,max:4},sort:{min:1,max:2},feature:{min:1,max:-1},haskey:{min:2,max:2},indexof:{min:2,max:2},disjoint:{min:2,max:2},intersects:{min:2,max:2},touches:{min:2,max:2},crosses:{min:2,max:2},within:{min:2,max:2},contains:{min:2,max:2},overlaps:{min:2,max:2},equals:{min:2,max:2},relate:{min:3,max:3},intersection:{min:2,max:2},union:{min:1,max:2},difference:{min:2,max:2},symmetricdifference:{min:2,max:2},clip:{min:2,max:2},cut:{min:2,max:2},area:{min:1,max:2},areageodetic:{min:1,max:2},length:{min:1,max:2},lengthgeodetic:{min:1,max:2},distancegeodetic:{min:2,max:3},distance:{min:2,max:3},densify:{min:2,max:3},densifygeodetic:{min:2,max:3},generalize:{min:2,max:4},buffer:{min:2,max:3},buffergeodetic:{min:2,max:3},offset:{min:2,max:6},rotate:{min:2,max:3},issimple:{min:1,max:1},simplify:{min:1,max:1},convexhull:{min:1,max:1},centroid:{min:1,max:1},nearestcoordinate:{min:2,max:2},nearestvertex:{min:2,max:2},isselfintersecting:{min:1,max:1},multiparttosinglepart:{min:1,max:1},setgeometry:{min:2,max:2},portal:{min:1,max:1},getuser:{min:0,max:2},subtypes:{min:1,max:1},subtypecode:{min:1,max:1},subtypename:{min:1,max:1},domain:{min:2,max:3},convertdirection:{min:3,max:3},sqltimestamp:{min:1,max:3},schema:{min:1,max:1},measuretocoordinate:{min:2,max:2},distancetocoordinate:{min:2,max:2},pointtocoordinate:{min:2,max:2}},B={functionDefinitions:new Map,constantDefinitions:new Map},E={functionDefinitions:new Map,constantDefinitions:new Map};for(const f of["pi","infinity"])E.constantDefinitions.set(f,{type:"constant"}),B.constantDefinitions.set(f,{type:"constant"});E.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"newline",type:"constant"}]}),B.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"newline",type:"constant"}]});for(const f in $){const D=$[f];E.functionDefinitions.set(f,{overloads:[{type:"function",parametersInfo:{min:D.min,max:D.max}}]}),B.functionDefinitions.set(f,{overloads:[{type:"function",parametersInfo:{min:D.min,max:D.max}}]})}const ce=new Set(["featureset","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","getfeatureset","getuser","attachments","featuresetbyportalitem","getfeaturesetinfo","filterbysubtypecode","knowledgegraphbyportalitem","querygraph"]),x=new Set(["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","nearestvertex","nearestcoordinate","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","length3d","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","convexhull","simplify","multiparttosinglepart","pointtocoordinate","distancetocoordinate","measuretocoordinate"]);function u(f){return"string"==typeof f||f instanceof String}function Y(f,D){var T;const c="sync"===D?B:E;c.functionDefinitions.has(f.name.toLowerCase())?null===(T=c.functionDefinitions.get(f.name.toLowerCase()))||void 0===T||T.overloads.push({type:"function",parametersInfo:{min:f.min,max:f.max}}):c.functionDefinitions.set(f.name.toLowerCase(),{overloads:[{type:"function",parametersInfo:{min:f.min,max:f.max}}]})}function L(f,D){if(f)for(const T of f)l(T,D)}function l(f,D){if(f&&!1!==D(f))switch(f.type){case"ImportDeclaration":L(f.specifiers,D),l(f.source,D);break;case"ExportNamedDeclaration":l(f.declaration,D);break;case"ArrayExpression":L(f.elements,D);break;case"AssignmentExpression":case"BinaryExpression":case"LogicalExpression":l(f.left,D),l(f.right,D);break;case"BlockStatement":case"Program":L(f.body,D);break;case"BreakStatement":case"ContinueStatement":case"EmptyStatement":case"Identifier":case"Literal":break;case"CallExpression":l(f.callee,D),L(f.arguments,D);break;case"ExpressionStatement":l(f.expression,D);break;case"ForInStatement":l(f.left,D),l(f.right,D),l(f.body,D);break;case"ForStatement":l(f.init,D),l(f.test,D),l(f.update,D),l(f.body,D);break;case"WhileStatement":l(f.test,D),l(f.body,D);break;case"FunctionDeclaration":l(f.id,D),L(f.params,D),l(f.body,D);break;case"IfStatement":l(f.test,D),l(f.consequent,D),l(f.alternate,D);break;case"MemberExpression":l(f.object,D),l(f.property,D);break;case"ObjectExpression":L(f.properties,D);break;case"Property":l(f.key,D),l(f.value,D);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":l(f.argument,D);break;case"VariableDeclaration":L(f.declarations,D);break;case"VariableDeclarator":l(f.id,D),l(f.init,D);break;case"TemplateLiteral":L(f.expressions,D),L(f.quasis,D)}}function z(f,D){let T=!1;const c=D.toLowerCase();return l(f,g=>!T&&("Identifier"===g.type&&g.name&&g.name.toLowerCase()===c&&(T=!0),!0)),T}function K(f){const D=[];return l(f,T=>("ImportDeclaration"===T.type&&T.source&&T.source.value&&D.push({libname:T.specifiers[0].local.name.toLowerCase(),source:T.source.value}),!0)),D}function N(f,D){let T=!1;const c=D.toLowerCase();return l(f,g=>!(T||"CallExpression"===g.type&&"Identifier"===g.callee.type&&g.callee.name&&g.callee.name.toLowerCase()===c&&(T=!0,1))),T}function ee(f){const D=[];return l(f,T=>{var c;return"MemberExpression"!==T.type||"Identifier"!==T.object.type||(!1===T.computed&&T.object&&T.object.name&&T.property&&"Identifier"===T.property.type&&T.property.name?D.push(T.object.name.toLowerCase()+"."+T.property.name.toLowerCase()):T.object&&T.object.name&&T.property&&"Literal"===T.property.type&&"string"==typeof T.property.value&&D.push(T.object.name.toLowerCase()+"."+(null===(c=T.property.value)||void 0===c?void 0:c.toString().toLowerCase())),!1)}),D}function ae(f){const D=[];return l(f,T=>{var c;if("CallExpression"===T.type){if("Identifier"===T.callee.type&&"expects"===T.callee.name.toLowerCase()){let g="";for(let k=0;k<(T.arguments||[]).length;k++)0===k?"Identifier"===T.arguments[k].type&&(g=T.arguments[k].name.toLowerCase()):g&&"Literal"===T.arguments[k].type&&u(T.arguments[k].value)&&D.push(g+"."+T.arguments[k].value.toLowerCase());return!1}if("Identifier"===T.callee.type&&["domainname","domaincode","domain","haskey"].includes(T.callee.name.toLowerCase())&&T.arguments.length>=2){let g="";return"Identifier"===T.arguments[0].type&&(g=T.arguments[0].name.toLowerCase()),g&&"Literal"===T.arguments[1].type&&u(T.arguments[1].value)&&D.push(g+"."+T.arguments[1].value.toLowerCase()),!1}}return"MemberExpression"!==T.type||"Identifier"!==T.object.type||(!1===T.computed&&T.object&&T.object.name&&T.property&&"Identifier"===T.property.type&&T.property.name?D.push(T.object.name.toLowerCase()+"."+T.property.name.toLowerCase()):T.object&&T.object.name&&T.property&&"Literal"===T.property.type&&"string"==typeof T.property.value&&D.push(T.object.name.toLowerCase()+"."+(null===(c=T.property.value)||void 0===c?void 0:c.toString().toLowerCase())),!1)}),D}function te(f){const D=[];return l(f,T=>("CallExpression"===T.type&&"Identifier"===T.callee.type&&D.push(T.callee.name.toLowerCase()),!0)),D}function v(f,D=[]){let T=null;if(void 0===f.usesFeatureSet){null===T&&(T=te(f)),f.usesFeatureSet=!1;for(let c=0;c<T.length;c++)ce.has(T[c])&&(f.usesFeatureSet=!0,f.isAsync=!0);if(!1===f.usesFeatureSet&&D&&D.length>0)for(const c of D)if(z(f,c)){f.usesFeatureSet=!0,f.isAsync=!0;break}}if(void 0===f.usesModules&&(f.usesModules=!1,K(f).length>0&&(f.usesModules=!0)),void 0===f.usesGeometry){f.usesGeometry=!1,null===T&&(T=te(f));for(let c=0;c<T.length;c++)x.has(T[c])&&(f.usesGeometry=!0)}}},78464:(Oe,ve,_)=>{_.d(ve,{A:()=>L});var $=_(10467),B=_(59312),E=_(55279),ce=_(42970),x=_(42686),u=_(56492);const L=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:function Y(l){function z(p,f,D){if(p instanceof ce.A)return p.toArray();if((0,x.o)(p))return p;throw new E.D$(f,E.TX.InvalidParameter,D)}function K(p,f){const D=p.length,T=Math.floor(D/2);return 0===D?[]:1===D?[p[0]]:function N(p,f,D){const T=[];for(;p.length>0||f.length>0;)if(p.length>0&&f.length>0){let c=D(p[0],f[0]);isNaN(c)&&(c=0),c<=0?(T.push(p[0]),p=p.slice(1)):(T.push(f[0]),f=f.slice(1))}else p.length>0?(T.push(p[0]),p=p.slice(1)):f.length>0&&(T.push(f[0]),f=f.slice(1));return T}(K(p.slice(0,T),f),K(p.slice(T,D),f),f)}function ee(p,f){return ae.apply(this,arguments)}function ae(){return(ae=(0,$.A)(function*(p,f){const D=p.length,T=Math.floor(D/2);if(0===D)return[];if(1===D)return[p[0]];const c=[yield ee(p.slice(0,T),f),yield ee(p.slice(T,D),f)];return j(c[0],c[1],f,[])})).apply(this,arguments)}function j(p,f,D,T){return te.apply(this,arguments)}function te(){return(te=(0,$.A)(function*(p,f,D,T){const c=T;if(!(p.length>0||f.length>0))return T;if(p.length>0&&f.length>0){let g=yield D(p[0],f[0]);return isNaN(g)&&(g=1),g<=0?(c.push(p[0]),p=p.slice(1)):(c.push(f[0]),f=f.slice(1)),j(p,f,D,T)}return p.length>0?(c.push(p[0]),j(p=p.slice(1),f,D,T)):f.length>0?(c.push(f[0]),j(p,f=f.slice(1),D,T)):void 0})).apply(this,arguments)}function v(p,f,D,T){(0,x.H)(D,1,2,p,f);let c=D[0];if((0,x.q)(c)&&(c=c.toArray()),!1===(0,x.o)(c))throw new E.D$(p,E.TX.InvalidParameter,f);if(D.length>1){if(!1===(0,x.i)(D[1]))throw new E.D$(p,E.TX.InvalidParameter,f);let X=c;const R=D[1].createFunction(p);return T?ee(X,R):(X=K(X,(oe,ie)=>R(oe,ie)),X)}let g=c;if(0===g.length)return[];const k={};for(let X=0;X<g.length;X++){const R=(0,x.P)(g[X]);""!==R&&(k[R]=!0)}if(!0===k.Array||!0===k.Dictionary||!0===k.Feature||!0===k.Point||!0===k.Polygon||!0===k.Polyline||!0===k.Multipoint||!0===k.Extent||!0===k.Function)return g.slice(0);let Q=0,y="";for(const X in k)Q++,y=X;return g=Q>1||"String"===y?K(g,(X,R)=>{if(null==X||X===x.B)return null==R||R===x.B?0:1;if(null==R||R===x.B)return-1;const oe=(0,x.j)(X),ie=(0,x.j)(R);return oe<ie?-1:oe===ie?0:1}):"Number"===y?K(g,(X,R)=>X-R):"Boolean"===y?K(g,(X,R)=>X===R?0:R?-1:1):"Date"===y?K(g,(X,R)=>R-X):g.slice(0),g}l.functions.array=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,0,2,p,f),0===c.length)return[];if(1===c.length&&null===c[0])return[];if((0,x.o)(c[0])){if(2===c.length&&!1===(0,x.a)(c[1]))throw new E.D$(p,E.TX.InvalidParameter,f);return!0===(0,x.K)(c[1],!1)?(0,B.G)(c[0]):c[0].slice(0)}if((0,x.q)(c[0])){if(2===c.length&&!1===(0,x.a)(c[1]))throw new E.D$(p,E.TX.InvalidParameter,f);return!0===(0,x.K)(c[1],!1)?(0,B.G)(c[0]):c[0].toArray().slice(0)}const g=(0,x.g)(c[0]);if(isNaN(g)||!1===(0,x.O)(g))throw new E.D$(p,E.TX.InvalidParameter,f);const k=(0,x.K)(c[1],null),Q=new Array(g);return Q.fill(k),Q})},l.functions.front=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,1,1,p,f),(0,x.q)(c[0])){if(c[0].length()<=0)throw new E.D$(p,E.TX.OutOfBounds,f);return c[0].get(0)}if((0,x.o)(c[0])){if(c[0].length<=0)throw new E.D$(p,E.TX.OutOfBounds,f);return c[0][0]}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.back=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,1,1,p,f),(0,x.q)(c[0])){if(c[0].length()<=0)throw new E.D$(p,E.TX.OutOfBounds,f);return c[0].get(c[0].length()-1)}if((0,x.o)(c[0])){if(c[0].length<=0)throw new E.D$(p,E.TX.OutOfBounds,f);return c[0][c[0].length-1]}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.push=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,1,2,p,f),(0,x.o)(c[0]))return c[0][c[0].length]=c[1],c[0].length;throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.pop=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,1,1,p,f),(0,x.o)(c[0])){if(c[0].length<=0)throw new E.D$(p,E.TX.OutOfBounds,f);const g=c[0][c[0].length-1];return c[0].length=c[0].length-1,g}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.erase=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,2,2,p,f),(0,x.o)(c[0])){let g=(0,x.g)(c[1]);if(isNaN(g)||!1===(0,x.O)(g))throw new E.D$(p,E.TX.InvalidParameter,f);const k=c[0];if(k.length<=0)throw new E.D$(p,E.TX.OutOfBounds,f);if(g<0&&(g=k.length+g),g<0)throw new E.D$(p,E.TX.OutOfBounds,f);if(g>=k.length)throw new E.D$(p,E.TX.OutOfBounds,f);return k.splice(g,1),x.B}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.insert=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,3,3,p,f),(0,x.o)(c[0])){const g=(0,x.g)(c[1]);if(isNaN(g)||!1===(0,x.O)(g))throw new E.D$(p,E.TX.InvalidParameter,f);const k=c[2],Q=c[0];if(g>Q.length)throw new E.D$(p,E.TX.OutOfBounds,f);if(g<0&&g<-1*Q.length)throw new E.D$(p,E.TX.OutOfBounds,f);return g===Q.length?(Q[g]=k,x.B):(Q.splice(g,0,k),x.B)}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.resize=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,2,3,p,f),(0,x.o)(c[0])){const g=(0,x.g)(c[1]);if(isNaN(g)||!1===(0,x.O)(g))throw new E.D$(p,E.TX.InvalidParameter,f);if(g<0)throw new E.D$(p,E.TX.InvalidParameter,f);const k=(0,x.K)(c[2],null),Q=c[0];if(Q.length>=g)return Q.length=g,x.B;const y=Q.length;Q.length=g;for(let X=y;X<Q.length;X++)Q[X]=k;return x.B}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.includes=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,2,2,p,f),(0,x.o)(c[0])){const g=c[1];return c[0].findIndex(k=>(0,x.F)(k,g))>-1}if((0,x.q)(c[0])){const g=c[1];return c[0].toArray().findIndex(k=>(0,x.F)(k,g))>-1}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.slice=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,1,3,p,f),(0,x.o)(c[0])){const g=(0,x.g)((0,x.K)(c[1],0)),k=(0,x.g)((0,x.K)(c[2],c[0].length));if(isNaN(g)||!1===(0,x.O)(g))throw new E.D$(p,E.TX.InvalidParameter,f);if(isNaN(k)||!1===(0,x.O)(k))throw new E.D$(p,E.TX.InvalidParameter,f);return c[0].slice(g,k)}if((0,x.q)(c[0])){const g=c[0],k=(0,x.g)((0,x.K)(c[1],0)),Q=(0,x.g)((0,x.K)(c[2],g.length()));if(isNaN(k)||!1===(0,x.O)(k))throw new E.D$(p,E.TX.InvalidParameter,f);if(isNaN(Q)||!1===(0,x.O)(Q))throw new E.D$(p,E.TX.InvalidParameter,f);return g.toArray().slice(k,Q)}throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.splice=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{const g=[];for(let k=0;k<c.length;k++)(0,x.o)(c[k])?g.push(...c[k]):(0,x.q)(c[k])?g.push(...c[k].toArray()):g.push(c[k]);return g})},l.functions.top=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{if((0,x.H)(c,2,2,p,f),(0,x.o)(c[0]))return(0,x.g)(c[1])>=c[0].length?c[0].slice(0):c[0].slice(0,(0,x.g)(c[1]));if((0,x.q)(c[0]))return(0,x.g)(c[1])>=c[0].length()?c[0].slice(0):c[0].slice(0,(0,x.g)(c[1]));throw new E.D$(p,E.TX.InvalidParameter,f)})},l.functions.first=function(p,f){return l.standardFunction(p,f,(D,T,c)=>((0,x.H)(c,1,1,p,f),(0,x.o)(c[0])?0===c[0].length?null:c[0][0]:(0,x.q)(c[0])?0===c[0].length()?null:c[0].get(0):null))},"sync"===l.mode&&(l.functions.sort=function(p,f){return l.standardFunction(p,f,(D,T,c)=>v(p,f,c,!1))},l.functions.any=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{(0,x.H)(c,2,2,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f);for(const Q of k){const y=g(Q);if((0,x.a)(y)&&!0===y)return!0}return!1})},l.functions.all=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{(0,x.H)(c,2,2,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f);for(const Q of k)if(!0!==g(Q))return!1;return!0})},l.functions.none=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{(0,x.H)(c,2,2,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f);for(const Q of k)if(!0===g(Q))return!1;return!0})},l.functions.reduce=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{(0,x.H)(c,2,3,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f);return 2===c.length?0===k.length?null:k.reduce((Q,y)=>{const X=g(Q,y);return void 0!==X&&X!==x.B?X:null}):k.reduce((Q,y)=>{const X=g(Q,y);return void 0!==X&&X!==x.B?X:null},c[2])})},l.functions.map=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{(0,x.H)(c,2,2,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f),Q=[];for(const y of k){const X=g(y);Q.push(void 0!==X&&X!==x.B?X:null)}return Q})},l.functions.filter=function(p,f){return l.standardFunction(p,f,(D,T,c)=>{(0,x.H)(c,2,2,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f),Q=[];for(const y of k)!0===g(y)&&Q.push(y);return Q})}),"async"===l.mode&&(l.functions.sort=function(p,f){return l.standardFunctionAsync(p,f,(D,T,c)=>v(p,f,c,!0))},l.functions.any=function(p,f){return l.standardFunctionAsync(p,f,function(){var D=(0,$.A)(function*(T,c,g){(0,x.H)(g,2,2,p,f);const k=g[1].createFunction(p),Q=z(g[0],p,f);for(const y of Q){const X=yield k(y);let R=null;if(R=(0,u.$X)(R)?yield X:X,(0,x.a)(R)&&!0===R)return!0}return!1});return function(T,c,g){return D.apply(this,arguments)}}())},l.functions.all=function(p,f){return l.standardFunctionAsync(p,f,function(){var D=(0,$.A)(function*(T,c,g){(0,x.H)(g,2,2,p,f);const k=g[1].createFunction(p),Q=z(g[0],p,f);for(const y of Q){const X=yield k(y);let R=null;if(R=(0,u.$X)(R)?yield X:X,!0!==R)return!1}return!0});return function(T,c,g){return D.apply(this,arguments)}}())},l.functions.none=function(p,f){return l.standardFunctionAsync(p,f,function(){var D=(0,$.A)(function*(T,c,g){(0,x.H)(g,2,2,p,f);const k=g[1].createFunction(p),Q=z(g[0],p,f);for(const y of Q){const X=yield k(y);let R=null;if(R=(0,u.$X)(R)?yield X:X,!0===R)return!1}return!0});return function(T,c,g){return D.apply(this,arguments)}}())},l.functions.filter=function(p,f){return l.standardFunctionAsync(p,f,function(){var D=(0,$.A)(function*(T,c,g){(0,x.H)(g,2,2,p,f);const k=g[1].createFunction(p),Q=z(g[0],p,f),y=[];for(const X of Q){const R=yield k(X);let oe=null;oe=(0,u.$X)(oe)?yield R:R,!0===oe&&y.push(X)}return y});return function(T,c,g){return D.apply(this,arguments)}}())},l.functions.reduce=function(p,f){return l.standardFunctionAsync(p,f,(D,T,c)=>{(0,x.H)(c,2,3,p,f);const g=c[1].createFunction(p),k=z(c[0],p,f);let Q=null;if(c.length>2){const y=(0,x.K)(c[2],null);Q=k.reduce(function(){var X=(0,$.A)(function*(R,oe){let ie=yield R;return void 0!==ie&&ie!==x.B||(ie=null),g(ie,oe)});return function(R,oe){return X.apply(this,arguments)}}(),Promise.resolve(y))}else{if(0===k.length)return null;Q=k.reduce(function(){var y=(0,$.A)(function*(X,R,oe){if(oe<=1)return g(X,R);let ie=yield X;return void 0!==ie&&ie!==x.B||(ie=null),g(ie,R)});return function(X,R,oe){return y.apply(this,arguments)}}())}return Q.then(y=>void 0!==y&&y!==x.B?y:null)})},l.functions.map=function(p,f){return l.standardFunctionAsync(p,f,function(){var D=(0,$.A)(function*(T,c,g){(0,x.H)(g,2,2,p,f);const k=g[1].createFunction(p),Q=z(g[0],p,f),y=[];for(const X of Q){const R=yield k(X);let oe=null;oe=(0,u.$X)(oe)?yield R:R,y.push(void 0!==oe&&oe!==x.B?oe:null)}return y});return function(T,c,g){return D.apply(this,arguments)}}())})}},Symbol.toStringTag,{value:"Module"}))},42686:(Oe,ve,_)=>{_.d(ve,{$:()=>Nt,A:()=>R,B:()=>ie,C:()=>me,D:()=>Ae,E:()=>Ft,F:()=>Bt,G:()=>S,H:()=>ht,I:()=>$t,J:()=>Pt,K:()=>H,L:()=>gt,M:()=>Ke,N:()=>fe,O:()=>Ce,P:()=>ue,Q:()=>Mt,R:()=>Et,S:()=>Tt,T:()=>W,U:()=>kt,V:()=>Xt,W:()=>qe,X:()=>Pe,Y:()=>he,Z:()=>Ut,_:()=>ft,a:()=>ye,a0:()=>Ue,a1:()=>ge,a2:()=>C,a3:()=>Lt,a4:()=>bt,a5:()=>St,a6:()=>It,a7:()=>pt,b:()=>Fe,c:()=>q,d:()=>b,e:()=>F,f:()=>V,g:()=>Ie,h:()=>He,i:()=>ne,j:()=>rt,k:()=>_e,l:()=>ke,m:()=>Re,n:()=>$e,o:()=>be,p:()=>Ge,q:()=>Ze,r:()=>Be,s:()=>lt,t:()=>it,u:()=>At,v:()=>Ne,w:()=>Xe,x:()=>wt,y:()=>Cn,z:()=>oe});var $=_(10467),B=_(23098),E=_(77469),ce=_(61299),x=_(50279),u=_(55279),Y=_(61552),L=_(42970),l=_(61223),z=_(40056),K=_(7981),N=_(85775),ee=_(87257),ae=_(29752),j=_(28067),te=_(68643),v=_(21870),p=_(13303),f=_(55861),D=_(93615),T=_(32034),c=_(15268),g=_(61320),k=_(66615),Q=_(44549);class y{constructor(w){this.value=w}}class X{constructor(w){this.value=w}}const R=X,oe=y,ie={type:"VOID"},me={type:"BREAK"},Ae={type:"CONTINUE"};function W(m,w,O){return""===w||null==w||w===O||w===O?m:m=m.split(w).join(O)}function ne(m){return m instanceof Y.fF}function U(m){return m instanceof x.x}function V(m){return!!(q(m)||Fe(m)||_e(m)||Re(m)||$e(m)||ye(m)||null===m||m===ie||"number"==typeof m)}function H(m,w){return void 0===m?w:m}function ue(m){return null==m?"":be(m)||Ze(m)?"Array":_e(m)?"Date":$e(m)?"Time":Re(m)?"DateOnly":q(m)?"String":ye(m)?"Boolean":Fe(m)?"Number":"esri.arcade.Attachment"===(null==m?void 0:m.declaredClass)?"Attachment":"esri.arcade.Portal"===(null==m?void 0:m.declaredClass)?"Portal":"esri.arcade.Dictionary"===(null==m?void 0:m.declaredClass)?"Dictionary":Xe(m)?"KnowledgeGraph":m instanceof x.x?"Module":Be(m)?"Feature":m instanceof p.A?"Point":m instanceof f.A?"Polygon":m instanceof D.A?"Polyline":m instanceof v.A?"Multipoint":m instanceof j.A?"Extent":ne(m)?"Function":At(m)?"FeatureSet":lt(m)?"FeatureSetCollection":m===ie?"":"number"==typeof m&&isNaN(m)?"Number":"Unrecognized Type"}function q(m){return"string"==typeof m||m instanceof String}function ye(m){return"boolean"==typeof m}function Fe(m){return"number"==typeof m}function Ce(m){return"number"==typeof m&&isFinite(m)&&Math.floor(m)===m}function Ge(m){return m instanceof te.A}function be(m){return m instanceof Array}function Be(m){return"esri.arcade.Feature"===(null==m?void 0:m.arcadeDeclaredClass)}function At(m){return"esri.arcade.featureset.support.FeatureSet"===(null==m?void 0:m.declaredRootClass)}function Ne(m){return"esri.arcade.Dictionary"===(null==m?void 0:m.declaredClass)}function lt(m){return"esri.arcade.featureSetCollection"===(null==m?void 0:m.declaredRootClass)}function Xe(m){return"esri.rest.knowledgeGraph.KnowledgeGraph"===(null==m?void 0:m.declaredClass)}function Ze(m){return m instanceof L.A}function _e(m){return m instanceof ce.lY}function Re(m){return m instanceof ee.n}function $e(m){return m instanceof ae.k}function ze(m){return null!=m&&"object"==typeof m}function pt(m){return m instanceof Date}function ht(m,w,O,de,le){if(m.length<w||m.length>O)throw new u.D$(de,u.TX.WrongNumberOfParameters,le)}function Et(m){return m<0?-Math.round(-m):Math.round(m)}function kt(){let m=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll(/[xy]/g,w=>{const O=(m+16*Math.random())%16|0;return m=Math.floor(m/16),("x"===w?O:3&O|8).toString(16)})}function _t(m,w){return isNaN(m)||null==w||""===w?m.toString():(w=W(w,"\u2030",""),w=W(w,"\xa4",""),(0,N.GP)(m,{pattern:w}))}function Ct(m,w){return null==w||""===w?m.toISOString(!0):m.toFormat(Mt(w),{locale:(0,k.JK)(),numberingSystem:"latn"})}function Mt(m,w=!1){m=m.replaceAll(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let O="";const de=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;for(const le of m.match(de)||[])switch(le){case"D":O+="d";break;case"DD":O+="dd";break;case"DDD":O+="o";break;case"d":O+="c";break;case"ddd":O+="ccc";break;case"dddd":O+="cccc";break;case"M":O+="L";break;case"MM":O+="LL";break;case"MMM":O+="LLL";break;case"MMMM":O+="LLLL";break;case"YY":O+="yy";break;case"Y":case"YYYY":O+="yyyy";break;case"Q":O+="q";break;case"Z":O+="Z";break;case"ZZ":O+="ZZ";break;case"ZZZ":O+="ZZZ";break;case"ZZZZ":O+=w?"[ZZZZ]":"ZZZZ";break;case"ZZZZZ":O+=w?"[ZZZZZ]":"ZZZZZ";break;case"S":O+="'S'";break;case"SS":O+="'SS'";break;case"SSS":O+="u";break;case"A":case"a":O+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":O+=le;break;default:le.length>=2&&"["===le.slice(0,1)&&"]"===le.slice(-1)?O+=`'${le.slice(1,-1)}'`:O+=`'${le}'`}return O}function xe(m,w,O){switch(O){case">":return m>w;case"<":return m<w;case">=":return m>=w;case"<=":return m<=w}return!1}function Ft(m,w,O){if(null===m){if(null===w||w===ie)return xe(null,null,O);if(Fe(w))return xe(0,w,O);if(q(w)||ye(w))return xe(0,Ie(w),O);if(_e(w))return xe(0,w.toNumber(),O);if($e(w)||Re(w))return xe(m,w.toNumber(),O)}if(m===ie){if(null===w||w===ie)return xe(null,null,O);if(Fe(w))return xe(0,w,O);if(q(w)||ye(w))return xe(0,Ie(w),O);if(_e(w))return xe(0,w.toNumber(),O);if($e(w)||Re(w))return xe(m,w.toNumber(),O)}else if(Fe(m)){if(Fe(w))return xe(m,w,O);if(ye(w))return xe(m,Ie(w),O);if(null===w||w===ie)return xe(m,0,O);if(q(w))return xe(m,Ie(w),O);if(_e(w)||$e(w)||Re(w))return xe(m,w.toNumber(),O)}else if(q(m)){if(q(w))return xe(rt(m),rt(w),O);if(_e(w)||$e(w)||Re(w))return xe(Ie(m),w.toNumber(),O);if(Fe(w))return xe(Ie(m),w,O);if(null===w||w===ie)return xe(Ie(m),0,O);if(ye(w))return xe(Ie(m),Ie(w),O)}else if(_e(m)){if(_e(w))return m.timeZone!==w.timeZone&&(m.isUnknownTimeZone?m=ce.lY.arcadeDateAndZoneToArcadeDate(m,w.timeZone):w.isUnknownTimeZone&&(w=ce.lY.arcadeDateAndZoneToArcadeDate(w,m.timeZone))),xe(m.toNumber(),w.toNumber(),O);if(null===w||w===ie)return xe(m.toNumber(),0,O);if(Fe(w))return xe(m.toNumber(),w,O);if(ye(w)||q(w))return xe(m.toNumber(),Ie(w),O);if($e(w))throw new u.D$(null,u.TX.CannotCompareDateAndTime,null);if(Re(w))return xe(m.toNumber(),w.toNumber(),O)}else if(ye(m)){if(ye(w))return xe(m,w,O);if(Fe(w))return xe(Ie(m),Ie(w),O);if(_e(w)||$e(w)||Re(w))return xe(Ie(m),w.toNumber(),O);if(null===w||w===ie)return xe(Ie(m),0,O);if(q(w))return xe(Ie(m),Ie(w),O)}else if(Re(m)){if(_e(w))return xe(m.toNumber(),w.toNumber(),O);if(null===w||w===ie)return xe(m.toNumber(),0,O);if(Fe(w))return xe(m.toNumber(),w,O);if(ye(w)||q(w))return xe(m.toNumber(),Ie(w),O);if($e(w))throw new u.D$(null,u.TX.CannotCompareDateAndTime,null);if(Re(w))return xe(m.toNumber(),w.toNumber(),O)}else if($e(m)){if(_e(w))throw new u.D$(null,u.TX.CannotCompareDateAndTime,null);if(null===w||w===ie)return xe(m.toNumber(),0,O);if(Fe(w))return xe(m.toNumber(),w,O);if(ye(w)||q(w))return xe(m.toNumber(),Ie(w),O);if($e(w))return xe(m.toNumber(),w.toNumber(),O);if(Re(w))throw new u.D$(null,u.TX.CannotCompareDateAndTime,null)}return!!Bt(m,w)&&("<="===O||">="===O)}function Bt(m,w){if(m===w||null===m&&w===ie||null===w&&m===ie)return!0;if(_e(m)&&_e(w)||$e(m)&&$e(w)||Re(m)&&Re(w))return m.equals(w);if(m instanceof l.A||m instanceof z.A)return m.equalityTest(w);if(m instanceof p.A&&w instanceof p.A){const O=m.cache._arcadeCacheId;if(null!=O)return O===w.cache._arcadeCacheId}return!!(ze(m)&&ze(w)&&(m._arcadeCacheId===w._arcadeCacheId&&null!=m._arcadeCacheId||m._underlyingGraphic===w._underlyingGraphic&&null!=m._underlyingGraphic))}function rt(m,w){if(q(m))return m;if(null===m)return"";if(Fe(m))return _t(m,w);if(ye(m))return m.toString();if(_e(m))return Ct(m,w);if($e(m)||Re(m))return m.toFormat(w);if(m instanceof te.A)return JSON.stringify(m.toJSON());if(be(m)){const O=[];for(let de=0;de<m.length;de++)O[de]=ut(m[de]);return"["+O.join(",")+"]"}if(m instanceof L.A){const O=[];for(let de=0;de<m.length();de++)O[de]=ut(m.get(de));return"["+O.join(",")+"]"}return null!==m&&"object"==typeof m&&void 0!==m.castToText?m.castToText():ne(m)?"object, Function":m===ie?"":U(m)?"object, Module":""}function Nt(m){const w=[];if(!be(m))return null;if(m instanceof L.A){for(let O=0;O<m.length();O++)w[O]=Ie(m.get(O));return w}for(let O=0;O<m.length;O++)w[O]=Ie(m[O]);return w}function it(m,w,O=!1){if(q(m))return m;if(null===m)return"";if(Fe(m))return _t(m,w);if(ye(m))return m.toString();if(_e(m))return Ct(m,w);if($e(m)||Re(m))return m.toFormat(w);if(m instanceof te.A)return m instanceof j.A?'{"xmin":'+m.xmin.toString()+',"ymin":'+m.ymin.toString()+","+(m.hasZ?'"zmin":'+m.zmin.toString()+",":"")+(m.hasM?'"mmin":'+m.mmin.toString()+",":"")+'"xmax":'+m.xmax.toString()+',"ymax":'+m.ymax.toString()+","+(m.hasZ?'"zmax":'+m.zmax.toString()+",":"")+(m.hasM?'"mmax":'+m.mmax.toString()+",":"")+'"spatialReference":'+Rt(m.spatialReference)+"}":Rt(m.toJSON(),(de,le)=>de.key===le.key?0:"spatialReference"===de.key?1:"spatialReference"===le.key||de.key<le.key?-1:de.key>le.key?1:0);if(be(m)){const de=[];for(let le=0;le<m.length;le++)de[le]=ut(m[le],O);return"["+de.join(",")+"]"}if(m instanceof L.A){const de=[];for(let le=0;le<m.length();le++)de[le]=ut(m.get(le),O);return"["+de.join(",")+"]"}return null!==m&&"object"==typeof m&&void 0!==m.castToText?m.castToText(O):ne(m)?"object, Function":m===ie?"":U(m)?"object, Module":""}function ut(m,w=!1){if(null===m)return"null";if(ye(m)||Fe(m)||q(m))return JSON.stringify(m);if(m instanceof te.A||m instanceof L.A||m instanceof Array)return it(m,null,w);if(_e(m))return JSON.stringify(w?m.getTime():Ct(m,""));if($e(m)||Re(m))return JSON.stringify(m.toString());if(null!==m&&"object"==typeof m){if(void 0!==m.castToText)return m.castToText(w)}else if(m===ie)return"null";return"null"}function Ie(m,w){return Fe(m)?m:null===m||""===m?0:_e(m)||Re(m)||$e(m)?NaN:ye(m)?m?1:0:be(m)||""===m||void 0===m?NaN:void 0!==w&&q(m)?(w=W(w,"\u2030",""),w=W(w,"\xa4",""),(0,N.qg)(m,{pattern:w})):m===ie?0:Number(m)}function ke(m,w){if(_e(m))return m;if(q(m)){const O=function Ve(m,w){const O=/ (\d\d)/,de=(0,ce.mT)(w);let le=Q.c9.fromISO(m,{zone:de});return le.isValid||O.test(m)&&(m=m.replace(O,"T$1"),le=Q.c9.fromISO(m,{zone:w}),le.isValid)?le:null}(m,w);if(O)return ce.lY.dateTimeToArcadeDate(O)}return null}function He(m){return ye(m)?m:q(m)?"true"===(m=m.toLowerCase()):!!Fe(m)&&0!==m&&!isNaN(m)}function wt(m,w){return null==m?null:(null!=m.spatialReference||(m.spatialReference=w),m)}function Tt(m){if(null===m)return null;if(m instanceof p.A)return"NaN"===m.x||null===m.x||isNaN(m.x)?null:m;if(m instanceof f.A){if(0===m.rings.length)return null;for(const w of m.rings)if(w.length>0)return m;return null}if(m instanceof D.A){if(0===m.paths.length)return null;for(const w of m.paths)if(w.length>0)return m;return null}return m instanceof v.A?0===m.points.length?null:m:m instanceof j.A?"NaN"===m.xmin||null===m.xmin||isNaN(m.xmin)?null:m:null}function St(m,w){if(!m||!m.domain)return w;let O=null,de=null;if(_e(w))O=w.toNumber();else if(Re(w))O=w.toString();else if($e(w))O=w.toStorageString();else if("string"===m.field.type||"esriFieldTypeString"===m.field.type)O=rt(w);else{if(null==w)return null;if(""===w)return w;O=Ie(w)}for(let le=0;le<m.domain.codedValues.length;le++){const we=m.domain.codedValues[le];we.code===O&&(de=we)}return null===de?rt(w):de.name}function It(m,w){if(!m||!m.domain)return w;let O=null;const de=rt(w);for(let le=0;le<m.domain.codedValues.length;le++){const we=m.domain.codedValues[le];we.name===de&&(O=we)}return null===O?w:O.code}function bt(m,w,O=null,de=null){var le;if(!w||!w.fields)return null;let we,je,Me=null;for(let ot=0;ot<w.fields.length;ot++){const et=w.fields[ot];et.name.toLowerCase()===m.toString().toLowerCase()&&(Me=et)}if(null===Me)throw new u.D$(null,u.TX.FieldNotFound,null,{key:m});let Ye=w.typeIdField,We="id",Je=w.types;if(w.subtypeField&&(Ye=w.subtypeField,We="code",Je=null!==(le=w.subtypes)&&void 0!==le?le:[]),null===de&&O&&Ye)de=O.hasField(Ye)?O.field(Ye):null;else if(Ye&&null!==de){let ot=!1;for(const et of Je||[])if(de===et[We]){ot=!0;break}if(!ot)for(const et of Je||[])if(de===et.name){de=et[We],ot=!0;break}ot||(de=null,O&&Ye&&(de=O.hasField(Ye)?O.field(Ye):null))}return null!=de&&Je.some(ot=>{var et;return ot[We]===de&&(we=null===(et=ot.domains)||void 0===et?void 0:et[Me.name],we&&"inherited"===we.type&&(we=ct(Me.name,w),je=!0),!0)}),je||we||(we=ct(m,w)),{field:Me,domain:we}}function ct(m,w){let O;return w.fields.some(de=>(de.name.toLowerCase()===m.toLowerCase()&&(O=de.domain),!!O)),O}function Rt(m,w){w||(w={}),"function"==typeof w&&(w={cmp:w});const O="boolean"==typeof w.cycles&&w.cycles,de=w.cmp&&(le=w.cmp,function(je){return function(Me,Ye){return le({key:Me,value:je[Me]},{key:Ye,value:je[Ye]})}});var le;const we=[];return function je(Me,Ye){if(null!==(Ye=Me)&&void 0!==Ye&&Ye.toJSON&&"function"==typeof Me.toJSON&&(Me=Me.toJSON()),void 0===Me)return;if("number"==typeof Me)return isFinite(Me)?""+Me:"null";if("object"!=typeof Me)return JSON.stringify(Me);let We,Je;if(Array.isArray(Me)){for(Je="[",We=0;We<Me.length;We++)We&&(Je+=","),Je+=je(Me[We])||"null";return Je+"]"}if(null===Me)return"null";if(we.includes(Me)){if(O)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const ot=we.push(Me)-1,et=Object.keys(Me).sort(null==de?void 0:de(Me));for(Je="",We=0;We<et.length;We++){const qt=et[We],en=je(Me[qt]);en&&(Je&&(Je+=","),Je+=JSON.stringify(qt)+":"+en)}return we.splice(ot,1),"{"+Je+"}"}(m)}function $t(m){if(null===m)return null;const w=[];for(const O of m)w.push(null!=O&&O.arcadeDeclaredClass&&"esri.arcade.Feature"===O.arcadeDeclaredClass?O.geometry():O);return w}function dt(m,w){if(!(w instanceof p.A))throw new u.D$(null,u.TX.InvalidParameter,null);m.push(w.hasZ?w.hasM?[w.x,w.y,w.z,w.m]:[w.x,w.y,w.z]:[w.x,w.y])}function Pt(m,w){if(be(m)||Ze(m)){let O=!1,de=!1,le=[],we=w;if(be(m)){for(const je of m)dt(le,je);le.length>0&&(we=m[0].spatialReference,O=m[0].hasZ,de=m[0].hasM)}else if(m instanceof z.A)le=m._elements,le.length>0&&(O=m._hasZ,de=m._hasM,we=m.get(0).spatialReference);else{if(!Ze(m))throw new u.D$(null,u.TX.InvalidParameter,null);for(const je of m.toArray())dt(le,je);le.length>0&&(we=m.get(0).spatialReference,O=!0===m.get(0).hasZ,de=!0===m.get(0).hasM)}return 0===le.length?null:((0,c.$3)(le)||(le=le.slice(0).reverse()),new f.A({rings:[le],spatialReference:we,hasZ:O,hasM:de}))}return m}function gt(m,w){if(be(m)||Ze(m)){let O=!1,de=!1,le=[],we=w;if(be(m)){for(const je of m)dt(le,je);le.length>0&&(we=m[0].spatialReference,O=!0===m[0].hasZ,de=!0===m[0].hasM)}else if(m instanceof z.A)le=m._elements,le.length>0&&(O=m._hasZ,de=m._hasM,we=m.get(0).spatialReference);else if(Ze(m)){for(const je of m.toArray())dt(le,je);le.length>0&&(we=m.get(0).spatialReference,O=!0===m.get(0).hasZ,de=!0===m.get(0).hasM)}return 0===le.length?null:new D.A({paths:[le],spatialReference:we,hasZ:O,hasM:de})}return m}function Ke(m,w){if(be(m)||Ze(m)){let O=!1,de=!1,le=[],we=w;if(be(m)){for(const je of m)dt(le,je);le.length>0&&(we=m[0].spatialReference,O=!0===m[0].hasZ,de=!0===m[0].hasM)}else if(m instanceof z.A)le=m._elements,le.length>0&&(O=m._hasZ,de=m._hasM,we=m.get(0).spatialReference);else if(Ze(m)){for(const je of m.toArray())dt(le,je);le.length>0&&(we=m.get(0).spatialReference,O=!0===m.get(0).hasZ,de=!0===m.get(0).hasM)}return 0===le.length?null:new v.A({points:le,spatialReference:we,hasZ:O,hasM:de})}return m}function Lt(m,w=!1){const O=[];if(null===m)return O;if(!0===be(m)){for(let de=0;de<m.length;de++){const le=rt(m[de]);""===le&&!0!==w||O.push(le)}return O}if(m instanceof L.A){for(let de=0;de<m.length();de++){const le=rt(m.get(de));""===le&&!0!==w||O.push(le)}return O}if(V(m)){const de=rt(m);return""===de&&!0!==w||O.push(de),O}return[]}let I=0;function C(m){return I++,I%100==0?(I=0,new Promise(w=>{setTimeout(()=>{w(m)},0)})):m}function S(m,w,O){switch(O){case"&":return m&w;case"|":return m|w;case"^":return m^w;case"<<":return m<<w;case">>":return m>>w;case">>>":return m>>>w}}function b(m,w=null){return null==m?null:ye(m)||Fe(m)||q(m)?m:m instanceof te.A?!0===(null==w?void 0:w.keepGeometryType)?m:m.toJSON():m instanceof L.A?m.toArray().map(O=>b(O,w)):m instanceof Array?m.map(O=>b(O,w)):pt(m)?m:_e(m)?m.toJSDate():$e(m)?m.toString():Re(m)?m.toJSDate():null!==m&&"object"==typeof m&&void 0!==m.castAsJson?m.castAsJson(w):null}function Z(m,w,O,de,le){return J.apply(this,arguments)}function J(){return(J=(0,$.A)(function*(m,w,O,de,le){const we=yield F(m,w,O);le[de]=we})).apply(this,arguments)}function F(m){return G.apply(this,arguments)}function G(){return(G=(0,$.A)(function*(m,w=null,O=null){if(m instanceof L.A&&(m=m.toArray()),null==m)return null;if(V(m)||m instanceof te.A||pt(m)||_e(m))return b(m,O);if(m instanceof Array){const de=[],le=[];for(const we of m)null===we||V(we)||we instanceof te.A||pt(we)||_e(we)?le.push(b(we,O)):(le.push(null),de.push(Z(we,w,O,le.length-1,le)));return de.length>0&&(yield Promise.all(de)),le}return null!==m&&"object"==typeof m&&void 0!==m.castAsJsonAsync?m.castAsJsonAsync(w,O):null})).apply(this,arguments)}function se(m){return ge(m)?m.parent:m}function ge(m){return m&&"declaredClass"in m&&"esri.layers.support.SubtypeSublayer"===m.declaredClass}function Ue(m){return m&&"declaredClass"in m&&"esri.layers.SubtypeGroupLayer"===m.declaredClass}function Pe(m,w,O){const de=se(m.fullSchema());return null!==de&&de.fields?bt(w,de,m,O):null}function qe(m){const w=se(m.fullSchema());return null===w?null:w.fields?w.subtypeField?{subtypeField:w.subtypeField,subtypes:w.subtypes?w.subtypes.map(O=>({name:O.name,code:O.code})):[]}:w.typeIdField?{subtypeField:w.typeIdField,subtypes:w.types?w.types.map(O=>({name:O.name,code:O.id})):[]}:null:null}function he(m,w,O,de){const le=se(m.fullSchema());if(null===le||!le.fields)return null;const we=bt(w,le,m,de);if(void 0===O)try{O=m.field(w)}catch{return null}return St(we,O)}function Ut(m,w,O,de){const le=se(m.fullSchema());if(null===le||!le.fields)return null;if(void 0===O){try{O=m.field(w)}catch{return null}return O}return It(bt(w,le,m,de),O)}function fe(m){var w;return null!==(w=null==m?void 0:m.timeZone)&&void 0!==w?w:"system"}function Xt(m){var w;const O=se(m.fullSchema());if(null===O||!O.fields)return null;const de=[];for(const le of O.fields)de.push((0,K.nE)(le));return{objectIdField:O.objectIdField,globalIdField:null!==(w=O.globalIdField)&&void 0!==w?w:"",geometryType:void 0===K.yT[O.geometryType]?"":K.yT[O.geometryType],fields:de}}function ft(m,w){var O;return"system"===m&&(m=ce.lY.systemTimeZoneCanonicalName),{version:Kt,engineVersion:E.rE,timeZone:m,spatialReference:w instanceof T.A?w.toJSON():w,application:null!==(O=B.A.applicationName)&&void 0!==O?O:"",engine:"web",locale:(0,k.JK)()}}const Kt="1.24",Cn=Object.freeze(Object.defineProperty({__proto__:null,ImplicitResultE:X,ReturnResultE:y,absRound:Et,arcadeVersion:Kt,autoCastArrayOfPointsToMultiPoint:Ke,autoCastArrayOfPointsToPolygon:Pt,autoCastArrayOfPointsToPolyline:gt,autoCastFeatureToGeometry:$t,binaryOperator:S,breakResult:me,castAsJson:b,castAsJsonAsync:F,continueResult:Ae,defaultExecutingContext:ft,defaultTimeZone:fe,defaultUndefined:H,equalityTest:Bt,featureDomainCodeLookup:Ut,featureDomainValueLookup:he,featureFullDomain:Pe,featureSchema:Xt,featureSubtypes:qe,fixNullGeometry:Tt,fixSpatialReference:wt,formatDate:Ct,formatNumber:_t,generateUUID:kt,getDomain:bt,getDomainCode:It,getDomainValue:St,getType:ue,greaterThanLessThan:Ft,implicitResult:R,isArray:be,isBoolean:ye,isDate:_e,isDateOnly:Re,isDictionary:Ne,isFeature:Be,isFeatureSet:At,isFeatureSetCollection:lt,isFunctionParameter:ne,isGeometry:Ge,isImmutableArray:Ze,isInteger:Ce,isJsDate:pt,isKnowledgeGraph:Xe,isModule:U,isNumber:Fe,isObject:ze,isSimpleType:V,isString:q,isSubtypeGrouplayer:Ue,isSubtypeSublayer:ge,isTime:$e,multiReplace:W,parseGeometryFromJson:function Dt(m,w){const O=JSON.parse(m);return O&&!O.spatialReference&&(O.spatialReference=w),(0,g.rS)(O)},pcCheck:ht,returnResult:oe,stableStringify:Rt,standardiseDateFormat:Mt,tick:C,toBoolean:He,toDate:ke,toNumber:Ie,toNumberArray:Nt,toString:rt,toStringArray:Lt,toStringExplicit:it,voidOperation:ie},Symbol.toStringTag,{value:"Module"}))},24098:(Oe,ve,_)=>{_.d(ve,{GB:()=>B,Qo:()=>ce,Y4:()=>E});var $=_(44549);class B{}function E(u){return u instanceof $.bo?u===B.instance:"unknown"===(null==u?void 0:u.toString().toLowerCase())}function ce(u){return E(u)?B.instance:u}B.instance=new $.oh("Etc/UTC")},73258:(Oe,ve,_)=>{_.d(ve,{A:()=>ee});var $=_(5922),B=_(71065),E=_(35150),ce=_(60797),x=_(24098),u=_(86300),Y=_(22639),L=_(44549);const N=new Map;class ee{static fromJSON(f){return new ee(f.fields,f.timeZoneByFieldName)}static fromLayer(f){var D;return new ee(null!==(D=f.fields)&&void 0!==D?D:[],v(f))}static fromLayerJSON(f){var D;return new ee(null!==(D=f.fields)&&void 0!==D?D:[],v(f))}constructor(f=[],D){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=f||[],this._timeZoneByFieldName=D?new Map(D):null;const T=[];for(const g of this.fields){const k=null==g?void 0:g.name,Q=j(k);if(k&&Q){var c;const y=ae(k);this._fieldsMap.set(k,g),this._fieldsMap.set(y,g),this._normalizedFieldsMap.set(Q,g),T.push(`${y}:${g.type}:${null===(c=this._timeZoneByFieldName)||void 0===c?void 0:c.get(k)}`),(0,u.vE)(g)?(this.dateFields.push(g),this._dateFieldsSet.add(g)):(0,u.WA)(g)&&(this._numericFieldsSet.add(g),this.numericFields.push(g)),(0,u.te)(g)||(0,u.Xz)(g)||(g.editable=null==g.editable||!!g.editable,g.nullable=null==g.nullable||!!g.nullable)}}T.sort(),this.uid=T.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const f of this.fields)(0,u.te)(f)||(0,u.Xz)(f)||f.nullable||void 0!==(0,u.lD)(f)||this._requiredFields.push(f)}return this._requiredFields}equals(f){return this.uid===(null==f?void 0:f.uid)}has(f){return null!=this.get(f)}get(f){var D;if(!f)return;let T=this._fieldsMap.get(f);return T||(T=null!==(D=this._fieldsMap.get(ae(f)))&&void 0!==D?D:this._normalizedFieldsMap.get(j(f)),T&&this._fieldsMap.set(f,T),T)}getTimeZone(f){const D=this.get(f&&"string"!=typeof f?f.name:f);return D?this._timeZoneByFieldName?this._timeZoneByFieldName.get(D.name):"date"===D.type||"esriFieldTypeDate"===D.type?(E.A.getLogger("esri.layers.support.FieldsIndex").error(new $.A("getTimeZone:no-timezone-information",`no time zone information for field '${D.name}'`)),Y.n$):te.has(D.type)?Y.L5:null:null}getLuxonTimeZone(f){const D=this.getTimeZone(f);return D?D===Y.L5?x.GB.instance:D===Y.n$?L.mQ.utcInstance:(0,ce.tE)(N,D,()=>L.oh.create(D)):null}isDateField(f){return this._dateFieldsSet.has(this.get(f))}isTimeOnlyField(f){return(0,u.OH)(this.get(f))}isNumericField(f){return this._numericFieldsSet.has(this.get(f))}normalizeFieldName(f){var D,T;return null!==(D=null===(T=this.get(f))||void 0===T?void 0:T.name)&&void 0!==D?D:void 0}toJSON(){return{fields:this.fields.map(f=>(0,B.Wj)(f)?f.toJSON():f),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function ae(p){return p.trim().toLowerCase()}function j(p){var f,D;return null!==(f=null===(D=(0,u.rS)(p))||void 0===D?void 0:D.toLowerCase())&&void 0!==f?f:""}const te=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function v(p){var f,D,T,c,g,k,Q;const y=new Map;if(!p.fields)return y;const X=!0===p.datesInUnknownTimezone,{timeInfo:R,editFieldsInfo:oe}=p,ie=null!==(f=R?"startField"in R?R.startField:R.startTimeField:"")&&void 0!==f?f:"",me=null!==(D=R?"endField"in R?R.endField:R.endTimeField:"")&&void 0!==D?D:"",Ae=function K(p){return"dateFieldsTimeZone"in p}(p)?null!==(T=p.dateFieldsTimeZone)&&void 0!==T?T:null:p.dateFieldsTimeReference?(0,Y.ZS)(p.dateFieldsTimeReference):null,W=oe?function l(p){return"timeZone"in p}(oe)?null!==(c=oe.timeZone)&&void 0!==c?c:Ae:oe.dateFieldsTimeReference?(0,Y.ZS)(oe.dateFieldsTimeReference):null!=Ae?Ae:Y.n$:null,ne=R?function z(p){return"timeZone"in p}(R)?null!==(g=R.timeZone)&&void 0!==g?g:Ae:R.timeReference?(0,Y.ZS)(R.timeReference):Ae:null,U=new Map([[ae(null!==(k=null==oe?void 0:oe.creationDateField)&&void 0!==k?k:""),W],[ae(null!==(Q=null==oe?void 0:oe.editDateField)&&void 0!==Q?Q:""),W],[ae(ie),ne],[ae(me),ne]]);for(const{name:H,type:ue}of p.fields)if(te.has(ue))y.set(H,Y.L5);else if("date"!==ue&&"esriFieldTypeDate"!==ue)y.set(H,null);else if(X)y.set(H,Y.L5);else{var V;const q=null!==(V=U.get(ae(null!=H?H:"")))&&void 0!==V?V:Ae;y.set(H,q)}return y}},19176:(Oe,ve,_)=>{_.r(ve),_.d(ve,{Dictionary:()=>x.A,arcade:()=>Jr,arcadeFeature:()=>Y.A,convertFeatureLayerToFeatureSet:()=>mi,convertJsonToArcade:()=>Di,convertMapToFeatureSetCollection:()=>pi,convertServiceUrlToWorkspace:()=>hi,createExecContext:()=>ri,createFeature:()=>ii,createFunction:()=>ni,createSyntaxTree:()=>zt,dependsOnView:()=>ci,enableFeatureSetOperations:()=>Ai,enableGeometryOperations:()=>yi,evalSyntaxTree:()=>ai,executeAsyncFunction:()=>ui,executeFunction:()=>si,extractFieldNames:()=>li,getArcadeType:()=>ti,getViewInfo:()=>fi,hasGeometryFunctions:()=>Fi,hasGeometryOperations:()=>Ti,hasVariable:()=>di,loadScriptDependencies:()=>gi,updateExecContext:()=>oi}),_(21152);var B=_(10467),E=_(50279),ce=_(48504),x=_(53787),u=_(55279),Y=_(63145),L=_(61552),l=_(42686),z=_(63829),K=_(78464),N=_(98745),ee=_(39521),ae=_(77469),j=_(73446),te=_(29417),v=_(55316),p=_(82663),f=_(28067),D=_(68643),T=_(21870),c=_(13303),g=_(55861),k=_(93615),Q=_(61320);let y=null;function X(o){return 0===ae.rE.indexOf("4.")?g.A.fromExtent(o):new g.A({spatialReference:o.spatialReference,rings:[[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]]]})}function oe(o,i){if("polygon"!==o.type&&"polyline"!==o.type&&"extent"!==o.type)return 0;let a=1;(o.spatialReference.vcsWkid||o.spatialReference.latestVcsWkid)&&(a=(0,te.G9)(o.spatialReference)/(0,p.GA)(o.spatialReference));let s=0;if("polyline"===o.type)for(const A of o.paths)for(let M=1;M<A.length;M++)s+=(0,te.BM)(A[M],A[M-1],a);else if("polygon"===o.type)for(const A of o.rings){for(let M=1;M<A.length;M++)s+=(0,te.BM)(A[M],A[M-1],a);(A[0][0]!==A[A.length-1][0]||A[0][1]!==A[A.length-1][1]||void 0!==A[0][2]&&A[0][2]!==A[A.length-1][2])&&(s+=(0,te.BM)(A[0],A[A.length-1],a))}else"extent"===o.type&&(s+=2*(0,te.BM)([o.xmin,o.ymin,0],[o.xmax,o.ymin,0],a),s+=2*(0,te.BM)([o.xmin,o.ymin,0],[o.xmin,o.ymax,0],a),s*=2,s+=4*Math.abs((0,l.K)(o.zmax,0)*a-(0,l.K)(o.zmin,0)*a));const d=new k.A({hasZ:!1,hasM:!1,spatialReference:o.spatialReference,paths:[[0,0],[0,s]]});return y.planarLength(d,i)}function ie(o,i){function a(s,d,A){if((0,l.H)(A,2,2,s,d),!(A[0]instanceof D.A&&A[1]instanceof D.A||A[0]instanceof D.A&&null===A[1]||A[1]instanceof D.A&&null===A[0]||null===A[0]&&null===A[1]))throw new u.D$(s,u.TX.InvalidParameter,d)}o.disjoint=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null===h[0]||null===h[1]||y.disjoint(h[0],h[1])))},o.intersects=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null!==h[1]&&y.intersects(h[0],h[1])))},o.touches=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null!==h[1]&&y.touches(h[0],h[1])))},o.crosses=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null!==h[1]&&y.crosses(h[0],h[1])))},o.within=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null!==h[1]&&y.within(h[0],h[1])))},o.contains=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null!==h[1]&&y.contains(h[0],h[1])))},o.overlaps=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null!==h[1]&&y.overlaps(h[0],h[1])))},o.equals=function(s,d){return i(s,d,(A,M,h)=>((0,l.H)(h,2,2,s,d),h[0]===h[1]||(h[0]instanceof D.A&&h[1]instanceof D.A?y.equals(h[0],h[1]):((0,l.k)(h[0])&&(0,l.k)(h[1])||(0,l.n)(h[0])&&(0,l.n)(h[1])||!(!(0,l.m)(h[0])||!(0,l.m)(h[1])))&&h[0].equals(h[1]))))},o.relate=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,3,3,s,d),h[0]instanceof D.A&&h[1]instanceof D.A)return y.relate(h[0],h[1],(0,l.j)(h[2]));if(h[0]instanceof D.A&&null===h[1]||h[1]instanceof D.A&&null===h[0]||null===h[0]&&null===h[1])return!1;throw new u.D$(s,u.TX.InvalidParameter,d)})},o.intersection=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null===h[0]||null===h[1]?null:y.intersect(h[0],h[1])))},o.union=function(s,d){return i(s,d,(A,M,h)=>{const P=[];if(0===(h=(0,l.I)(h)).length)throw new u.D$(s,u.TX.WrongNumberOfParameters,d);if(1===h.length)if((0,l.o)(h[0])){const re=(0,l.I)(h[0]);for(let De=0;De<re.length;De++)if(null!==re[De]){if(!(re[De]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);P.push(re[De])}}else{if(!(0,l.q)(h[0])){if(h[0]instanceof D.A)return(0,l.x)((0,j.Yq)(h[0]),s.spatialReference);if(null===h[0])return null;throw new u.D$(s,u.TX.InvalidParameter,d)}{const re=(0,l.I)(h[0].toArray());for(let De=0;De<re.length;De++)if(null!==re[De]){if(!(re[De]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);P.push(re[De])}}}else for(let re=0;re<h.length;re++)if(null!==h[re]){if(!(h[re]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);P.push(h[re])}return 0===P.length?null:y.union(P)})},o.difference=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null!==h[0]&&null===h[1]?(0,j.Yq)(h[0]):null===h[0]?null:y.difference(h[0],h[1])))},o.symmetricdifference=function(s,d){return i(s,d,(A,M,h)=>(h=(0,l.I)(h),a(s,d,h),null===h[0]&&null===h[1]?null:null===h[0]?(0,j.Yq)(h[1]):null===h[1]?(0,j.Yq)(h[0]):y.symmetricDifference(h[0],h[1])))},o.clip=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),!(h[1]instanceof f.A)&&null!==h[1])throw new u.D$(s,u.TX.InvalidParameter,d);if(null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return null===h[1]?null:y.clip(h[0],h[1])})},o.cut=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),!(h[1]instanceof k.A)&&null!==h[1])throw new u.D$(s,u.TX.InvalidParameter,d);if(null===h[0])return[];if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return null===h[1]?[(0,j.Yq)(h[0])]:y.cut(h[0],h[1])})},o.area=function(s,d){return i(s,d,(A,M,h)=>{if((0,l.H)(h,1,2,s,d),null===(h=(0,l.I)(h))[0])return 0;if((0,l.o)(h[0])||(0,l.q)(h[0])){const P=(0,l.J)(h[0],s.spatialReference);return null===P?0:y.planarArea(P,(0,j.uf)((0,l.K)(h[1],-1)))}if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.planarArea(h[0],(0,j.uf)((0,l.K)(h[1],-1)))})},o.areageodetic=function(s,d){return i(s,d,(A,M,h)=>{if((0,l.H)(h,1,2,s,d),null===(h=(0,l.I)(h))[0])return 0;if((0,l.o)(h[0])||(0,l.q)(h[0])){const P=(0,l.J)(h[0],s.spatialReference);return null===P?0:y.geodesicArea(P,(0,j.uf)((0,l.K)(h[1],-1)))}if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.geodesicArea(h[0],(0,j.uf)((0,l.K)(h[1],-1)))})},o.length=function(s,d){return i(s,d,(A,M,h)=>{if((0,l.H)(h,1,2,s,d),null===(h=(0,l.I)(h))[0])return 0;if((0,l.o)(h[0])||(0,l.q)(h[0])){const P=(0,l.L)(h[0],s.spatialReference);return null===P?0:y.planarLength(P,(0,j.SQ)((0,l.K)(h[1],-1)))}if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.planarLength(h[0],(0,j.SQ)((0,l.K)(h[1],-1)))})},o.length3d=function(s,d){return i(s,d,(A,M,h)=>{if((0,l.H)(h,1,2,s,d),null===(h=(0,l.I)(h))[0])return 0;if((0,l.o)(h[0])||(0,l.q)(h[0])){const P=(0,l.L)(h[0],s.spatialReference);return null===P?0:!0===P.hasZ?oe(P,(0,j.SQ)((0,l.K)(h[1],-1))):y.planarLength(P,(0,j.SQ)((0,l.K)(h[1],-1)))}if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return!0===h[0].hasZ?oe(h[0],(0,j.SQ)((0,l.K)(h[1],-1))):y.planarLength(h[0],(0,j.SQ)((0,l.K)(h[1],-1)))})},o.lengthgeodetic=function(s,d){return i(s,d,(A,M,h)=>{if((0,l.H)(h,1,2,s,d),null===(h=(0,l.I)(h))[0])return 0;if((0,l.o)(h[0])||(0,l.q)(h[0])){const P=(0,l.L)(h[0],s.spatialReference);return null===P?0:y.geodesicLength(P,(0,j.SQ)((0,l.K)(h[1],-1)))}if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.geodesicLength(h[0],(0,j.SQ)((0,l.K)(h[1],-1)))})},o.distance=function(s,d){return i(s,d,(A,M,h)=>{h=(0,l.I)(h),(0,l.H)(h,2,3,s,d);let P=h[0];((0,l.o)(h[0])||(0,l.q)(h[0]))&&(P=(0,l.M)(h[0],s.spatialReference));let re=h[1];if(((0,l.o)(h[1])||(0,l.q)(h[1]))&&(re=(0,l.M)(h[1],s.spatialReference)),!(P instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(re instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.distance(P,re,(0,j.SQ)((0,l.K)(h[2],-1)))})},o.distancegeodetic=function(s,d){return i(s,d,(A,M,h)=>{h=(0,l.I)(h),(0,l.H)(h,2,3,s,d);const P=h[0],re=h[1];if(!(P instanceof c.A))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(re instanceof c.A))throw new u.D$(s,u.TX.InvalidParameter,d);const De=new k.A({paths:[],spatialReference:P.spatialReference});return De.addPath([P,re]),y.geodesicLength(De,(0,j.SQ)((0,l.K)(h[2],-1)))})},o.densify=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,3,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);const P=(0,l.g)(h[1]);if(isNaN(P))throw new u.D$(s,u.TX.InvalidParameter,d);if(P<=0)throw new u.D$(s,u.TX.InvalidParameter,d);return h[0]instanceof g.A||h[0]instanceof k.A?y.densify(h[0],P,(0,j.SQ)((0,l.K)(h[2],-1))):h[0]instanceof f.A?y.densify(X(h[0]),P,(0,j.SQ)((0,l.K)(h[2],-1))):h[0]})},o.densifygeodetic=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,3,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);const P=(0,l.g)(h[1]);if(isNaN(P))throw new u.D$(s,u.TX.InvalidParameter,d);if(P<=0)throw new u.D$(s,u.TX.InvalidParameter,d);return h[0]instanceof g.A||h[0]instanceof k.A?y.geodesicDensify(h[0],P,(0,j.SQ)((0,l.K)(h[2],-1))):h[0]instanceof f.A?y.geodesicDensify(X(h[0]),P,(0,j.SQ)((0,l.K)(h[2],-1))):h[0]})},o.generalize=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,4,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);const P=(0,l.g)(h[1]);if(isNaN(P))throw new u.D$(s,u.TX.InvalidParameter,d);return y.generalize(h[0],P,(0,l.h)((0,l.K)(h[2],!0)),(0,j.SQ)((0,l.K)(h[3],-1)))})},o.buffer=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,3,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);const P=(0,l.g)(h[1]);if(isNaN(P))throw new u.D$(s,u.TX.InvalidParameter,d);return 0===P?(0,j.Yq)(h[0]):y.buffer(h[0],P,(0,j.SQ)((0,l.K)(h[2],-1)))})},o.buffergeodetic=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,3,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);const P=(0,l.g)(h[1]);if(isNaN(P))throw new u.D$(s,u.TX.InvalidParameter,d);return 0===P?(0,j.Yq)(h[0]):y.geodesicBuffer(h[0],P,(0,j.SQ)((0,l.K)(h[2],-1)))})},o.offset=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,6,s,d),null===h[0])return null;if(!(h[0]instanceof g.A||h[0]instanceof k.A))throw new u.D$(s,u.TX.InvalidParameter,d);const P=(0,l.g)(h[1]);if(isNaN(P))throw new u.D$(s,u.TX.InvalidParameter,d);const re=(0,l.g)((0,l.K)(h[4],10));if(isNaN(re))throw new u.D$(s,u.TX.InvalidParameter,d);const De=(0,l.g)((0,l.K)(h[5],0));if(isNaN(De))throw new u.D$(s,u.TX.InvalidParameter,d);return y.offset(h[0],P,(0,j.SQ)((0,l.K)(h[2],-1)),(0,l.j)((0,l.K)(h[3],"round")).toLowerCase(),re,De)})},o.rotate=function(s,d){return i(s,d,(A,M,h)=>{h=(0,l.I)(h),(0,l.H)(h,2,3,s,d);let P=h[0];if(null===P)return null;if(!(P instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);P instanceof f.A&&(P=g.A.fromExtent(P));const re=(0,l.g)(h[1]);if(isNaN(re))throw new u.D$(s,u.TX.InvalidParameter,d);const De=(0,l.K)(h[2],null);if(null===De)return y.rotate(P,re);if(De instanceof c.A)return y.rotate(P,re,De);throw new u.D$(s,u.TX.InvalidParameter,d)})},o.centroid=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,1,1,s,d),null===h[0])return null;let P=h[0];if(((0,l.o)(h[0])||(0,l.q)(h[0]))&&(P=(0,l.M)(h[0],s.spatialReference)),null===P)return null;if(!(P instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return P instanceof c.A?(0,l.x)((0,j.Yq)(h[0]),s.spatialReference):P instanceof g.A?P.centroid:P instanceof k.A?(0,te.tI)(P):P instanceof T.A?(0,te.e0)(P):P instanceof f.A?P.center:null})},o.measuretocoordinate=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),null===h[0])return null;let P=h[0];if(((0,l.o)(h[0])||(0,l.q)(h[0]))&&(P=(0,l.L)(h[0],s.spatialReference)),null===P)return null;if(!(P instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(P instanceof k.A))throw new u.D$(s,u.TX.InvalidParameter,d);if((0,l.b)(!1===h[1]))throw new u.D$(s,u.TX.InvalidParameter,d);const re=(0,v.EP)(P,h[1]);return re?x.A.convertObjectToArcadeDictionary(re,(0,l.N)(s),!1,!0):null})},o.pointtocoordinate=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),null===h[0])return null;let P=h[0];if(((0,l.o)(h[0])||(0,l.q)(h[0]))&&(P=(0,l.L)(h[0],s.spatialReference)),null===P)return null;if(!(P instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(P instanceof k.A))throw new u.D$(s,u.TX.InvalidParameter,d);const re=h[1];if(null===re)return null;if(!(re instanceof c.A))throw new u.D$(s,u.TX.InvalidParameter,d);if((0,l.b)(!1===h[1]))throw new u.D$(s,u.TX.InvalidParameter,d);const De=(0,v.sO)(P,re);return De?x.A.convertObjectToArcadeDictionary(De,(0,l.N)(s),!1,!0):null})},o.distancetocoordinate=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),null===h[0])return null;let P=h[0];if(((0,l.o)(h[0])||(0,l.q)(h[0]))&&(P=(0,l.L)(h[0],s.spatialReference)),null===P)return null;if(!(P instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(P instanceof k.A))throw new u.D$(s,u.TX.InvalidParameter,d);if((0,l.b)(!1===h[1]))throw new u.D$(s,u.TX.InvalidParameter,d);const re=(0,v.du)(P,h[1]);return re?x.A.convertObjectToArcadeDictionary(re,(0,l.N)(s),!1,!0):null})},o.multiparttosinglepart=function(s,d){return i(s,d,(A,M,h)=>{h=(0,l.I)(h),(0,l.H)(h,1,1,s,d);const P=[];if(null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);if(h[0]instanceof c.A)return[(0,l.x)((0,j.Yq)(h[0]),s.spatialReference)];if(h[0]instanceof f.A)return[(0,l.x)((0,j.Yq)(h[0]),s.spatialReference)];const re=y.simplify(h[0]);if(re instanceof g.A){const De=[],Le=[];for(let Te=0;Te<re.rings.length;Te++)if(re.isClockwise(re.rings[Te])){const Ee=(0,Q.rS)({rings:[re.rings[Te]],hasZ:!0===re.hasZ,hasM:!0===re.hasM,spatialReference:re.spatialReference.toJSON()});De.push(Ee)}else Le.push({ring:re.rings[Te],pt:re.getPoint(Te,0)});for(let Te=0;Te<Le.length;Te++)for(let Ee=0;Ee<De.length;Ee++)if(De[Ee].contains(Le[Te].pt)){De[Ee].addRing(Le[Te].ring);break}return De}if(re instanceof k.A){const De=[];for(let Le=0;Le<re.paths.length;Le++){const Te=(0,Q.rS)({paths:[re.paths[Le]],hasZ:!0===re.hasZ,hasM:!0===re.hasM,spatialReference:re.spatialReference.toJSON()});De.push(Te)}return De}if(h[0]instanceof T.A){const De=(0,l.x)((0,j.Yq)(h[0]),s.spatialReference);for(let Le=0;Le<De.points.length;Le++)P.push(De.getPoint(Le));return P}return null})},o.issimple=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,1,1,s,d),null===h[0])return!0;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.isSimple(h[0])})},o.simplify=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,1,1,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.simplify(h[0])})},o.convexhull=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,1,1,s,d),null===h[0])return null;if(!(h[0]instanceof D.A))throw new u.D$(s,u.TX.InvalidParameter,d);return y.convexHull(h[0])})},o.nearestcoordinate=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),!(h[0]instanceof D.A||null===h[0]))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(h[1]instanceof c.A||null===h[1]))throw new u.D$(s,u.TX.InvalidParameter,d);if(null===h[0]||null===h[1])return null;const P=y.nearestCoordinate(h[0],h[1]);return null===P||P.isEmpty?null:x.A.convertObjectToArcadeDictionary({coordinate:P.coordinate,distance:P.distance,sideOfLine:0===P.distance?"straddle":P.isRightSide?"right":"left"},(0,l.N)(s),!1,!0)})},o.nearestvertex=function(s,d){return i(s,d,(A,M,h)=>{if(h=(0,l.I)(h),(0,l.H)(h,2,2,s,d),!(h[0]instanceof D.A||null===h[0]))throw new u.D$(s,u.TX.InvalidParameter,d);if(!(h[1]instanceof c.A||null===h[1]))throw new u.D$(s,u.TX.InvalidParameter,d);if(null===h[0]||null===h[1])return null;const P=y.nearestVertex(h[0],h[1]);return null===P||P.isEmpty?null:x.A.convertObjectToArcadeDictionary({coordinate:P.coordinate,distance:P.distance,sideOfLine:0===P.distance?"straddle":P.isRightSide?"right":"left"},(0,l.N)(s),!1,!0)})}}var me=_(82050),Ae=_(35154),W=_(61828),ne=_(56492),U=_(32034);function ue(o,i,a){try{return a(o,null,i.arguments)}catch(s){throw s}}function q(o,i){try{switch(i.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function Et(o,i){let a=null===i.init?null:q(o,i.init);a===l.B&&(a=null);const s=i.id.name.toLowerCase();if(ze(s),null!==o.localScope){if(void 0!==o.localScope[s])return"lscope['"+s+"']="+a+"; ";if(void 0!==o.localScope._SymbolsMap[s])return"lscope['"+o.localScope._SymbolsMap[s]+"']="+a+"; ";{const A=Ve(o);return o.localScope._SymbolsMap[s]=A,o.mangleMap[s]=A,"lscope['"+A+"']="+a+"; "}}if(void 0!==o.globalScope[s])return"gscope['"+s+"']="+a+"; ";if(void 0!==o.globalScope._SymbolsMap[s])return"gscope['"+o.globalScope._SymbolsMap[s]+"']="+a+"; ";if(o.undeclaredGlobalsInFunctions.has(s)){const A=o.undeclaredGlobalsInFunctions.get(s).manglename;return o.globalScope._SymbolsMap[s]=A,o.mangleMap[s]=A,o.undeclaredGlobalsInFunctions.delete(s),"gscope[lang.setAssig('"+A+"', runtimeCtx)]="+a+"; "}const d=Ve(o);return o.globalScope._SymbolsMap[s]=d,o.mangleMap[s]=d,"gscope['"+d+"']="+a+"; "}(o,i);case"VariableDeclaration":return function ht(o,i){const a=[];for(let s=0;s<i.declarations.length;s++)a.push(q(o,i.declarations[s]));return a.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(o,i);case"BlockStatement":case"Program":return Ze(o,i);case"FunctionDeclaration":return function pt(o,i){const a=i.id.name.toLowerCase();ze(a);let s="",d=!1;void 0!==o.globalScope[a]?s=a:void 0!==o.globalScope._SymbolsMap[a]?s=o.globalScope._SymbolsMap[a]:o.undeclaredGlobalsInFunctions.has(a)?(s=o.undeclaredGlobalsInFunctions.get(a).manglename,o.globalScope._SymbolsMap[a]=s,o.mangleMap[a]=s,o.undeclaredGlobalsInFunctions.delete(a),d=!0):(s=Ve(o),o.globalScope._SymbolsMap[a]=s,o.mangleMap[a]=s);const A={isAsync:o.isAsync,console:o.console,exports:o.exports,undeclaredGlobalsInFunctions:o.undeclaredGlobalsInFunctions,customfunctions:o.customfunctions,moduleFactory:o.moduleFactory,moduleFactoryMap:o.moduleFactoryMap,libraryResolver:o.libraryResolver,lrucache:o.lrucache,interceptor:o.interceptor,services:o.services,symbols:o.symbols,mangleMap:o.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:o.depthCounter,globalScope:o.globalScope};let M="new lang.UserDefinedCompiledFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let h=0;h<i.params.length;h++){const P=i.params[h].name.toLowerCase();ze(P);const re=Ve(o);A.localScope._SymbolsMap[P]=re,A.mangleMap[P]=re,M+="lscope['"+re+"']=arguments["+h.toString()+"];\n"}return!0===o.isAsync?(M+="return lang.__awaiter(this, void 0, void 0, function* () {\n",M+=Ze(A,i.body)+"\n return lastStatement; ",M+="});  }",M+=", runtimeCtx),"+i.params.length+")",M+="\n lastStatement = lc.voidOperation; \n"):(M+=Ze(A,i.body)+"\n return lastStatement; }, runtimeCtx),"+i.params.length+")",M+="\n lastStatement = lc.voidOperation; \n"),d?"gscope[lang.setAssig('"+s+"', runtimeCtx)]="+M:"gscope['"+s+"']="+M}(o,i);case"ImportDeclaration":return function Re(o,i){var a,s;const d=i.specifiers[0].local.name.toLowerCase();ze(d);const A=null===(a=o.libraryResolver)||void 0===a?void 0:a.loadLibrary(d),M=Ve(o);void 0===o.moduleFactory[A.uri]&&(o.moduleFactory[A.uri]=function S(o,i,a=!1){var s;const d={isAsync:a,moduleFactory:i.moduleFactory,moduleFactoryMap:{},libraryResolver:new ce.a(null,o.loadedModules),globalScope:St(i.vars,a?Dt:ke,i.customfunctions),customfunctions:i.customfunctions,localScope:null,mangleMap:{},undeclaredGlobalsInFunctions:new Map,depthCounter:{depth:1},exports:{},console:gt,lrucache:i.lrucache,timeZone:null!==(s=i.timeZone)&&void 0!==s?s:null,interceptor:i.interceptor,services:i.services,symbols:{symbolCounter:0}};let A=q(d,o);""===A&&(A="lc.voidOperation; ");let M="";M=a?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+A+"\n return lastStatement; }); } \n yield mainBody(); \n return this.prepareModule(runtimeCtx); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+A+"\n return lastStatement; } \n mainBody(); \n return this.prepareModule(runtimeCtx); ";const h=d.moduleFactory,P=d.moduleFactoryMap,re=d.exports,De={};for(const Te in re)De[Te]=void 0!==d.mangleMap[Te]?d.mangleMap[Te]:Te;const Le={lc:l.y,lang:Pt,mangles:d.mangleMap,prepareModule:Te=>new C(Te),prepare(Te,Ee){var at,st;let vt=Te.spatialReference;null==vt&&(vt=new U.A({wkid:102100}));const Gt=It(Te.vars,Te.customfunctions,Ee,Te.timeZone);return{localStack:[],isAsync:Ee,exports:re,exportmangle:De,gdefs:{},moduleFactory:h,moduleFactoryMap:P,moduleSingletons:Te.moduleSingletons,mangleMap:this.mangles,spatialReference:vt,globalScope:Gt,abortSignal:null==Te.abortSignal?{aborted:!1}:Te.abortSignal,localScope:null,services:Te.services,console:null!==(at=Te.console)&&void 0!==at?at:gt,lrucache:Te.lrucache,timeZone:null!==(st=Te.timeZone)&&void 0!==st?st:null,interceptor:Te.interceptor,symbols:{symbolCounter:0},depthCounter:Te.depthCounter}}};return new Function("context","spatialReference",M).bind(Le)}(A.syntax,{interceptor:o.interceptor,services:o.services,moduleFactory:o.moduleFactory,lrucache:o.lrucache,timeZone:null!==(s=o.timeZone)&&void 0!==s?s:null,libraryResolver:o.libraryResolver,customfunctions:o.customfunctions,vars:{}},o.isAsync)),o.moduleFactoryMap[M]=A.uri;let h="";if(h=o.isAsync?"(yield lang.loadModule('"+M+"', runtimeCtx) ); ":"lang.loadModule('"+M+"', runtimeCtx); ",void 0!==o.globalScope[d])return"gscope['"+d+"']="+h;if(void 0!==o.globalScope._SymbolsMap[d])return"gscope['"+o.globalScope._SymbolsMap[d]+"']="+h;let P="";return o.undeclaredGlobalsInFunctions.has(d)?(P=o.undeclaredGlobalsInFunctions.get(d).manglename,o.undeclaredGlobalsInFunctions.delete(d)):P=Ve(o),o.globalScope._SymbolsMap[d]=P,o.mangleMap[d]=P,"gscope[lang.setAssig('"+P+"', runtimeCtx)]="+h}(o,i);case"ExportNamedDeclaration":return function $e(o,i){const a=q(o,i.declaration);if("FunctionDeclaration"===i.declaration.type)o.exports[i.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===i.declaration.type)for(const s of i.declaration.declarations)o.exports[s.id.name.toLowerCase()]="variable";return a}(o,i);case"ReturnStatement":return function _e(o,i){return null===i.argument?"return lc.voidOperation":"return "+q(o,i.argument)}(o,i);case"IfStatement":return Xe(o,i);case"ExpressionStatement":return function Ne(o,i){return"AssignmentExpression"===i.expression.type?"lastStatement = lc.voidOperation; "+q(o,i.expression)+"; \n ":"lastStatement = "+q(o,i.expression)+"; "}(o,i);case"AssignmentExpression":return function At(o,i){const a=q(o,i.right);let s=null,d="";if("MemberExpression"===i.left.type)return s=q(o,i.left.object),!0===i.left.computed?d=q(o,i.left.property):(d="'"+i.left.property.name+"'",ze(i.left.property.name)),"lang.assignmember("+s+","+d+",'"+i.operator+"',"+a+")";if(s=i.left.name.toLowerCase(),ze(s),null!==o.localScope){if(void 0!==o.localScope[s])return"lscope['"+s+"']=lang.assign("+a+",'"+i.operator+"', lscope['"+s+"'])";if(void 0!==o.localScope._SymbolsMap[s])return"lscope['"+o.localScope._SymbolsMap[s]+"']=lang.assign("+a+",'"+i.operator+"', lscope['"+o.localScope._SymbolsMap[s]+"'])"}if(void 0!==o.globalScope[s])return"gscope['"+s+"']=lang.assign("+a+",'"+i.operator+"', gscope['"+s+"'])";if(void 0!==o.globalScope._SymbolsMap[s])return"gscope['"+o.globalScope._SymbolsMap[s]+"']=lang.assign("+a+",'"+i.operator+"', gscope['"+o.globalScope._SymbolsMap[s]+"'])";if(null!==o.localScope){if(o.undeclaredGlobalsInFunctions.has(s))return"gscope[lang.chkAssig('"+o.undeclaredGlobalsInFunctions.get(s).manglename+"',runtimeCtx)]=lang.assign("+a+",'"+i.operator+"', gscope['"+o.undeclaredGlobalsInFunctions.get(s).manglename+"'])";const A={manglename:Ve(o),node:i.argument};return o.undeclaredGlobalsInFunctions.set(s,A),"gscope[lang.chkAssig('"+A.manglename+"',runtimeCtx)]=lang.assign("+a+",'"+i.operator+"', gscope['"+A.manglename+"'])"}throw new u.D$(o,u.TX.InvalidIdentifier,i)}(o,i);case"UpdateExpression":return function be(o,i){let a=null,s="";if("MemberExpression"===i.argument.type)return a=q(o,i.argument.object),!0===i.argument.computed?s=q(o,i.argument.property):(s="'"+i.argument.property.name+"'",ze(i.argument.property.name)),"lang.memberupdate("+a+","+s+",'"+i.operator+"',"+i.prefix+")";if(a=i.argument.name.toLowerCase(),ze(a),null!==o.localScope){if(void 0!==o.localScope[a])return"lang.update(lscope, '"+a+"','"+i.operator+"',"+i.prefix+")";if(void 0!==o.localScope._SymbolsMap[a])return"lang.update(lscope, '"+o.localScope._SymbolsMap[a]+"','"+i.operator+"',"+i.prefix+")"}if(void 0!==o.globalScope[a])return"lang.update(gscope, '"+a+"','"+i.operator+"',"+i.prefix+")";if(void 0!==o.globalScope._SymbolsMap[a])return"lang.update(gscope, '"+o.globalScope._SymbolsMap[a]+"','"+i.operator+"',"+i.prefix+")";if(null!==o.localScope){if(o.undeclaredGlobalsInFunctions.has(a))return"lang.update(gscope,lang.chkAssig( '"+o.undeclaredGlobalsInFunctions.get(a).manglename+"',runtimeCtx),'"+i.operator+"',"+i.prefix+")";const d={manglename:Ve(o),node:i.argument};return o.undeclaredGlobalsInFunctions.set(a,d),"lang.update(gscope, lang.chkAssig('"+d.manglename+"',runtimeCtx),'"+i.operator+"',"+i.prefix+")"}throw new u.D$(o,u.TX.InvalidIdentifier,i)}(o,i);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function Mt(o,i){try{const a=[];let s=0;for(const d of i.quasis)a.push(d.value?JSON.stringify(d.value.cooked):JSON.stringify("")),!1===d.tail&&(a.push(i.expressions[s]?"lang.castString(lang.aCheck("+q(o,i.expressions[s])+", 'TemplateLiteral'))":""),s++);return"(["+a.join(",")+"]).join('')"}catch(a){throw a}}(o,i);case"TemplateElement":return JSON.stringify(i.value?i.value.cooked:"");case"ForStatement":return function Ge(o,i){let a="lastStatement = lc.voidOperation; \n";null!==i.init&&(a+=q(o,i.init)+"; ");const s=He(o),d=He(o);return a+="var "+s+" = true; ",a+="\n do { ",null!==i.update&&(a+=" if ("+s+"===false) {\n "+q(o,i.update)+"  \n}\n "+s+"=false; \n"),null!==i.test&&(a+="var "+d+" = "+q(o,i.test)+"; ",a+="if ("+d+"===false) { break; } else if ("+d+"!==true) { lang.error('"+u.TX.BooleanConditionRequired+"');   }\n"),a+=q(o,i.body),null!==i.update&&(a+="\n "+q(o,i.update)),a+="\n"+s+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",a}(o,i);case"ForInStatement":return function Ce(o,i){const a=He(o),s=He(o),d=He(o);let A="var "+a+" = "+q(o,i.right)+";\n";"VariableDeclaration"===i.left.type&&(A+=q(o,i.left));let M="VariableDeclaration"===i.left.type?i.left.declarations[0].id.name:i.left.name;M=M.toLowerCase(),ze(M);let h="";null!==o.localScope&&(void 0!==o.localScope[M]?h="lscope['"+M+"']":void 0!==o.localScope._SymbolsMap[M]&&(h="lscope['"+o.localScope._SymbolsMap[M]+"']"));let P="";if(""===h)if(void 0!==o.globalScope[M])h="gscope['"+M+"']";else if(void 0!==o.globalScope._SymbolsMap[M])h="gscope['"+o.globalScope._SymbolsMap[M]+"']";else if(null!==o.localScope)if(o.undeclaredGlobalsInFunctions.has(M))h="gscope['"+o.undeclaredGlobalsInFunctions.get(M).manglename+"']",P=o.undeclaredGlobalsInFunctions.get(M).manglename;else{const re={manglename:Ve(o),node:i.left};o.undeclaredGlobalsInFunctions.set(M,re),h="gscope['"+re.manglename+"']",P=re.manglename}return P&&(A+="lang.chkAssig('"+P+"',runtimeCtx); \n"),A+="if ("+a+"===null) {  lastStatement = lc.voidOperation; }\n ",A+="else if (lc.isArray("+a+") || lc.isString("+a+")) {",A+="var "+s+"="+a+".length; \n",A+="for(var "+d+"=0; "+d+"<"+s+"; "+d+"++) {\n",A+=h+"="+d+";\n",A+=q(o,i.body),A+="\n}\n",A+=" lastStatement = lc.voidOperation; \n",A+=" \n}\n",A+="else if (lc.isImmutableArray("+a+")) {",A+="var "+s+"="+a+".length(); \n",A+="for(var "+d+"=0; "+d+"<"+s+"; "+d+"++) {\n",A+=h+"="+d+";\n",A+=q(o,i.body),A+="\n}\n",A+=" lastStatement = lc.voidOperation; \n",A+=" \n}\n",A+="else if (( "+a+" instanceof lang.Dictionary) || ( "+a+" instanceof lang.Feature)) {",A+="var "+s+"="+a+".keys(); \n",A+="for(var "+d+"=0; "+d+"<"+s+".length; "+d+"++) {\n",A+=h+"="+s+"["+d+"];\n",A+=q(o,i.body),A+="\n}\n",A+=" lastStatement = lc.voidOperation; \n",A+=" \n}\n",o.isAsync&&(A+="else if (lc.isFeatureSet("+a+")) {",A+="var "+s+"="+a+".iterator(runtimeCtx.abortSignal); \n",A+="for(var "+d+"=lang. graphicToFeature( yield "+s+".next(),"+a+", runtimeCtx); "+d+"!=null; "+d+"=lang. graphicToFeature( yield "+s+".next(),"+a+", runtimeCtx)) {\n",A+=h+"="+d+";\n",A+=q(o,i.body),A+="\n}\n",A+=" lastStatement = lc.voidOperation; \n",A+=" \n}\n"),A+="else { lastStatement = lc.voidOperation; } \n",A}(o,i);case"WhileStatement":return function Be(o,i){let a="lastStatement = lc.voidOperation; \n";const s=He(o);return a+=`\n  var ${s} = true;\n    do {\n      ${s} = ${q(o,i.test)};\n      if (${s}==false) {\n        break;\n      }\n      if (${s}!==true) {\n        lang.error('${u.TX.BooleanConditionRequired}');\n      }\n      ${q(o,i.body)}\n    }\n    while (${s} !== false);\n    lastStatement = lc.voidOperation;\n  `,a}(o,i);case"Identifier":return function Bt(o,i){try{const a=i.name.toLowerCase();if(ze(a),null!==o.localScope){if(void 0!==o.localScope[a])return"lscope['"+a+"']";if(void 0!==o.localScope._SymbolsMap[a])return"lscope['"+o.localScope._SymbolsMap[a]+"']"}if(void 0!==o.globalScope[a])return"gscope['"+a+"']";if(void 0!==o.globalScope._SymbolsMap[a])return"gscope['"+o.globalScope._SymbolsMap[a]+"']";if(null!==o.localScope){if(o.undeclaredGlobalsInFunctions.has(a))return"gscope[lang.chkAssig('"+o.undeclaredGlobalsInFunctions.get(a).manglename+"',runtimeCtx)]";const s={manglename:Ve(o),node:i.argument};return o.undeclaredGlobalsInFunctions.set(a,s),"gscope[lang.chkAssig('"+s.manglename+"',runtimeCtx)]"}throw new u.mT(o,u.TX.InvalidIdentifier,i)}catch(a){throw a}}(o,i);case"MemberExpression":return function kt(o,i){try{let a;return!0===i.computed?a=q(o,i.property):(a="'"+i.property.name+"'",ze(i.property.name)),"lang.member("+q(o,i.object)+","+a+")"}catch(a){throw a}}(o,i);case"Literal":return null==i.value?"null":JSON.stringify(i.value);case"CallExpression":return function rt(o,i){try{if("MemberExpression"===i.callee.type){let d;!0===i.callee.computed?d=q(o,i.callee.property):(d="'"+i.callee.property.name+"'",ze(i.callee.property.name));let A="[";for(let M=0;M<i.arguments.length;M++)M>0&&(A+=", "),A+=q(o,i.arguments[M]);return A+="]",o.isAsync?"(yield lang.callModuleFunction("+q(o,i.callee.object)+","+A+","+d+",runtimeCtx))":"lang.callModuleFunction("+q(o,i.callee.object)+","+A+","+d+",runtimeCtx)"}if("Identifier"!==i.callee.type)throw new u.mT(o,u.TX.FunctionNotFound,i);const a=i.callee.name.toLowerCase();if("iif"===a)return function Nt(o,i){try{if(3!==i.arguments.length)throw new u.mT(o,u.TX.WrongNumberOfParameters,i);const a=He(o);return`${o.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${a} = ${q(o,i.arguments[0])};\n\n        if (${a} === true) {\n          return  ${q(o,i.arguments[1])};\n        }\n        else if (${a} === false) {\n          return ${q(o,i.arguments[2])};\n        }\n        else {\n          lang.error('ExecutionErrorCodes.BooleanConditionRequired');\n        }\n      ${o.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(o,i);if("when"===a)return function ut(o,i){try{if(i.arguments.length<3)throw new u.mT(o,u.TX.WrongNumberOfParameters,i);if(i.arguments.length%2==0)throw new u.mT(o,u.TX.WrongNumberOfParameters,i);const a=He(o);let s="var ";for(let d=0;d<i.arguments.length-1;d+=2)s+=`${a} = lang.mustBoolean(${q(o,i.arguments[d])}, runtimeCtx);\n      if (${a} === true ) {\n        return ${q(o,i.arguments[d+1])}\n      }\n`;return`${o.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        ${s}\n        return ${q(o,i.arguments[i.arguments.length-1])}\n        ${o.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(o,i);if("defaultvalue"===a)return function it(o,i){try{if(i.arguments.length<2||i.arguments.length>3)throw new u.mT(o,u.TX.WrongNumberOfParameters,i);const a=He(o),s=He(o),d=He(o),A=He(o);return 3===i.arguments.length?`${o.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n      var ${a} = ${q(o,i.arguments[0])};\n      var ${s} = ${q(o,i.arguments[1])};\n      var ${d} = [];\n      if (lang.isImmutableArray(${s})) {\n        ${d} = ${s}.toArray();\n      } else if (lang.isArray(${s})) {\n        ${d} = ${s};\n      } else {\n        lang.error('${u.TX.InvalidParameter}');\n      }\n      if (${a} === null) {\n        return ${q(o,i.arguments[2])};\n      }\n      for (var ${A} of ${d}) {\n        if (lang.isFeature(${a})) {\n          if (lang.isString(${A}) === false) {\n            return ${q(o,i.arguments[2])};\n          }\n          if (!${a}.hasField(${A})) {\n            return ${q(o,i.arguments[2])};\n          }\n          ${a} = ${a}.field(${A});\n        } else if (lang.isDictionary(${a})) {\n          if (lang.isString(${A}) === false) {\n            return  ${q(o,i.arguments[2])};\n          }\n          if (!${a}.hasField(${A})) {\n            return  ${q(o,i.arguments[2])};\n          }\n          ${a} = ${a}.field(${A});\n        } else if (lang.isGeometry(${a})) {\n          if (lang.isString(${A}) === false) {\n            return ${q(o,i.arguments[2])};\n          }\n          ${a} = lang.geometryMember(${a}, ${A}, null, null, 2);\n          if (${a} === null) {\n            return  ${q(o,i.arguments[2])};\n          }\n          if (${a} && ${a}.keystate === "notfound") {\n            return  ${q(o,i.arguments[2])};\n          }\n        } else if (lang.isArray(${a})) {\n          if (lang.isNumber(${A}) === false) {\n            return  ${q(o,i.arguments[2])};\n          }\n          ${a} = ${a}[${A}];\n          if (${a} === null || ${a} === undefined) {\n            return ${q(o,i.arguments[2])};\n          }\n        } else if (lang.isImmutableArray(${a})) {\n          if (lang.isNumber(${A}) === false) {\n            return  ${q(o,i.arguments[2])};\n          }\n          ${a} = ${a}.get(${A});\n          if (${a} === null || ${a} === undefined) {\n            return  ${q(o,i.arguments[2])};\n          }\n        } else {\n          return  ${q(o,i.arguments[2])};\n        }\n      }\n      return ${a};\n      ${o.isAsync?"})}()))":"}()"}`:`${o.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${a} = ${q(o,i.arguments[0])};\n        if (${a} === null) {\n          return  ${q(o,i.arguments[1])};\n        }\n        if (${a} === "") {\n          return  ${q(o,i.arguments[1])};\n        }\n        if (${a} === undefined) {\n          return  ${q(o,i.arguments[1])};\n        }\n        return ${a};\n      ${o.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(o,i);if("decode"===a)return function Ie(o,i){try{if(i.arguments.length<2)throw new u.mT(o,u.TX.WrongNumberOfParameters,i);if(2===i.arguments.length)return`(${q(o,i.arguments[1])})`;if((i.arguments.length-1)%2==0)throw new u.mT(o,u.TX.WrongNumberOfParameters,i);const a=He(o),s=He(o);let d="var ";for(let A=1;A<i.arguments.length-1;A+=2)d+=`${s} = ${q(o,i.arguments[A])};\n      if (lang.binary(${s}, ${a}, "==") === true ) {\n        return ${q(o,i.arguments[A+1])}\n      }\n`;return`${o.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${a} = ${q(o,i.arguments[0])};\n        ${d}\n        return ${q(o,i.arguments[i.arguments.length-1])}\n        ${o.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(o,i);let s="";if(null!==o.localScope&&(void 0!==o.localScope[a]?s="lscope['"+a+"']":void 0!==o.localScope._SymbolsMap[a]&&(s="lscope['"+o.localScope._SymbolsMap[a]+"']")),""===s)if(void 0!==o.globalScope[a])s="gscope['"+a+"']";else if(void 0!==o.globalScope._SymbolsMap[a])s="gscope['"+o.globalScope._SymbolsMap[a]+"']";else if(null!==o.localScope)if(o.undeclaredGlobalsInFunctions.has(a))s="gscope[lang.chkAssig('"+o.undeclaredGlobalsInFunctions.get(a).manglename+"',runtimeCtx)]";else{const d={manglename:Ve(o),node:i.argument};o.undeclaredGlobalsInFunctions.set(a,d),s="gscope[lang.chkAssig('"+d.manglename+"',runtimeCtx)]"}if(""!==s){let d="[";for(let A=0;A<i.arguments.length;A++)A>0&&(d+=", "),d+=q(o,i.arguments[A]);return d+="]",o.isAsync?"(yield lang.callfunc("+s+","+d+",runtimeCtx) )":"lang.callfunc("+s+","+d+",runtimeCtx)"}throw new u.mT(o,u.TX.FunctionNotFound,i)}catch(a){throw a}}(o,i);case"UnaryExpression":return function _t(o,i){try{return"lang.unary("+q(o,i.argument)+",'"+i.operator+"')"}catch(a){throw a}}(o,i);case"BinaryExpression":return function xe(o,i){try{return"lang.binary("+q(o,i.left)+","+q(o,i.right)+",'"+i.operator+"')"}catch(a){throw a}}(o,i);case"LogicalExpression":return function Ft(o,i){try{if("AssignmentExpression"===i.left.type||"UpdateExpression"===i.left.type)throw new u.mT(o,u.TX.LogicalExpressionOnlyBoolean,i);if("AssignmentExpression"===i.right.type||"UpdateExpression"===i.right.type)throw new u.mT(o,u.TX.LogicalExpressionOnlyBoolean,i);if("&&"===i.operator||"||"===i.operator)return"(lang.logicalCheck("+q(o,i.left)+") "+i.operator+" lang.logicalCheck("+q(o,i.right)+"))";throw new u.mT(null,u.TX.LogicExpressionOrAnd,null)}catch(a){throw a}}(o,i);case"ArrayExpression":return function Ct(o,i){try{const a=[];for(let s=0;s<i.elements.length;s++)a.push("Literal"===i.elements[s].type?q(o,i.elements[s]):"lang.aCheck("+q(o,i.elements[s])+",'ArrayExpression')");return"["+a.join(",")+"]"}catch(a){throw a}}(o,i);case"ObjectExpression":return function ye(o,i){let a="lang.dictionary([";for(let s=0;s<i.properties.length;s++){const d=i.properties[s];ze(d.key.name),s>0&&(a+=","),a+="lang.strCheck("+("Identifier"===d.key.type?"'"+d.key.name+"'":q(o,d.key))+",'ObjectExpression'),lang.aCheck("+q(o,d.value)+", 'ObjectExpression')"}return a+="])",a}(o,i);case"Property":return function Fe(o,i){throw new u.mT(o,u.TX.NeverReach,i)}(o,i);case"Array":throw new u.mT(o,u.TX.NeverReach,i);default:throw new u.mT(o,u.TX.Unrecognized,i)}}catch(a){throw a}}function lt(o,i){return"BlockStatement"===i.type?q(o,i):"ReturnStatement"===i.type||"BreakStatement"===i.type||"ContinueStatement"===i.type?q(o,i)+"; ":"UpdateExpression"===i.type?"lastStatement = "+q(o,i)+"; ":"ExpressionStatement"===i.type?q(o,i):"ObjectExpression"===i.type?"lastStatement = "+q(o,i)+"; ":q(o,i)+"; "}function Xe(o,i){if("AssignmentExpression"===i.test.type||"UpdateExpression"===i.test.type)throw new u.mT(o,u.TX.BooleanConditionRequired,i);return`if (lang.mustBoolean(${q(o,i.test)}, runtimeCtx) === true) {\n    ${lt(o,i.consequent)}\n  } `+(null!==i.alternate?"IfStatement"===i.alternate.type?" else "+Xe(o,i.alternate):` else {\n      ${lt(o,i.alternate)}\n    }\n`:" else {\n      lastStatement = lc.voidOperation;\n    }\n")}function Ze(o,i){let a="";for(let s=0;s<i.body.length;s++)"EmptyStatement"!==i.body[s].type&&(a+="ReturnStatement"===i.body[s].type||"BreakStatement"===i.body[s].type||"ContinueStatement"===i.body[s].type?q(o,i.body[s])+"; \n":"UpdateExpression"===i.body[s].type||"ObjectExpression"===i.body[s].type?"lastStatement = "+q(o,i.body[s])+"; \n":q(o,i.body[s])+" \n");return a}function ze(o){if("iif"===o)throw new u.O$;if("decode"===o)throw new u.O$;if("when"===o)throw new u.O$;if("defaultvalue"===o)throw new u.O$}const ke={};function Ve(o){return o.symbols.symbolCounter++,"_T"+o.symbols.symbolCounter.toString()}function He(o){return o.symbols.symbolCounter++,"_Tvar"+o.symbols.symbolCounter.toString()}(0,N.d)(ke,ue),(0,W.d)(ke,ue),(0,me.d)(ke,ue),(0,ee.d)(ke,ue),(0,Ae.d)(ke,ue),ke.iif=function(o,i){try{return ue(o,i,(a,s,d)=>{throw new u.D$(o,u.TX.Unrecognized,i)})}catch(a){throw a}},ke.decode=function(o,i){try{return ue(o,i,(a,s,d)=>{throw new u.D$(o,u.TX.Unrecognized,i)})}catch(a){throw a}},ke.when=function(o,i){try{return ue(o,i,(a,s,d)=>{throw new u.D$(o,u.TX.Unrecognized,i)})}catch(a){throw a}},ke.defaultvalue=function(o,i){try{return ue(o,i,(a,s,d)=>{throw new u.D$(o,u.TX.Unrecognized,i)})}catch(a){throw a}};const Dt={};for(const o in ke)Dt[o]=new L.UQ(ke[o]);ie(ke,ue);for(const o in ke)ke[o]=new L.UQ(ke[o]);const wt=function(){};wt.prototype=ke;const Tt=function(){};function St(o,i,a){const s={};o||(o={}),a||(a={}),s._SymbolsMap={},s.textformatting=1,s.infinity=1,s.pi=1;for(const d in i)s[d]=1;for(const d in a)s[d]=1;for(const d in o)s[d]=1;return s}function It(o,i,a,s){const d=a?new Tt:new wt;o||(o={}),i||(i={});const A=new x.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});A.immutable=!1,d._SymbolsMap={textformatting:1,infinity:1,pi:1},d.textformatting=A,d.infinity=Number.POSITIVE_INFINITY,d.pi=Math.PI;for(const M in i)d[M]=i[M],d._SymbolsMap[M]=1;for(const M in o)d._SymbolsMap[M]=1,d[M]=o[M]&&"esri.Graphic"===o[M].declaredClass?Y.A.createFromGraphic(o[M],null!=s?s:null):o[M];return d}function ct(o,i){const a={mode:i,compiled:!0,functions:{},signatures:[],standardFunction:ue,standardFunctionAsync:ue,evaluateIdentifier:$t};for(let s=0;s<o.length;s++)o[s].registerFunctions(a);if("sync"===i){for(const s in a.functions)ke[s]=new L.UQ(a.functions[s]),wt.prototype[s]=ke[s];for(let s=0;s<a.signatures.length;s++)(0,z.WC)(a.signatures[s],"sync")}else{for(const s in a.functions)Dt[s]=new L.UQ(a.functions[s]),Tt.prototype[s]=Dt[s];for(let s=0;s<a.signatures.length;s++)(0,z.WC)(a.signatures[s],"async")}}function $t(o,i){const a=i.name;if("_SymbolsMap"===a)throw new u.D$(o,u.TX.InvalidIdentifier,null);if(o.localStack.length>0){if("_t"!==a.substr(0,2).toLowerCase()&&void 0!==o.localStack[o.localStack.length-1][a])return o.localStack[o.localStack.length-1][a];const d=o.mangleMap[a];if(void 0!==d&&void 0!==o.localStack[o.localStack.length-1][d])return o.localStack[o.localStack.length-1][d]}if("_t"!==a.substr(0,2).toLowerCase()&&void 0!==o.globalScope[a]||1===o.globalScope._SymbolsMap[a])return o.globalScope[a];const s=o.mangleMap[a];return void 0!==s?o.globalScope[s]:void 0}Tt.prototype=Dt,ct([K.A],"sync"),ct([K.A],"async");let dt=0;const Pt={isNumber:o=>(0,l.b)(o),isArray:o=>(0,l.o)(o),isImmutableArray:o=>(0,l.q)(o),isFeature:o=>(0,l.r)(o),isString:o=>(0,l.c)(o),isDictionary:o=>(0,l.v)(o),isGeometry:o=>(0,l.p)(o),geometryMember:(o,i,a,s,d=1)=>(0,ee.B)(o,i,a,s,d),error(o){throw new u.D$(null,o,null)},__awaiter:(o,i,a,s)=>new Promise((d,A)=>{function M(re){try{P(s.next(re))}catch(De){A(De)}}function h(re){try{P(s.throw(re))}catch(De){A(De)}}function P(re){var De;re.done?d(re.value):null!==(De=re.value)&&void 0!==De&&De.then?re.value.then(M,h):(dt++,dt%100==0?setTimeout(()=>{dt=0,M(re.value)},0):M(re.value))}P((s=s.apply(o,i||[])).next())}),functionDepthchecker:(o,i)=>function(){if(i.depthCounter.depth++,i.localStack.push([]),i.depthCounter.depth>64)throw new u.D$(null,u.TX.MaximumCallDepth,null);const a=o.apply(this,arguments);return(0,ne.$X)(a)?a.then(s=>(i.depthCounter.depth--,i.localStack.length=i.localStack.length-1,s)):(i.depthCounter.depth--,i.localStack.length=i.localStack.length-1,a)},chkAssig(o,i){if(void 0===i.gdefs[o])throw new u.D$(i,u.TX.InvalidIdentifier,null);return o},mustBoolean(o,i){if(!0===o||!1===o)return o;throw new u.D$(i,u.TX.BooleanConditionRequired,null)},setAssig:(o,i)=>(i.gdefs[o]=1,o),castString:o=>(0,l.j)(o),aCheck(o,i){if((0,l.i)(o))throw new u.D$(null,"ArrayExpression"===i?u.TX.NoFunctionInArray:"ObjectExpression"===i?u.TX.NoFunctionInDictionary:u.TX.NoFunctionInTemplateLiteral,null);return o===l.B?null:o},Dictionary:x.A,Feature:Y.A,UserDefinedCompiledFunction:class V extends L.fF{constructor(i,a){super(),this.paramCount=a,this.fn=i}createFunction(i){return(...a)=>{if(a.length!==this.paramCount)throw new u.D$(i,u.TX.WrongNumberOfParameters,null);return this.fn(...a)}}call(i,a){return this.fn(...a.arguments)}marshalledCall(i,a,s,d){return d(i,a,(A,M,h)=>{h=h.map(re=>!(0,l.i)(re)||re instanceof L.CU?re:(0,L.o6)(re,i,d));const P=this.call(s,{arguments:h});return(0,ne.$X)(P)?P.then(re=>(0,L.o6)(re,s,d)):P})}},dictionary(o){const i={},a=new Map;for(let d=0;d<o.length;d+=2){if((0,l.i)(o[d+1]))throw new u.D$(null,u.TX.NoFunctionInDictionary,null);if(!1===(0,l.c)(o[d]))throw new u.D$(null,u.TX.KeyMustBeString,null);let A=o[d].toString();const M=A.toLowerCase();a.has(M)?A=a.get(M):a.set(M,A),i[A]=o[d+1]===l.B?null:o[d+1]}const s=new x.A(i);return s.immutable=!1,s},strCheck(o){if(!1===(0,l.c)(o))throw new u.D$(null,u.TX.KeyMustBeString,null);return o},unary(o,i){if((0,l.a)(o)){if("!"===i)return!o;if("-"===i)return-1*(0,l.g)(o);if("+"===i)return 1*(0,l.g)(o);if("~"===i)return~(0,l.g)(o);throw new u.D$(null,u.TX.UnsupportedUnaryOperator,null)}if("-"===i)return-1*(0,l.g)(o);if("+"===i)return 1*(0,l.g)(o);if("~"===i)return~(0,l.g)(o);throw new u.D$(null,u.TX.UnsupportedUnaryOperator,null)},logicalCheck(o){if(!1===(0,l.a)(o))throw new u.D$(null,u.TX.LogicExpressionOrAnd,null);return o},logical(o,i,a){if((0,l.a)(o)&&(0,l.a)(i))switch(a){case"||":return o||i;case"&&":return o&&i;default:throw new u.D$(null,u.TX.LogicExpressionOrAnd,null)}throw new u.D$(null,u.TX.LogicExpressionOrAnd,null)},binary(o,i,a){switch(a){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,l.G)((0,l.g)(o),(0,l.g)(i),a);case"==":case"=":return(0,l.F)(o,i);case"!=":return!(0,l.F)(o,i);case"<":case">":case"<=":case">=":return(0,l.E)(o,i,a);case"+":return(0,l.c)(o)||(0,l.c)(i)?(0,l.j)(o)+(0,l.j)(i):(0,l.g)(o)+(0,l.g)(i);case"-":return(0,l.g)(o)-(0,l.g)(i);case"*":return(0,l.g)(o)*(0,l.g)(i);case"/":return(0,l.g)(o)/(0,l.g)(i);case"%":return(0,l.g)(o)%(0,l.g)(i);default:throw new u.D$(null,u.TX.UnsupportedOperator,null)}},assign(o,i,a){switch(i){case"=":return o===l.B?null:o;case"/=":return(0,l.g)(a)/(0,l.g)(o);case"*=":return(0,l.g)(a)*(0,l.g)(o);case"-=":return(0,l.g)(a)-(0,l.g)(o);case"+=":return(0,l.c)(a)||(0,l.c)(o)?(0,l.j)(a)+(0,l.j)(o):(0,l.g)(a)+(0,l.g)(o);case"%=":return(0,l.g)(a)%(0,l.g)(o);default:throw new u.D$(null,u.TX.UnsupportedOperator,null)}},update(o,i,a,s){const d=(0,l.g)(o[i]);return o[i]="++"===a?d+1:d-1,!1===s?d:"++"===a?d+1:d-1},graphicToFeature:(o,i,a)=>null===o?null:Y.A.createFromGraphicLikeObject(o.geometry,o.attributes,i,a.timeZone),memberupdate(o,i,a,s){let d;if((0,l.o)(o)){if(!(0,l.b)(i))throw new u.D$(null,u.TX.ArrayAccessorMustBeNumber,null);if(i<0&&(i=o.length+i),i<0||i>=o.length)throw new u.D$(null,u.TX.OutOfBounds,null);d=(0,l.g)(o[i]),o[i]="++"===a?d+1:d-1}else if(o instanceof x.A){if(!1===(0,l.c)(i))throw new u.D$(null,u.TX.KeyAccessorMustBeString,null);if(!0!==o.hasField(i))throw new u.D$(null,u.TX.FieldNotFound,null,{key:i});d=(0,l.g)(o.field(i)),o.setField(i,"++"===a?d+1:d-1)}else if((0,l.r)(o)){if(!1===(0,l.c)(i))throw new u.D$(null,u.TX.KeyAccessorMustBeString,null);if(!0!==o.hasField(i))throw new u.D$(null,u.TX.FieldNotFound,null);d=(0,l.g)(o.field(i)),o.setField(i,"++"===a?d+1:d-1)}else{if((0,l.q)(o))throw new u.D$(null,u.TX.Immutable,null);if(!(o instanceof C))throw new u.D$(null,u.TX.InvalidIdentifier,null);if(!1===(0,l.c)(i))throw new u.D$(null,u.TX.ModuleAccessorMustBeString,null);if(!0!==o.hasGlobal(i))throw new u.D$(null,u.TX.ModuleExportNotFound,null);d=(0,l.g)(o.global(i)),o.setGlobal(i,"++"===a?d+1:d-1)}return!1===s?d:"++"===a?d+1:d-1},assignmember(o,i,a,s){if((0,l.o)(o)){if(!(0,l.b)(i))throw new u.D$(null,u.TX.ArrayAccessorMustBeNumber,null);if(i<0&&(i=o.length+i),i<0||i>o.length)throw new u.D$(null,u.TX.OutOfBounds,null);if(i===o.length){if("="!==a)throw new u.D$(null,u.TX.OutOfBounds,null);o[i]=this.assign(s,a,o[i])}else o[i]=this.assign(s,a,o[i])}else if(o instanceof x.A){if(!1===(0,l.c)(i))throw new u.D$(null,u.TX.KeyAccessorMustBeString,null);if(!0===o.hasField(i))o.setField(i,this.assign(s,a,o.field(i)));else{if("="!==a)throw new u.D$(null,u.TX.FieldNotFound,null);o.setField(i,this.assign(s,a,null))}}else if((0,l.r)(o)){if(!1===(0,l.c)(i))throw new u.D$(null,u.TX.KeyAccessorMustBeString,null);if(!0===o.hasField(i))o.setField(i,this.assign(s,a,o.field(i)));else{if("="!==a)throw new u.D$(null,u.TX.FieldNotFound,null);o.setField(i,this.assign(s,a,null))}}else{if((0,l.q)(o))throw new u.D$(null,u.TX.Immutable,null);if(!(o instanceof C))throw new u.D$(null,u.TX.InvalidIdentifier,null);if(!1===(0,l.c)(i))throw new u.D$(null,u.TX.ModuleAccessorMustBeString,null);if(!o.hasGlobal(i))throw new u.D$(null,u.TX.ModuleExportNotFound,null);o.setGlobal(i,this.assign(s,a,o.global(i)))}},member(o,i){if(null===o)throw new u.D$(null,u.TX.MemberOfNull,null);if(o instanceof x.A||(0,l.r)(o)){if((0,l.c)(i))return o.field(i);throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)}if(o instanceof D.A){if((0,l.c)(i))return(0,ee.B)(o,i,null,null);throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)}if((0,l.o)(o)){if((0,l.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=o.length+i),i>=o.length||i<0)throw new u.D$(null,u.TX.OutOfBounds,null);return o[i]}throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)}if((0,l.c)(o)){if((0,l.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=o.length+i),i>=o.length||i<0)throw new u.D$(null,u.TX.OutOfBounds,null);return o[i]}throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)}if((0,l.q)(o)){if((0,l.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=o.length()+i),i>=o.length()||i<0)throw new u.D$(null,u.TX.OutOfBounds,null);return o.get(i)}throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)}if(o instanceof C){if((0,l.c)(i))return o.global(i);throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)}throw new u.D$(null,u.TX.InvalidMemberAccessKey,null)},callfunc:(o,i,a)=>o.call(a,{arguments:i,preparsed:!0}),loadModule(o,i){var a;const s=i.moduleFactoryMap[o];if(i.moduleSingletons[s])return i.moduleSingletons[s];const d=i.moduleFactory[s]({vars:{},moduleSingletons:i.moduleSingletons,depthCounter:i.depthCounter,console:i.console,abortSignal:i.abortSignal,isAsync:i.isAsync,services:i.services,lrucache:i.lrucache,timeZone:null!==(a=i.timeZone)&&void 0!==a?a:null,interceptor:i.interceptor},i.spatialReference);return i.moduleSingletons[s]=d,d},callModuleFunction(o,i,a,s){if(!(o instanceof C))throw new u.D$(null,u.TX.FunctionNotFound,null);const d=o.global(a);if(!1===(0,l.i)(d))throw new u.D$(null,u.TX.CallNonFunction,null);return d.call(s,{preparsed:!0,arguments:i})}};function gt(o){console.log(o)}function Ke(o,i,a=!1){var s;null===i&&(i={vars:{},customfunctions:{}});let d=null;o.usesModules&&(d=new ce.a(null,o.loadedModules));const A={isAsync:a,globalScope:St(i.vars,a?Dt:ke,i.customfunctions),moduleFactory:{},moduleFactoryMap:{},undeclaredGlobalsInFunctions:new Map,customfunctions:i.customfunctions,libraryResolver:d,localScope:null,mangleMap:{},depthCounter:{depth:1},exports:{},console:gt,lrucache:i.lrucache,timeZone:null!==(s=i.timeZone)&&void 0!==s?s:null,interceptor:i.interceptor,services:i.services,symbols:{symbolCounter:0}};let M=q(A,o);""===M&&(M="lc.voidOperation; "),A.undeclaredGlobalsInFunctions.size>0&&A.undeclaredGlobalsInFunctions.forEach(Ee=>{throw new u.mT(i,u.TX.InvalidIdentifier,Ee.node)});let h="";h=a?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+M+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+M+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const P=A.moduleFactory,re=A.moduleFactoryMap,De=A.exports,Le={};for(const Ee in De)Le[Ee]=void 0!==A.mangleMap[Ee]?A.mangleMap[Ee]:Ee;const Te={lc:l.y,lang:Pt,mangles:A.mangleMap,postProcess(Ee){if(Ee instanceof l.z&&(Ee=Ee.value),Ee instanceof l.A&&(Ee=Ee.value),Ee===l.B&&(Ee=null),Ee===l.C)throw new u.D$(null,u.TX.IllegalResult,null);if(Ee===l.D)throw new u.D$(null,u.TX.IllegalResult,null);if((0,l.i)(Ee))throw new u.D$(null,u.TX.IllegalResult,null);return Ee},prepare(Ee,at){var st,vt;let Gt=Ee.spatialReference;null==Gt&&(Gt=U.A.WebMercator);const Si=It(Ee.vars,Ee.customfunctions,at,Ee.timeZone);return{localStack:[],isAsync:at,moduleFactory:P,moduleFactoryMap:re,mangleMap:this.mangles,moduleSingletons:{},exports:De,gdefs:{},exportmangle:Le,spatialReference:Gt,globalScope:Si,abortSignal:null==Ee.abortSignal?{aborted:!1}:Ee.abortSignal,localScope:null,services:Ee.services,console:null!==(st=Ee.console)&&void 0!==st?st:gt,lrucache:Ee.lrucache,timeZone:null!==(vt=Ee.timeZone)&&void 0!==vt?vt:null,interceptor:Ee.interceptor,symbols:{symbolCounter:0},depthCounter:{depth:1}}}};return new Function("context","spatialReference",h).bind(Te)}function I(){return(I=(0,B.A)(function*(){return ct([yield _.e(1501).then(_.bind(_,61501))],"async"),!0})).apply(this,arguments)}class C extends E.x{constructor(i){super(null),this.moduleContext=i}hasGlobal(i){return void 0===this.moduleContext.exports[i]&&(i=i.toLowerCase()),void 0!==this.moduleContext.exports[i]}setGlobal(i,a){const s=this.moduleContext.globalScope,d=i.toLowerCase();if((0,l.i)(a))throw new u.D$(null,u.TX.AssignModuleFunction,null);s[this.moduleContext.exportmangle[d]]=a}global(i){const a=this.moduleContext.globalScope;i=i.toLowerCase();const s=a[this.moduleContext.exportmangle[i]];if(void 0===s)throw new u.D$(null,u.TX.InvalidIdentifier,null);if((0,l.i)(s)&&!(s instanceof L.CU)){const d=new L.CU;return d.fn=s,d.parameterEvaluator=ue,d.context=this.moduleContext,a[this.moduleContext.exportmangle[i]]=d,d}return s}}var J,F,o,b=_(37027),Z=_(89563);(o=J||(J={})).Break="break",o.Continue="continue",o.Else="else",o.False="false",o.For="for",o.From="from",o.Function="function",o.If="if",o.Import="import",o.Export="export",o.In="in",o.Null="null",o.Return="return",o.True="true",o.Var="var",o.While="while",function(o){o.AssignmentExpression="AssignmentExpression",o.ArrayExpression="ArrayExpression",o.BlockComment="BlockComment",o.BlockStatement="BlockStatement",o.BinaryExpression="BinaryExpression",o.BreakStatement="BreakStatement",o.CallExpression="CallExpression",o.ContinueStatement="ContinueStatement",o.EmptyStatement="EmptyStatement",o.ExpressionStatement="ExpressionStatement",o.ExportNamedDeclaration="ExportNamedDeclaration",o.ExportSpecifier="ExportSpecifier",o.ForStatement="ForStatement",o.ForInStatement="ForInStatement",o.FunctionDeclaration="FunctionDeclaration",o.Identifier="Identifier",o.IfStatement="IfStatement",o.ImportDeclaration="ImportDeclaration",o.ImportDefaultSpecifier="ImportDefaultSpecifier",o.LineComment="LineComment",o.Literal="Literal",o.LogicalExpression="LogicalExpression",o.MemberExpression="MemberExpression",o.ObjectExpression="ObjectExpression",o.Program="Program",o.Property="Property",o.ReturnStatement="ReturnStatement",o.TemplateElement="TemplateElement",o.TemplateLiteral="TemplateLiteral",o.UnaryExpression="UnaryExpression",o.UpdateExpression="UpdateExpression",o.VariableDeclaration="VariableDeclaration",o.VariableDeclarator="VariableDeclarator",o.WhileStatement="WhileStatement"}(F||(F={}));const G=["++","--"],se=["-","+","!","~"],ge=["=","/=","*=","%=","+=","-="],Ue=["||","&&"],qe={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10};var he;!function(o){o[o.Unknown=0]="Unknown",o[o.BooleanLiteral=1]="BooleanLiteral",o[o.EOF=2]="EOF",o[o.Identifier=3]="Identifier",o[o.Keyword=4]="Keyword",o[o.NullLiteral=5]="NullLiteral",o[o.NumericLiteral=6]="NumericLiteral",o[o.Punctuator=7]="Punctuator",o[o.StringLiteral=8]="StringLiteral",o[o.Template=10]="Template"}(he||(he={}));const Ut=["Unknown","Boolean","<end>","Identifier","Keyword","Null","Numeric","Punctuator","String","RegularExpression","Template"];var fe;!function(o){o.InvalidModuleUri="InvalidModuleUri",o.ForInOfLoopInitializer="ForInOfLoopInitializer",o.IdentiferExpected="IdentiferExpected",o.InvalidEscapedReservedWord="InvalidEscapedReservedWord",o.InvalidExpression="InvalidExpression",o.InvalidFunctionIdentifier="InvalidFunctionIdentifier",o.InvalidHexEscapeSequence="InvalidHexEscapeSequence",o.InvalidLeftHandSideInAssignment="InvalidLeftHandSideInAssignment",o.InvalidLeftHandSideInForIn="InvalidLeftHandSideInForIn",o.InvalidTemplateHead="InvalidTemplateHead",o.InvalidVariableAssignment="InvalidVariableAssignment",o.KeyMustBeString="KeyMustBeString",o.NoFunctionInsideBlock="NoFunctionInsideBlock",o.NoFunctionInsideFunction="NoFunctionInsideFunction",o.ModuleExportRootOnly="ModuleExportRootOnly",o.ModuleImportRootOnly="ModuleImportRootOnly",o.PunctuatorExpected="PunctuatorExpected",o.TemplateOctalLiteral="TemplateOctalLiteral",o.UnexpectedBoolean="UnexpectedBoolean",o.UnexpectedEndOfScript="UnexpectedEndOfScript",o.UnexpectedIdentifier="UnexpectedIdentifier",o.UnexpectedKeyword="UnexpectedKeyword",o.UnexpectedNull="UnexpectedNull",o.UnexpectedNumber="UnexpectedNumber",o.UnexpectedPunctuator="UnexpectedPunctuator",o.UnexpectedString="UnexpectedString",o.UnexpectedTemplate="UnexpectedTemplate",o.UnexpectedToken="UnexpectedToken"}(fe||(fe={}));const Xt={[fe.InvalidModuleUri]:"Module uri must be a text literal.",[fe.ForInOfLoopInitializer]:"for-in loop variable declaration may not have an initializer.",[fe.IdentiferExpected]:"'${value}' is an invalid identifier.",[fe.InvalidEscapedReservedWord]:"Keyword cannot contain escaped characters.",[fe.InvalidExpression]:"Invalid expression.",[fe.InvalidFunctionIdentifier]:"'${value}' is an invalid function identifier.",[fe.InvalidHexEscapeSequence]:"Invalid hexadecimal escape sequence.",[fe.InvalidLeftHandSideInAssignment]:"Invalid left-hand side in assignment.",[fe.InvalidLeftHandSideInForIn]:"Invalid left-hand side in for-in.",[fe.InvalidTemplateHead]:"Invalid template structure.",[fe.InvalidVariableAssignment]:"Invalid variable assignment.",[fe.KeyMustBeString]:"Object property keys must be a word starting with a letter.",[fe.NoFunctionInsideBlock]:"Functions cannot be declared inside of code blocks.",[fe.NoFunctionInsideFunction]:"Functions cannot be declared inside another function.",[fe.ModuleExportRootOnly]:"Module exports cannot be declared inside of code blocks.",[fe.ModuleImportRootOnly]:"Module import cannot be declared inside of code blocks.",[fe.PunctuatorExpected]:"'${value}' expected.",[fe.TemplateOctalLiteral]:"Octal literals are not allowed in template literals.",[fe.UnexpectedBoolean]:"Unexpected boolean literal.",[fe.UnexpectedEndOfScript]:"Unexpected end of Arcade expression.",[fe.UnexpectedIdentifier]:"Unexpected identifier.",[fe.UnexpectedKeyword]:"Unexpected keyword.",[fe.UnexpectedNull]:"Unexpected null literal.",[fe.UnexpectedNumber]:"Unexpected number.",[fe.UnexpectedPunctuator]:"Unexpected ponctuator.",[fe.UnexpectedString]:"Unexpected text literal.",[fe.UnexpectedTemplate]:"Unexpected quasi '${value}'.",[fe.UnexpectedToken]:"Unexpected token '${value}'."};class ft extends Error{constructor({code:i,index:a,line:s,column:d,len:A=0,description:M,data:h}){var P;super(`${null!=M?M:i}`),this.declaredRootClass="esri.arcade.lib.parsingerror",this.name="ParsingError",this.code=i,this.index=a,this.line=s,this.column=d,this.len=A,this.data=h,this.description=M,this.range={start:{line:s,column:d-1},end:{line:s,column:d+A}},null===(P=Error.captureStackTrace)||void 0===P||P.call(Error,this,ft)}}function m(o){return(null==o?void 0:o.type)===F.BlockStatement}function w(o){return(null==o?void 0:o.type)===F.BlockComment}function le(o){return(null==o?void 0:o.type)===F.EmptyStatement}function or(o){return(null==o?void 0:o.type)===F.VariableDeclarator}function tn(o,i){return!!i&&i.loc.end.line===o.loc.start.line&&i.loc.end.column<=o.loc.start.column}function Fn(o,i){return o.range[0]>=i.range[0]&&o.range[1]<=i.range[1]}class ar{constructor(){this.comments=[],this._nodeStack=[],this._newComments=[]}insertInnerComments(i){if(!m(i)||0!==i.body.length)return;const a=[];for(let s=this._newComments.length-1;s>=0;--s){const d=this._newComments[s];i.range[1]>=d.range[0]&&(a.unshift(d),this._newComments.splice(s,1))}a.length&&(i.innerComments=a)}attachTrailingComments(i){if(!i)return;const a=this._nodeStack[this._nodeStack.length-1];if(m(i)&&Fn(a,i))for(let M=this._newComments.length-1;M>=0;--M){var s;const h=this._newComments[M];Fn(h,i)&&(a.trailingComments=[...null!==(s=a.trailingComments)&&void 0!==s?s:[],h],this._newComments.splice(M,1))}let d=[];if(this._newComments.length>0)for(let M=this._newComments.length-1;M>=0;--M){var A;const h=this._newComments[M];tn(h,a)?(a.trailingComments=[...null!==(A=a.trailingComments)&&void 0!==A?A:[],h],this._newComments.splice(M,1)):tn(h,i)&&(d.unshift(h),this._newComments.splice(M,1))}null!=a&&a.trailingComments&&tn(a.trailingComments[0],i)&&(d=[...d,...a.trailingComments],delete a.trailingComments),d.length>0&&(i.trailingComments=d)}attachLeadingComments(i){if(!i)return;let a;for(;this._nodeStack.length>0;){const re=this._nodeStack[this._nodeStack.length-1];if(!(i.range[0]<=re.range[0]))break;a=re,this._nodeStack.pop()}const s=[],d=[];if(a){var A,M;for(let re=(null!==(h=null===(P=a.leadingComments)||void 0===P?void 0:P.length)&&void 0!==h?h:0)-1;re>=0;--re){var h,P;const De=a.leadingComments[re];i.range[0]>=De.range[1]?(s.unshift(De),a.leadingComments.splice(re,1)):or(i)&&!w(De)&&(d.unshift(De),a.leadingComments.splice(re,1))}return 0===(null===(A=a.leadingComments)||void 0===A?void 0:A.length)&&delete a.leadingComments,s.length&&(i.leadingComments=s),void(d.length&&(i.trailingComments=[...d,...null!==(M=i.trailingComments)&&void 0!==M?M:[]]))}for(let re=this._newComments.length-1;re>=0;--re){const De=this._newComments[re];i.range[0]>=De.range[0]&&(s.unshift(De),this._newComments.splice(re,1))}s.length&&(i.leadingComments=s)}attachComments(i){if(function Kt(o){return(null==o?void 0:o.type)===F.Program}(i)&&i.body.length>0){var a;const s=this._nodeStack[this._nodeStack.length-1];return s?(s.trailingComments=[...null!==(a=s.trailingComments)&&void 0!==a?a:[],...this._newComments],this._newComments.length=0,void this._nodeStack.pop()):(i.trailingComments=[...this._newComments],void(this._newComments.length=0))}this.attachTrailingComments(i),this.attachLeadingComments(i),this.insertInnerComments(i),this._nodeStack.push(i)}collectComment(i){this.comments.push(i),this._newComments.push(i)}}function nn(o,i){const a=Xt[o];return i?a.replaceAll(/\${(.*?)}/g,(s,d)=>{var A,M;return null!==(A=null===(M=i[d])||void 0===M?void 0:M.toString())&&void 0!==A?A:""}):a}class sr{constructor(i=!1){this.tolerant=i,this.errors=[]}recordError(i){this.errors.push(i)}tolerate(i){if(!this.tolerant)throw i;this.recordError(i)}throwError(i){var a;throw i.description=null!==(a=i.description)&&void 0!==a?a:nn(i.code,i.data),new ft(i)}tolerateError(i){var a;i.description=null!==(a=i.description)&&void 0!==a?a:nn(i.code,i.data);const s=new ft(i);if(!this.tolerant)throw s;this.recordError(s)}}function wn(o,i){if(!o)throw new Error("ASSERT: "+i)}const Tn={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Se={fromCodePoint:o=>o<65536?String.fromCharCode(o):String.fromCharCode(55296+(o-65536>>10))+String.fromCharCode(56320+(o-65536&1023)),isWhiteSpace:o=>32===o||9===o||11===o||12===o||160===o||o>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(o),isLineTerminator:o=>10===o||13===o||8232===o||8233===o,isIdentifierStart:o=>36===o||95===o||o>=65&&o<=90||o>=97&&o<=122||92===o||o>=128&&Tn.NonAsciiIdentifierStart.test(Se.fromCodePoint(o)),isIdentifierPart:o=>36===o||95===o||o>=65&&o<=90||o>=97&&o<=122||o>=48&&o<=57||92===o||o>=128&&Tn.NonAsciiIdentifierPart.test(Se.fromCodePoint(o)),isDecimalDigit:o=>o>=48&&o<=57,isHexDigit:o=>o>=48&&o<=57||o>=65&&o<=70||o>=97&&o<=102,isOctalDigit:o=>o>=48&&o<=55};function Sn(o){return"0123456789abcdef".indexOf(o.toLowerCase())}function rn(o){return"01234567".indexOf(o)}const Ot=[[],[],[]];G.forEach(o=>Ot[o.length-1].push(o)),se.forEach(o=>Ot[o.length-1].push(o)),Ue.forEach(o=>Ot[o.length-1].push(o)),ge.forEach(o=>Ot[o.length-1].push(o)),["|","&",">>","<<",">>>","^","==","!=","<","<=",">",">=","+","-","*","/","%"].forEach(o=>Ot[o.length-1].push(o));class ur{constructor(i,a){this.source=i,this.errorHandler=a,this._length=i.length,this.index=0,this.lineNumber=1,this.lineStart=0,this.curlyStack=[]}saveState(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}}restoreState(i){this.index=i.index,this.lineNumber=i.lineNumber,this.lineStart=i.lineStart,this.curlyStack=i.curlyStack}eof(){return this.index>=this._length}throwUnexpectedToken(i=fe.UnexpectedToken){this.errorHandler.throwError({code:i,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}tolerateUnexpectedToken(i=fe.UnexpectedToken){this.errorHandler.tolerateError({code:i,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}skipSingleLineComment(i){const a=[],s=this.index-i,d={start:{line:this.lineNumber,column:this.index-this.lineStart-i},end:{line:0,column:0}};for(;!this.eof();){const A=this.source.charCodeAt(this.index);if(++this.index,Se.isLineTerminator(A))return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart-1},a.push({multiLine:!1,start:s+i,end:this.index-1,range:[s,this.index-1],loc:d})),13===A&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,a}return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},a.push({multiLine:!1,start:s+i,end:this.index,range:[s,this.index],loc:d})),a}skipMultiLineComment(){const i=[],a=this.index-2,s={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}};for(;!this.eof();){const d=this.source.charCodeAt(this.index);if(Se.isLineTerminator(d))13===d&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===d){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,s&&(s.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,start:a+2,end:this.index-2,range:[a,this.index],loc:s})),i;++this.index}else++this.index}return s&&(s.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,start:a+2,end:this.index,range:[a,this.index],loc:s})),this.tolerateUnexpectedToken(),i}scanComments(){let i=[];for(;!this.eof();){let a=this.source.charCodeAt(this.index);if(Se.isWhiteSpace(a))++this.index;else if(Se.isLineTerminator(a))++this.index,13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index;else{if(47!==a)break;if(a=this.source.charCodeAt(this.index+1),47===a){this.index+=2;const s=this.skipSingleLineComment(2);i=[...i,...s]}else{if(42!==a)break;{this.index+=2;const s=this.skipMultiLineComment();i=[...i,...s]}}}}return i}isKeyword(i){switch((i=i.toLowerCase()).length){case 2:return i===J.If||i===J.In;case 3:return i===J.Var||i===J.For;case 4:return i===J.Else;case 5:return i===J.Break||i===J.While;case 6:return i===J.Return||i===J.Import||i===J.Export;case 8:return i===J.Function||i===J.Continue;default:return!1}}codePointAt(i){let a=this.source.charCodeAt(i);if(a>=55296&&a<=56319){const s=this.source.charCodeAt(i+1);s>=56320&&s<=57343&&(a=1024*(a-55296)+s-56320+65536)}return a}scanHexEscape(i){const a="u"===i?4:2;let s=0;for(let d=0;d<a;++d){if(this.eof()||!Se.isHexDigit(this.source.charCodeAt(this.index)))return null;s=16*s+Sn(this.source[this.index++])}return String.fromCharCode(s)}scanUnicodeCodePointEscape(){let i=this.source[this.index],a=0;for("}"===i&&this.throwUnexpectedToken();!this.eof()&&(i=this.source[this.index++],Se.isHexDigit(i.charCodeAt(0)));)a=16*a+Sn(i);return(a>1114111||"}"!==i)&&this.throwUnexpectedToken(),Se.fromCodePoint(a)}getIdentifier(){const i=this.index++;for(;!this.eof();){const a=this.source.charCodeAt(this.index);if(92===a)return this.index=i,this.getComplexIdentifier();if(a>=55296&&a<57343)return this.index=i,this.getComplexIdentifier();if(!Se.isIdentifierPart(a))break;++this.index}return this.source.slice(i,this.index)}getComplexIdentifier(){let i,a=this.codePointAt(this.index),s=Se.fromCodePoint(a);for(this.index+=s.length,92===a&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),null!==i&&"\\"!==i&&Se.isIdentifierStart(i.charCodeAt(0))||this.throwUnexpectedToken()),s=i);!this.eof()&&(a=this.codePointAt(this.index),Se.isIdentifierPart(a));)i=Se.fromCodePoint(a),s+=i,this.index+=i.length,92===a&&(s=s.substring(0,s.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),null!==i&&"\\"!==i&&Se.isIdentifierPart(i.charCodeAt(0))||this.throwUnexpectedToken()),s+=i);return s}octalToDecimal(i){let a="0"!==i,s=rn(i);return!this.eof()&&Se.isOctalDigit(this.source.charCodeAt(this.index))&&(a=!0,s=8*s+rn(this.source[this.index++]),"0123".includes(i)&&!this.eof()&&Se.isOctalDigit(this.source.charCodeAt(this.index))&&(s=8*s+rn(this.source[this.index++]))),{code:s,octal:a}}scanIdentifier(){let i;const a=this.index,s=92===this.source.charCodeAt(a)?this.getComplexIdentifier():this.getIdentifier();if(i=1===s.length?he.Identifier:this.isKeyword(s)?he.Keyword:s.toLowerCase()===J.Null?he.NullLiteral:s.toLowerCase()===J.True||s.toLowerCase()===J.False?he.BooleanLiteral:he.Identifier,i!==he.Identifier&&a+s.length!==this.index){const d=this.index;this.index=a,this.tolerateUnexpectedToken(fe.InvalidEscapedReservedWord),this.index=d}return{type:i,value:s,lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}}scanPunctuator(){const i=this.index;let a=this.source[this.index];switch(a){case"(":case"{":"{"===a&&this.curlyStack.push("{"),++this.index;break;case".":case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;case"}":++this.index,this.curlyStack.pop();break;default:for(let s=Ot.length;s>0;s--)if(a=this.source.substring(this.index,this.index+s),Ot[s-1].includes(a)){this.index+=s;break}}return this.index===i&&this.throwUnexpectedToken(),{type:he.Punctuator,value:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanHexLiteral(i){let a="";for(;!this.eof()&&Se.isHexDigit(this.source.charCodeAt(this.index));)a+=this.source[this.index++];return 0===a.length&&this.throwUnexpectedToken(),Se.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:he.NumericLiteral,value:parseInt("0x"+a,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanBinaryLiteral(i){let a="";for(;!this.eof();){const s=this.source[this.index];if("0"!==s&&"1"!==s)break;a+=this.source[this.index++]}if(0===a.length&&this.throwUnexpectedToken(),!this.eof()){const s=this.source.charCodeAt(this.index);(Se.isIdentifierStart(s)||Se.isDecimalDigit(s))&&this.throwUnexpectedToken()}return{type:he.NumericLiteral,value:parseInt(a,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanOctalLiteral(i,a){let s="",d=!1;for(Se.isOctalDigit(i.charCodeAt(0))?(d=!0,s="0"+this.source[this.index++]):++this.index;!this.eof()&&Se.isOctalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];return d||0!==s.length||this.throwUnexpectedToken(),(Se.isIdentifierStart(this.source.charCodeAt(this.index))||Se.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:he.NumericLiteral,value:parseInt(s,8),lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}}scanNumericLiteral(){const i=this.index;let a=this.source[i];wn(Se.isDecimalDigit(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point");let s="";if("."!==a){if(s=this.source[this.index++],a=this.source[this.index],"0"===s){if("x"===a||"X"===a)return++this.index,this.scanHexLiteral(i);if("b"===a||"B"===a)return++this.index,this.scanBinaryLiteral(i);if("o"===a||"O"===a)return this.scanOctalLiteral(a,i)}for(;Se.isDecimalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];a=this.source[this.index]}if("."===a){for(s+=this.source[this.index++];Se.isDecimalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];a=this.source[this.index]}if("e"===a||"E"===a)if(s+=this.source[this.index++],a=this.source[this.index],"+"!==a&&"-"!==a||(s+=this.source[this.index++]),Se.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Se.isDecimalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];else this.throwUnexpectedToken();return Se.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:he.NumericLiteral,value:parseFloat(s),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanStringLiteral(){const i=this.index;let a=this.source[i];wn("'"===a||'"'===a,"String literal must starts with a quote"),++this.index;let s=!1,d="";for(;!this.eof();){let A=this.source[this.index++];if(A===a){a="";break}if("\\"===A)if(A=this.source[this.index++],A&&Se.isLineTerminator(A.charCodeAt(0)))++this.lineNumber,"\r"===A&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(A){case"u":if("{"===this.source[this.index])++this.index,d+=this.scanUnicodeCodePointEscape();else{const M=this.scanHexEscape(A);null===M&&this.throwUnexpectedToken(),d+=M}break;case"x":{const M=this.scanHexEscape(A);null===M&&this.throwUnexpectedToken(fe.InvalidHexEscapeSequence),d+=M;break}case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="\t";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;case"8":case"9":d+=A,this.tolerateUnexpectedToken();break;default:if(A&&Se.isOctalDigit(A.charCodeAt(0))){const M=this.octalToDecimal(A);s=M.octal||s,d+=String.fromCharCode(M.code)}else d+=A}else{if(Se.isLineTerminator(A.charCodeAt(0)))break;d+=A}}return""!==a&&(this.index=i,this.throwUnexpectedToken()),{type:he.StringLiteral,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanTemplate(){let i="",a=!1;const s=this.index,d="`"===this.source[s];let A=!1,M=2;for(++this.index;!this.eof();){let h=this.source[this.index++];if("`"===h){M=1,A=!0,a=!0;break}if("$"!==h)if("\\"!==h)Se.isLineTerminator(h.charCodeAt(0))?(++this.lineNumber,"\r"===h&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,i+="\n"):i+=h;else if(h=this.source[this.index++],Se.isLineTerminator(h.charCodeAt(0)))++this.lineNumber,"\r"===h&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(h){case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"u":if("{"===this.source[this.index])++this.index,i+=this.scanUnicodeCodePointEscape();else{const P=this.index,re=this.scanHexEscape(h);null!==re?i+=re:(this.index=P,i+=h)}break;case"x":{const P=this.scanHexEscape(h);null===P&&this.throwUnexpectedToken(fe.InvalidHexEscapeSequence),i+=P;break}case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:"0"===h?(Se.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(fe.TemplateOctalLiteral),i+="\0"):Se.isOctalDigit(h.charCodeAt(0))?this.throwUnexpectedToken(fe.TemplateOctalLiteral):i+=h}else{if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,a=!0;break}i+=h}}return a||this.throwUnexpectedToken(),d||this.curlyStack.pop(),{type:he.Template,value:this.source.slice(s+1,this.index-M),cooked:i,head:d,tail:A,lineNumber:this.lineNumber,lineStart:this.lineStart,start:s,end:this.index}}lex(){if(this.eof())return{type:he.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const i=this.source.charCodeAt(this.index);return Se.isIdentifierStart(i)?this.scanIdentifier():40===i||41===i||59===i?this.scanPunctuator():39===i||34===i?this.scanStringLiteral():46===i?Se.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Se.isDecimalDigit(i)?this.scanNumericLiteral():96===i||125===i&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():i>=55296&&i<57343&&Se.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()}}var tt,Ht;function In(o,i=0){let a=o.start-o.lineStart,s=o.lineNumber;return a<0&&(a+=i,s--),{index:o.start,line:s,column:a}}function bn(o){return[{index:o.range[0],...o.loc.start},{index:o.range[1],...o.loc.end}]}function _n(o){var i;return null!==(i=qe[o])&&void 0!==i?i:0}(function(o){o[o.None=0]="None",o[o.Function=1]="Function",o[o.IfClause=2]="IfClause",o[o.ForLoop=4]="ForLoop",o[o.WhileLoop=8]="WhileLoop"})(tt||(tt={})),function(o){o[o.AsObject=0]="AsObject",o[o.Automatic=1]="Automatic"}(Ht||(Ht={}));class lr{constructor(i,a={},s){this.delegate=s,this.hasLineTerminator=!1,this.options={tokens:"boolean"==typeof a.tokens&&a.tokens,comments:"boolean"==typeof a.comments&&a.comments,tolerant:"boolean"==typeof a.tolerant&&a.tolerant},this.options.comments&&(this.commentHandler=new ar),this.errorHandler=new sr(this.options.tolerant),this.scanner=new ur(i,this.errorHandler),this.context={isAssignmentTarget:!1,blockContext:tt.None,curlyParsingType:Ht.AsObject},this.rawToken={type:he.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.endMarker={index:0,line:this.scanner.lineNumber,column:0},this.readNextRawToken(),this.endMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}throwIfInvalidType(i,a,{validTypes:s,invalidTypes:d}){null!=s&&s.some(A=>i.type===A)||null!=d&&d.some(A=>i.type===A)&&this.throwError(fe.InvalidExpression,a)}throwError(i,a,s=this.endMarker){const{index:d,line:A,column:M}=a;this.errorHandler.throwError({code:i,index:d,line:A,column:M+1,len:s.index-d-1})}tolerateError(i,a){throw new Error("######################################### !!!")}unexpectedTokenError(i={}){var a;const{rawToken:s}=i;let d,{code:A,data:M}=i;if(s){if(!A)switch(s.type){case he.EOF:A=fe.UnexpectedEndOfScript;break;case he.Identifier:A=fe.UnexpectedIdentifier;break;case he.NumericLiteral:A=fe.UnexpectedNumber;break;case he.StringLiteral:A=fe.UnexpectedString;break;case he.Template:A=fe.UnexpectedTemplate}d=s.value.toString()}else d="ILLEGAL";A=null!==(a=A)&&void 0!==a?a:fe.UnexpectedToken,M||(M={value:d});const h=nn(A,M);if(s)return new ft({code:A,index:s.start,line:s.lineNumber,column:s.start-s.lineStart+1,len:s.end-s.start-1,data:M,description:h});const{index:P,line:re}=this.endMarker;return new ft({code:A,index:P,line:re,column:this.endMarker.column+1,data:M,description:h})}throwUnexpectedToken(i={}){var a;throw i.rawToken=null!==(a=i.rawToken)&&void 0!==a?a:this.rawToken,this.unexpectedTokenError(i)}collectComments(i){const{commentHandler:a}=this;a&&i.length&&i.forEach(s=>{const d={type:s.multiLine?F.BlockComment:F.LineComment,value:this.getSourceValue(s),range:s.range,loc:s.loc};a.collectComment(d)})}peekAhead(i){const s=this.scanner.saveState(),d=i.call(this,()=>(this.scanner.scanComments(),this.scanner.lex()));return this.scanner.restoreState(s),d}getSourceValue(i){return this.scanner.source.slice(i.start,i.end)}convertToToken(i){return{type:Ut[i.type],value:this.getSourceValue(i),range:[i.start,i.end],loc:{start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}}readNextRawToken(){this.endMarker.index=this.scanner.index,this.endMarker.line=this.scanner.lineNumber,this.endMarker.column=this.scanner.index-this.scanner.lineStart;const i=this.rawToken;this.collectComments(this.scanner.scanComments()),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart),this.rawToken=this.scanner.lex(),this.hasLineTerminator=i.lineNumber!==this.rawToken.lineNumber,this.options.tokens&&this.rawToken.type!==he.EOF&&this.tokens.push(this.convertToToken(this.rawToken))}captureStartMarker(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}}getItemLocation(i){return{range:[i.index,this.endMarker.index],loc:{start:{line:i.line,column:i.column},end:{line:this.endMarker.line,column:this.endMarker.column}}}}finalize(i){var a,s;return(this.delegate||this.commentHandler)&&(null!==(a=this.commentHandler)&&void 0!==a&&a.attachComments(i),null!==(s=this.delegate)&&void 0!==s&&s.call(this,i)),i}expectPunctuator(i){const a=this.rawToken;this.matchPunctuator(i)?this.readNextRawToken():this.throwUnexpectedToken({rawToken:a,code:fe.PunctuatorExpected,data:{value:i}})}expectKeyword(i){this.rawToken.type!==he.Keyword||this.rawToken.value.toLowerCase()!==i?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}expectContextualKeyword(i){this.rawToken.type!==he.Identifier||this.rawToken.value.toLowerCase()!==i?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}matchKeyword(i){return this.rawToken.type===he.Keyword&&this.rawToken.value.toLowerCase()===i}matchContextualKeyword(i){return this.rawToken.type===he.Identifier&&this.rawToken.value===i}matchPunctuator(i){return this.rawToken.type===he.Punctuator&&this.rawToken.value===i}getMatchingPunctuator(i){var a;if("string"==typeof i&&(i=i.split("")),this.rawToken.type===he.Punctuator&&null!==(a=i)&&void 0!==a&&a.length)return i.find(this.matchPunctuator,this)}isolateCoverGrammar(i){const a=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;const s=i.call(this);return this.context.isAssignmentTarget=a,s}inheritCoverGrammar(i){const a=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;const s=i.call(this);return this.context.isAssignmentTarget=this.context.isAssignmentTarget&&a,s}withBlockContext(i,a){const s=this.context.blockContext;this.context.blockContext=this.context.blockContext|i;const d=this.context.curlyParsingType;this.context.curlyParsingType=Ht.Automatic;const A=a.call(this);return this.context.blockContext=s,this.context.curlyParsingType=d,A}consumeSemicolon(){if(this.matchPunctuator(";"))this.readNextRawToken();else if(!this.hasLineTerminator)return this.rawToken.type===he.EOF||this.matchPunctuator("}")?(this.endMarker.index=this.startMarker.index,this.endMarker.line=this.startMarker.line,void(this.endMarker.column=this.startMarker.column)):void this.throwUnexpectedToken({rawToken:this.rawToken})}parsePrimaryExpression(){const i=this.captureStartMarker(),a=this.rawToken;switch(a.type){case he.Identifier:return this.readNextRawToken(),this.finalize({type:F.Identifier,name:a.value,...this.getItemLocation(i)});case he.NumericLiteral:case he.StringLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:F.Literal,value:a.value,raw:this.getSourceValue(a),isString:"string"==typeof a.value,...this.getItemLocation(i)});case he.BooleanLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:F.Literal,value:a.value.toLowerCase()===J.True,raw:this.getSourceValue(a),isString:!1,...this.getItemLocation(i)});case he.NullLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:F.Literal,value:null,raw:this.getSourceValue(a),isString:!1,...this.getItemLocation(i)});case he.Template:return this.parseTemplateLiteral();case he.Punctuator:switch(a.value){case"(":return this.inheritCoverGrammar(this.parseGroupExpression);case"[":return this.inheritCoverGrammar(this.parseArrayInitializer);case"{":return this.inheritCoverGrammar(this.parseObjectExpression);default:return this.throwUnexpectedToken({rawToken:this.rawToken})}case he.Keyword:return this.context.isAssignmentTarget=!1,this.throwUnexpectedToken({rawToken:this.rawToken});default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseArrayInitializer(){const i=this.captureStartMarker();this.expectPunctuator("[");const a=[];for(;!this.matchPunctuator("]");){const s=this.captureStartMarker();this.matchPunctuator(",")?(this.readNextRawToken(),this.throwError(fe.InvalidExpression,s)):(a.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.matchPunctuator("]")||this.expectPunctuator(","))}return this.expectPunctuator("]"),this.finalize({type:F.ArrayExpression,elements:a,...this.getItemLocation(i)})}parseObjectPropertyKey(){const i=this.captureStartMarker(),a=this.rawToken;switch(a.type){case he.StringLiteral:return this.readNextRawToken(),this.finalize({type:F.Literal,value:a.value,raw:this.getSourceValue(a),isString:!0,...this.getItemLocation(i)});case he.Identifier:case he.BooleanLiteral:case he.NullLiteral:case he.Keyword:return this.readNextRawToken(),this.finalize({type:F.Identifier,name:a.value,...this.getItemLocation(i)});default:this.throwError(fe.KeyMustBeString,i)}}parseObjectProperty(){const i=this.rawToken,a=this.captureStartMarker(),s=this.parseObjectPropertyKey();let d=!1,A=null;return this.matchPunctuator(":")?(this.readNextRawToken(),A=this.inheritCoverGrammar(this.parseAssignmentExpression)):i.type===he.Identifier?(d=!0,A=this.finalize({type:F.Identifier,name:i.value,...this.getItemLocation(a)})):this.throwUnexpectedToken({rawToken:this.rawToken}),this.finalize({type:F.Property,kind:"init",key:s,value:A,shorthand:d,...this.getItemLocation(a)})}parseObjectExpression(){const i=this.captureStartMarker();this.expectPunctuator("{");const a=[];for(;!this.matchPunctuator("}");)a.push(this.parseObjectProperty()),this.matchPunctuator("}")||this.expectPunctuator(",");return this.expectPunctuator("}"),this.finalize({type:F.ObjectExpression,properties:a,...this.getItemLocation(i)})}parseTemplateElement(i=!1){const a=this.rawToken;a.type!==he.Template&&this.throwUnexpectedToken({rawToken:a}),i&&!a.head&&this.throwUnexpectedToken({code:fe.InvalidTemplateHead,rawToken:a});const s=this.captureStartMarker();this.readNextRawToken();const{value:d,cooked:A,tail:M}=a,h=this.finalize({type:F.TemplateElement,value:{raw:d,cooked:A},tail:M,...this.getItemLocation(s)});return h.loc.start.column++,h.loc.end.column=h.loc.end.column-(M?1:2),h}parseTemplateLiteral(){const i=this.captureStartMarker(),a=[],s=[];let d=this.parseTemplateElement(!0);for(s.push(d);!d.tail;)a.push(this.parseExpression()),d=this.parseTemplateElement(),s.push(d);return this.finalize({type:F.TemplateLiteral,quasis:s,expressions:a,...this.getItemLocation(i)})}parseGroupExpression(){this.expectPunctuator("(");const i=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.expectPunctuator(")"),i}parseArguments(){this.expectPunctuator("(");const i=[];if(!this.matchPunctuator(")"))for(;;){const a=this.isolateCoverGrammar(this.parseAssignmentExpression);if(i.push(a),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),i}parseMemberName(){const i=this.rawToken,a=this.captureStartMarker();return this.readNextRawToken(),i.type!==he.NullLiteral&&i.type!==he.Identifier&&i.type!==he.Keyword&&i.type!==he.BooleanLiteral&&this.throwUnexpectedToken({rawToken:i}),this.finalize({type:F.Identifier,name:i.value,...this.getItemLocation(a)})}parseLeftHandSideExpression(){const i=this.captureStartMarker();let a=this.inheritCoverGrammar(this.parsePrimaryExpression);const s=this.captureStartMarker();let d;for(;d=this.getMatchingPunctuator("([.");)switch(d){case"(":{this.context.isAssignmentTarget=!1,a.type!==F.Identifier&&a.type!==F.MemberExpression&&this.throwError(fe.IdentiferExpected,i,s);const A=this.parseArguments();a=this.finalize({type:F.CallExpression,callee:a,arguments:A,...this.getItemLocation(i)});continue}case"[":{this.context.isAssignmentTarget=!0,this.expectPunctuator("[");const A=this.isolateCoverGrammar(this.parseExpression);this.expectPunctuator("]"),a=this.finalize({type:F.MemberExpression,computed:!0,object:a,property:A,...this.getItemLocation(i)});continue}case".":{this.context.isAssignmentTarget=!0,this.expectPunctuator(".");const A=this.parseMemberName();a=this.finalize({type:F.MemberExpression,computed:!1,object:a,property:A,...this.getItemLocation(i)});continue}}return a}parseUpdateExpression(){const i=this.captureStartMarker();let a=this.getMatchingPunctuator(G);if(a){this.readNextRawToken();const M=this.captureStartMarker(),h=this.inheritCoverGrammar(this.parseUnaryExpression);return h.type!==F.Identifier&&h.type!==F.MemberExpression&&h.type!==F.CallExpression&&this.throwError(fe.InvalidExpression,M),this.context.isAssignmentTarget||this.tolerateError(fe.InvalidLeftHandSideInAssignment,i),this.context.isAssignmentTarget=!1,this.finalize({type:F.UpdateExpression,operator:a,argument:h,prefix:!0,...this.getItemLocation(i)})}const s=this.captureStartMarker(),d=this.inheritCoverGrammar(this.parseLeftHandSideExpression),A=this.captureStartMarker();return this.hasLineTerminator?d:(a=this.getMatchingPunctuator(G),a?(d.type!==F.Identifier&&d.type!==F.MemberExpression&&this.throwError(fe.InvalidExpression,s,A),this.context.isAssignmentTarget||this.tolerateError(fe.InvalidLeftHandSideInAssignment,i),this.readNextRawToken(),this.context.isAssignmentTarget=!1,this.finalize({type:F.UpdateExpression,operator:a,argument:d,prefix:!1,...this.getItemLocation(i)})):d)}parseUnaryExpression(){const i=this.getMatchingPunctuator(se);if(i){const a=this.captureStartMarker();this.readNextRawToken();const s=this.inheritCoverGrammar(this.parseUnaryExpression);return this.context.isAssignmentTarget=!1,this.finalize({type:F.UnaryExpression,operator:i,argument:s,prefix:!0,...this.getItemLocation(a)})}return this.parseUpdateExpression()}parseBinaryExpression(){const i=this.rawToken;let a=this.inheritCoverGrammar(this.parseUnaryExpression);if(this.rawToken.type!==he.Punctuator)return a;const s=this.rawToken.value;let d=_n(s);if(0===d)return a;this.readNextRawToken(),this.context.isAssignmentTarget=!1;const A=[i,this.rawToken];let M=a,h=this.inheritCoverGrammar(this.parseUnaryExpression);const P=[M,s,h],re=[d];for(;this.rawToken.type===he.Punctuator&&(d=_n(this.rawToken.value))>0;){for(;P.length>2&&d<=re[re.length-1];){h=P.pop();const Ee=P.pop();re.pop(),M=P.pop(),A.pop();const at=A[A.length-1],st=In(at,at.lineStart);P.push(this.finalize(this.createBinaryOrLogicalExpression(st,Ee,M,h)))}P.push(this.rawToken.value),re.push(d),A.push(this.rawToken),this.readNextRawToken(),P.push(this.inheritCoverGrammar(this.parseUnaryExpression))}let De=P.length-1;a=P[De];let Le=A.pop();for(;De>1;){var Te;const Ee=A.pop();if(!Ee)break;const st=In(Ee,null===(Te=Le)||void 0===Te?void 0:Te.lineStart);a=this.finalize(this.createBinaryOrLogicalExpression(st,P[De-1],P[De-2],a)),De-=2,Le=Ee}return a}createBinaryOrLogicalExpression(i,a,s,d){const A=Ue.includes(a)?F.LogicalExpression:F.BinaryExpression;return A===F.BinaryExpression||(s.type!==F.AssignmentExpression&&s.type!==F.UpdateExpression||this.throwError(fe.InvalidExpression,...bn(s)),d.type!==F.AssignmentExpression&&d.type!==F.UpdateExpression||this.throwError(fe.InvalidExpression,...bn(s))),{type:A,operator:a,left:s,right:d,...this.getItemLocation(i)}}parseAssignmentExpression(){const i=this.captureStartMarker(),a=this.inheritCoverGrammar(this.parseBinaryExpression),s=this.captureStartMarker(),d=this.getMatchingPunctuator(ge);if(!d)return a;a.type!==F.Identifier&&a.type!==F.MemberExpression&&this.throwError(fe.InvalidExpression,i,s),this.context.isAssignmentTarget||this.tolerateError(fe.InvalidLeftHandSideInAssignment,i),this.matchPunctuator("=")||(this.context.isAssignmentTarget=!1),this.readNextRawToken();const A=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize({type:F.AssignmentExpression,left:a,operator:d,right:A,...this.getItemLocation(i)})}parseExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpression)}parseStatements(i){const a=[];for(;this.rawToken.type!==he.EOF&&!this.matchPunctuator(i);){const s=this.parseStatementListItem();le(s)||a.push(s)}return a}parseStatementListItem(){return this.context.isAssignmentTarget=!0,this.matchKeyword(J.Function)?this.parseFunctionDeclaration():this.matchKeyword(J.Export)?this.parseExportDeclaration():this.matchKeyword(J.Import)?this.parseImportDeclaration():this.parseStatement()}parseBlock(){const i=this.captureStartMarker();this.expectPunctuator("{");const a=this.parseStatements("}");return this.expectPunctuator("}"),this.finalize({type:F.BlockStatement,body:a,...this.getItemLocation(i)})}parseObjectStatement(){const i=this.captureStartMarker(),a=this.parseObjectExpression();return this.finalize({type:F.ExpressionStatement,expression:a,...this.getItemLocation(i)})}parseBlockOrObjectStatement(){return this.context.curlyParsingType===Ht.AsObject||this.peekAhead(i=>{let a=i();return(a.type===he.Identifier||a.type===he.StringLiteral)&&(a=i(),a.type===he.Punctuator&&":"===a.value)})?this.parseObjectStatement():this.parseBlock()}parseIdentifier(){const i=this.rawToken;if(i.type!==he.Identifier)return null;const a=this.captureStartMarker();return this.readNextRawToken(),this.finalize({type:F.Identifier,name:i.value,...this.getItemLocation(a)})}parseVariableDeclarator(){const i=this.captureStartMarker(),a=this.parseIdentifier();a||this.throwUnexpectedToken({code:fe.IdentiferExpected});let s=null;if(this.matchPunctuator("=")){this.readNextRawToken();const d=this.rawToken;try{s=this.isolateCoverGrammar(this.parseAssignmentExpression)}catch{this.throwUnexpectedToken({rawToken:d,code:fe.InvalidVariableAssignment})}}return this.finalize({type:F.VariableDeclarator,id:a,init:s,...this.getItemLocation(i)})}parseVariableDeclarationList(){const i=[this.parseVariableDeclarator()];for(;this.matchPunctuator(",");)this.readNextRawToken(),i.push(this.parseVariableDeclarator());return i}parseVariableDeclaration(){const i=this.captureStartMarker();this.expectKeyword(J.Var);const a=this.parseVariableDeclarationList();return this.consumeSemicolon(),this.finalize({type:F.VariableDeclaration,declarations:a,kind:"var",...this.getItemLocation(i)})}parseEmptyStatement(){const i=this.captureStartMarker();return this.expectPunctuator(";"),this.finalize({type:F.EmptyStatement,...this.getItemLocation(i)})}parseExpressionStatement(){const i=this.captureStartMarker(),a=this.parseExpression();return this.consumeSemicolon(),this.finalize({type:F.ExpressionStatement,expression:a,...this.getItemLocation(i)})}parseIfClause(){return this.withBlockContext(tt.IfClause,this.parseStatement)}parseIfStatement(){const i=this.captureStartMarker();this.expectKeyword(J.If),this.expectPunctuator("(");const a=this.captureStartMarker(),s=this.parseExpression(),d=this.captureStartMarker();this.expectPunctuator(")"),s.type!==F.AssignmentExpression&&s.type!==F.UpdateExpression||this.throwError(fe.InvalidExpression,a,d);const A=this.parseIfClause();let M=null;return this.matchKeyword(J.Else)&&(this.readNextRawToken(),M=this.parseIfClause()),this.finalize({type:F.IfStatement,test:s,consequent:A,alternate:M,...this.getItemLocation(i)})}parseWhileStatement(){const i=this.captureStartMarker();this.expectKeyword(J.While),this.expectPunctuator("(");const a=this.captureStartMarker(),s=this.parseExpression(),d=this.captureStartMarker();this.expectPunctuator(")"),s.type!==F.AssignmentExpression&&s.type!==F.UpdateExpression||this.throwError(fe.InvalidExpression,a,d);const A=this.withBlockContext(tt.WhileLoop,this.parseStatement);return this.finalize({type:F.WhileStatement,test:s,body:A,...this.getItemLocation(i)})}parseForStatement(){let i=null,a=null,s=null,d=null,A=null;const M=this.captureStartMarker();if(this.expectKeyword(J.For),this.expectPunctuator("("),this.matchPunctuator(";"))this.readNextRawToken();else if(this.matchKeyword(J.Var)){const P=this.captureStartMarker();this.readNextRawToken();const re=this.parseVariableDeclarationList();1===re.length&&this.matchKeyword(J.In)?(re[0].init&&this.throwError(fe.ForInOfLoopInitializer,P),d=this.finalize({type:F.VariableDeclaration,declarations:re,kind:"var",...this.getItemLocation(P)}),this.readNextRawToken(),A=this.parseExpression()):(this.matchKeyword(J.In)&&this.throwError(fe.InvalidLeftHandSideInForIn,P),i=this.finalize({type:F.VariableDeclaration,declarations:re,kind:"var",...this.getItemLocation(P)}),this.expectPunctuator(";"))}else{const P=this.context.isAssignmentTarget,re=this.captureStartMarker();i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.matchKeyword(J.In)?(this.context.isAssignmentTarget||this.tolerateError(fe.InvalidLeftHandSideInForIn,re),i.type!==F.Identifier&&this.throwError(fe.InvalidLeftHandSideInForIn,re),this.readNextRawToken(),d=i,A=this.parseExpression(),i=null):(this.context.isAssignmentTarget=P,this.expectPunctuator(";"))}d||(this.matchPunctuator(";")||(a=this.isolateCoverGrammar(this.parseExpression)),this.expectPunctuator(";"),this.matchPunctuator(")")||(s=this.isolateCoverGrammar(this.parseExpression))),this.expectPunctuator(")");const h=this.withBlockContext(tt.ForLoop,()=>this.isolateCoverGrammar(this.parseStatement));return this.finalize(d&&A?{type:F.ForInStatement,left:d,right:A,body:h,...this.getItemLocation(M)}:{type:F.ForStatement,init:i,test:a,update:s,body:h,...this.getItemLocation(M)})}parseContinueStatement(){const i=this.captureStartMarker();return this.expectKeyword(J.Continue),this.consumeSemicolon(),this.finalize({type:F.ContinueStatement,...this.getItemLocation(i)})}parseBreakStatement(){const i=this.captureStartMarker();return this.expectKeyword(J.Break),this.consumeSemicolon(),this.finalize({type:F.BreakStatement,...this.getItemLocation(i)})}parseReturnStatement(){const i=this.captureStartMarker();this.expectKeyword(J.Return);const a=(this.matchPunctuator(";")||this.matchPunctuator("}")||this.hasLineTerminator||this.rawToken.type===he.EOF)&&this.rawToken.type!==he.StringLiteral&&this.rawToken.type!==he.Template?null:this.parseExpression();return this.consumeSemicolon(),this.finalize({type:F.ReturnStatement,argument:a,...this.getItemLocation(i)})}parseStatement(){switch(this.rawToken.type){case he.BooleanLiteral:case he.NullLiteral:case he.NumericLiteral:case he.StringLiteral:case he.Template:case he.Identifier:return this.parseExpressionStatement();case he.Punctuator:return"{"===this.rawToken.value?this.parseBlockOrObjectStatement():"("===this.rawToken.value?this.parseExpressionStatement():";"===this.rawToken.value?this.parseEmptyStatement():this.parseExpressionStatement();case he.Keyword:switch(this.rawToken.value.toLowerCase()){case J.Break:return this.parseBreakStatement();case J.Continue:return this.parseContinueStatement();case J.For:return this.parseForStatement();case J.Function:return this.parseFunctionDeclaration();case J.If:return this.parseIfStatement();case J.Return:return this.parseReturnStatement();case J.Var:return this.parseVariableDeclaration();case J.While:return this.parseWhileStatement();default:return this.parseExpressionStatement()}default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseFormalParameters(){const i=[];if(this.expectPunctuator("("),!this.matchPunctuator(")"))for(;this.rawToken.type!==he.EOF;){const a=this.parseIdentifier();if(a||this.throwUnexpectedToken({rawToken:this.rawToken,code:fe.IdentiferExpected}),i.push(a),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),i}parseFunctionDeclaration(){(this.context.blockContext&tt.Function)===tt.Function&&this.throwUnexpectedToken({code:fe.NoFunctionInsideFunction}),(this.context.blockContext&tt.WhileLoop)!==tt.WhileLoop&&(this.context.blockContext&tt.IfClause)!==tt.IfClause||this.throwUnexpectedToken({code:fe.NoFunctionInsideBlock});const i=this.captureStartMarker();this.expectKeyword(J.Function);const a=this.parseIdentifier();a||this.throwUnexpectedToken({code:fe.InvalidFunctionIdentifier});const s=this.parseFormalParameters(),d=this.context.blockContext;this.context.blockContext=this.context.blockContext|tt.Function;const A=this.parseBlock();return this.context.blockContext=d,this.finalize({type:F.FunctionDeclaration,id:a,params:s,body:A,...this.getItemLocation(i)})}parseScript(){const i=this.captureStartMarker(),a=this.parseStatements(),s=this.finalize({type:F.Program,body:a,...this.getItemLocation(i)});return this.options.tokens&&(s.tokens=this.tokens),this.options.tolerant&&(s.errors=this.errorHandler.errors),s}parseExportDeclaration(){this.context.blockContext!==tt.None&&this.throwUnexpectedToken({code:fe.ModuleExportRootOnly});let i=null;const a=this.captureStartMarker();return this.expectKeyword(J.Export),this.matchKeyword(J.Var)?i=this.parseVariableDeclaration():this.matchKeyword("function")?i=this.parseFunctionDeclaration():this.throwUnexpectedToken({code:fe.InvalidExpression}),this.finalize({type:F.ExportNamedDeclaration,declaration:i,specifiers:[],source:null,...this.getItemLocation(a)})}parseModuleSpecifier(){const i=this.captureStartMarker(),a=this.rawToken;if(a.type===he.StringLiteral)return this.readNextRawToken(),this.finalize({type:F.Literal,value:a.value,raw:this.getSourceValue(a),isString:!0,...this.getItemLocation(i)});this.throwError(fe.InvalidModuleUri,i)}parseDefaultSpecifier(){const i=this.captureStartMarker(),a=this.parseIdentifier();return a||this.throwUnexpectedToken({code:fe.IdentiferExpected}),this.finalize({type:F.ImportDefaultSpecifier,local:a,...this.getItemLocation(i)})}parseImportDeclaration(){this.context.blockContext!==tt.None&&this.throwUnexpectedToken({code:fe.ModuleImportRootOnly});const i=this.captureStartMarker();this.expectKeyword(J.Import);const a=this.parseDefaultSpecifier();this.expectContextualKeyword(J.From);const s=this.parseModuleSpecifier();return this.finalize({type:F.ImportDeclaration,specifiers:[a],source:s,...this.getItemLocation(i)})}}function Wt(o,i=[]){const a=function cr(o,i,a){return new lr(o,i,a).parseScript()}(o);if(null==a.body)throw new ft({index:0,line:0,column:0,data:null,description:"",code:fe.InvalidExpression});return a.loadedModules={},(0,z.C0)(a,i),a}class Jt{constructor(i){const a=this;a._keys=[],a._values=[],a.length=0,i&&i.forEach(s=>{a.set(s[0],s[1])})}entries(){return[].slice.call(this.keys().map((i,a)=>[i,this._values[a]]))}keys(){return[].slice.call(this._keys)}values(){return[].slice.call(this._values)}has(i){return this._keys.includes(i)}get(i){const a=this._keys.indexOf(i);return a>-1?this._values[a]:null}deepGet(i){if(null==i||!i.length)return null;const a=(s,d)=>null==s?null:d.length?a(s instanceof Jt?s.get(d[0]):s[d[0]],d.slice(1)):s;return a(this.get(i[0]),i.slice(1))}set(i,a){const s=this,d=this._keys.indexOf(i);return d>-1?s._values[d]=a:(s._keys.push(i),s._values.push(a),s.length=s._values.length),this}sortedSet(i,a,s,d){const A=this,M=this._keys.length,h=s||0,P=void 0!==d?d:M-1;if(0===M)return A._keys.push(i),A._values.push(a),A;if(i===this._keys[h])return this._values.splice(h,0,a),this;if(i===this._keys[P])return this._values.splice(P,0,a),this;if(i>this._keys[P])return this._keys.splice(P+1,0,i),this._values.splice(P+1,0,a),this;if(i<this._keys[h])return this._values.splice(h,0,a),this._keys.splice(h,0,i),this;if(h>=P)return this;const re=h+Math.floor((P-h)/2);return i<this._keys[re]?this.sortedSet(i,a,h,re-1):i>this._keys[re]?this.sortedSet(i,a,re+1,P):this}size(){return this.length}clear(){const i=this;return i._keys.length=i.length=i._values.length=0,this}delete(i){const a=this,s=a._keys.indexOf(i);return s>-1&&(a._keys.splice(s,1),a._values.splice(s,1),a.length=a._keys.length,!0)}forEach(i){this._keys.forEach((a,s)=>{i(this._values[s],a,s)})}map(i){return this.keys().map((a,s)=>i(this._values[s],a,s))}filter(i){const a=this;return a._keys.forEach((s,d)=>{!1===i(a._values[d],s,d)&&a.delete(s)}),this}clone(){return new Jt(this.entries())}}class Mn{constructor(i=20){this._maxEntries=i,this._values=new Jt}delete(i){this._values.has(i)&&this._values.delete(i)}get(i){let a=null;return this._values.has(i)&&(a=this._values.get(i),this._values.delete(i),this._values.set(i,a)),a}put(i,a){if(this._values.size()>=this._maxEntries){const s=this._values.keys()[0];this._values.delete(s)}this._values.set(i,a)}}var Bn=_(73874);class nt{constructor(i){this.portalUri=i}normalizeModuleUri(i){const a=/^[a-z0-9A-Z]+(@[0-9]+\.[0-9]+\.[0-9]+)?([\?|\/].*)?$/gi,s=(0,b.A)(/(.+)\/home\/item\.html\?id=(.+)$/gi,{portalurl:1,itemid:2}),d=(0,b.A)(/(.+)\/sharing\/rest\/content\/users\/[a-zA-Z0-9]+\/items\/(.+)$/gi,{portalurl:1,itemid:2}),A=(0,b.A)(/(.+)\/sharing\/rest\/content\/items\/(.+)$/gi,{portalurl:1,itemid:2}),M=(0,b.A)(/(.*)@([0-9]+\.[0-9]+\.[0-9]+)([\?|\/].*)?$/gi,{itemid:1,versionstring:2});if(i.startsWith("portal+")){let h=i.substring(7),P="",re=h,De=!1;for(const Ee of[s,A,d]){const at=Ee.exec(h);if(null!==at){const st=at.groups;re=st.itemid,P=st.portalurl,De=!0;break}}if(!1===De){if(!a.test(h))throw new u.ps(u.B.UnsupportedUriProtocol,{uri:i});re=h,P=this.portalUri}re.includes("/")&&(re=re.split("/")[0]),re.includes("?")&&(re=re.split("?")[0]);let Le="current";const Te=M.exec(re);if(null!==Te){const Ee=Te.groups;re=Ee.itemid,Le=Ee.versionstring}return h=new Bn.A({url:P}).restUrl+"/content/items/"+re+"/resources/"+Le+".arc",{url:h,scheme:"portal",uri:"PO:"+h}}if(i.startsWith("mock")){if("mock"===i)return{url:"",scheme:"mock",data:'\n      export var hello = 1;\n      export function helloWorld() {\n          return "Hello World " + hello;\n      }\n  ',uri:"mock"};const h=i.replace("mock:","");if(void 0!==nt.mocks[h])return{url:"",scheme:"mock",data:nt.mocks[h],uri:i}}throw new u.ps(u.B.UnrecognizedUri,{uri:i})}fetchModule(i){var a=this;return(0,B.A)(function*(){const s=nt.cachedModules.getFromCache(i.uri);if(s)return s;const d=a.fetchSource(i);nt.cachedModules.addToCache(i.uri,d);let A=null;try{A=yield d}catch(M){throw nt.cachedModules.removeFromCache(i.uri),M}return A})()}fetchSource(i){return(0,B.A)(function*(){var a;if("portal"===i.scheme){const s=yield(0,Z.A)(i.url,{responseType:"text",query:{}});if(s.data)return Wt(s.data,[])}if("mock"===i.scheme)return Wt(null!==(a=i.data)&&void 0!==a?a:"",[]);throw new u.ps(u.B.UnsupportedUriProtocol)})()}static create(i){return new nt(i)}static getDefault(){var i;return null!==(i=this._default)&&void 0!==i?i:nt._default=nt._moduleResolverFactory()}static set moduleResolverClass(i){this._moduleResolverFactory=i,this._default=null}}nt.mocks={},nt.cachedModules=new class dr{constructor(i=20){this._maxEntries=i,this._cache=new Mn(this._maxEntries)}clear(){this._cache=new Mn(this._maxEntries)}addToCache(i,a){this._cache.put(i,a)}removeFromCache(i){this._cache.delete(i)}getFromCache(i){return this._cache.get(i)}}(30),nt._default=null,nt._moduleResolverFactory=()=>{const o=Bn.A.getDefault();return new nt(o.url)};class fr extends L.fF{constructor(i,a){super(),this.definition=null,this.context=null,this.definition=i,this.context=a}createFunction(i){return(...a)=>{var s;const d={spatialReference:this.context.spatialReference,console:this.context.console,services:this.context.services,timeZone:null!==(s=this.context.timeZone)&&void 0!==s?s:null,lrucache:this.context.lrucache,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:i.depthCounter.depth+1},globalScope:this.context.globalScope};if(d.depthCounter.depth>64)throw new u.D$(i,u.TX.MaximumCallDepth,null);return on(this.definition,d,a,null)}}call(i,a){return yt(i,a,(s,d,A)=>{var M;const h={spatialReference:i.spatialReference,services:i.services,globalScope:i.globalScope,depthCounter:{depth:i.depthCounter.depth+1},libraryResolver:i.libraryResolver,exports:i.exports,timeZone:null!==(M=i.timeZone)&&void 0!==M?M:null,console:i.console,lrucache:i.lrucache,interceptor:i.interceptor,localScope:{}};if(h.depthCounter.depth>64)throw new u.D$(i,u.TX.MaximumCallDepth,a);return on(this.definition,h,A,a)})}marshalledCall(i,a,s,d){return d(i,a,(A,M,h)=>{var P;const re={spatialReference:i.spatialReference,globalScope:s.globalScope,services:i.services,depthCounter:{depth:i.depthCounter.depth+1},libraryResolver:i.libraryResolver,exports:i.exports,console:i.console,timeZone:null!==(P=i.timeZone)&&void 0!==P?P:null,lrucache:i.lrucache,interceptor:i.interceptor,localScope:{}};return h=h.map(De=>!(0,l.i)(De)||De instanceof L.CU?De:(0,L.o6)(De,i,d)),(0,L.o6)(on(this.definition,re,h,a),s,d)})}}class jt extends E.x{constructor(i){super(i)}global(i){const a=this.executingContext.globalScope[i.toLowerCase()];if(a.valueset||(a.value=pe(this.executingContext,a.node),a.valueset=!0),(0,l.i)(a.value)&&!(a.value instanceof L.CU)){const s=new L.CU;s.fn=a.value,s.parameterEvaluator=yt,s.context=this.executingContext,a.value=s}return a.value}setGlobal(i,a){if((0,l.i)(a))throw new u.D$(null,u.TX.AssignModuleFunction,null);this.executingContext.globalScope[i.toLowerCase()]={value:a,valueset:!0,node:null}}hasGlobal(i){return void 0===this.executingContext.exports[i]&&(i=i.toLowerCase()),void 0!==this.executingContext.exports[i]}loadModule(i){var a,s;let d=i.spatialReference;null==d&&(d=new U.A({wkid:102100})),this.moduleScope=Rn({},i.customfunctions,i.timeZone),this.executingContext={spatialReference:d,globalScope:this.moduleScope,localScope:null,libraryResolver:new ce.a(i.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},services:i.services,console:null!==(a=i.console)&&void 0!==a?a:$n,timeZone:null!==(s=i.timeZone)&&void 0!==s?s:null,lrucache:i.lrucache,interceptor:i.interceptor,depthCounter:{depth:1}},pe(this.executingContext,this.source.syntax)}}function yt(o,i,a){try{return!0===i.preparsed?a(o,null,i.arguments):a(o,i,function Pn(o,i){const a=[];for(let s=0;s<i.arguments.length;s++)a.push(pe(o,i.arguments[s]));return a}(o,i))}catch(s){throw s}}function pe(o,i){try{switch(null==i?void 0:i.type){case"EmptyStatement":return l.B;case"VariableDeclarator":return function br(o,i){let a=null===i.init?null:pe(o,i.init);if(a===l.B&&(a=null),"Identifier"!==i.id.type)throw new u.D$(o,u.TX.InvalidIdentifier,i);const s=i.id.name.toLowerCase();return null!=o.localScope?o.localScope[s]={value:a,valueset:!0,node:i.init}:o.globalScope[s]={value:a,valueset:!0,node:i.init},l.B}(o,i);case"VariableDeclaration":return function Ir(o,i){for(let a=0;a<i.declarations.length;a++)pe(o,i.declarations[a]);return l.B}(o,i);case"ImportDeclaration":return function Tr(o,i){var a,s;const d=i.specifiers[0].local.name.toLowerCase(),A=o.libraryResolver.loadLibrary(d);let M=null;return null!==(a=o.libraryResolver._moduleSingletons)&&void 0!==a&&a.has(A.uri)?M=o.libraryResolver._moduleSingletons.get(A.uri):(M=new jt(A),M.loadModule(o),null===(s=o.libraryResolver._moduleSingletons)||void 0===s||s.set(A.uri,M)),o.globalScope[d]={value:M,valueset:!0,node:i},l.B}(o,i);case"ExportNamedDeclaration":return function Sr(o,i){if(pe(o,i.declaration),"FunctionDeclaration"===i.declaration.type)o.exports[i.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===i.declaration.type)for(const a of i.declaration.declarations)o.exports[a.id.name.toLowerCase()]="variable";return l.B}(o,i);case"BlockStatement":case"Program":return function Cr(o,i){let a=l.B;for(let s=0;s<i.body.length;s++)if(a=pe(o,i.body[s]),a instanceof l.z||a===l.C||a===l.D)return a;return a}(o,i);case"FunctionDeclaration":return function wr(o,i){const a=i.id.name.toLowerCase();return o.globalScope[a]={valueset:!0,node:null,value:new fr(i,o)},l.B}(o,i);case"ReturnStatement":return function Fr(o,i){if(null===i.argument)return new l.z(l.B);const a=pe(o,i.argument);return new l.z(a)}(o,i);case"IfStatement":return function Er(o,i){const a=pe(o,i.test);if(!0===a)return pe(o,i.consequent);if(!1===a)return null!==i.alternate?pe(o,i.alternate):l.B;throw new u.D$(o,u.TX.BooleanConditionRequired,i)}(o,i);case"ExpressionStatement":return function vr(o,i){if("AssignmentExpression"===i.expression.type||"UpdateExpression"===i.expression.type)return pe(o,i.expression);if("CallExpression"===i.expression.type){const a=pe(o,i.expression);return a===l.B?l.B:new l.A(a)}{const a=pe(o,i.expression);return a===l.B?l.B:new l.A(a)}}(o,i);case"AssignmentExpression":return function xr(o,i){let a=null,s="";if("MemberExpression"===i.left.type){if(a=pe(o,i.left.object),!0===i.left.computed)s=pe(o,i.left.property);else{if("Identifier"!==i.left.property.type)throw new u.D$(o,u.TX.InvalidIdentifier,i);s=i.left.property.name}const A=pe(o,i.right);if((0,l.o)(a)){if(!(0,l.b)(s))throw new u.D$(o,u.TX.ArrayAccessorMustBeNumber,i);if(s<0&&(s=a.length+s),s<0||s>a.length)throw new u.D$(o,u.TX.OutOfBounds,i);if(s===a.length){if("="!==i.operator)throw new u.D$(o,u.TX.OutOfBounds,i);a[s]=xt(A,i.operator,a[s],i,o)}else a[s]=xt(A,i.operator,a[s],i,o)}else if(a instanceof x.A){if(!1===(0,l.c)(s))throw new u.D$(o,u.TX.KeyAccessorMustBeString,i);if(!0===a.hasField(s))a.setField(s,xt(A,i.operator,a.field(s),i,o));else{if("="!==i.operator)throw new u.D$(o,u.TX.FieldNotFound,i,{key:s});a.setField(s,xt(A,i.operator,null,i,o))}}else if((0,l.r)(a)){if(!1===(0,l.c)(s))throw new u.D$(o,u.TX.KeyAccessorMustBeString,i);if(!0===a.hasField(s))a.setField(s,xt(A,i.operator,a.field(s),i,o));else{if("="!==i.operator)throw new u.D$(o,u.TX.FieldNotFound,i,{key:s});a.setField(s,xt(A,i.operator,null,i,o))}}else{if((0,l.q)(a))throw new u.D$(o,u.TX.Immutable,i);if(!(a instanceof jt))throw new u.D$(o,u.TX.InvalidIdentifier,i);if(!1===(0,l.c)(s))throw new u.D$(o,u.TX.ModuleAccessorMustBeString,i);if(!0!==a.hasGlobal(s))throw new u.D$(o,u.TX.ModuleExportNotFound,i);a.setGlobal(s,xt(A,i.operator,a.global(s),i,o))}return l.B}a=i.left.name.toLowerCase();const d=pe(o,i.right);if(null!=o.localScope&&void 0!==o.localScope[a])return o.localScope[a]={value:xt(d,i.operator,o.localScope[a].value,i,o),valueset:!0,node:i.right},l.B;if(void 0!==o.globalScope[a])return o.globalScope[a]={value:xt(d,i.operator,o.globalScope[a].value,i,o),valueset:!0,node:i.right},l.B;throw new u.D$(o,u.TX.InvalidIdentifier,i)}(o,i);case"UpdateExpression":return function Ar(o,i){let a,s=null,d="";if("MemberExpression"===i.argument.type){if(s=pe(o,i.argument.object),!0===i.argument.computed?d=pe(o,i.argument.property):"Identifier"===i.argument.property.type&&(d=i.argument.property.name),(0,l.o)(s)){if(!(0,l.b)(d))throw new u.D$(o,u.TX.ArrayAccessorMustBeNumber,i);if(d<0&&(d=s.length+d),d<0||d>=s.length)throw new u.D$(o,u.TX.OutOfBounds,i);a=(0,l.g)(s[d]),s[d]="++"===i.operator?a+1:a-1}else if(s instanceof x.A){if(!1===(0,l.c)(d))throw new u.D$(o,u.TX.KeyAccessorMustBeString,i);if(!0!==s.hasField(d))throw new u.D$(o,u.TX.FieldNotFound,i);a=(0,l.g)(s.field(d)),s.setField(d,"++"===i.operator?a+1:a-1)}else if((0,l.r)(s)){if(!1===(0,l.c)(d))throw new u.D$(o,u.TX.KeyAccessorMustBeString,i);if(!0!==s.hasField(d))throw new u.D$(o,u.TX.FieldNotFound,i);a=(0,l.g)(s.field(d)),s.setField(d,"++"===i.operator?a+1:a-1)}else{if((0,l.q)(s))throw new u.D$(o,u.TX.Immutable,i);if(!(s instanceof jt))throw new u.D$(o,u.TX.InvalidParameter,i);if(!1===(0,l.c)(d))throw new u.D$(o,u.TX.ModuleAccessorMustBeString,i);if(!0!==s.hasGlobal(d))throw new u.D$(o,u.TX.ModuleExportNotFound,i);a=(0,l.g)(s.global(d)),s.setGlobal(d,"++"===i.operator?a+1:a-1)}return!1===i.prefix?a:"++"===i.operator?a+1:a-1}if(s="Identifier"===i.argument.type?i.argument.name.toLowerCase():"",!s)throw new u.D$(o,u.TX.InvalidIdentifier,i);if(null!=o.localScope&&void 0!==o.localScope[s])return a=(0,l.g)(o.localScope[s].value),o.localScope[s]={value:"++"===i.operator?a+1:a-1,valueset:!0,node:i},!1===i.prefix?a:"++"===i.operator?a+1:a-1;if(void 0!==o.globalScope[s])return a=(0,l.g)(o.globalScope[s].value),o.globalScope[s]={value:"++"===i.operator?a+1:a-1,valueset:!0,node:i},!1===i.prefix?a:"++"===i.operator?a+1:a-1;throw new u.D$(o,u.TX.InvalidIdentifier,i)}(o,i);case"BreakStatement":return l.C;case"ContinueStatement":return l.D;case"TemplateElement":return function kr(o,i){return i.value?i.value.cooked:""}(0,i);case"TemplateLiteral":return function Rr(o,i){let a="",s=0;for(const d of i.quasis)a+=d.value?d.value.cooked:"",!1===d.tail&&(a+=i.expressions[s]?(0,l.j)(Nr(pe(o,i.expressions[s]),o,i)):"",s++);return a}(o,i);case"ForStatement":return function Dr(o,i){null!==i.init&&pe(o,i.init);const a={testResult:!0,lastAction:l.B};do{yr(o,i,a)}while(!0===a.testResult);return a.lastAction instanceof l.z?a.lastAction:l.B}(o,i);case"ForInStatement":return function pr(o,i){const a=pe(o,i.right);"VariableDeclaration"===i.left.type&&pe(o,i.left);let s=null,d="";if("VariableDeclaration"===i.left.type){const A=i.left.declarations[0].id;"Identifier"===A.type&&(d=A.name)}else"Identifier"===i.left.type&&(d=i.left.name);if(!d)throw new u.D$(o,u.TX.InvalidIdentifier,i);if(d=d.toLowerCase(),null!=o.localScope&&void 0!==o.localScope[d]&&(s=o.localScope[d]),null===s&&void 0!==o.globalScope[d]&&(s=o.globalScope[d]),null===s)throw new u.D$(o,u.TX.InvalidIdentifier,i);if((0,l.o)(a)||(0,l.c)(a)){const A=a.length;for(let M=0;M<A;M++){s.value=M;const h=pe(o,i.body);if(h===l.C)break;if(h instanceof l.z)return h}return l.B}if((0,l.q)(a)){for(let A=0;A<a.length();A++){s.value=A;const M=pe(o,i.body);if(M===l.C)break;if(M instanceof l.z)return M}return l.B}if(!(a instanceof x.A||(0,l.r)(a)))return l.B;{const A=a.keys();for(let M=0;M<A.length;M++){s.value=A[M];const h=pe(o,i.body);if(h===l.C)break;if(h instanceof l.z)return h}}}(o,i);case"WhileStatement":return function gr(o,i){const a={testResult:!0,lastAction:l.B};if(a.testResult=pe(o,i.test),!1===a.testResult)return l.B;if(!0!==a.testResult)throw new u.D$(o,u.TX.BooleanConditionRequired,i);for(;!0===a.testResult&&(a.lastAction=pe(o,i.body),a.lastAction!==l.C)&&!(a.lastAction instanceof l.z);)if(a.testResult=pe(o,i.test),!0!==a.testResult&&!1!==a.testResult)throw new u.D$(o,u.TX.BooleanConditionRequired,i);return a.lastAction instanceof l.z?a.lastAction:l.B}(o,i);case"Identifier":return On(o,i);case"MemberExpression":return function _r(o,i){try{const a=pe(o,i.object);if(null===a)throw new u.D$(o,u.TX.MemberOfNull,i);if(!1===i.computed){if("Identifier"===i.property.type){if(a instanceof x.A||(0,l.r)(a))return a.field(i.property.name);if(a instanceof D.A)return(0,ee.B)(a,i.property.name,i,o);if(a instanceof jt){if(!a.hasGlobal(i.property.name))throw new u.D$(o,u.TX.InvalidIdentifier,i);return a.global(i.property.name)}}throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}{let s=pe(o,i.property);if(a instanceof x.A||(0,l.r)(a)){if((0,l.c)(s))return a.field(s);throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}if(a instanceof jt){if((0,l.c)(s))return a.global(s);throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}if(a instanceof D.A){if((0,l.c)(s))return(0,ee.B)(a,s,i,o);throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}if((0,l.o)(a)){if((0,l.b)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=a.length+s),s>=a.length||s<0)throw new u.D$(o,u.TX.OutOfBounds,i);return a[s]}throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}if((0,l.c)(a)){if((0,l.b)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=a.length+s),s>=a.length||s<0)throw new u.D$(o,u.TX.OutOfBounds,i);return a[s]}throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}if((0,l.q)(a)){if((0,l.b)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=a.length()+s),s>=a.length()||s<0)throw new u.D$(o,u.TX.OutOfBounds,i);return a.get(s)}throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}throw new u.D$(o,u.TX.InvalidMemberAccessKey,i)}}catch(a){throw a}}(o,i);case"Literal":return i.value;case"CallExpression":return function $r(o,i){try{if("MemberExpression"===i.callee.type){const a=pe(o,i.callee.object);if(!(a instanceof jt))throw new u.D$(o,u.TX.FunctionNotFound,i);const s=!1===i.callee.computed?i.callee.property.name:pe(o,i.callee.property);if(!a.hasGlobal(s))throw new u.D$(o,u.TX.FunctionNotFound,i);const d=a.global(s);if(!(0,l.i)(d))throw new u.D$(o,u.TX.CallNonFunction,i);return d.call(o,i)}if("Identifier"!==i.callee.type)throw new u.D$(o,u.TX.FunctionNotFound,i);if(null!=o.localScope&&void 0!==o.localScope[i.callee.name.toLowerCase()]){const a=o.localScope[i.callee.name.toLowerCase()];if((0,l.i)(a.value))return a.value.call(o,i);throw new u.D$(o,u.TX.CallNonFunction,i)}if(void 0!==o.globalScope[i.callee.name.toLowerCase()]){const a=o.globalScope[i.callee.name.toLowerCase()];if((0,l.i)(a.value))return a.value.call(o,i);throw new u.D$(o,u.TX.CallNonFunction,i)}throw new u.D$(o,u.TX.FunctionNotFound,i)}catch(a){throw a}}(o,i);case"UnaryExpression":return function Mr(o,i){try{const a=pe(o,i.argument);if((0,l.a)(a)){if("!"===i.operator)return!a;if("-"===i.operator)return-1*(0,l.g)(a);if("+"===i.operator)return 1*(0,l.g)(a);if("~"===i.operator)return~(0,l.g)(a);throw new u.D$(o,u.TX.UnsupportedUnaryOperator,i)}if("~"===i.operator)return~(0,l.g)(a);if("-"===i.operator)return-1*(0,l.g)(a);if("+"===i.operator)return 1*(0,l.g)(a);throw new u.D$(o,u.TX.UnsupportedUnaryOperator,i)}catch(a){throw a}}(o,i);case"BinaryExpression":return function Pr(o,i){try{const a=[pe(o,i.left),pe(o,i.right)],s=a[0],d=a[1];switch(i.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,l.G)((0,l.g)(s),(0,l.g)(d),i.operator);case"==":return(0,l.F)(s,d);case"!=":return!(0,l.F)(s,d);case"<":case">":case"<=":case">=":return(0,l.E)(s,d,i.operator);case"+":return(0,l.c)(s)||(0,l.c)(d)?(0,l.j)(s)+(0,l.j)(d):(0,l.g)(s)+(0,l.g)(d);case"-":return(0,l.g)(s)-(0,l.g)(d);case"*":return(0,l.g)(s)*(0,l.g)(d);case"/":return(0,l.g)(s)/(0,l.g)(d);case"%":return(0,l.g)(s)%(0,l.g)(d);default:throw new u.D$(o,u.TX.UnsupportedOperator,i)}}catch(a){throw a}}(o,i);case"LogicalExpression":return function Or(o,i){try{const a=pe(o,i.left);if((0,l.a)(a))switch(i.operator){case"||":if(!0===a)return a;{const s=pe(o,i.right);if((0,l.a)(s))return s;throw new u.D$(o,u.TX.LogicExpressionOrAnd,i)}case"&&":if(!1===a)return a;{const s=pe(o,i.right);if((0,l.a)(s))return s;throw new u.D$(o,u.TX.LogicExpressionOrAnd,i)}default:throw new u.D$(o,u.TX.LogicExpressionOrAnd,i)}throw new u.D$(o,u.TX.LogicalExpressionOnlyBoolean,i)}catch(a){throw a}}(o,i);case"ArrayExpression":return function Br(o,i){try{const a=[];for(let s=0;s<i.elements.length;s++){const d=pe(o,i.elements[s]);if((0,l.i)(d))throw new u.D$(o,u.TX.NoFunctionInArray,i);a.push(d===l.B?null:d)}return a}catch(a){throw a}}(o,i);case"ObjectExpression":return function hr(o,i){const a={},s=new Map;for(let A=0;A<i.properties.length;A++){const M=pe(o,i.properties[A]);if((0,l.i)(M.value))throw new u.D$(o,u.TX.NoFunctionInDictionary,i);if(!1===(0,l.c)(M.key))throw new u.D$(o,u.TX.KeyMustBeString,i);let h=M.key.toString();const P=h.toLowerCase();s.has(P)?h=s.get(P):s.set(P,h),a[h]=M.value===l.B?null:M.value}const d=new x.A(a);return d.immutable=!1,d}(o,i);case"Property":return function mr(o,i){return{key:"Identifier"===i.key.type?i.key.name:pe(o,i.key),value:pe(o,i.value)}}(o,i);default:throw new u.D$(o,u.TX.Unrecognized,i)}}catch(a){throw(0,u.Nh)(o,i,a)}}function yr(o,i,a){if(null!==i.test){if(a.testResult=pe(o,i.test),!1===a.testResult)return;if(!0!==a.testResult)throw new u.D$(o,u.TX.BooleanConditionRequired,i)}a.lastAction=pe(o,i.body),a.lastAction!==l.C?a.lastAction instanceof l.z?a.testResult=!1:null!==i.update&&pe(o,i.update):a.testResult=!1}function xt(o,i,a,s,d){switch(i){case"=":return o===l.B?null:o;case"/=":return(0,l.g)(a)/(0,l.g)(o);case"*=":return(0,l.g)(a)*(0,l.g)(o);case"-=":return(0,l.g)(a)-(0,l.g)(o);case"+=":return(0,l.c)(a)||(0,l.c)(o)?(0,l.j)(a)+(0,l.j)(o):(0,l.g)(a)+(0,l.g)(o);case"%=":return(0,l.g)(a)%(0,l.g)(o);default:throw new u.D$(d,u.TX.UnsupportedOperator,s)}}function Nr(o,i,a){if((0,l.i)(o))throw new u.D$(i,u.TX.NoFunctionInTemplateLiteral,a);return o}function On(o,i){let a;try{const s=i.name.toLowerCase();if(null!=o.localScope&&void 0!==o.localScope[s])return a=o.localScope[s],!0===a.valueset||(a.value=pe(o,a.node),a.valueset=!0),a.value;if(void 0!==o.globalScope[s])return a=o.globalScope[s],!0===a.valueset||(a.value=pe(o,a.node),a.valueset=!0),a.value;throw new u.D$(o,u.TX.InvalidIdentifier,i)}catch(s){throw s}}const Qe={};function kn(o,i,a,s){try{const d=i.arguments,A=pe(o,d[a]);if((0,l.F)(A,s))return pe(o,d[a+1]);{const M=d.length-a;return 1===M?pe(o,d[a]):2===M?null:3===M?pe(o,d[a+2]):kn(o,i,a+2,s)}}catch(d){throw d}}function Nn(o,i,a,s){try{const d=i.arguments;if(!0===s)return pe(o,d[a+1]);if(d.length-a==3)return pe(o,d[a+2]);{const A=pe(o,d[a+2]);if(!1===(0,l.a)(A))throw new u.D$(o,u.TX.BooleanConditionRequired,d[a+2]);return Nn(o,i,a+2,A)}}catch(d){throw d}}function on(o,i,a,s){try{const d=o.body;if(a.length!==o.params.length)throw new u.D$(i,u.TX.WrongNumberOfParameters,s);if(null!=i.localScope)for(let M=0;M<a.length;M++)i.localScope[o.params[M].name.toLowerCase()]={value:a[M],valueset:!0,node:null};const A=pe(i,d);if(A instanceof l.z)return A.value;if(A===l.C)throw new u.D$(i,u.TX.UnexpectedToken,s);if(A===l.D)throw new u.D$(i,u.TX.UnexpectedToken,s);return A instanceof l.A?A.value:A}catch(d){throw d}}(0,N.d)(Qe,yt),(0,W.d)(Qe,yt),(0,me.d)(Qe,yt),(0,ee.d)(Qe,yt),(0,Ae.d)(Qe,yt),ie(Qe,yt),Qe.iif=function(o,i){try{const a=i.arguments;(0,l.H)(null===a?[]:a,3,3,o,i);const s=pe(o,a[0]);if(!1===(0,l.a)(s))throw new u.D$(o,u.TX.BooleanConditionRequired,i);return pe(o,!0===s?a[1]:a[2])}catch(a){throw a}},Qe.defaultvalue=function(o,i){try{const s=i.arguments;(0,l.H)(null===s?[]:s,2,3,o,i);const d=pe(o,s[0]);if(3===s.length){const A=pe(o,s[1]);let M=[];if((0,l.q)(A))M=A.toArray();else{if(!(0,l.o)(A))throw new u.D$(o,u.TX.InvalidParameter,i);M=A}let h=d;if(null===h)return pe(o,s[2]);for(const P of M)if((0,l.r)(h)){if(!1===(0,l.c)(P)||!h.hasField(P))return pe(o,s[2]);h=h.field(P)}else if(h instanceof x.A){if(!1===(0,l.c)(P)||!h.hasField(P))return pe(o,s[2]);h=h.field(P)}else if(h instanceof D.A){var a;if(!1===(0,l.c)(P)||(h=(0,ee.B)(h,P,null,null,2),null===h)||"notfound"===(null===(a=h)||void 0===a?void 0:a.keystate))return pe(o,s[2])}else if((0,l.o)(h)){if(!1===(0,l.b)(P)||(h=h[P],null==h))return pe(o,s[2])}else if(!(0,l.q)(h)||!1===(0,l.b)(P)||(h=h.get(P),null==h))return pe(o,s[2]);return h}return null===d||""===d||void 0===d?pe(o,s[1]):d}catch(s){throw s}},Qe.decode=function(o,i){try{const a=i.arguments;if(a.length<2)throw new u.D$(o,u.TX.WrongNumberOfParameters,i);if(2===a.length)return pe(o,a[1]);if((a.length-1)%2==0)throw new u.D$(o,u.TX.WrongNumberOfParameters,i);return kn(o,i,1,pe(o,a[0]))}catch(a){throw a}},Qe.when=function(o,i){try{const a=i.arguments;if(a.length<3)throw new u.D$(o,u.TX.WrongNumberOfParameters,i);if(a.length%2==0)throw new u.D$(o,u.TX.WrongNumberOfParameters,i);const s=pe(o,a[0]);if(!1===(0,l.a)(s))throw new u.D$(o,u.TX.BooleanConditionRequired,a[0]);return Nn(o,i,0,s)}catch(a){throw a}};for(const o in Qe)Qe[o]={value:new L.UQ(Qe[o]),valueset:!0,node:null};const Zt=function(){};function Rn(o,i,a){const s=new Zt;o||(o={}),i||(i={});const d=new x.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});d.immutable=!1,s.textformatting={value:d,valueset:!0,node:null};for(const A in i)s[A]={value:new L.UQ(i[A]),native:!0,valueset:!0,node:null};for(const A in o)s[A]=o[A]&&"esri.Graphic"===o[A].declaredClass?{value:Y.A.createFromGraphic(o[A],a),valueset:!0,node:null}:{value:o[A],valueset:!0,node:null};return s}function $n(o){console.log(o)}function Ln(o){const i={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:yt,evaluateIdentifier:On};for(let a=0;a<o.length;a++)o[a].registerFunctions(i);for(const a in i.functions)Qe[a]={value:new L.UQ(i.functions[a]),valueset:!0,node:null},Zt.prototype[a]=Qe[a];for(let a=0;a<i.signatures.length;a++)(0,z.WC)(i.signatures[a],"sync")}function an(o,i){var a,s,d;let A=i.spatialReference;null==A&&(A=new U.A({wkid:102100}));let M=null;o.usesModules&&(M=new ce.a(new Map,o.loadedModules));const h={spatialReference:A,globalScope:Rn(i.vars,i.customfunctions,i.timeZone),localScope:null,services:null!==(a=i.services)&&void 0!==a?a:null,exports:{},libraryResolver:M,console:null!==(s=i.console)&&void 0!==s?s:$n,timeZone:null!==(d=i.timeZone)&&void 0!==d?d:null,lrucache:i.lrucache,interceptor:i.interceptor,depthCounter:{depth:1}};let P=pe(h,o);if(P instanceof l.z&&(P=P.value),P instanceof l.A&&(P=P.value),P===l.B&&(P=null),P===l.C)throw new u.D$(h,u.TX.IllegalResult,null);if(P===l.D)throw new u.D$(h,u.TX.IllegalResult,null);if((0,l.i)(P))throw new u.D$(h,u.TX.IllegalResult,null);return P}Zt.prototype=Qe,Zt.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},Zt.prototype.pi={value:Math.PI,valueset:!0,node:null},Ln([K.A]);var Un=_(3248),Lr=_(11432);const Ur=new Set(["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"]);let Xn=!1,jn=!1,mt=null,sn=[];function Hn(o,i){if(!0===i.useAsync||!0===o.isAsync)return function Xr(o,i){if(null===mt)throw new u.D$(null,u.TX.AsyncNotEnabled,null);if((0,Un.A)("esri-csp-restrictions"))return function(a){return mt.executeScript(o,a)};try{return Ke(o,i,!0)}catch(a){if("esri.arcade.arcadeuncompilableerror"===a.declaredRootClass)return function(s){return mt.executeScript(o,s)};throw a}}(o,i);if((0,Un.A)("esri-csp-restrictions"))return function(a){return an(o,a)};try{return Ke(o,i)}catch(a){if("esri.arcade.arcadeuncompilableerror"===a.declaredRootClass)return function(s){return an(o,s)};throw a}}function un(o,i=[]){return Wt(o,i)}function ln(o,i){if(!0===i.useAsync||!0===o.isAsync){if(null===mt)throw new u.D$(null,u.TX.AsyncNotEnabled,null);return mt.executeScript(o,i)}return an(o,i)}function Vt(o,i){return(0,z.jR)(o,i)}function Zn(o){return(0,z.cm)(o)}function Yt(o,i=[]){return void 0===o.usesGeometry&&(0,z.C0)(o,i),!0===o.usesGeometry}let cn=null;function dn(){return cn||(cn=zn(),cn)}function zn(){return fn.apply(this,arguments)}function fn(){return fn=(0,B.A)(function*(){const o=yield Promise.all([_.e(3930),_.e(2076),_.e(6041)]).then(_.bind(_,46041));return jn=!0,function R(o){y=o}(o),!0}),fn.apply(this,arguments)}let hn=null;function mn(){return null!==hn||(hn=Gn()),hn}function Gn(){return pn.apply(this,arguments)}function pn(){return pn=(0,B.A)(function*(){yield function Lt(){return I.apply(this,arguments)}(),mt=yield Promise.all([_.e(1501),_.e(2471)]).then(_.bind(_,82471));for(const o of sn)mt.extend(o),ct(o,"async");return sn=null,!0}),pn.apply(this,arguments)}function Kn(){return Xn}function Wn(){return!!mt}function Jn(){return jn}let Dn=null;function gn(){return Dn||(Dn=Vn(),Dn)}function Vn(){return yn.apply(this,arguments)}function yn(){return yn=(0,B.A)(function*(){yield mn();const[o,i,a,s,d,A]=yield Promise.all([Promise.all([_.e(9845),_.e(1985),_.e(6669),_.e(2248),_.e(5718),_.e(313),_.e(1495),_.e(1721),_.e(8304),_.e(13),_.e(6440),_.e(6338),_.e(5940),_.e(7120),_.e(230),_.e(5903)]).then(_.bind(_,15903)),Promise.all([_.e(9845),_.e(1985),_.e(6669),_.e(2248),_.e(5718),_.e(313),_.e(1495),_.e(1721),_.e(8304),_.e(13),_.e(6440),_.e(6338),_.e(5940),_.e(7120),_.e(230),_.e(5903),_.e(9666)]).then(_.bind(_,69666)),Promise.all([_.e(13),_.e(7120),_.e(3611)]).then(_.bind(_,43611)),Promise.all([_.e(13),_.e(916)]).then(_.bind(_,30916)),_.e(6798).then(_.bind(_,16798)),Promise.all([_.e(2076),_.e(4753)]).then(_.bind(_,44753))]);return tr=o,mt.extend([i,a,s,d,A]),ct([i,a,s,d,A],"async"),Xn=!0,!0}),yn.apply(this,arguments)}function Yn(o,i=[]){return void 0===o.usesFeatureSet&&(0,z.C0)(o,i),!0===o.usesFeatureSet}function Qn(o,i){return An.apply(this,arguments)}function An(){return An=(0,B.A)(function*(o,i,a=[],s=!1,d=null){return xn(new Set,o,i,a,s,d)}),An.apply(this,arguments)}function xn(o,i,a){return vn.apply(this,arguments)}function vn(){return vn=(0,B.A)(function*(o,i,a,s=[],d=!1,A=null){const M="string"==typeof i?un(i):i,h=[];return M&&(!1===Jn()&&(Yt(M)||d)&&h.push(dn()),!1===Wn()&&(!0===M.isAsync||a)&&h.push(mn()),!1===Kn()&&(Yn(M)||function Kr(o,i){if(i){for(const a of i)if(Vt(o,a))return!0;return!1}return!1}(M,s))&&h.push(gn())),h.length&&(yield Promise.all(h)),yield qn(o,M,A,a,d),!0}),vn.apply(this,arguments)}function qn(o,i){return En.apply(this,arguments)}function En(){return En=(0,B.A)(function*(o,i,a=null,s=!1,d=!1){const A=(0,z.cj)(i);null===a&&A.length>0&&(a=nt.getDefault()),i.loadedModules={};for(const M of A){(0,Lr.Lw)(a);const h=a.normalizeModuleUri(M.source);if(o.has(h.uri))throw new u.D$(null,u.TX.CircularModules,null);o.add(h.uri);const P=yield a.fetchModule(h);yield xn(o,P,s,[],d,a),o.delete(h.uri),P.isAsync&&(i.isAsync=!0),P.usesFeatureSet&&(i.usesFeatureSet=!0),P.usesGeometry&&(i.usesGeometry=!0),i.loadedModules[M.libname]={uri:h.uri,script:P}}}),En.apply(this,arguments)}function er(o){if(Yt(o))return!0;const i=(0,z.$w)(o);let a=!1;for(let s=0;s<i.length;s++)if(Ur.has(i[s])){a=!0;break}return a}let tr=null;function Qt(){return tr}const Jr=Object.freeze(Object.defineProperty({__proto__:null,_loadScriptDependenciesImpl:xn,compileScript:Hn,enableAsyncSupport:mn,enableAsyncSupportImpl:Gn,enableFeatureSetSupport:gn,enableFeatureSetSupportImpl:Vn,enableGeometrySupport:dn,enableGeometrySupportImpl:zn,executeScript:ln,extend:function jr(o){Ln(o),ct(o,"sync"),null===mt?sn.push(o):(ct(o,"async"),mt.extend(o))},extractExpectedFieldLiterals:Zn,extractFieldLiterals:function zr(o,i=!1){return void 0===i&&(i=!1),(0,z.qz)(o)},featureSetUtils:Qt,isAsyncEnabled:Wn,isFeatureSetSupportEnabled:Kn,isGeometryEnabled:Jn,loadDependentModules:qn,loadScriptDependencies:Qn,parseAndExecuteScript:function Hr(o,i,a=[]){return ln(Wt(o,a),i)},parseScript:un,referencesFunction:function Zr(o,i){return(0,z.je)(o,i)},referencesMember:Vt,scriptIsAsync:function Gr(o,i=[]){return void 0===o.isAsync&&(0,z.C0)(o,i),!0===o.isAsync},scriptTouchesGeometry:er,scriptUsesFeatureSet:Yn,scriptUsesGeometryEngine:Yt,scriptUsesModules:function Wr(o,i=[]){return void 0===o.usesModules&&(0,z.C0)(o,i),!0===o.usesModules}},Symbol.toStringTag,{value:"Module"}));var Vr=_(77806),Yr=_(87257),Qr=_(29752);const nr=/^\$(feature|aggregatedFeatures)\./i,qr={vars:{$feature:"any",$view:"any"},spatialReference:null};function ei(o){return o.replaceAll(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function ti(o){return null==o?null:(0,l.o)(o)||(0,l.q)(o)?"array":(0,l.k)(o)?"date":(0,l.c)(o)?"text":(0,l.a)(o)?"boolean":(0,l.b)(o)?"number":o instanceof x.A?"dictionary":(0,l.r)(o)?"feature":o instanceof c.A?"point":o instanceof g.A?"polygon":o instanceof k.A?"polyline":o instanceof T.A?"multipoint":o instanceof f.A?"extent":o instanceof Yr.n?"dateOnly":o instanceof Qr.k?"time":(0,l.u)(o)?"featureSet":(0,l.s)(o)?"featureSetCollection":null}function zt(o){if(!o)return null;try{return un(o)}catch{}return null}function ni(o,i){const a="string"==typeof o?zt(o):o;if(!a)return null;try{return Hn(a,i=i||(0,Vr.o8)(qr))}catch{}return null}function ri(o,i,a){return{vars:{$feature:null==o?new Y.A:Y.A.createFromGraphic(o,a),$view:null==i?void 0:i.view},spatialReference:null==i?void 0:i.sr,timeZone:null!=a?a:null}}function ii(o,i,a){return Y.A.createFromGraphicLikeObject(i,o,a,null)}function oi(o,i){null!=o.vars&&(o.vars.$feature=i)}function ai(o,i){let a;try{a=ln(o,i)}catch{a=null}return a}function si(o,i){let a;try{a=o?o(i):null}catch{a=null}return a}function ui(o,i){try{return o?o(i):Promise.resolve(null)}catch{return Promise.resolve(null)}}function li(o,i){if(!o)return[];const a="string"==typeof o?zt(o):o;if(!a)return[];const s=Zn(a);let d=new Array;s.forEach(M=>{nr.test(M)&&(M=M.replace(nr,""),d.push(M))});const A=d.filter(M=>M.includes("*"));return d=d.filter(M=>!A.includes(M)),i&&A.forEach(M=>{const h=new RegExp(`^${M.split(/\*+/).map(ei).join(".*")}$`,"i");i.forEach(P=>h.test(P)?d.push(P):null)}),[...new Set(d.sort())]}function ci(o){return Vt(o,"$view")}function di(o,i){return!!o&&Vt(o,i)}function fi(o){if(o&&(null!=o.spatialReference||null!=o.scale&&null!=o.viewingMode))return{view:o.viewingMode&&null!=o.scale?new x.A({viewingMode:o.viewingMode,scale:o.scale}):null,sr:o.spatialReference}}function hi({url:o,spatialReference:i,lrucache:a,interceptor:s}){const d=Qt();return d?d.createFeatureSetCollectionFromService(o,i,a,s):null}function mi({layer:o,spatialReference:i,outFields:a,returnGeometry:s,lrucache:d,interceptor:A}){if(null===o)return null;const M=Qt();return M?M.constructFeatureSet(o,i,a,null==s||s,d,A):null}function pi(o){if(null===(null==o?void 0:o.map))return null;const i=Qt();return i?i.createFeatureSetCollectionFromMap(o.map,o.spatialReference,o.lrucache,o.interceptor):null}function Di(o,i){return x.A.convertJsonToArcade(o,i)}function gi(o,i,a=[]){return Qn(o,i,a)}function yi(){return dn()}function Ai(){return gn()}function rr(o,i){if(!o)return!1;if("string"==typeof o)return i(o);const a=o;if(function xi(o){return"simple"===o.type||"class-breaks"===o.type||"unique-value"===o.type||"dot-density"===o.type||"dictionary"===o.type||"pie-chart"===o.type}(a)){if("dot-density"===a.type){var s;const h=null===(s=a.attributes)||void 0===s?void 0:s.some(P=>i(P.valueExpression));if(h)return h}const A=a.visualVariables,M=!!A&&A.some(h=>{let P=i(h.valueExpression);return"size"===h.type&&(ir(h.minSize)&&(P=P||i(h.minSize.valueExpression)),ir(h.maxSize)&&(P=P||i(h.maxSize.valueExpression))),P});return!(!("valueExpression"in a)||!i(a.valueExpression))||M}if(function vi(o){return"esri.layers.support.LabelClass"===o.declaredClass}(a)){var d;const A=null===(d=a.labelExpressionInfo)||void 0===d?void 0:d.expression;return!(!A||!i(A))||!1}return!!function Ei(o){return"esri.PopupTemplate"===o.declaredClass}(a)&&(!!a.expressionInfos&&a.expressionInfos.some(A=>i(A.expression))||Array.isArray(a.content)&&a.content.some(A=>{var M;return"expression"===A.type&&i(null===(M=A.expressionInfo)||void 0===M?void 0:M.expression)}))}function Ci(o){const i=zt(o);return!!i&&er(i)}function Fi(o){return rr(o,Ci)}function wi(o){const i=zt(o);return!!i&&Yt(i)}function Ti(o){return rr(o,wi)}function ir(o){return o&&"esri.renderers.visualVariables.SizeVariable"===o.declaredClass}},37027:(Oe,ve,_)=>{_.d(ve,{A:()=>ce});var $=_(82284);function B(x,u){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,l){return L.__proto__=l,L})(x,u)}function ce(){ce=function(z,K){return new Y(z,void 0,K)};var x=RegExp.prototype,u=new WeakMap;function Y(l,z,K){var N=new RegExp(l,z);return u.set(N,K||u.get(l)),B(N,Y.prototype)}function L(l,z){var K=u.get(z);return Object.keys(K).reduce(function(N,ee){var ae=K[ee];if("number"==typeof ae)N[ee]=l[ae];else{for(var j=0;void 0===l[ae[j]]&&j+1<ae.length;)j++;N[ee]=l[ae[j]]}return N},Object.create(null))}return function E(x,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(u&&u.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),u&&B(x,u)}(Y,RegExp),Y.prototype.exec=function(l){var z=x.exec.call(this,l);if(z){z.groups=L(z,this);var K=z.indices;K&&(K.groups=L(K,this))}return z},Y.prototype[Symbol.replace]=function(l,z){if("string"==typeof z){var K=u.get(this);return x[Symbol.replace].call(this,l,z.replace(/\$<([^>]+)>/g,function(ee,ae){var j=K[ae];return"$"+(Array.isArray(j)?j.join("$"):j)}))}if("function"==typeof z){var N=this;return x[Symbol.replace].call(this,l,function(){var ee=arguments;return"object"!=(0,$.A)(ee[ee.length-1])&&(ee=[].slice.call(ee)).push(L(ee,N)),z.apply(this,ee)})}return x[Symbol.replace].call(this,l,z)},ce.apply(this,arguments)}}}]);