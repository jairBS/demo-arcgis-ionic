"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3051],{10442:(Mt,rt,D)=>{D.d(rt,{a:()=>S,b:()=>j,c:()=>nt,d:()=>Q,e:()=>_,f:()=>J,n:()=>ct,s:()=>w,t:()=>x}),D(3248);var p=D(96196);function Q(l,v,y){S(l.typedBuffer,v.typedBuffer,y,l.typedBufferStride,v.typedBufferStride)}function S(l,v,y,T=3,U=T){if(l.length/T!==Math.ceil(v.length/U))return l;const z=l.length/T,M=y[0],B=y[1],O=y[2],N=y[4],X=y[5],Y=y[6],ot=y[8],et=y[9],dt=y[10],at=y[12],F=y[13],H=y[14];let K=0,q=0;for(let ft=0;ft<z;ft++){const it=v[K],yt=v[K+1],ht=v[K+2];l[q]=M*it+N*yt+ot*ht+at,l[q+1]=B*it+X*yt+et*ht+F,l[q+2]=O*it+Y*yt+dt*ht+H,K+=U,q+=T}return l}function nt(l,v,y){j(l.typedBuffer,v.typedBuffer,y,l.typedBufferStride,v.typedBufferStride)}function j(l,v,y,T=3,U=T){if(l.length/T!==Math.ceil(v.length/U))return void(0,p.j)().error("source and destination buffers need to have the same number of elements");const z=l.length/T,M=y[0],B=y[1],O=y[2],N=y[3],X=y[4],Y=y[5],ot=y[6],et=y[7],dt=y[8];let at=0,F=0;for(let H=0;H<z;H++){const K=v[at],q=v[at+1],ft=v[at+2];l[F]=M*K+N*q+ot*ft,l[F+1]=B*K+X*q+et*ft,l[F+2]=O*K+Y*q+dt*ft,at+=U,F+=T}}function J(l,v,y){w(l.typedBuffer,v,y,l.typedBufferStride)}function w(l,v,y,T=3){const U=Math.min(l.length/T,v.count),z=v.typedBuffer,M=v.typedBufferStride;let B=0,O=0;for(let N=0;N<U;N++)l[O]=y*z[B],l[O+1]=y*z[B+1],l[O+2]=y*z[B+2],B+=M,O+=T}function x(l,v,y,T=3,U=T){const z=l.length/T;if(z!==Math.ceil(v.length/U))return l;let M=0,B=0;for(let O=0;O<z;O++)l[B]=v[M]+y[0],l[B+1]=v[M+1]+y[1],l[B+2]=v[M+2]+y[2],M+=U,B+=T;return l}function _(l,v){ct(l.typedBuffer,v.typedBuffer,l.typedBufferStride,v.typedBufferStride)}function ct(l,v,y=3,T=y){const U=Math.min(l.length/y,v.length/T);let z=0,M=0;for(let B=0;B<U;B++){const O=v[z],N=v[z+1],X=v[z+2],Y=O*O+N*N+X*X;if(Y>0){const ot=1/Math.sqrt(Y);l[M]=ot*O,l[M+1]=ot*N,l[M+2]=ot*X}z+=T,M+=y}}Object.freeze(Object.defineProperty({__proto__:null,normalize:ct,normalizeView:_,scale:w,scaleView:J,shiftRight:function b(l,v,y){const T=Math.min(l.count,v.count),U=l.typedBuffer,z=l.typedBufferStride,M=v.typedBuffer,B=v.typedBufferStride;let O=0,N=0;for(let X=0;X<T;X++)U[N]=M[O]>>y,U[N+1]=M[O+1]>>y,U[N+2]=M[O+2]>>y,O+=B,N+=z},transformMat3:j,transformMat3View:nt,transformMat4:S,transformMat4View:Q,translate:x},Symbol.toStringTag,{value:"Module"}))},83034:(Mt,rt,D)=>{D.d(rt,{Dg:()=>p,my:()=>S,tM:()=>x});var W=D(79139);function p(b){if((0,W.cy)(b)){if(b.length<W.y9)return b}else if(b.length<W.y9)return Array.from(b);let G=!0,l=!0;return b.some((v,y)=>(G=G&&0===v,l=l&&v===y,!G&&!l)),G?function ct(b){if(1===b)return J;if(b<W.y9)return new Array(b).fill(0);if(b>_.length){const G=Math.max(2*_.length,b);_=new Uint8Array(G)}return new Uint8Array(_.buffer,0,b)}(b.length):l?x(b.length):(0,W.cy)(b)||b.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function Q(b){let G=!0;for(const l of b){if(l>=65536)return(0,W.cy)(b)?new Uint32Array(b):b;l>=256&&(G=!1)}return G?new Uint8Array(b):new Uint16Array(b)}(b):b}function S(b){return b<=W.y9?new Array(b):b<=65536?new Uint16Array(b):new Uint32Array(b)}let j=(()=>{const b=new Uint32Array(131072);for(let G=0;G<b.length;++G)b[G]=G;return b})();const J=[0],w=(()=>{const b=new Uint16Array(65536);for(let G=0;G<b.length;++G)b[G]=G;return b})();function x(b){if(1===b)return J;if(b<W.y9)return Array.from(new Uint16Array(w.buffer,0,b));if(b<w.length)return new Uint16Array(w.buffer,0,b);if(b>j.length){const G=Math.max(2*j.length,b);j=new Uint32Array(G);for(let l=0;l<j.length;l++)j[l]=l}return new Uint32Array(j.buffer,0,b)}let _=new Uint8Array(65536)},96196:(Mt,rt,D)=>{D.d(rt,{j:()=>p});var W=D(35150);const p=()=>W.A.getLogger("esri.views.3d.support.buffer.math")},71548:(Mt,rt,D)=>{D.d(rt,{Cr:()=>_,_I:()=>b,vt:()=>j});var W=D(69287),p=D(84149),Q=D(28714),S=D(25866),nt=D(19741);function j(M){return M?{origin:(0,S.o8)(M.origin),vector:(0,S.o8)(M.vector)}:{origin:(0,S.vt)(),vector:(0,S.vt)()}}function _(M,B,O=j()){return(0,Q.c)(O.origin,M),(0,Q.f)(O.vector,B,M),O}function b(M,B,O){return function l(M,B,O,N,X){const{vector:Y,origin:ot}=M,et=(0,Q.f)(nt.rq.get(),B,ot),dt=(0,Q.k)(Y,et)/(0,Q.p)(Y);return(0,Q.h)(X,Y,(0,W.qE)(dt,O,N)),(0,Q.g)(X,X,M.origin)}(M,B,0,1,O)}(0,S.vt)(),(0,S.vt)(),new p.I(()=>j())},43448:(Mt,rt,D)=>{D.d(rt,{J:()=>p});var W=D(33894);class p{constructor(){this.id=(0,W.c)()}}},98176:(Mt,rt,D)=>{var W,p;D.d(rt,{X:()=>W}),(p=W||(W={}))[p.Layer=0]="Layer",p[p.Object=1]="Object",p[p.Mesh=2]="Mesh",p[p.Line=3]="Line",p[p.Point=4]="Point",p[p.Material=5]="Material",p[p.Texture=6]="Texture",p[p.COUNT=7]="COUNT"},21674:(Mt,rt,D)=>{D.d(rt,{V:()=>It});var W=D(62789),p=D(28714),Q=D(83034),S=D(79139);function nt(A){if(A.length<S.y9)return Array.from(A);if((0,S.cy)(A))return Float64Array.from(A);if(!("BYTES_PER_ELEMENT"in A))return Array.from(A);switch(A.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(A);case 2:return(0,S.jq)(A)?Uint16Array.from(A):Int16Array.from(A);case 4:return Float32Array.from(A);default:return Float64Array.from(A)}}var j=D(67496),J=D(12438),w=D(25866),x=D(65388);class _{constructor(h,d,E){this.primitiveIndices=h,this._numIndexPerPrimitive=d,this.position=E,this._children=void 0,(0,x.vA)(h.length>=1),(0,x.vA)(3===E.size||4===E.size);const{data:P,size:k,indices:L}=E;(0,x.vA)(L.length%this._numIndexPerPrimitive==0),(0,x.vA)(L.length>=h.length*this._numIndexPerPrimitive);const V=h.length;let C=k*L[this._numIndexPerPrimitive*h[0]];ct.clear(),ct.push(C);const $=(0,w.fA)(P[C],P[C+1],P[C+2]),I=(0,w.o8)($);for(let Z=0;Z<V;++Z){const st=this._numIndexPerPrimitive*h[Z];for(let ut=0;ut<this._numIndexPerPrimitive;++ut){C=k*L[st+ut],ct.push(C);let tt=P[C];$[0]=Math.min(tt,$[0]),I[0]=Math.max(tt,I[0]),tt=P[C+1],$[1]=Math.min(tt,$[1]),I[1]=Math.max(tt,I[1]),tt=P[C+2],$[2]=Math.min(tt,$[2]),I[2]=Math.max(tt,I[2])}}this.bbMin=$,this.bbMax=I;const R=(0,p.m)((0,w.vt)(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(I[0]-$[0],I[1]-$[1]),I[2]-$[2]);let lt=this.radius*this.radius;for(let Z=0;Z<ct.length;++Z){C=ct.at(Z);const st=P[C]-R[0],ut=P[C+1]-R[1],tt=P[C+2]-R[2],mt=st*st+ut*ut+tt*tt;if(mt<=lt)continue;const _t=Math.sqrt(mt),pt=.5*(_t-this.radius);this.radius=this.radius+pt,lt=this.radius*this.radius;const vt=pt/_t;R[0]+=st*vt,R[1]+=ut*vt,R[2]+=tt*vt}this.center=R,ct.clear()}getChildren(){if(this._children||(0,p.a)(this.bbMin,this.bbMax)<=1)return this._children;const h=(0,p.m)((0,w.vt)(),this.bbMin,this.bbMax,.5),d=this.primitiveIndices.length,E=new Uint8Array(d),P=new Array(8);for(let I=0;I<8;++I)P[I]=0;const{data:k,size:L,indices:V}=this.position;for(let I=0;I<d;++I){let R=0;const lt=this._numIndexPerPrimitive*this.primitiveIndices[I];let Z=L*V[lt],st=k[Z],ut=k[Z+1],tt=k[Z+2];for(let mt=1;mt<this._numIndexPerPrimitive;++mt){Z=L*V[lt+mt];const _t=k[Z],pt=k[Z+1],vt=k[Z+2];_t<st&&(st=_t),pt<ut&&(ut=pt),vt<tt&&(tt=vt)}st<h[0]&&(R|=1),ut<h[1]&&(R|=2),tt<h[2]&&(R|=4),E[I]=R,++P[R]}let C=0;for(let I=0;I<8;++I)P[I]>0&&++C;if(C<2)return;const $=new Array(8);for(let I=0;I<8;++I)$[I]=P[I]>0?new Uint32Array(P[I]):void 0;for(let I=0;I<8;++I)P[I]=0;for(let I=0;I<d;++I){const R=E[I];$[R][P[R]++]=this.primitiveIndices[I]}this._children=new Array;for(let I=0;I<8;++I)void 0!==$[I]&&this._children.push(new _($[I],this._numIndexPerPrimitive,this.position));return this._children}static prune(){ct.prune()}}const ct=new J.A({deallocator:null});var b=D(43448),G=D(98176),l=D(84149),v=D(71548);function X(A,h,d){return(0,p.f)(et,h,A),(0,p.f)(dt,d,A),.5*(0,p.l)((0,p.b)(et,et,dt))}D(19741),new l.I(v.vt),new l.I(()=>function T(A){return A?{p0:(0,w.o8)(A.p0),p1:(0,w.o8)(A.p1),p2:(0,w.o8)(A.p2)}:{p0:(0,w.vt)(),p1:(0,w.vt)(),p2:(0,w.vt)()}}());const et=(0,w.vt)(),dt=(0,w.vt)(),K=(0,w.vt)(),q=(0,w.vt)(),ft=(0,w.vt)(),it=(0,w.vt)();var yt=D(33894);class ht{constructor(h){this.channel=h,this.id=(0,yt.c)()}}var gt=D(40972);D(45825),(0,w.vt)(),new Float32Array(6);class It extends b.J{constructor(h,d,E=null,P=G.X.Mesh,k=null,L=-1){super(),this.material=h,this.mapPositions=E,this.type=P,this.objectAndLayerIdColor=k,this.edgeIndicesLength=L,this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[V,C]of d)this._attributes.set(V,{...C,indices:(0,Q.Dg)(C.indices)}),V===gt.r.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(V).indices.length:this.edgeIndicesLength)}instantiate(h={}){const d=new It(h.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach((E,P)=>{E.exclusive=!1,d._attributes.set(P,E)}),d._boundingInfo=this._boundingInfo,d.transformation=h.transformation||this.transformation,d}get attributes(){return this._attributes}getMutableAttribute(h){let d=this._attributes.get(h);return d&&!d.exclusive&&(d={...d,exclusive:!0,data:nt(d.data)},this._attributes.set(h,d)),d}setAttributeData(h,d){const E=this._attributes.get(h);E&&this._attributes.set(h,{...E,exclusive:!0,data:d})}get indexCount(){var h;const d=this._attributes.values().next().value.indices;return null!==(h=null==d?void 0:d.length)&&void 0!==h?h:0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(h){return!!(this.type===G.X.Mesh?this._computeAttachmentOriginTriangles(h):this.type===G.X.Line?this._computeAttachmentOriginLines(h):this._computeAttachmentOriginPoints(h))&&(null!=this._transformation&&(0,p.e)(h,h,this._transformation),!0)}_computeAttachmentOriginTriangles(h){return function at(A,h){if(!A)return!1;const{size:d,data:E,indices:P}=A;(0,p.s)(h,0,0,0),(0,p.s)(it,0,0,0);let k=0,L=0;for(let V=0;V<P.length-2;V+=3){const C=P[V]*d,$=P[V+1]*d,I=P[V+2]*d;(0,p.s)(K,E[C],E[C+1],E[C+2]),(0,p.s)(q,E[$],E[$+1],E[$+2]),(0,p.s)(ft,E[I],E[I+1],E[I+2]);const R=X(K,q,ft);R?((0,p.g)(K,K,q),(0,p.g)(K,K,ft),(0,p.h)(K,K,1/3*R),(0,p.g)(h,h,K),k+=R):((0,p.g)(it,it,K),(0,p.g)(it,it,q),(0,p.g)(it,it,ft),L+=3)}return!(0===L&&0===k||(0!==k?((0,p.h)(h,h,1/k),0):0===L||((0,p.h)(h,it,1/L),0)))}(this.attributes.get(gt.r.POSITION),h)}_computeAttachmentOriginLines(h){const d=this.attributes.get(gt.r.POSITION);return function H(A,h,d){if(!A)return!1;(0,p.s)(d,0,0,0),(0,p.s)(it,0,0,0);let E=0,P=0;const{size:k,data:L,indices:V}=A,C=V.length-1,$=C+(h?2:0);for(let I=0;I<$;I+=2){const lt=V[I<C?I:C]*k,Z=V[I<C?I+1:0]*k;K[0]=L[lt],K[1]=L[lt+1],K[2]=L[lt+2],q[0]=L[Z],q[1]=L[Z+1],q[2]=L[Z+2],(0,p.h)(K,(0,p.g)(K,K,q),.5);const st=(0,p.o)(K,q);st>0?((0,p.g)(d,d,(0,p.h)(K,K,st)),E+=st):0===E&&((0,p.g)(it,it,K),P++)}return 0!==E?((0,p.h)(d,d,1/E),!0):0!==P&&((0,p.h)(d,it,1/P),!0)}(d,function wt(A,h){return!(!("isClosed"in A)||!A.isClosed)&&h.indices.length>2}(this.material.parameters,d),h)}_computeAttachmentOriginPoints(h){return function F(A,h){if(!A)return!1;const{size:d,data:E,indices:P}=A;(0,p.s)(h,0,0,0);let k=-1,L=0;for(let V=0;V<P.length;V++){const C=P[V]*d;k!==C&&(h[0]+=E[C],h[1]+=E[C+1],h[2]+=E[C+2],L++),k=C}return L>1&&(0,p.h)(h,h,1/L),L>0}(this.attributes.get(gt.r.POSITION),h)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const h=this.attributes.get(gt.r.POSITION);if(!h||0===h.indices.length)return null;const d=this.type===G.X.Mesh?3:1;(0,x.vA)(h.indices.length%d==0,"Indexing error: "+h.indices.length+" not divisible by "+d);const E=(0,Q.tM)(h.indices.length/d);return new _(E,d,h)}get transformation(){var h;return null!==(h=this._transformation)&&void 0!==h?h:W.zK}set transformation(h){this._transformation=h&&h!==W.zK?(0,W.o8)(h):null}addHighlight(){const h=new ht(j.Mg.Highlight);return this.highlights=function At(A,h){return null==A&&(A=[]),A.push(h),A}(this.highlights,h),h}removeHighlight(h){this.highlights=function Ct(A,h){if(null==A)return null;const d=A.filter(E=>E!==h);return 0===d.length?null:d}(this.highlights,h)}}},65388:(Mt,rt,D)=>{D.d(rt,{O_:()=>w,vA:()=>j}),D(45475),D(53781),(0,D(89141).vt)();class nt{constructor(v){this.message=v}toString(){return`AssertException: ${this.message}`}}function j(l,v){if(!l){v=v||"Assertion";const y=new Error(v).stack;throw new nt(`${v} at ${y}`)}}function w(l,v,y,T){let U,z=(y[0]-l[0])/v[0],M=(T[0]-l[0])/v[0];z>M&&(U=z,z=M,M=U);let B=(y[1]-l[1])/v[1],O=(T[1]-l[1])/v[1];if(B>O&&(U=B,B=O,O=U),z>O||B>M)return!1;B>z&&(z=B),O<M&&(M=O);let N=(y[2]-l[2])/v[2],X=(T[2]-l[2])/v[2];return N>X&&(U=N,N=X,X=U),!(z>X||N>M||(X<M&&(M=X),M<0))}},67496:(Mt,rt,D)=>{var W,p,Q,S,nt,j,J,w,x,_;D.d(rt,{Am:()=>S,ID:()=>w,JS:()=>x,Mg:()=>j,dd:()=>nt,it:()=>p,s2:()=>W,sf:()=>J}),(_=W||(W={}))[_.None=0]="None",_[_.Front=1]="Front",_[_.Back=2]="Back",_[_.COUNT=3]="COUNT",function(_){_[_.Less=0]="Less",_[_.Lequal=1]="Lequal",_[_.COUNT=2]="COUNT"}(p||(p={})),function(_){_[_.BACKGROUND=0]="BACKGROUND",_[_.UPDATE=1]="UPDATE"}(Q||(Q={})),function(_){_[_.NOT_LOADED=0]="NOT_LOADED",_[_.LOADING=1]="LOADING",_[_.LOADED=2]="LOADED"}(S||(S={})),function(_){_[_.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",_[_.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(nt||(nt={})),function(_){_[_.Highlight=0]="Highlight",_[_.MaskOccludee=1]="MaskOccludee",_[_.COUNT=2]="COUNT"}(j||(j={})),function(_){_[_.Blend=0]="Blend",_[_.Opaque=1]="Opaque",_[_.Mask=2]="Mask",_[_.MaskBlend=3]="MaskBlend",_[_.COUNT=4]="COUNT"}(J||(J={})),function(_){_[_.OFF=0]="OFF",_[_.ON=1]="ON"}(w||(w={})),function(_){_.DDS_ENCODING="image/vnd-ms.dds",_.KTX2_ENCODING="image/ktx2",_.BASIS_ENCODING="image/x.basis"}(x||(x={}))},45825:(Mt,rt,D)=>{function W(j,J,w){for(let x=0;x<w;++x)J[2*x]=j[x],J[2*x+1]=j[x]-J[2*x]}function Q(j,J){const w=j.length;for(let x=0;x<w;++x)nt[0]=j[x],J[x]=nt[0];return J}function S(j,J){const w=j.length;for(let x=0;x<w;++x)nt[0]=j[x],nt[1]=j[x]-nt[0],J[x]=nt[1];return J}D.d(rt,{Zo:()=>Q,jA:()=>S,jS:()=>W});const nt=new Float32Array(2)}}]);