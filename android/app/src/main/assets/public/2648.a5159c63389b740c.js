"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2648,4098,3258],{99980:(k,K,s)=>{s.d(K,{A:()=>M});var v=s(8189),O=s(90660),F=s(71065),D=s(97442),W=s(85211),z=(s(3248),s(35150),s(40707),s(15463)),h=s(76576),l=s(26957);let a=class extends((0,O.O)(F.oY)){constructor(R){super(R),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,D.t)(this.value,this.unit,"milliseconds")}};(0,v._)([(0,z.e)(l.j,{nonNullable:!0})],a.prototype,"unit",void 0),(0,v._)([(0,W.MZ)({type:Number,json:{write:!0},nonNullable:!0})],a.prototype,"value",void 0),a=(0,v._)([(0,h.$)("esri.TimeInterval")],a);const M=a},33087:(k,K,s)=>{s.d(K,{q:()=>O});var v=s(60611);class O{constructor(D,W){this._storage=new v.F,this.id="",this.name="",this.size=0,this._storage.maxSize=D,this._storage.register(this),W&&this._storage.registerRemoveFunc("",W)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(D,W,P=1){this._storage.put(this,D,W,P,1)}pop(D){return this._storage.pop(this,D)}get(D){return this._storage.get(this,D)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(D){this._storage.maxSize=D}resetHitRate(){}}},60611:(k,K,s)=>{s.d(K,{F:()=>P,Mn:()=>W});var D,z,v=s(12438);(z=D||(D={}))[z.ALL=0]="ALL",z[z.SOME=1]="SOME";class W{constructor(h,l,a){this.name=h,this._storage=l,this.id=C+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),a&&(this._storage.registerRemoveFunc(this.id,a),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(h){return this._storage.getSize(this,h)}resetHitRate(){this._hit=this._miss=0}put(h,l,a,M=0){this._storage.put(this,h,l,a,M)}pop(h){const l=this._storage.pop(this,h);return void 0===l?++this._miss:++this._hit,l}get(h){const l=this._storage.get(this,h);return void 0===l?++this._miss:++this._hit,l}peek(h){return this._storage.peek(this,h)}updateSize(h,l,a){this._storage.updateSize(this,h,l,a)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class P{get size(){return this._size}constructor(h=10485760){this._maxSize=h,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new v.A,this._users=new v.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(h){this._users.push(h)}deregister(h){this._users.removeUnordered(h)}registerRemoveFunc(h,l){this._removeFuncs.push([h,l])}deregisterRemoveFunc(h){this._removeFuncs.filterInPlace(l=>l[0]!==h)}get maxSize(){return this._maxSize}set maxSize(h){this._maxSize=Math.max(h,-1),this._checkSize()}getSize(h,l){var a;const M=this._db.get(h.id+l);return null!==(a=null==M?void 0:M.size)&&void 0!==a?a:0}put(h,l,a,M,R){const p=this._db.get(l=h.id+l);if(p&&(this._size-=p.size,h.size-=p.size,this._db.delete(l),p.entry!==a&&this._notifyRemove(l,p.entry,p.size,D.ALL)),M>this._maxSize)return void this._notifyRemove(l,a,M,D.ALL);if(void 0===a)return void console.warn("Refusing to cache undefined entry ");if(!M||M<0)return console.warn(`Refusing to cache entry with size ${M} for key ${l}`),void this._notifyRemove(l,a,0,D.ALL);const x=1+Math.max(R,-4)- -3;this._db.set(l,new N(a,M,x)),this._size+=M,h.size+=M,this._checkSize()}updateSize(h,l,a,M){const R=this._db.get(l=h.id+l);if(R&&R.entry===a){for(this._size-=R.size,h.size-=R.size;M>this._maxSize;){const p=this._notifyRemove(l,a,M,D.SOME);if(!(null!=p&&p>0))return void this._db.delete(l);M=p}R.size=M,this._size+=M,h.size+=M,this._checkSize()}}pop(h,l){const a=this._db.get(l=h.id+l);if(a)return this._size-=a.size,h.size-=a.size,this._db.delete(l),++this._hit,a.entry;++this._miss}get(h,l){const a=this._db.get(l=h.id+l);if(void 0!==a)return this._db.delete(l),a.lives=a.lifetime,this._db.set(l,a),++this._hit,a.entry;++this._miss}peek(h,l){const a=this._db.get(h.id+l);return a?++this._hit:++this._miss,null==a?void 0:a.entry}get performanceInfo(){const h={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},l={},a=new Array;this._db.forEach((p,x)=>{const T=p.lifetime;a[T]=(a[T]||0)+p.size,this._users.forAll(c=>{const{id:f,name:_}=c;x.startsWith(f)&&(l[_]=(l[_]||0)+p.size)})});const M={};this._users.forAll(p=>{const x=p.name;"hitRate"in p&&"number"==typeof p.hitRate&&!isNaN(p.hitRate)&&p.hitRate>0?(l[x]=l[x]||0,M[x]=Math.round(100*p.hitRate)+"%"):M[x]="0%"});const R=Object.keys(l);R.sort((p,x)=>l[x]-l[p]),R.forEach(p=>h[p]=Math.round(l[p]/2**20)+"MB / "+M[p]);for(let p=a.length-1;p>=0;--p){const x=a[p];x&&(h["Priority "+(p+-3-1)]=Math.round(x/this._size*100)+"%")}return h}resetStats(){this._hit=this._miss=0,this._users.forAll(h=>h.resetHitRate())}clear(h){const l=h.id;this._db.forEach((a,M)=>{M.startsWith(l)&&(this._size-=a.size,this._db.delete(M),this._notifyRemove(M,a.entry,a.size,D.ALL))}),h.size=0}clearAll(){this._db.forEach((h,l)=>this._notifyRemove(l,h.entry,h.size,D.ALL)),this._users.forAll(h=>h.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(h,l,a,M){let R;return this._removeFuncs.some(p=>{if(h.startsWith(p[0])){const x=p[1](l,M,a);return"number"==typeof x&&(R=x),!0}return!1}),R}_checkSize(){this._users.forAll(h=>this._checkSizeLimits(h)),this._checkSizeLimits()}_checkSizeLimits(h){const l=null!=h?h:this;if(l.maxSize<0||l.size<=l.maxSize)return;const a=null==h?void 0:h.id;let M=!0;for(;M;){M=!1;for(const[R,p]of this._db)if(0===p.lifetime&&(!a||R.startsWith(a))){if(this._purgeItem(R,p,h),l.size<=.9*l.maxSize)return;M||(M=this._db.has(R))}}for(const[R,p]of this._db)if((!a||R.startsWith(a))&&(this._purgeItem(R,p,h),l.size<=.9*l.maxSize))return}_purgeItem(h,l,a=this._users.find(M=>h.startsWith(M.id))){if(this._db.delete(h),l.lives<=1){this._size-=l.size,a&&(a.size-=l.size);const M=this._notifyRemove(h,l.entry,l.size,D.SOME);null!=M&&M>0&&(this._size+=M,a&&(a.size+=M),l.lives=l.lifetime,l.size=M,this._db.set(h,l))}else--l.lives,this._db.set(h,l)}}let C=0;class N{constructor(h,l,a){this.entry=h,this.size=l,this.lifetime=a,this.lives=a}}},24098:(k,K,s)=>{s.d(K,{GB:()=>O,Qo:()=>D,Y4:()=>F});var v=s(44549);class O{}function F(P){return P instanceof v.bo?P===O.instance:"unknown"===(null==P?void 0:P.toString().toLowerCase())}function D(P){return F(P)?O.instance:P}O.instance=new v.oh("Etc/UTC")},721:(k,K,s)=>{s.d(K,{$X:()=>ne,Gy:()=>G,P5:()=>ue,SW:()=>le,Tr:()=>oe,VV:()=>P}),s(61320);const F=(o,i,m)=>[i,m],D=(o,i,m)=>[i,m,o[2]],W=(o,i,m)=>[i,m,o[2],o[3]];function P(o){return o?{originPosition:"upper-left"===o.originPosition?"upperLeft":"lower-left"===o.originPosition?"lowerLeft":o.originPosition,scale:o.tolerance?[o.tolerance,o.tolerance]:[1,1],translate:null!=o.extent?[o.extent.xmin,o.extent.ymax]:[0,0]}:null}function p({scale:o,translate:i},m){return m*o[0]+i[0]}function x({scale:o,translate:i},m){return i[1]-m*o[1]}function T(o,i,m){const L=new Array(m.length);if(!m.length)return L;const[U,V]=o.scale;let Y=p(o,m[0][0]),X=x(o,m[0][1]);L[0]=i(m[0],Y,X);for(let ee=1;ee<m.length;ee++){const se=m[ee];Y+=se[0]*U,X-=se[1]*V,L[ee]=i(se,Y,X)}return L}function c(o,i,m){const L=new Array(m.length);for(let U=0;U<m.length;U++)L[U]=T(o,i,m[U]);return L}function G(o,i,m,L,U){return i.x=function N({scale:o,translate:i},m){return Math.round((m-i[0])/o[0])}(o,m.x),i.y=function z({scale:o,translate:i},m){return Math.round((i[1]-m)/o[1])}(o,m.y),i!==m&&(L&&(i.z=m.z),U&&(i.m=m.m)),i}function le(o,i,m,L,U){return null!=m&&(i.points=function _(o,i,m,L){return T(o,m?L?W:D:L?D:F,i)}(o,m.points,L,U)),i}function oe(o,i,m,L,U){return null==m||(i.x=p(o,m.x),i.y=x(o,m.y),i!==m&&(L&&(i.z=m.z),U&&(i.m=m.m))),i}function ne(o,i,m,L,U){return null!=m&&(i.rings=function j(o,i,m,L){return c(o,m?L?W:D:L?D:F,i)}(o,m.rings,L,U)),i}function ue(o,i,m,L,U){return null!=m&&(i.paths=function S(o,i,m,L){return c(o,m?L?W:D:L?D:F,i)}(o,m.paths,L,U)),i}},88474:(k,K,s)=>{s.r(K),s.d(K,{default:()=>Oe});var v=s(10467),O=s(8189),D=(s(21152),s(92165)),R=(s(79122),s(70176),s(92089),s(9826),s(15317),s(38582),s(73747),s(13318),s(85718),s(36156)),p=s(39693),x=s(56492),T=s(45272),c=s(85211),f=s(3248),_=s(35150),j=(s(40707),s(76576)),d=s(6434),y=s(95478),A=s(5922),B=s(55098),H=s(19284),w=s(89962),I=s(93327),G=s(28067),Z=s(55861);let J=class extends B.A{constructor(){var E;super(...arguments),E=this,this.type="geojson",this.refresh=(0,x.sg)(function(){var g=(0,v.A)(function*(b){yield E.load();const{extent:te,timeExtent:re}=yield E._connection.invoke("refresh",b);return E.sourceJSON.extent=te,re&&(E.sourceJSON.timeInfo.timeExtent=[re.start,re.end]),{dataChanged:!0,updates:{extent:E.sourceJSON.extent,timeInfo:E.sourceJSON.timeInfo}}});return function(b){return g.apply(this,arguments)}}())}load(E){return this.addResolvingPromise(this._startWorker(null!=E?E.signal:null)),Promise.resolve(this)}destroy(){var E;null!==(E=this._connection)&&void 0!==E&&E.close(),this._connection=null}applyEdits(E){return this.load().then(()=>this._applyEdits(E))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(E,g={}){return this.load(g).then(()=>this._connection.invoke("queryFeatures",E?E.toJSON():null,g)).then(b=>I.A.fromJSON(b))}queryFeaturesJSON(E,g={}){return this.load(g).then(()=>this._connection.invoke("queryFeatures",E?E.toJSON():null,g))}queryFeatureCount(E,g={}){return this.load(g).then(()=>this._connection.invoke("queryFeatureCount",E?E.toJSON():null,g))}queryObjectIds(E,g={}){return this.load(g).then(()=>this._connection.invoke("queryObjectIds",E?E.toJSON():null,g))}queryExtent(E,g={}){return this.load(g).then(()=>this._connection.invoke("queryExtent",E?E.toJSON():null,g)).then(b=>({count:b.count,extent:G.A.fromJSON(b.extent)}))}querySnapping(E,g={}){return this.load(g).then(()=>this._connection.invoke("querySnapping",E,g))}_applyEdits(E){if(!this._connection)throw new A.A("geojson-layer-source:edit-failure","Memory source not loaded");const g=this.layer.objectIdField,b=[],te=[],re=[];if(E.addFeatures)for(const ie of E.addFeatures)b.push(this._serializeFeature(ie));if(E.deleteFeatures)for(const ie of E.deleteFeatures)"objectId"in ie&&null!=ie.objectId?te.push(ie.objectId):"attributes"in ie&&null!=ie.attributes[g]&&te.push(ie.attributes[g]);if(E.updateFeatures)for(const ie of E.updateFeatures)re.push(this._serializeFeature(ie));return this._connection.invoke("applyEdits",{adds:b,updates:re,deletes:te}).then(({extent:ie,timeExtent:_e,featureEditResults:he})=>(this.sourceJSON.extent=ie,_e&&(this.sourceJSON.timeInfo.timeExtent=[_e.start,_e.end]),this._createEditsResult(he)))}_createEditsResult(E){return{addFeatureResults:E.addResults?E.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:E.updateResults?E.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:E.deleteResults?E.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(E){const g=!0===E.success?null:E.error||{code:void 0,description:void 0};return{objectId:E.objectId,globalId:E.globalId,error:g?new A.A("geojson-layer-source:edit-failure",g.description,{code:g.code}):null}}_serializeFeature(E){const{attributes:g}=E,b=this._geometryForSerialization(E);return b?{geometry:b.toJSON(),attributes:g}:{attributes:g}}_geometryForSerialization(E){const{geometry:g}=E;return null==g?null:"mesh"===g.type||"extent"===g.type?Z.A.fromExtent(g.extent):g}_startWorker(E){var g=this;return(0,v.A)(function*(){var b;g._connection=yield(0,H.ho)("GeoJSONSourceWorker",{strategy:(0,f.A)("feature-layers-workers")?"dedicated":"local",signal:E,registryTarget:g});const{fields:te,spatialReference:re,hasZ:ie,geometryType:_e,objectIdField:he,url:ge,timeInfo:fe,customParameters:Pe}=g.layer,De="defaults"===g.layer.originOf("spatialReference"),Re={url:ge,customParameters:Pe,fields:te&&te.map(pe=>pe.toJSON()),geometryType:d.g.toJSON(_e),hasZ:ie,objectIdField:he,timeInfo:fe?fe.toJSON():null,spatialReference:De?null:re&&re.toJSON()},ce=yield g._connection.invoke("load",Re,{signal:E});for(const pe of ce.warnings){var me;_.A.getLogger(g.layer).warn("#load()",`$${pe.message} (title: '${g.layer.title||"no title"}', id: '${null!==(me=g.layer.id)&&void 0!==me?me:"no id"}')`,{warning:pe})}ce.featureErrors.length&&_.A.getLogger(g.layer).warn("#load()",`Encountered ${ce.featureErrors.length} validation errors while loading features. (title: '${g.layer.title||"no title"}', id: '${null!==(b=g.layer.id)&&void 0!==b?b:"no id"}')`,{errors:ce.featureErrors}),g.sourceJSON=ce.layerDefinition,g.capabilities=(0,w.f)(g.sourceJSON.hasZ,!0)})()}};(0,O._)([(0,c.MZ)()],J.prototype,"capabilities",void 0),(0,O._)([(0,c.MZ)()],J.prototype,"type",void 0),(0,O._)([(0,c.MZ)({constructOnly:!0})],J.prototype,"layer",void 0),(0,O._)([(0,c.MZ)()],J.prototype,"sourceJSON",void 0),J=(0,O._)([(0,j.$)("esri.layers.graphics.sources.GeoJSONSource")],J);var q=s(93410),Q=s(23e3),le=s(31446),oe=s(61495),ne=s(17049),ue=s(43124),o=s(85551),i=s(1151),m=s(33036),L=s(84311),U=s(81687),V=s(69741),Y=s(29141),X=s(3404),ee=s(86300),se=s(20329),de=s(73975),ae=s(87086),Ee=s(41843),ve=s(22639),ye=s(32034);const Me=(0,X.p)();let $=class extends((0,ue.f)((0,Q.d)((0,oe.J)((0,le.F)((0,q.d)((0,L.e)((0,m.j)((0,i.J)((0,ne.q)((0,o.A)((0,p.P)(y.A)))))))))))){constructor(E){super(E),this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new J({layer:this}),this.spatialReference=ye.A.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){var E;null===(E=this.source)||void 0===E||E.destroy()}load(E){const g=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},E).catch(x.QP).then(()=>this.source.load(E)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),(0,ee.yp)(this.renderer,this.fieldsIndex),(0,ee.sv)(this.timeInfo,this.fieldsIndex)});return this.addResolvingPromise(g),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&null==this.geometryType}get parsedUrl(){return this.url?(0,T.An)(this.url):null}set renderer(E){(0,ee.yp)(E,this.fieldsIndex),this._set("renderer",E)}set url(E){if(!E)return void this._set("url",E);const g=(0,T.An)(E);this._set("url",g.path),g.query&&(this.customParameters={...this.customParameters,...g.query})}applyEdits(E,g){var b=this;return(0,v.A)(function*(){const{applyEdits:te}=yield s.e(3828).then(s.bind(s,13828));yield b.load();const re=yield te(b,b.source,E,g);return b.read({extent:b.source.sourceJSON.extent,timeInfo:b.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),re})()}on(E,g){return super.on(E,g)}createPopupTemplate(E){return(0,Ee.tn)(this,E)}createQuery(){var E;const g=new ae.A,b=null===(E=this.capabilities)||void 0===E?void 0:E.data;g.returnGeometry=!0,b&&b.supportsZ&&(g.returnZ=!0),g.outFields=["*"],g.where=this.definitionExpression||"1=1";const{timeOffset:te,timeExtent:re}=this;return g.timeExtent=null!=te&&null!=re?re.offset(-te.value,te.unit):re||null,g}getFieldDomain(E,g){var b;return null===(b=this.getField(E))||void 0===b?void 0:b.domain}getField(E){return this.fieldsIndex.get(E)}queryFeatures(E,g){return this.load().then(()=>this.source.queryFeatures(ae.A.from(E)||this.createQuery(),g)).then(b=>{if(null!=b&&b.features)for(const te of b.features)te.layer=te.sourceLayer=this;return b})}queryObjectIds(E,g){return this.load().then(()=>this.source.queryObjectIds(ae.A.from(E)||this.createQuery(),g))}queryFeatureCount(E,g){return this.load().then(()=>this.source.queryFeatureCount(ae.A.from(E)||this.createQuery(),g))}queryExtent(E,g){return this.load().then(()=>this.source.queryExtent(ae.A.from(E)||this.createQuery(),g))}hasDataChanged(){var E=this;return(0,v.A)(function*(){try{const{dataChanged:g,updates:b}=yield E.source.refresh(E.customParameters);return null!=b&&E.read(b,{origin:"service",url:E.parsedUrl,ignoreDefaults:!0}),g}catch{}return!1})()}};(0,O._)([(0,c.MZ)({readOnly:!0,json:{read:!1,write:!1}})],$.prototype,"capabilities",null),(0,O._)([(0,c.MZ)({type:String})],$.prototype,"copyright",void 0),(0,O._)([(0,c.MZ)({readOnly:!0})],$.prototype,"createQueryVersion",null),(0,O._)([(0,c.MZ)((0,ve.P6)("dateFieldsTimeReference"))],$.prototype,"dateFieldsTimeZone",void 0),(0,O._)([(0,c.MZ)({readOnly:!0})],$.prototype,"defaultPopupTemplate",null),(0,O._)([(0,c.MZ)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],$.prototype,"definitionExpression",void 0),(0,O._)([(0,c.MZ)({type:String})],$.prototype,"displayField",void 0),(0,O._)([(0,c.MZ)({type:Boolean})],$.prototype,"editingEnabled",void 0),(0,O._)([(0,c.MZ)(U.Yj)],$.prototype,"elevationInfo",void 0),(0,O._)([(0,c.MZ)({type:[Y.A],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],$.prototype,"fields",void 0),(0,O._)([(0,c.MZ)(Me.fieldsIndex)],$.prototype,"fieldsIndex",void 0),(0,O._)([(0,c.MZ)({type:G.A,json:{name:"extent"}})],$.prototype,"fullExtent",void 0),(0,O._)([(0,c.MZ)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:d.g.read}}})],$.prototype,"geometryType",void 0),(0,O._)([(0,c.MZ)({type:Boolean})],$.prototype,"hasZ",void 0),(0,O._)([(0,c.MZ)(U.id)],$.prototype,"id",void 0),(0,O._)([(0,c.MZ)({type:Boolean,readOnly:!0})],$.prototype,"isTable",null),(0,O._)([(0,c.MZ)(U.kF)],$.prototype,"labelsVisible",void 0),(0,O._)([(0,c.MZ)({type:[se.A],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:de.w},write:!0}})],$.prototype,"labelingInfo",void 0),(0,O._)([(0,c.MZ)(U.fV)],$.prototype,"legendEnabled",void 0),(0,O._)([(0,c.MZ)({type:["show","hide"]})],$.prototype,"listMode",void 0),(0,O._)([(0,c.MZ)({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],$.prototype,"objectIdField",void 0),(0,O._)([(0,c.MZ)(U.ke)],$.prototype,"opacity",void 0),(0,O._)([(0,c.MZ)({type:["GeoJSON"]})],$.prototype,"operationalLayerType",void 0),(0,O._)([(0,c.MZ)({readOnly:!0})],$.prototype,"parsedUrl",null),(0,O._)([(0,c.MZ)(U.M6)],$.prototype,"popupEnabled",void 0),(0,O._)([(0,c.MZ)({type:D.A,json:{name:"popupInfo",write:!0}})],$.prototype,"popupTemplate",void 0),(0,O._)([(0,c.MZ)({types:R.H,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:R.X}}}})],$.prototype,"renderer",null),(0,O._)([(0,c.MZ)(U.PY)],$.prototype,"screenSizePerspectiveEnabled",void 0),(0,O._)([(0,c.MZ)({readOnly:!0})],$.prototype,"source",void 0),(0,O._)([(0,c.MZ)({type:ye.A})],$.prototype,"spatialReference",void 0),(0,O._)([(0,c.MZ)({type:[V.A]})],$.prototype,"templates",void 0),(0,O._)([(0,c.MZ)()],$.prototype,"title",void 0),(0,O._)([(0,c.MZ)({json:{read:!1},readOnly:!0})],$.prototype,"type",void 0),(0,O._)([(0,c.MZ)(U.OZ)],$.prototype,"url",null),$=(0,O._)([(0,j.$)("esri.layers.GeoJSONLayer")],$);const Oe=$},78200:(k,K,s)=>{s.d(K,{F:()=>v});const v={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},89962:(k,K,s)=>{s.d(K,{F0:()=>W,Vx:()=>N,e2:()=>z,f:()=>h});var v=s(3248),O=s(77806),F=s(78200),D=s(48254);function W(l){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===l||"esriGeometryMultipoint"===l?D.Cb:"esriGeometryPolyline"===l?D.yM:D.WR}}}const P=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let C=1;function N(l,a){if((0,v.A)("esri-csp-restrictions"))return()=>({[a]:null,...l});try{let M=`this.${a} = null;`;for(const p in l)M+=`this${P.test(p)?`.${p}`:`["${p}"]`} = ${JSON.stringify(l[p])};`;const R=new Function(`\n      return class AttributesClass$${C++} {\n        constructor() {\n          ${M};\n        }\n      }\n    `)();return()=>new R}catch{return()=>({[a]:null,...l})}}function z(l={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,O.o8)(l)}}]}function h(l,a){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:l},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:a,supportsDelete:a,supportsEditing:a,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:a,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:F.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:a,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},31446:(k,K,s)=>{s.d(K,{F:()=>z});var v=s(8189),O=s(85211),P=(s(3248),s(35150),s(40707),s(76576)),C=s(66722);const N={write:{allowNull:!0}},z=h=>{let l=class extends h{constructor(){super(...arguments),this.featureEffect=null}};return(0,v._)([(0,O.MZ)({type:C.A,json:{origins:{"web-map":N,"portal-item":N}}})],l.prototype,"featureEffect",void 0),l=(0,v._)([(0,P.$)("esri.layers.mixins.FeatureEffectLayer")],l),l}},43124:(k,K,s)=>{s.d(K,{f:()=>l});var v=s(8189),O=s(89221),F=s(85211),C=(s(3248),s(35150),s(40707),s(76576)),N=s(15848);function z(a,M,R){if(!a)return null;const p=a.find(T=>!!T.field);if(!p)return null;const x=new N.A;return x.read(p,R),[x]}function h(a,M,R,p){const x=a.find(T=>!!T.field);x&&(0,O.sM)(R,[x.toJSON()],M)}const l=a=>{let M=class extends a{constructor(){super(...arguments),this.orderBy=null}};return(0,v._)([(0,F.MZ)({type:[N.A],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:z},write:{target:"layerDefinition.orderBy",writer:h}}})],M.prototype,"orderBy",void 0),M=(0,v._)([(0,C.$)("esri.layers.mixins.OrderedLayer")],M),M}},84311:(k,K,s)=>{s.d(K,{e:()=>M});var v=s(8189),O=s(12849),F=s(99980),D=s(85211),N=(s(3248),s(35150),s(40707),s(17221)),z=s(76576),h=s(86300),l=s(38488),a=s(26957);const M=R=>{let p=class extends R{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(x,T){const c=T.timeInfo.exportOptions;if(!c)return null;const f=c.timeOffset,_=a.j.fromJSON(c.timeOffsetUnits);return f&&_?new F.A({value:f,unit:_}):null}set timeInfo(x){(0,h.sv)(x,this.fieldsIndex),this._set("timeInfo",x)}};return(0,v._)([(0,D.MZ)({type:O.A,json:{write:!1}})],p.prototype,"timeExtent",void 0),(0,v._)([(0,D.MZ)({type:F.A})],p.prototype,"timeOffset",void 0),(0,v._)([(0,N.w)("service","timeOffset",["timeInfo.exportOptions"])],p.prototype,"readOffset",null),(0,v._)([(0,D.MZ)({value:null,type:l.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],p.prototype,"timeInfo",null),(0,v._)([(0,D.MZ)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],p.prototype,"useViewTime",void 0),p=(0,v._)([(0,z.$)("esri.layers.mixins.TemporalLayer")],p),p}},66722:(k,K,s)=>{s.d(K,{A:()=>T});var a,v=s(8189),O=s(5922),F=s(71065),D=s(89221),W=s(85211),z=(s(3248),s(35150),s(40707),s(76576)),h=s(72211),l=s(95877);const M={read:{reader:h.LF},write:{writer:h.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},R={read:{reader:h.LF},write:{writer:h.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},p={name:"showExcludedLabels",default:!0};let x=a=class extends F.oY{constructor(c){super(c),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(c,f){const _=super.write(c,f);if(null!=f&&f.origin){var S;if(_.filter){var j;const d=Object.keys(_.filter);if(d.length>1||"where"!==d[0])return null!==(j=f.messages)&&void 0!==j&&j.push(new O.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:f.layer,effect:this})),null}if("showExcludedLabels"in _)return null!==(S=f.messages)&&void 0!==S&&S.push(new O.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:f.layer,effect:this})),null}return _}clone(){return new a({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,v._)([(0,W.MZ)({type:l.A,json:{write:{allowNull:!0,writer(c,f,_,S){const j=null==c?void 0:c.write({},S);j&&0!==Object.keys(j).length?(0,D.sM)(_,j,f):(0,D.sM)(_,null,f)}}}})],x.prototype,"filter",void 0),(0,v._)([(0,W.MZ)({json:{write:!0,origins:{"web-map":M,"portal-item":M}}})],x.prototype,"includedEffect",void 0),(0,v._)([(0,W.MZ)({json:{write:!0,origins:{"web-map":R,"portal-item":R}}})],x.prototype,"excludedEffect",void 0),(0,v._)([(0,W.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":p,"portal-item":p}}})],x.prototype,"excludedLabelsVisible",void 0),x=a=(0,v._)([(0,z.$)("esri.layers.support.FeatureEffect")],x);const T=x},95877:(k,K,s)=>{s.d(K,{A:()=>x});var a,v=s(8189),O=s(21152),F=s(12849),D=s(49976),W=s(71065),P=s(77806),C=s(85211),h=(s(3248),s(35150),s(76576)),l=s(87086);const M=new D.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),R=new D.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let p=a=class extends W.oY{constructor(T){super(T),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(T={}){const{where:c,geometry:f,spatialRelationship:_,timeExtent:S,objectIds:j,units:d,distance:y}=this;return new l.A({geometry:(0,P.o8)(f),objectIds:(0,P.o8)(j),spatialRelationship:_,timeExtent:(0,P.o8)(S),where:c,units:d,distance:y,...T})}clone(){const{where:T,geometry:c,spatialRelationship:f,timeExtent:_,objectIds:S,units:j,distance:d}=this;return new a({geometry:(0,P.o8)(c),objectIds:(0,P.o8)(S),spatialRelationship:f,timeExtent:(0,P.o8)(_),where:T,units:j,distance:d})}};(0,v._)([(0,C.MZ)({type:String,json:{write:!0}})],p.prototype,"where",void 0),(0,v._)([(0,C.MZ)({types:O.yR,json:{write:!0}})],p.prototype,"geometry",void 0),(0,v._)([(0,C.MZ)({type:M.apiValues,json:{name:"spatialRel",read:{reader:M.read},write:{allowNull:!1,writer:M.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],p.prototype,"spatialRelationship",void 0),(0,v._)([(0,C.MZ)({type:Number,json:{write:{overridePolicy(T){return{enabled:null!=T&&null!=this.geometry}}}}})],p.prototype,"distance",void 0),(0,v._)([(0,C.MZ)({type:[Number],json:{write:!0}})],p.prototype,"objectIds",void 0),(0,v._)([(0,C.MZ)({type:R.apiValues,json:{read:R.read,write:{writer:R.write,overridePolicy(T){return{enabled:null!=T&&null!=this.geometry}}}}})],p.prototype,"units",void 0),(0,v._)([(0,C.MZ)({type:F.A,json:{write:!0}})],p.prototype,"timeExtent",void 0),p=a=(0,v._)([(0,h.$)("esri.layers.support.FeatureFilter")],p);const x=p},73258:(k,K,s)=>{s.d(K,{A:()=>M});var v=s(5922),O=s(71065),F=s(35150),D=s(60797),W=s(24098),P=s(86300),C=s(22639),N=s(44549);const a=new Map;class M{static fromJSON(f){return new M(f.fields,f.timeZoneByFieldName)}static fromLayer(f){var _;return new M(null!==(_=f.fields)&&void 0!==_?_:[],T(f))}static fromLayerJSON(f){var _;return new M(null!==(_=f.fields)&&void 0!==_?_:[],T(f))}constructor(f=[],_){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=f||[],this._timeZoneByFieldName=_?new Map(_):null;const S=[];for(const d of this.fields){const y=null==d?void 0:d.name,A=p(y);if(y&&A){var j;const B=R(y);this._fieldsMap.set(y,d),this._fieldsMap.set(B,d),this._normalizedFieldsMap.set(A,d),S.push(`${B}:${d.type}:${null===(j=this._timeZoneByFieldName)||void 0===j?void 0:j.get(y)}`),(0,P.vE)(d)?(this.dateFields.push(d),this._dateFieldsSet.add(d)):(0,P.WA)(d)&&(this._numericFieldsSet.add(d),this.numericFields.push(d)),(0,P.te)(d)||(0,P.Xz)(d)||(d.editable=null==d.editable||!!d.editable,d.nullable=null==d.nullable||!!d.nullable)}}S.sort(),this.uid=S.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const f of this.fields)(0,P.te)(f)||(0,P.Xz)(f)||f.nullable||void 0!==(0,P.lD)(f)||this._requiredFields.push(f)}return this._requiredFields}equals(f){return this.uid===(null==f?void 0:f.uid)}has(f){return null!=this.get(f)}get(f){var _;if(!f)return;let S=this._fieldsMap.get(f);return S||(S=null!==(_=this._fieldsMap.get(R(f)))&&void 0!==_?_:this._normalizedFieldsMap.get(p(f)),S&&this._fieldsMap.set(f,S),S)}getTimeZone(f){const _=this.get(f&&"string"!=typeof f?f.name:f);return _?this._timeZoneByFieldName?this._timeZoneByFieldName.get(_.name):"date"===_.type||"esriFieldTypeDate"===_.type?(F.A.getLogger("esri.layers.support.FieldsIndex").error(new v.A("getTimeZone:no-timezone-information",`no time zone information for field '${_.name}'`)),C.n$):x.has(_.type)?C.L5:null:null}getLuxonTimeZone(f){const _=this.getTimeZone(f);return _?_===C.L5?W.GB.instance:_===C.n$?N.mQ.utcInstance:(0,D.tE)(a,_,()=>N.oh.create(_)):null}isDateField(f){return this._dateFieldsSet.has(this.get(f))}isTimeOnlyField(f){return(0,P.OH)(this.get(f))}isNumericField(f){return this._numericFieldsSet.has(this.get(f))}normalizeFieldName(f){var _,S;return null!==(_=null===(S=this.get(f))||void 0===S?void 0:S.name)&&void 0!==_?_:void 0}toJSON(){return{fields:this.fields.map(f=>(0,O.Wj)(f)?f.toJSON():f),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function R(c){return c.trim().toLowerCase()}function p(c){var f,_;return null!==(f=null===(_=(0,P.rS)(c))||void 0===_?void 0:_.toLowerCase())&&void 0!==f?f:""}const x=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function T(c){var f,_,S,j,d,y,A;const B=new Map;if(!c.fields)return B;const H=!0===c.datesInUnknownTimezone,{timeInfo:w,editFieldsInfo:I}=c,G=null!==(f=w?"startField"in w?w.startField:w.startTimeField:"")&&void 0!==f?f:"",Z=null!==(_=w?"endField"in w?w.endField:w.endTimeField:"")&&void 0!==_?_:"",J=function l(c){return"dateFieldsTimeZone"in c}(c)?null!==(S=c.dateFieldsTimeZone)&&void 0!==S?S:null:c.dateFieldsTimeReference?(0,C.ZS)(c.dateFieldsTimeReference):null,q=I?function z(c){return"timeZone"in c}(I)?null!==(j=I.timeZone)&&void 0!==j?j:J:I.dateFieldsTimeReference?(0,C.ZS)(I.dateFieldsTimeReference):null!=J?J:C.n$:null,Q=w?function h(c){return"timeZone"in c}(w)?null!==(d=w.timeZone)&&void 0!==d?d:J:w.timeReference?(0,C.ZS)(w.timeReference):J:null,le=new Map([[R(null!==(y=null==I?void 0:I.creationDateField)&&void 0!==y?y:""),q],[R(null!==(A=null==I?void 0:I.editDateField)&&void 0!==A?A:""),q],[R(G),Q],[R(Z),Q]]);for(const{name:ne,type:ue}of c.fields)if(x.has(ue))B.set(ne,C.L5);else if("date"!==ue&&"esriFieldTypeDate"!==ue)B.set(ne,null);else if(H)B.set(ne,C.L5);else{var oe;const o=null!==(oe=le.get(R(null!=ne?ne:"")))&&void 0!==oe?oe:J;B.set(ne,o)}return B}},15848:(k,K,s)=>{s.d(K,{A:()=>a});var z,v=s(8189),O=s(49976),F=s(71065),D=s(85211),N=(s(3248),s(35150),s(40707),s(76576));const h=new O.J({asc:"ascending",desc:"descending"});let l=z=class extends F.oY{constructor(M){super(M),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new z({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,v._)([(0,D.MZ)({type:String,json:{write:!0}})],l.prototype,"field",void 0),(0,v._)([(0,D.MZ)({type:String,json:{write:!0}})],l.prototype,"valueExpression",void 0),(0,v._)([(0,D.MZ)({type:h.apiValues,json:{read:h.read,write:h.write}})],l.prototype,"order",void 0),l=z=(0,v._)([(0,N.$)("esri.layers.support.OrderByInfo")],l);const a=l},38488:(k,K,s)=>{s.d(K,{A:()=>x});var v=s(8189),O=s(12849),F=s(99980),D=s(90660),W=s(71065),P=s(85211),h=(s(3248),s(35150),s(40707),s(17221)),l=s(76576),a=s(50305),M=s(22639);function R(T,c){return F.A.fromJSON({value:T,unit:c})}let p=class extends((0,D.O)(W.oY)){constructor(T){super(T),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(T,c){if(!c.timeExtent||!Array.isArray(c.timeExtent)||2!==c.timeExtent.length)return null;const f=new Date(c.timeExtent[0]),_=new Date(c.timeExtent[1]);return new O.A({start:f,end:_})}writeFullTimeExtent(T,c){c.timeExtent=null!=(null==T?void 0:T.start)&&null!=T.end?[T.start.getTime(),T.end.getTime()]:null}readInterval(T,c){return c.timeInterval&&c.timeIntervalUnits?R(c.timeInterval,c.timeIntervalUnits):c.defaultTimeInterval&&c.defaultTimeIntervalUnits?R(c.defaultTimeInterval,c.defaultTimeIntervalUnits):null}writeInterval(T,c){var f,_;c.timeInterval=null!==(f=null==T?void 0:T.toJSON().value)&&void 0!==f?f:null,c.timeIntervalUnits=null!==(_=null==T?void 0:T.toJSON().unit)&&void 0!==_?_:null}};(0,v._)([(0,P.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],p.prototype,"cumulative",void 0),(0,v._)([(0,P.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],p.prototype,"endField",void 0),(0,v._)([(0,P.MZ)({type:O.A,json:{write:{enabled:!0,allowNull:!0}}})],p.prototype,"fullTimeExtent",void 0),(0,v._)([(0,h.w)("fullTimeExtent",["timeExtent"])],p.prototype,"readFullTimeExtent",null),(0,v._)([(0,a.K)("fullTimeExtent")],p.prototype,"writeFullTimeExtent",null),(0,v._)([(0,P.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"hasLiveData",void 0),(0,v._)([(0,P.MZ)({type:F.A,json:{write:{enabled:!0,allowNull:!0}}})],p.prototype,"interval",void 0),(0,v._)([(0,h.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],p.prototype,"readInterval",null),(0,v._)([(0,a.K)("interval")],p.prototype,"writeInterval",null),(0,v._)([(0,P.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],p.prototype,"startField",void 0),(0,v._)([(0,P.MZ)((0,M.P6)("timeReference",!0))],p.prototype,"timeZone",void 0),(0,v._)([(0,P.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],p.prototype,"trackIdField",void 0),(0,v._)([(0,P.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],p.prototype,"useTime",void 0),p=(0,v._)([(0,l.$)("esri.layers.support.TimeInfo")],p);const x=p},4858:(k,K,s)=>{s.d(K,{BI:()=>R,D3:()=>a,XJ:()=>M,lc:()=>l,mX:()=>x,rU:()=>p,tH:()=>j});var v=s(1119);const O="__begin__",F="__end__",D=new RegExp(O,"ig"),W=new RegExp(F,"ig"),P=new RegExp("^"+O,"i"),C=new RegExp(F+"$","i"),N='"',z=N+" + ",h=" + "+N;function l(d){return d.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function a(d){return d.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function M(d){const y={expression:"",type:"none"};return d.labelExpressionInfo?d.labelExpressionInfo.value?(y.expression=d.labelExpressionInfo.value,y.type="conventional"):d.labelExpressionInfo.expression&&(y.expression=d.labelExpressionInfo.expression,y.type="arcade"):null!=d.labelExpression&&(y.expression=l(d.labelExpression),y.type="conventional"),y}function R(d){const y=M(d);if(!y)return null;switch(y.type){case"conventional":return x(y.expression);case"arcade":return y.expression}return null}function p(d){const y=M(d);if(!y)return null;switch(y.type){case"conventional":return function c(d){const y=null==d?void 0:d.match(T);return(null==y?void 0:y[1].trim())||null}(y.expression);case"arcade":return j(y.expression)}return null}function x(d){let y;return d?(y=(0,v.HC)(d,A=>O+'$feature["'+A+'"]'+F),y=P.test(y)?y.replace(P,""):N+y,y=C.test(y)?y.replace(C,""):y+N,y=y.replaceAll(D,z).replaceAll(W,h)):y='""',y}const T=/^\s*\{([^}]+)\}\s*$/i,f=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,_=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,S=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function j(d){if(!d)return null;let y=f.exec(d)||_.exec(d);return y?y[1]||y[3]:(y=S.exec(d),y?y[2]:null)}},26957:(k,K,s)=>{s.d(K,{j:()=>O});const O=(0,s(49976).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},78592:(k,K,s)=>{s.d(K,{O3:()=>z,PU:()=>C,YW:()=>l,ex:()=>W,hv:()=>h,zp:()=>P});var v=s(69287),O=s(67685),F=s(53781),D=s(89141);const W=2.4;function P(a){return(0,O.PN)(a*W)}function C(a){return(0,O.Lz)(a)/W}function N(a,M,R,p){let{color:x,ratio:T}=M,{color:c,ratio:f}=R;f===T&&(1===f?T-=1e-6:f+=1e-6);const _=(0,v.qE)((p-T)/(f-T),0,1);(0,F.l)(a,x.toArray(),c.toArray(),_)}function z(a){const R=new Uint8ClampedArray(2048);if((a=a.filter(({ratio:f})=>f>=0&&f<=1).sort((f,_)=>f.ratio-_.ratio).map(({color:f,ratio:_})=>({color:f,ratio:Math.max(_,.001)}))).length<1)return R;let p=a[0],x=a[0],T=1;const c=(0,D.vt)();for(let f=0;f<512;f++){const _=(f+.5)/512;for(;_>x.ratio&&T<a.length;)p=x,x=a[T++];N(c,p,x,_),R.set(c,4*f)}return R}function h(a,M,R){const p=Math.sqrt(a**2+M**2)/R;return p>1?0:3/(Math.PI*R**2)*(1-p**2)**2}function l(a){return"function"==typeof a?a:a?M=>+M[a]:()=>1}},93327:(k,K,s)=>{s.d(K,{A:()=>f});var x,v=s(8189),O=s(21152),F=s(81098),D=s(49976),W=s(71065),P=s(77806),C=s(85211),h=(s(3248),s(35150),s(17221)),l=s(76576),a=s(50305),M=s(32034),R=s(61320),p=s(29141);const T=new D.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let c=x=class extends W.oY{constructor(_){super(_),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(_,S){const j=M.A.fromJSON(S.spatialReference),d=[];for(let A=0;A<_.length;A++){var y;const B=_[A],H=F.A.fromJSON(B),w=null===(y=B.geometry)||void 0===y?void 0:y.spatialReference;null==H.geometry||w||(H.geometry.spatialReference=j);const I=B.aggregateGeometries,G=H.aggregateGeometries;if(I&&null!=G)for(const Z in G){const J=G[Z],q=I[Z];null==J||(null==q?void 0:q.spatialReference)||(J.spatialReference=j)}d.push(H)}return d}writeGeometryType(_,S,j,d){if(_)return void T.write(_,S,j,d);const{features:y}=this;if(y)for(const A of y)if(null!=(null==A?void 0:A.geometry))return void T.write(A.geometry.type,S,j,d)}readQueryGeometry(_,S){if(!_)return null;const j=!!_.spatialReference,d=(0,R.rS)(_);return d&&!j&&S.spatialReference&&(d.spatialReference=M.A.fromJSON(S.spatialReference)),d}writeSpatialReference(_,S){if(_)return void(S.spatialReference=_.toJSON());const{features:j}=this;if(j)for(const d of j)if(d&&null!=d.geometry&&d.geometry.spatialReference)return void(S.spatialReference=d.geometry.spatialReference.toJSON())}clone(){return new x(this.cloneProperties())}cloneProperties(){return(0,P.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(_){const S=this.write();if(S.features&&Array.isArray(_)&&_.length>0)for(let j=0;j<S.features.length;j++){const d=S.features[j];if(d.geometry){const y=null==_?void 0:_[j];d.geometry=(null==y?void 0:y.toJSON())||d.geometry}}return S}quantize(_){const{scale:[S,j],translate:[d,y]}=_,H=this.features,w=this._getQuantizationFunction(this.geometryType,I=>Math.round((I-d)/S),I=>Math.round((y-I)/j));for(let I=0,G=H.length;I<G;I++)null!=w&&w(H[I].geometry)||(H.splice(I,1),I--,G--);return this.transform=_,this}unquantize(){var _,S;const{geometryType:j,features:d,transform:y}=this;if(!y)return this;const{translate:[A,B],scale:[H,w]}=y;let Z=null,J=null;if(this.hasZ&&null!=(null==y||null===(_=y.scale)||void 0===_?void 0:_[2])){const{translate:[,,Q],scale:[,,le]}=y;Z=oe=>oe*le+Q}if(this.hasM&&null!=(null==y||null===(S=y.scale)||void 0===S?void 0:S[3])){const{translate:[,,,Q],scale:[,,,le]}=y;J=oe=>null==oe?oe:oe*le+Q}const q=this._getHydrationFunction(j,Q=>Q*H+A,Q=>B-Q*w,Z,J);for(const{geometry:Q}of d)null!=Q&&q&&q(Q);return this.transform=null,this}_quantizePoints(_,S,j){let d,y;const A=[];for(let B=0,H=_.length;B<H;B++){const w=_[B];if(B>0){const I=S(w[0]),G=j(w[1]);I===d&&G===y||(A.push([I-d,G-y]),d=I,y=G)}else d=S(w[0]),y=j(w[1]),A.push([d,y])}return A.length>0?A:null}_getQuantizationFunction(_,S,j){return"point"===_?d=>(d.x=S(d.x),d.y=j(d.y),d):"polyline"===_||"polygon"===_?d=>{const y=(0,R.Bi)(d)?d.rings:d.paths,A=[];for(let B=0,H=y.length;B<H;B++){const I=this._quantizePoints(y[B],S,j);I&&A.push(I)}return A.length>0?((0,R.Bi)(d)?d.rings=A:d.paths=A,d):null}:"multipoint"===_?d=>{const y=this._quantizePoints(d.points,S,j);return y&&y.length>0?(d.points=y,d):null}:"extent"===_?d=>d:null}_getHydrationFunction(_,S,j,d,y){return"point"===_?A=>{A.x=S(A.x),A.y=j(A.y),d&&(A.z=d(A.z))}:"polyline"===_||"polygon"===_?A=>{const B=(0,R.Bi)(A)?A.rings:A.paths;let H,w;for(let I=0,G=B.length;I<G;I++){const Z=B[I];for(let J=0,q=Z.length;J<q;J++){const Q=Z[J];J>0?(H+=Q[0],w+=Q[1]):(H=Q[0],w=Q[1]),Q[0]=S(H),Q[1]=j(w)}}if(d&&y)for(let I=0,G=B.length;I<G;I++){const Z=B[I];for(let J=0,q=Z.length;J<q;J++){const Q=Z[J];Q[2]=d(Q[2]),Q[3]=y(Q[3])}}else if(d)for(let I=0,G=B.length;I<G;I++){const Z=B[I];for(let J=0,q=Z.length;J<q;J++){const Q=Z[J];Q[2]=d(Q[2])}}else if(y)for(let I=0,G=B.length;I<G;I++){const Z=B[I];for(let J=0,q=Z.length;J<q;J++){const Q=Z[J];Q[2]=y(Q[2])}}}:"extent"===_?A=>{A.xmin=S(A.xmin),A.ymin=j(A.ymin),A.xmax=S(A.xmax),A.ymax=j(A.ymax),d&&null!=A.zmax&&null!=A.zmin&&(A.zmax=d(A.zmax),A.zmin=d(A.zmin)),y&&null!=A.mmax&&null!=A.mmin&&(A.mmax=y(A.mmax),A.mmin=y(A.mmin))}:"multipoint"===_?A=>{const B=A.points;let H,w;for(let I=0,G=B.length;I<G;I++){const Z=B[I];I>0?(H+=Z[0],w+=Z[1]):(H=Z[0],w=Z[1]),Z[0]=S(H),Z[1]=j(w)}if(d&&y)for(let I=0,G=B.length;I<G;I++){const Z=B[I];Z[2]=d(Z[2]),Z[3]=y(Z[3])}else if(d)for(let I=0,G=B.length;I<G;I++){const Z=B[I];Z[2]=d(Z[2])}else if(y)for(let I=0,G=B.length;I<G;I++){const Z=B[I];Z[2]=y(Z[2])}}:null}};(0,v._)([(0,C.MZ)({type:String,json:{write:!0}})],c.prototype,"displayFieldName",void 0),(0,v._)([(0,C.MZ)({type:Boolean,json:{write:{overridePolicy:_=>({enabled:_})}}})],c.prototype,"exceededTransferLimit",void 0),(0,v._)([(0,C.MZ)({type:[F.A],json:{write:!0}})],c.prototype,"features",void 0),(0,v._)([(0,h.w)("features")],c.prototype,"readFeatures",null),(0,v._)([(0,C.MZ)({type:[p.A],json:{write:!0}})],c.prototype,"fields",void 0),(0,v._)([(0,C.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:T.read}}})],c.prototype,"geometryType",void 0),(0,v._)([(0,a.K)("geometryType")],c.prototype,"writeGeometryType",null),(0,v._)([(0,C.MZ)({type:Boolean,json:{write:{overridePolicy:_=>({enabled:_})}}})],c.prototype,"hasM",void 0),(0,v._)([(0,C.MZ)({type:Boolean,json:{write:{overridePolicy:_=>({enabled:_})}}})],c.prototype,"hasZ",void 0),(0,v._)([(0,C.MZ)({types:O.yR,json:{write:!0}})],c.prototype,"queryGeometry",void 0),(0,v._)([(0,h.w)("queryGeometry")],c.prototype,"readQueryGeometry",null),(0,v._)([(0,C.MZ)({type:M.A,json:{write:!0}})],c.prototype,"spatialReference",void 0),(0,v._)([(0,a.K)("spatialReference")],c.prototype,"writeSpatialReference",null),(0,v._)([(0,C.MZ)({json:{write:!0}})],c.prototype,"transform",void 0),c=x=(0,v._)([(0,l.$)("esri.rest.support.FeatureSet")],c),c.prototype.toJSON.isDefaultToJSON=!0;const f=c},91644:(k,K,s)=>{s.d(K,{A7:()=>N,Cx:()=>z,Hk:()=>h,JJ:()=>R,UK:()=>C,jM:()=>a,x3:()=>M}),s(3248);var O=s(88521),F=s(55417),D=s(46602),W=s(47705),P=s(48254);const C=D.A.fromJSON(P.Cb),N=F.A.fromJSON(P.yM),z=O.A.fromJSON(P.WR),h=W.A.fromJSON(P.JZ),a=D.A.fromJSON(P.nC),M=F.A.fromJSON(P.HW),R=O.A.fromJSON(P.b6)},48254:(k,K,s)=>{s.d(K,{Cb:()=>F,HW:()=>N,JZ:()=>P,WR:()=>W,b6:()=>z,nC:()=>C,yM:()=>D});const v=[252,146,31,255],F={type:"esriSMS",style:"esriSMSCircle",size:6,color:v,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},D={type:"esriSLS",style:"esriSLSSolid",width:.75,color:v},W={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},P={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},C={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},N={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},z={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);