"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2248,1710,7522],{29430:(ie,G,e)=>{e.d(G,{$:()=>R,IB:()=>L,N2:()=>Y,RH:()=>W,Ws:()=>f,ZD:()=>x});var o=e(68677);function L(s){return"r"in s&&"g"in s&&"b"in s}function b(s){return"h"in s&&"s"in s&&"v"in s}function S(s){return"l"in s&&"a"in s&&"b"in s}function E(s){return"l"in s&&"c"in s&&"h"in s}e(53781),e(89141);const V=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],I=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function w(s,l){const m=[];let j,D;if(s[0].length!==l.length)throw new Error("dimensions do not match");const Z=s.length,z=s[0].length;let oe=0;for(j=0;j<Z;j++){for(oe=0,D=0;D<z;D++)oe+=s[j][D]*l[D];m.push(oe)}return m}function $(s){const l=[s.r/255,s.g/255,s.b/255].map(j=>j<=.04045?j/12.92:((j+.055)/1.055)**2.4),m=w(V,l);return{x:100*m[0],y:100*m[1],z:100*m[2]}}function N(s){const l=w(I,[s.x/100,s.y/100,s.z/100]).map(m=>Math.min(1,Math.max(m<=.0031308?12.92*m:1.055*m**.4166666666666667-.055,0)));return{r:Math.round(255*l[0]),g:Math.round(255*l[1]),b:Math.round(255*l[2])}}function q(s){const l=[s.x/95.047,s.y/100,s.z/108.883].map(m=>m>.008856451679035631?m**.3333333333333333:7.787037037037035*m+.13793103448275862);return{l:116*l[1]-16,a:500*(l[0]-l[1]),b:200*(l[1]-l[2])}}function k(s){const l=s.l,m=[(l+16)/116+s.a/500,(l+16)/116,(l+16)/116-s.b/200].map(j=>j>6/29?j**3:3*(6/29)**2*(j-4/29));return{x:95.047*m[0],y:100*m[1],z:108.883*m[2]}}function R(s){return L(s)?s:E(s)?function ee(s){return N(k(function J(s){const m=s.c,j=s.h;return{l:s.l,a:m*Math.cos(j),b:m*Math.sin(j)}}(s)))}(s):S(s)?function te(s){return N(k(s))}(s):function T(s){return"x"in s&&"y"in s&&"z"in s}(s)?N(s):b(s)?function A(s){const l=(s.h+360)%360/60,j=s.v/100*255,D=j*(s.s/100),Z=D*(1-Math.abs(l%2-1));let z;switch(Math.floor(l)){case 0:z={r:D,g:Z,b:0};break;case 1:z={r:Z,g:D,b:0};break;case 2:z={r:0,g:D,b:Z};break;case 3:z={r:0,g:Z,b:D};break;case 4:z={r:Z,g:0,b:D};break;case 5:case 6:z={r:D,g:0,b:Z};break;default:z={r:0,g:0,b:0}}return z.r=Math.round(z.r+j-D),z.g=Math.round(z.g+j-D),z.b=Math.round(z.b+j-D),z}(s):s}function Y(s){return b(s)?s:function B(s){const l=s.r,m=s.g,j=s.b,D=Math.max(l,m,j),Z=D-Math.min(l,m,j);let z=D,oe=0===Z?0:D===l?(m-j)/Z%6:D===m?(j-l)/Z+2:(l-m)/Z+4,a=0===Z?0:Z/z;return oe<0&&(oe+=6),oe*=60,a*=100,z*=100/255,{h:oe,s:a,v:z}}(R(s))}function x(s){return S(s)?s:function se(s){return q($(s))}(R(s))}function W(s){return E(s)?s:function re(s){return function H(s){const l=s.l,m=s.a,j=s.b,D=Math.sqrt(m*m+j*j);let Z=Math.atan2(j,m);return Z=Z>0?Z:Z+2*Math.PI,{l,c:D,h:Z}}(q($(s)))}(R(s))}function f(s,l){const{r:m,g:j,b:D}=null!=l&&l.ignoreAlpha?s:function d(s){let{r:l,g:m,b:j,a:D}=s;return D<1&&(l=Math.round(D*l+255*(1-D)),m=Math.round(D*m+255*(1-D)),j=Math.round(D*j+255*(1-D))),new o.A({r:l,g:m,b:j})}(s);return.2126*m+.7152*j+.0722*D}var i,s;(s=i||(i={}))[s.Low=160]="Low",s[s.High=225]="High"},79122:(ie,G,e)=>{e.d(G,{A:()=>_});var ee,o=e(10467),p=e(8189),P=e(47280),L=e(49976),b=e(77806),S=e(35150),E=e(85211),T=e(48669),V=e(15463),I=e(17221),w=e(76576),$=e(50305),N=e(55739),q=e(86300),k=e(38582),H=e(12887),J=e(19390),se=e(36345),te=e(26768),re=e(48218);const A="percent-of-total",R="field",Y=new L.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:A,esriNormalizeByField:R}),x=(0,N.dp)(J.A);let W=ee=class extends((0,H.h)(k.A)){constructor(d){super(d),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(d,f,i){if(!Array.isArray(d))return;let c=f.minValue;return d.map(h=>{const u=new J.A;return u.read(h,i),null==u.minValue&&(u.minValue=c),null==u.maxValue&&(u.maxValue=u.minValue),c=u.maxValue,u})}writeClassBreakInfos(d,f,i,c){const h=d.map(u=>u.write({},c));this._areClassBreaksConsecutive()&&h.forEach(u=>delete u.classMinValue),f[i]=h}castField(d){return null==d?d:"function"==typeof d?(S.A.getLogger(this).error(".field: field must be a string value"),null):(0,N.GX)(d)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let d=this._get("normalizationType");const f=!!this.normalizationField,i=null!=this.normalizationTotal;return f||i?(d=f&&R||i&&A||null,f&&i&&S.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):d!==R&&d!==A||(d=null),d}set normalizationType(d){this._set("normalizationType",d)}addClassBreakInfo(d,f,i){let c=null;c="number"==typeof d?new J.A({minValue:d,maxValue:f,symbol:(0,P.dp)(i)}):x((0,b.o8)(d)),this.classBreakInfos.push(c),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(d,f){const i=this.classBreakInfos.length;for(let c=0;c<i;c++){const h=[this.classBreakInfos[c].minValue,this.classBreakInfos[c].maxValue];if(h[0]===d&&h[1]===f){this.classBreakInfos.splice(c,1);break}}}getBreakIndex(d,f){return this.valueExpression&&null==(null==f?void 0:f.arcade)&&S.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(d,f):this._getBreakIndexForField(d)}getClassBreakInfo(d,f){var i=this;return(0,o.A)(function*(){let c=f;i.valueExpression&&null==(null==f?void 0:f.arcade)&&(c={...c,arcade:yield(0,re.lw)()});const h=i.getBreakIndex(d,c);return-1!==h?i.classBreakInfos[h]:null})()}getSymbol(d,f){if(this.valueExpression&&null==(null==f?void 0:f.arcade))return void S.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(d,f);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}getSymbolAsync(d,f){var i=this;return(0,o.A)(function*(){let c=f;if(i.valueExpression&&null==(null==f?void 0:f.arcade)){const u=yield(0,re.lw)(),{arcadeUtils:g}=u;g.hasGeometryOperations(i.valueExpression)&&(yield g.enableGeometryOperations()),c={...c,arcade:u}}const h=i.getBreakIndex(d,c);return h>-1?i.classBreakInfos[h].symbol:i.defaultSymbol})()}getSymbols(){const d=[];return this.classBreakInfos.forEach(f=>{f.symbol&&d.push(f.symbol)}),this.defaultSymbol&&d.push(this.defaultSymbol),d}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((d,f)=>d+f.getAttributeHash(),"")}getMeshHash(){const d=JSON.stringify(this.backgroundFillSymbol),f=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${d}.${f}.${this.classBreakInfos.reduce((c,h)=>c+h.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var d,f;return new ee({field:this.field,backgroundFillSymbol:null===(d=this.backgroundFillSymbol)||void 0===d?void 0:d.clone(),defaultLabel:this.defaultLabel,defaultSymbol:null===(f=this.defaultSymbol)||void 0===f?void 0:f.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,b.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,b.o8)(this.visualVariables),legendOptions:(0,b.o8)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(d,f){var i=this;return(0,o.A)(function*(){const c=[i.collectVVRequiredFields(d,f),i.collectSymbolFields(d,f)];yield Promise.all(c)})()}collectSymbolFields(d,f){var i=this;return(0,o.A)(function*(){const c=[...i.getSymbols().map(h=>h.collectRequiredFields(d,f)),(0,q.Dx)(d,f,i.valueExpression)];(0,q.rq)(d,f,i.field),(0,q.rq)(d,f,i.normalizationField),yield Promise.all(c)})()}_getBreakIndexForExpression(d,f){const{viewingMode:i,scale:c,spatialReference:h,arcade:u,timeZone:g}=null!=f?f:{},{valueExpression:C}=this;let v=this._compiledValueExpression.valueExpression===C?this._compiledValueExpression.compiledFunction:null;const F=u.arcadeUtils;if(!v){const O=F.createSyntaxTree(C);v=F.createFunction(O),this._compiledValueExpression.compiledFunction=v}this._compiledValueExpression.valueExpression=C;const K=F.executeFunction(v,F.createExecContext(d,F.getViewInfo({viewingMode:i,scale:c,spatialReference:h}),g));return this._getBreakIndexfromInfos(K)}_getBreakIndexForField(d){const i=d.attributes,c=this.normalizationType;let h=parseFloat(i[this.field]);if(c){const u=this.normalizationTotal,g=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if("log"===c)h=Math.log(h)*Math.LOG10E;else if(c!==A||null==u||isNaN(u)){if(c===R&&!isNaN(g)){if(isNaN(h)||isNaN(g))return-1;h/=g}}else h=h/u*100}return this._getBreakIndexfromInfos(h)}_getBreakIndexfromInfos(d){const f=this.isMaxInclusive;if(null!=d&&"number"==typeof d&&!isNaN(d))for(let i=0;i<this.classBreakInfos.length;i++){const c=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(c[0]<=d&&(f?d<=c[1]:d<c[1]))return i}return-1}_areClassBreaksConsecutive(){const d=this.classBreakInfos,f=d.length;for(let i=1;i<f;i++)if(d[i-1].maxValue!==d[i].minValue)return!1;return!0}};(0,p._)([(0,E.MZ)(se.As)],W.prototype,"backgroundFillSymbol",void 0),(0,p._)([(0,E.MZ)({type:[J.A]})],W.prototype,"classBreakInfos",void 0),(0,p._)([(0,I.w)("classBreakInfos")],W.prototype,"readClassBreakInfos",null),(0,p._)([(0,$.K)("classBreakInfos")],W.prototype,"writeClassBreakInfos",null),(0,p._)([(0,E.MZ)({type:String,json:{write:!0}})],W.prototype,"defaultLabel",void 0),(0,p._)([(0,E.MZ)(se.z4)],W.prototype,"defaultSymbol",void 0),(0,p._)([(0,E.MZ)({type:String,json:{write:!0}})],W.prototype,"field",void 0),(0,p._)([(0,T.w)("field")],W.prototype,"castField",null),(0,p._)([(0,E.MZ)({type:Boolean})],W.prototype,"isMaxInclusive",void 0),(0,p._)([(0,E.MZ)({type:te.q,json:{write:!0}})],W.prototype,"legendOptions",void 0),(0,p._)([(0,E.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],W.prototype,"minValue",null),(0,p._)([(0,E.MZ)({type:String,json:{write:!0}})],W.prototype,"normalizationField",void 0),(0,p._)([(0,E.MZ)({type:Number,cast:d=>(0,N.GB)(d),json:{write:!0}})],W.prototype,"normalizationTotal",void 0),(0,p._)([(0,E.MZ)({type:Y.apiValues,value:null,json:{type:Y.jsonValues,read:Y.read,write:Y.write}})],W.prototype,"normalizationType",null),(0,p._)([(0,V.e)({classBreaks:"class-breaks"})],W.prototype,"type",void 0),(0,p._)([(0,E.MZ)({type:String,json:{write:!0}})],W.prototype,"valueExpression",void 0),(0,p._)([(0,E.MZ)({type:String,json:{write:!0}})],W.prototype,"valueExpressionTitle",void 0),W=ee=(0,p._)([(0,w.$)("esri.renderers.ClassBreaksRenderer")],W);const _=W},38582:(ie,G,e)=>{e.d(G,{A:()=>N});var o=e(10467),p=e(8189),P=e(49976),L=e(71065),b=e(85211),V=(e(3248),e(35150),e(40707),e(76576)),I=e(13306);const w=new P.J({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let $=class extends L.oY{constructor(q){super(q),this.authoringInfo=null,this.type=null}getRequiredFields(q){var k=this;return(0,o.A)(function*(){if(!k.collectRequiredFields)return[];const H=new Set;return yield k.collectRequiredFields(H,q),Array.from(H).sort()})()}getSymbol(q,k){}getSymbolAsync(q,k){return(0,o.A)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,p._)([(0,b.MZ)({type:I.A,json:{write:!0}})],$.prototype,"authoringInfo",void 0),(0,p._)([(0,b.MZ)({type:w.apiValues,readOnly:!0,json:{type:w.jsonValues,read:!1,write:{writer:w.write,ignoreOrigin:!0}}})],$.prototype,"type",void 0),$=(0,p._)([(0,V.$)("esri.renderers.Renderer")],$);const N=$},13318:(ie,G,e)=>{e.d(G,{A:()=>oe});var o=e(10467),p=e(8189),P=e(47280),L=e(5922),b=e(77806),S=e(35150),E=e(89221),T=e(48900),V=e(85211),I=e(48669),w=e(15463),$=e(17221),N=e(76576),q=e(50305),k=e(48237),H=e(55739),J=e(86300),se=e(73874),te=e(38582),re=e(12887),ee=e(36345),B=e(26768),A=e(90660),R=e(71065);e(3248),e(40707);let W=class extends((0,A.O)(R.oY)){constructor(a){super(a),this.value=null,this.value2=null,this.value3=null}};(0,p._)([(0,V.MZ)(ee.Ug)],W.prototype,"value",void 0),(0,p._)([(0,V.MZ)(ee.Ug)],W.prototype,"value2",void 0),(0,p._)([(0,V.MZ)(ee.Ug)],W.prototype,"value3",void 0),W=(0,p._)([(0,N.$)("esri.renderers.support.UniqueValue")],W);const _=W;var d=e(89952);let f=class extends((0,A.O)(R.oY)){constructor(a){super(a),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(a){if(null==a)return null;const y=typeof(a=Array.isArray(a)?a:[a])[0];return"string"===y||"number"===y?a.map(M=>new _({value:M})):"object"===y?a[0]instanceof _?a:a.map(M=>new _(M)):null}};(0,p._)([(0,V.MZ)({type:String,json:{write:!0}})],f.prototype,"description",void 0),(0,p._)([(0,V.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,p._)([(0,V.MZ)(ee.z4)],f.prototype,"symbol",void 0),(0,p._)([(0,V.MZ)({type:[_],json:{type:[[String]],read:{reader:a=>a?a.map(y=>new _({value:y[0],value2:y[1],value3:y[2]})):null},write:{writer:(a,y)=>{const M=[];for(const U of a){const Q=[U.value,U.value2,U.value3].filter(d.Ru).map(X=>X.toString());M.push(Q)}y.values=M}}}})],f.prototype,"values",void 0),(0,p._)([(0,I.w)("values")],f.prototype,"castValues",null),f=(0,p._)([(0,N.$)("esri.renderers.support.UniqueValueClass")],f);const i=f;let c=class extends((0,A.O)(R.oY)){constructor(a){super(a),this.heading=null,this.classes=null}};(0,p._)([(0,V.MZ)({type:String,json:{write:!0}})],c.prototype,"heading",void 0),(0,p._)([(0,V.MZ)({type:[i],json:{write:!0}})],c.prototype,"classes",void 0),c=(0,p._)([(0,N.$)("esri.renderers.support.UniqueValueGroup")],c);const h=c;var K,u=e(82449),g=e(48218),C=e(88135),v=e(90288),F=e(75549);const O="esri.renderers.UniqueValueRenderer",s=()=>S.A.getLogger(O),l="uvInfos-watcher",m="uvGroups-watcher",D=(0,H.dp)(u.A);let z=K=class extends((0,re.h)(te.A)){constructor(a){super(a),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(y,M){if(!y&&!M)return;if(!y||!M)return{type:"complete",oldValue:y,newValue:M};let U=!1;const Q={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let X=0;X<M.length;X++){const le=y.find(ne=>ne.value===M[X].value);le?(0,k.Ui)(le,M[X])?(Q.changed.push({type:"complete",oldValue:le,newValue:M[X]}),U=!0):Q.unchanged.push({oldValue:le,newValue:M[X]}):(Q.added.push(M[X]),U=!0)}for(let X=0;X<y.length;X++)M.find(le=>le.value===y[X].value)||(Q.removed.push(y[X]),U=!0);return U?Q:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(a){this._set("field",a),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(a){return null==a||"function"==typeof a?a:(0,H.GX)(a)}writeField(a,y,M,U){"string"==typeof a?y[M]=a:null!=U&&U.messages?U.messages.push(new L.A("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):s().error(".field: cannot write field to JSON since it's not a string value")}set field2(a){this._set("field2",a),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(a){this._set("field3",a),this._updateUniqueValues()}set valueExpression(a){this._set("valueExpression",a),this._updateUniqueValues()}set defaultSymbol(a){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",a)}set fieldDelimiter(a){this._set("fieldDelimiter",a),this._updateUniqueValues()}readPortal(a,y,M){return M.portal||se.A.getDefault()}readStyleOrigin(a,y,M){if(y.styleName)return Object.freeze({styleName:y.styleName});if(y.styleUrl){const U=(0,C.f)(y.styleUrl,M);return Object.freeze({styleUrl:U})}}writeStyleOrigin(a,y,M,U){a.styleName?y.styleName=a.styleName:a.styleUrl&&(y.styleUrl=(0,C.t)(a.styleUrl,U))}set uniqueValueGroups(a){this.styleOrigin?s().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",a),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(a){this.styleOrigin?s().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",a),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(a,y){var M;if(this.styleOrigin)return void s().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let U;U="object"==typeof a?D(a):new u.A({value:a,symbol:(0,P.dp)(y)}),null!==(M=this.uniqueValueInfos)&&void 0!==M&&M.push(U),this._valueInfoMap[U.value]=U,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(a){if(this.styleOrigin)return void s().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const y=this.uniqueValueInfos;if(y)for(let M=0;M<y.length;M++)if(String(y[M].value)===String(a)){delete this._valueInfoMap[a],y.splice(M,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(a,y){var M=this;return(0,o.A)(function*(){let U=y;return M.valueExpression&&null==(null==y?void 0:y.arcade)&&(U={...U,arcade:yield(0,g.lw)()}),M._getUniqueValueInfo(a,U)})()}getSymbol(a,y){if(this.valueExpression&&null==(null==y?void 0:y.arcade))return void s().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const M=this._getUniqueValueInfo(a,y);return(null==M?void 0:M.symbol)||this.defaultSymbol}getSymbolAsync(a,y){var M=this;return(0,o.A)(function*(){var U;let Q=y;if(M.valueExpression&&null==(null===(U=Q)||void 0===U?void 0:U.arcade)){const le=yield(0,g.lw)(),{arcadeUtils:ne}=le;ne.hasGeometryOperations(M.valueExpression)&&(yield ne.enableGeometryOperations()),Q={...Q,arcade:le}}const X=M._getUniqueValueInfo(a,Q);return(null==X?void 0:X.symbol)||M.defaultSymbol})()}getSymbols(){const a=[];for(const M of null!==(y=this.uniqueValueInfos)&&void 0!==y?y:[]){var y;M.symbol&&a.push(M.symbol)}return this.defaultSymbol&&a.push(this.defaultSymbol),a}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((a,y)=>a+y.getAttributeHash(),"")}getMeshHash(){var a;return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${null===(a=this.uniqueValueInfos)||void 0===a?void 0:a.reduce((Q,X)=>Q+X.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const a=new K({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,b.o8)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,b.o8)(this.visualVariables),legendOptions:(0,b.o8)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,b.o8)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(a._isDefaultSymbolDerived=!0),a._set("portal",this.portal);const y=(0,b.o8)(this.uniqueValueInfos),M=(0,b.o8)(this.uniqueValueGroups);return this.styleOrigin&&(a._set("styleOrigin",Object.freeze((0,b.o8)(this.styleOrigin))),Object.freeze(y),Object.freeze(M)),a._set("uniqueValueInfos",y),a._updateValueInfoMap(),a._set("uniqueValueGroups",M),a._isInfosSource=this._isInfosSource,a._watchUniqueValueInfosAndGroups(),a}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(a,y){var M=this;return(0,o.A)(function*(){const U=[M.collectVVRequiredFields(a,y),M.collectSymbolFields(a,y)];yield Promise.all(U)})()}collectSymbolFields(a,y){var M=this;return(0,o.A)(function*(){const U=[...M.getSymbols().map(Q=>Q.collectRequiredFields(a,y)),(0,J.Dx)(a,y,M.valueExpression)];(0,J.rq)(a,y,M.field),(0,J.rq)(a,y,M.field2),(0,J.rq)(a,y,M.field3),yield Promise.all(U)})()}populateFromStyle(){return(0,v.cF)(this.styleOrigin,{portal:this.portal}).then(a=>{var y;const M=[];return this._valueInfoMap={},a&&a.data&&Array.isArray(a.data.items)&&a.data.items.forEach(U=>{const Q=new F.A({styleUrl:a.styleUrl,styleName:a.styleName,portal:this.portal,name:U.name});this.defaultSymbol||U.name!==a.data.defaultItem||(this.defaultSymbol=Q,this._isDefaultSymbolDerived=!0);const X=new u.A({value:U.name,symbol:Q});M.push(X),this._valueInfoMap[U.name]=X}),this._set("uniqueValueInfos",Object.freeze(M)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&null!==(y=this.uniqueValueInfos)&&void 0!==y&&y.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:a}=this;if(a)for(const y of a)this._valueInfoMap[y.value+""]=y}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(l);const{uniqueValueInfos:a}=this;if(a){const y=[];for(const M of a)y.push((0,T.wB)(()=>({symbol:M.symbol,value:M.value,label:M.label,description:M.description}),(U,Q)=>{U!==Q&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(y,l)}}_watchUniqueValueGroups(){this.removeHandles(m);const{uniqueValueGroups:a}=this;if(a){const M=[];for(const U of a){M.push((0,T.wB)(()=>({classes:U.classes}),(Q,X)=>{Q!==X&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const Q of null!==(y=U.classes)&&void 0!==y?y:[]){var y;M.push((0,T.wB)(()=>({symbol:Q.symbol,values:Q.values,label:Q.label,description:Q.description}),(X,le)=>{X!==le&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}}this.addHandles(M,m)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=[],{field:y,field2:M,field3:U,fieldDelimiter:Q,uniqueValueGroups:X,valueExpression:le}=this;if(!y&&!le)return this._set("uniqueValueInfos",a),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const ne=!(!y||!M);for(const pe of X)for(const de of null!==(ae=pe.classes)&&void 0!==ae?ae:[]){var ae;const{symbol:ve,label:ce,values:ue,description:ye}=de;for(const _e of null!=ue?ue:[]){const{value:fe,value2:he,value3:Ee}=_e,me=[fe];M&&me.push(he),U&&me.push(Ee);const ge=ne?me.join(Q||""):me[0];a.push(new u.A({symbol:ve,label:ce,value:ge,description:ye}))}}this._set("uniqueValueInfos",a),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(a=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:y,field2:M,valueExpression:U,fieldDelimiter:Q,uniqueValueInfos:X}=this;if(!y&&!U||!X.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const le=!(!y||!M),ne=X.map(pe=>{var de;const{symbol:ve,label:ce,value:ue,description:ye}=pe,[_e,fe,he]=le?(null==ue||null===(de=ue.toString())||void 0===de?void 0:de.split(Q||""))||[]:[ue];return new i({symbol:ve,label:ce,description:ye,values:[new _({value:_e,value2:fe,value3:he})]})}),ae=[new h({classes:ne})];a&&Object.freeze(ae),this._set("uniqueValueGroups",ae),this._watchUniqueValueGroups()}_getUniqueValueInfo(a,y){return this.valueExpression?this._getUnqiueValueInfoForExpression(a,y):this._getUnqiueValueInfoForFields(a)}_getUnqiueValueInfoForExpression(a,y){const{viewingMode:M,scale:U,spatialReference:Q,arcade:X,timeZone:le}=null!=y?y:{};let ne=this._cache.compiledFunc;const ae=X.arcadeUtils;if(!ne){const de=ae.createSyntaxTree(this.valueExpression);ne=ae.createFunction(de),this._cache.compiledFunc=ne}const pe=ae.executeFunction(ne,ae.createExecContext(a,ae.getViewInfo({viewingMode:M,scale:U,spatialReference:Q}),le));return this._valueInfoMap[pe+""]}_getUnqiueValueInfoForFields(a){const y=this.field,M=a.attributes;let U;if("function"!=typeof y&&this.field2){const Q=this.field2,X=this.field3,le=[];y&&le.push(M[y]),Q&&le.push(M[Q]),X&&le.push(M[X]),U=le.join(this.fieldDelimiter||"")}else"function"==typeof y?U=y(a):y&&(U=M[y]);return this._valueInfoMap[U+""]}static fromPortalStyle(a,y){const M=new K(null==y?void 0:y.properties);M._set("styleOrigin",Object.freeze({styleName:a})),M._set("portal",(null==y?void 0:y.portal)||se.A.getDefault());const U=M.populateFromStyle();return U.catch(Q=>{s().error(`#fromPortalStyle('${a}'[, ...])`,"Failed to create unique value renderer from style name",Q)}),U}static fromStyleUrl(a,y){const M=new K(null==y?void 0:y.properties);M._set("styleOrigin",Object.freeze({styleUrl:a}));const U=M.populateFromStyle();return U.catch(Q=>{s().error(`#fromStyleUrl('${a}'[, ...])`,"Failed to create unique value renderer from style URL",Q)}),U}};(0,p._)([(0,V.MZ)({readOnly:!0})],z.prototype,"_cache",null),(0,p._)([(0,w.e)({uniqueValue:"unique-value"})],z.prototype,"type",void 0),(0,p._)([(0,V.MZ)(ee.As)],z.prototype,"backgroundFillSymbol",void 0),(0,p._)([(0,V.MZ)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],z.prototype,"field",null),(0,p._)([(0,I.w)("field")],z.prototype,"castField",null),(0,p._)([(0,q.K)("field")],z.prototype,"writeField",null),(0,p._)([(0,V.MZ)({type:String,value:null,json:{write:!0}})],z.prototype,"field2",null),(0,p._)([(0,V.MZ)({type:String,value:null,json:{write:!0}})],z.prototype,"field3",null),(0,p._)([(0,V.MZ)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],z.prototype,"orderByClassesEnabled",void 0),(0,p._)([(0,V.MZ)({type:String,value:null,json:{write:!0}})],z.prototype,"valueExpression",null),(0,p._)([(0,V.MZ)({type:String,json:{write:!0}})],z.prototype,"valueExpressionTitle",void 0),(0,p._)([(0,V.MZ)({type:B.q,json:{write:!0}})],z.prototype,"legendOptions",void 0),(0,p._)([(0,V.MZ)({type:String,json:{write:!0}})],z.prototype,"defaultLabel",void 0),(0,p._)([(0,V.MZ)((0,E.$N)({...ee.z4},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],z.prototype,"defaultSymbol",null),(0,p._)([(0,V.MZ)({type:String,value:null,json:{write:!0}})],z.prototype,"fieldDelimiter",null),(0,p._)([(0,V.MZ)({type:se.A,readOnly:!0})],z.prototype,"portal",void 0),(0,p._)([(0,$.w)("portal",["styleName"])],z.prototype,"readPortal",null),(0,p._)([(0,V.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],z.prototype,"styleOrigin",void 0),(0,p._)([(0,$.w)("styleOrigin",["styleName","styleUrl"])],z.prototype,"readStyleOrigin",null),(0,p._)([(0,q.K)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],z.prototype,"writeStyleOrigin",null),(0,p._)([(0,V.MZ)({type:[h],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(a,y,M)=>(y.uniqueValueGroups||function Z(a){const{field1:y,field2:M,field3:U,fieldDelimiter:Q,uniqueValueInfos:X,valueExpression:le}=a,ne=!(!y||!M);return[{classes:(null!=X?X:[]).map(ae=>{var pe;const{symbol:de,label:ve,value:ce,description:ue}=ae,[ye,_e,fe]=ne?(null==ce||null===(pe=ce.toString())||void 0===pe?void 0:pe.split(Q||""))||[]:[ce],he=[];return(y||le)&&he.push(ye),M&&he.push(_e),U&&he.push(fe),{symbol:de,label:ve,values:[he],description:ue}})}]}(y)).map(U=>h.fromJSON(U,M))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],z.prototype,"uniqueValueGroups",null),(0,p._)([(0,V.MZ)({type:[u.A],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],z.prototype,"uniqueValueInfos",null),z=K=(0,p._)([(0,N.$)(O)],z);const oe=z},12887:(ie,G,e)=>{e.d(G,{h:()=>F});var o=e(10467),p=e(8189),P=e(85211),b=(e(3248),e(35150)),E=(e(40707),e(17221)),T=e(76576),V=e(50305),I=e(86300);const $=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var k,N=e(35307),q=e(5236);let H=k=class extends N.A{constructor(O){super(O),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(O){O&&Array.isArray(O)&&(O=O.filter(s=>!!s)).sort((s,l)=>s.value-l.value),this._set("stops",O)}clone(){var O;return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(s=>s.clone()),legendOptions:null===(O=this.legendOptions)||void 0===O?void 0:O.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(O=>O.value||0)}};(0,p._)([(0,P.MZ)({readOnly:!0})],H.prototype,"cache",null),(0,p._)([(0,P.MZ)({type:["color"],json:{type:["colorInfo"]}})],H.prototype,"type",void 0),(0,p._)([(0,P.MZ)({type:String,json:{write:!0}})],H.prototype,"normalizationField",void 0),(0,p._)([(0,P.MZ)({type:[q.A],json:{write:!0}})],H.prototype,"stops",null),H=k=(0,p._)([(0,T.$)("esri.renderers.visualVariables.ColorVariable")],H);const J=H;var ee,se=e(71065),te=e(55739),re=e(46873);let B=ee=class extends se.oY{constructor(O){super(O),this.label=null,this.opacity=null,this.value=null}readOpacity(O,s){return(0,re.D)(s.transparency)}writeOpacity(O,s,l){s[l]=(0,re.p)(O)}clone(){return new ee({label:this.label,opacity:this.opacity,value:this.value})}};(0,p._)([(0,P.MZ)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,p._)([(0,P.MZ)({type:Number,json:{type:te.jz,write:{target:"transparency"}}})],B.prototype,"opacity",void 0),(0,p._)([(0,E.w)("opacity",["transparency"])],B.prototype,"readOpacity",null),(0,p._)([(0,V.K)("opacity")],B.prototype,"writeOpacity",null),(0,p._)([(0,P.MZ)({type:Number,json:{write:!0}})],B.prototype,"value",void 0),B=ee=(0,p._)([(0,T.$)("esri.renderers.visualVariables.support.OpacityStop")],B);const A=B;var R;let Y=R=class extends N.A{constructor(O){super(O),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(O){O&&Array.isArray(O)&&(O=O.filter(s=>!!s)).sort((s,l)=>s.value-l.value),this._set("stops",O)}clone(){var O;return new R({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(s=>s.clone()),legendOptions:null===(O=this.legendOptions)||void 0===O?void 0:O.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(O=>O.value||0)}};(0,p._)([(0,P.MZ)({readOnly:!0})],Y.prototype,"cache",null),(0,p._)([(0,P.MZ)({type:["opacity"],json:{type:["transparencyInfo"]}})],Y.prototype,"type",void 0),(0,p._)([(0,P.MZ)({type:String,json:{write:!0}})],Y.prototype,"normalizationField",void 0),(0,p._)([(0,P.MZ)({type:[A],json:{write:!0}})],Y.prototype,"stops",null),Y=R=(0,p._)([(0,T.$)("esri.renderers.visualVariables.OpacityVariable")],Y);const x=Y;var W=e(91749),_=e(83699),d=e(98877),f=e(49976),i=e(96996);const c={color:J,size:_.A,opacity:x,rotation:W.A},h=new f.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),u=/^\[([^\]]+)\]$/i;let g=class extends d.A{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(O){var s;if(this._resetVariables(),null!==(s=O=O&&O.filter(l=>!!l))&&void 0!==s&&s.length){for(const l of O)switch(l.type){case"color":this.colorVariables.push(l);break;case"opacity":this.opacityVariables.push(l);break;case"rotation":this.rotationVariables.push(l);break;case"size":this.sizeVariables.push(l)}this.sizeVariables.length&&this.sizeVariables.some(l=>!!l.target)&&O.sort((l,m)=>{let j=null;return j=l.target===m.target?0:l.target?1:-1,j});for(let l=0;l<O.length;l++)O[l].index=l;this._set("visualVariables",O)}else this._set("visualVariables",O)}readVariables(O,s,l){const{rotationExpression:m,rotationType:j}=s,D=null==m?void 0:m.match(u),Z=null==D?void 0:D[1];if(Z&&(O||(O=[]),O.push({type:"rotationInfo",rotationType:j,field:Z})),O)return O.map(z=>{const oe=h.read(z.type),a=c[oe];a||(b.A.getLogger(this).warn(`Unknown variable type: ${oe}`),null!=l&&l.messages&&l.messages.push(new i.A("visual-variable:unsupported",`visualVariable of type '${oe}' is not supported`,{definition:z,context:l})));const y=new a;return y.read(z,l),y})}writeVariables(O,s){const l=[];for(const m of O){const j=m.toJSON(s);j&&l.push(j)}return l}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,p._)([(0,P.MZ)()],g.prototype,"visualVariables",null),g=(0,p._)([(0,T.$)("esri.renderers.visualVariables.VisualVariableFactory")],g);const C=g,v={base:N.A,key:"type",typeMap:{opacity:x,color:J,rotation:W.A,size:_.A}},F=O=>{let s=class extends O{constructor(){super(...arguments),this._vvFactory=new C}set visualVariables(l){this._vvFactory.visualVariables=l,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(l,m,j){return this._vvFactory.readVariables(l,m,j)}writeVisualVariables(l,m,j,D){m[j]=this._vvFactory.writeVariables(l,D)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const l of this.visualVariables)if(l.arcadeRequired)return!0;return!1}hasVisualVariables(l,m){return l?this.getVisualVariablesForType(l,m).length>0:this.getVisualVariablesForType("size",m).length>0||this.getVisualVariablesForType("color",m).length>0||this.getVisualVariablesForType("opacity",m).length>0||this.getVisualVariablesForType("rotation",m).length>0}getVisualVariablesForType(l,m){const j=this.visualVariables;return j?j.filter(D=>D.type===l&&("string"==typeof m?D.target===m:!1!==m||!D.target)):[]}collectVVRequiredFields(l,m){var j=this;return(0,o.A)(function*(){let D=[];j.visualVariables&&(D=D.concat(j.visualVariables));for(const Z of D)Z&&(Z.field&&(0,I.rq)(l,m,Z.field),Z.normalizationField&&(0,I.rq)(l,m,Z.normalizationField),Z.valueExpression&&(K(Z.valueExpression,l,m)||(yield(0,I.Dx)(l,m,Z.valueExpression))))})()}};return(0,p._)([(0,P.MZ)({types:[v],value:null,json:{write:!0}})],s.prototype,"visualVariables",null),(0,p._)([(0,E.w)("visualVariables",["visualVariables","rotationType","rotationExpression"])],s.prototype,"readVisualVariables",null),(0,p._)([(0,V.K)("visualVariables")],s.prototype,"writeVisualVariables",null),s=(0,p._)([(0,T.$)("esri.renderers.mixins.VisualVariablesMixin")],s),s};function K(O,s,l){const m=function w(O){var s,l;return null!==(s=null===(l=O.match($))||void 0===l||null===(l=l[1])||void 0===l?void 0:l.replace(/\\'/g,"'"))&&void 0!==s?s:null}(O);return null!=m&&((0,I.rq)(s,l,m),!0)}},13306:(ie,G,e)=>{e.d(G,{A:()=>C});var $,o=e(8189),p=e(49976),P=e(71065),L=e(77806),b=e(85211),S=e(55739),E=e(17221),T=e(76576);e(3248),e(35150),e(40707);let N=$=class extends P.oY{constructor(v){super(v),this.minValue=0,this.maxValue=0}clone(){return new $({minValue:this.minValue,maxValue:this.maxValue})}};var q;(0,o._)([(0,b.MZ)({type:Number,json:{write:!0}})],N.prototype,"minValue",void 0),(0,o._)([(0,b.MZ)({type:Number,json:{write:!0}})],N.prototype,"maxValue",void 0),N=$=(0,o._)([(0,T.$)("esri.renderer.support.AuthoringInfoClassBreakInfo")],N);let k=q=class extends P.oY{constructor(v){super(v),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new q({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,L.o8)(this.classBreakInfos)})}};(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],k.prototype,"field",void 0),(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0),(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],k.prototype,"label",void 0),(0,o._)([(0,b.MZ)({type:[N],json:{write:!0}})],k.prototype,"classBreakInfos",void 0),k=q=(0,o._)([(0,T.$)("esri.renderers.support.AuthoringInfoFieldInfo")],k);var J,H=e(48669);const se=new p.J({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),te=new p.J({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),re={key:v=>"number"==typeof v?"number":"string",typeMap:{number:Number,string:String},base:null},ee=["high-to-low","above-and-below","centered-on","extremes"],B=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],A=["seconds","minutes","hours","days","months","years"];let R=J=class extends P.oY{constructor(v){super(v),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(v){return"string"==typeof v||"number"==typeof v?v:null}castStartTime(v){return"string"==typeof v||"number"==typeof v?v:null}get style(){return"color"===this.type?this._get("style"):null}set style(v){this._set("style",v)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(v){this._set("theme",v)}clone(){return new J({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,o._)([(0,b.MZ)({types:re,json:{write:!0}})],R.prototype,"endTime",void 0),(0,o._)([(0,H.w)("endTime")],R.prototype,"castEndTime",null),(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],R.prototype,"field",void 0),(0,o._)([(0,b.MZ)({type:Number,json:{write:!0}})],R.prototype,"maxSliderValue",void 0),(0,o._)([(0,b.MZ)({type:Number,json:{write:!0}})],R.prototype,"minSliderValue",void 0),(0,o._)([(0,b.MZ)({types:re,json:{write:!0}})],R.prototype,"startTime",void 0),(0,o._)([(0,H.w)("startTime")],R.prototype,"castStartTime",null),(0,o._)([(0,b.MZ)({type:se.apiValues,value:null,json:{type:se.jsonValues,read:se.read,write:se.write}})],R.prototype,"style",null),(0,o._)([(0,b.MZ)({type:B,value:null,json:{type:B,origins:{"web-scene":{type:ee,write:{writer:(v,F)=>{ee.includes(v)&&(F.theme=v)}}}},write:!0}})],R.prototype,"theme",null),(0,o._)([(0,b.MZ)({type:te.apiValues,json:{type:te.jsonValues,read:te.read,write:te.write}})],R.prototype,"type",void 0),(0,o._)([(0,b.MZ)({type:A,json:{type:A,write:!0}})],R.prototype,"units",void 0),R=J=(0,o._)([(0,T.$)("esri.renderers.support.AuthoringInfoVisualVariable")],R);const Y=R;var W,x=e(54485);const _=new p.J({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),d=new p.J({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),f=new p.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),i=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let g=W=class extends P.oY{constructor(v){super(v),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const v=this._get("classificationMethod"),F=this.type;return F&&"relationship"!==F?"class-breaks-size"===F||"class-breaks-color"===F?v||"manual":null:v}set classificationMethod(v){this._set("classificationMethod",v)}readColorRamp(v){return v?(0,x.r)(v):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(v){this._set("fields",v)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(v){this._set("field1",v)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(v){this._set("field2",v)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(v){this._set("flowTheme",v)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(v){this._set("focus",v)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(v){this._set("numClasses",v)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(v){this._set("statistics",v)}get standardDeviationInterval(){const v=this.type;return v&&"relationship"!==v&&"class-breaks-size"!==v&&"class-breaks-color"!==v||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(v){this._set("standardDeviationInterval",v)}get type(){return this._get("type")}set type(v){let F=v;"classed-size"===v?F="class-breaks-size":"classed-color"===v&&(F="class-breaks-color"),this._set("type",F)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(v){this._set("univariateSymbolStyle",v)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(v){this._set("univariateTheme",v)}clone(){var v;return new W({classificationMethod:this.classificationMethod,colorRamp:(0,L.o8)(this.colorRamp),fadeRatio:(0,L.o8)(this.fadeRatio),fields:null===(v=this.fields)||void 0===v?void 0:v.slice(0),field1:(0,L.o8)(this.field1),field2:(0,L.o8)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(F=>F.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,o._)([(0,b.MZ)({type:_.apiValues,value:null,json:{type:_.jsonValues,read:_.read,write:_.write,origins:{"web-document":{default:"manual",type:_.jsonValues,read:_.read,write:_.write}}}})],g.prototype,"classificationMethod",null),(0,o._)([(0,b.MZ)({types:x.g,json:{write:!0}})],g.prototype,"colorRamp",void 0),(0,o._)([(0,E.w)("colorRamp")],g.prototype,"readColorRamp",null),(0,o._)([(0,b.MZ)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"fadeRatio",void 0),(0,o._)([(0,b.MZ)({type:[String],value:null,json:{write:!0}})],g.prototype,"fields",null),(0,o._)([(0,b.MZ)({type:k,value:null,json:{write:!0}})],g.prototype,"field1",null),(0,o._)([(0,b.MZ)({type:k,value:null,json:{write:!0}})],g.prototype,"field2",null),(0,o._)([(0,b.MZ)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],g.prototype,"flowTheme",null),(0,o._)([(0,b.MZ)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],g.prototype,"focus",null),(0,o._)([(0,b.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],g.prototype,"isAutoGenerated",void 0),(0,o._)([(0,b.MZ)({type:Number,value:null,json:{type:S.jz,write:!0}})],g.prototype,"numClasses",null),(0,o._)([(0,b.MZ)({type:i,json:{type:i,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],g.prototype,"lengthUnit",void 0),(0,o._)([(0,b.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"maxSliderValue",void 0),(0,o._)([(0,b.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"minSliderValue",void 0),(0,o._)([(0,b.MZ)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"statistics",null),(0,o._)([(0,b.MZ)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],g.prototype,"standardDeviationInterval",null),(0,o._)([(0,b.MZ)({type:d.apiValues,value:null,json:{type:d.jsonValues,read:d.read,write:d.write,origins:{"web-scene":{type:f.jsonValues,write:{writer:f.write,overridePolicy:v=>({enabled:"flow"!==v})}}}}})],g.prototype,"type",null),(0,o._)([(0,b.MZ)({type:[Y],json:{write:!0}})],g.prototype,"visualVariables",void 0),(0,o._)([(0,b.MZ)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],g.prototype,"univariateSymbolStyle",null),(0,o._)([(0,b.MZ)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],g.prototype,"univariateTheme",null),g=W=(0,o._)([(0,T.$)("esri.renderers.support.AuthoringInfo")],g);const C=g},19390:(ie,G,e)=>{e.d(G,{A:()=>w});var V,o=e(8189),p=e(71065),P=e(85211),E=(e(3248),e(35150),e(40707),e(76576)),T=e(36345);let I=V=class extends p.oY{constructor($){super($),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new V({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const $=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${$}`}};(0,o._)([(0,P.MZ)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,o._)([(0,P.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,o._)([(0,P.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],I.prototype,"minValue",void 0),(0,o._)([(0,P.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],I.prototype,"maxValue",void 0),(0,o._)([(0,P.MZ)(T.Wp)],I.prototype,"symbol",void 0),I=V=(0,o._)([(0,E.$)("esri.renderers.support.ClassBreakInfo")],I);const w=I},26768:(ie,G,e)=>{e.d(G,{q:()=>V});var T,o=e(8189),p=e(71065),P=e(85211),E=(e(3248),e(35150),e(40707),e(76576));let V=T=class extends p.oY{constructor(){super(...arguments),this.title=null}clone(){return new T({title:this.title})}};(0,o._)([(0,P.MZ)({type:String,json:{write:!0}})],V.prototype,"title",void 0),V=T=(0,o._)([(0,E.$)("esri.renderers.support.LegendOptions")],V)},82449:(ie,G,e)=>{e.d(G,{A:()=>w});var V,o=e(8189),p=e(71065),P=e(85211),E=(e(3248),e(35150),e(40707),e(76576)),T=e(36345);let I=V=class extends p.oY{constructor($){super($),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new V({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var $;const N=JSON.stringify(null===($=this.symbol)||void 0===$?void 0:$.toJSON());return`${this.value}.${N}`}};(0,o._)([(0,P.MZ)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,o._)([(0,P.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,o._)([(0,P.MZ)(T.Wp)],I.prototype,"symbol",void 0),(0,o._)([(0,P.MZ)(T.Ug)],I.prototype,"value",void 0),I=V=(0,o._)([(0,E.$)("esri.renderers.support.UniqueValueInfo")],I);const w=I},36345:(ie,G,e)=>{e.d(G,{As:()=>V,Ug:()=>I,Wp:()=>T,z4:()=>E});var o=e(47280),p=e(89221),P=e(71224),L=e(35564),b=e(84986),S=e(27093);const E={types:o.xK,json:{write:{writer:L.M9},origins:{"web-scene":{types:o.On,write:{writer:L.M9},read:{reader:(0,P.C)({types:o.On})}}}}},T=(0,p.$N)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},E),V={types:{base:b.A,key:"type",typeMap:{"simple-fill":o.Es.typeMap["simple-fill"],"picture-fill":o.Es.typeMap["picture-fill"],"polygon-3d":o.Es.typeMap["polygon-3d"]}},json:{write:{writer:L.M9},origins:{"web-scene":{type:S.A,write:{writer:L.M9}}}}},I={cast:w=>null==w||"string"==typeof w||"number"==typeof w?w:`${w}`,json:{type:String,write:{writer:(w,$)=>{$.value=null==w?void 0:w.toString()}}}}},91749:(ie,G,e)=>{e.d(G,{A:()=>$});var I,o=e(8189),p=e(5922),P=e(85211),E=(e(3248),e(35150),e(40707),e(76576)),T=e(50305),V=e(35307);let w=I=class extends V.A{constructor(N){super(N),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(N,q,k,H){null!=H&&H.messages&&H.messages.push(new p.A("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:H}))}clone(){var N;return new I({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:null===(N=this.legendOptions)||void 0===N?void 0:N.clone()})}};(0,o._)([(0,P.MZ)({readOnly:!0})],w.prototype,"cache",null),(0,o._)([(0,P.MZ)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],w.prototype,"axis",void 0),(0,o._)([(0,P.MZ)({type:["rotation"],json:{type:["rotationInfo"]}})],w.prototype,"type",void 0),(0,o._)([(0,P.MZ)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],w.prototype,"rotationType",void 0),(0,o._)([(0,P.MZ)({type:String,json:{write:!0}})],w.prototype,"valueExpressionTitle",void 0),(0,o._)([(0,T.K)("web-scene","valueExpressionTitle")],w.prototype,"writeValueExpressionTitleWebScene",null),w=I=(0,o._)([(0,E.$)("esri.renderers.visualVariables.RotationVariable")],w);const $=w},83699:(ie,G,e)=>{e.d(G,{A:()=>W});var H,o=e(8189),p=e(5922),P=e(49976),L=e(35150),b=e(67685),S=e(85211),E=e(48669),T=e(17221),V=e(76576),I=e(50305),w=e(35307),$=e(8042),k=(e(3248),e(40707),e(58742));let J=H=class extends k.A{constructor(){super(...arguments),this.customValues=null}clone(){var _;return new H({title:this.title,showLegend:this.showLegend,customValues:null===(_=this.customValues)||void 0===_?void 0:_.slice(0)})}};(0,o._)([(0,S.MZ)({type:[Number],json:{write:!0}})],J.prototype,"customValues",void 0),J=H=(0,o._)([(0,V.$)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],J);const se=J;var ee,te=e(64765),re=e(77522);const B=new P.J({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),A=new P.J({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function R(_){if(null!=_)return"string"==typeof _||"number"==typeof _?(0,b.cr)(_):"size"===_.type?(0,te.of)(_)?_:(delete(_={..._}).type,new x(_)):void 0}function Y(_,d,f){if("object"!=typeof _)return _;const i=new x;return i.read(_,f),i}let x=ee=class extends w.A{constructor(_){super(_),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&re.viewScaleRE.test(this.valueExpression)}}set expression(_){L.A.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===_?(this.valueExpression="$view.scale",this._set("expression",_)):this._set("expression",null)}set index(_){(0,te.of)(this.maxSize)&&(this.maxSize.index=`visualVariables[${_}].maxSize`),(0,te.of)(this.minSize)&&(this.minSize.index=`visualVariables[${_}].minSize`),this._set("index",_)}get inputValueType(){return(0,te.eh)(this)}set maxDataValue(_){_&&this.stops&&(L.A.getLogger(this).warn("cannot set maxDataValue when stops is not null."),_=null),this._set("maxDataValue",_)}set maxSize(_){_&&this.stops&&(L.A.getLogger(this).warn("cannot set maxSize when stops is not null."),_=null),this._set("maxSize",_)}castMaxSize(_){return R(_)}readMaxSize(_,d,f){return Y(_,0,f)}set minDataValue(_){_&&this.stops&&(L.A.getLogger(this).warn("cannot set minDataValue when stops is not null."),_=null),this._set("minDataValue",_)}set minSize(_){_&&this.stops&&(L.A.getLogger(this).warn("cannot set minSize when stops is not null."),_=null),this._set("minSize",_)}castMinSize(_){return R(_)}readMinSize(_,d,f){return Y(_,0,f)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(_){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?_&&Array.isArray(_)&&(_=_.filter(d=>!!d)).sort((d,f)=>d.value-f.value):_&&(L.A.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),_=null),this._set("stops",_)}get transformationType(){return(0,te.KZ)(this,this.inputValueType)}readValueExpression(_,d){return _||d.expression&&"$view.scale"}writeValueExpressionWebScene(_,d,f,i){if("$view.scale"===_){if(null!=i&&i.messages){const c=this.index;i.messages.push(new p.A("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof c?c:`visualVariables[${c}]`)+".valueExpression",context:i}))}}else d[f]=_}readValueUnit(_){return _?A.read(_):null}clone(){var _,d;return new ee({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,te.of)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,te.of)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:null===(_=this.stops)||void 0===_?void 0:_.map(f=>f.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:null===(d=this.legendOptions)||void 0===d?void 0:d.clone()})}flipSizes(){if(this.transformationType===te._w.ClampedLinear){const{minSize:_,maxSize:d}=this;return this.minSize=d,this.maxSize=_,this}if(this.transformationType===te._w.Stops){const _=this.stops;if(!_)return this;const d=_.map(i=>i.size).reverse(),f=_.length;for(let i=0;i<f;i++)_[i].size=d[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var _;return null===(_=this.stops)||void 0===_?void 0:_.map(d=>d.value||0)}};(0,o._)([(0,S.MZ)({readOnly:!0})],x.prototype,"cache",null),(0,o._)([(0,S.MZ)({type:B.apiValues,json:{type:B.jsonValues,origins:{"web-map":{read:!1}},read:B.read,write:B.write}})],x.prototype,"axis",void 0),(0,o._)([(0,S.MZ)({type:String,value:null,json:{read:!1}})],x.prototype,"expression",null),(0,o._)([(0,S.MZ)()],x.prototype,"index",null),(0,o._)([(0,S.MZ)({type:String,readOnly:!0})],x.prototype,"inputValueType",null),(0,o._)([(0,S.MZ)({type:se,json:{write:!0}})],x.prototype,"legendOptions",void 0),(0,o._)([(0,S.MZ)({type:Number,value:null,json:{write:!0}})],x.prototype,"maxDataValue",null),(0,o._)([(0,S.MZ)({type:Number,value:null,json:{write:!0}})],x.prototype,"maxSize",null),(0,o._)([(0,E.w)("maxSize")],x.prototype,"castMaxSize",null),(0,o._)([(0,T.w)("maxSize")],x.prototype,"readMaxSize",null),(0,o._)([(0,S.MZ)({type:Number,value:null,json:{write:!0}})],x.prototype,"minDataValue",null),(0,o._)([(0,S.MZ)({type:Number,value:null,json:{write:!0}})],x.prototype,"minSize",null),(0,o._)([(0,E.w)("minSize")],x.prototype,"castMinSize",null),(0,o._)([(0,T.w)("minSize")],x.prototype,"readMinSize",null),(0,o._)([(0,S.MZ)({type:String,json:{write:!0}})],x.prototype,"normalizationField",void 0),(0,o._)([(0,S.MZ)({readOnly:!0})],x.prototype,"arcadeRequired",null),(0,o._)([(0,S.MZ)({type:String})],x.prototype,"scaleBy",void 0),(0,o._)([(0,S.MZ)({type:[$.A],value:null,json:{write:!0}})],x.prototype,"stops",null),(0,o._)([(0,S.MZ)({type:["outline"],json:{write:!0}})],x.prototype,"target",void 0),(0,o._)([(0,S.MZ)({type:String,readOnly:!0})],x.prototype,"transformationType",null),(0,o._)([(0,S.MZ)({type:["size"],json:{type:["sizeInfo"]}})],x.prototype,"type",void 0),(0,o._)([(0,S.MZ)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],x.prototype,"useSymbolValue",void 0),(0,o._)([(0,S.MZ)({type:String,json:{write:!0}})],x.prototype,"valueExpression",void 0),(0,o._)([(0,T.w)("valueExpression",["valueExpression","expression"])],x.prototype,"readValueExpression",null),(0,o._)([(0,I.K)("web-scene","valueExpression")],x.prototype,"writeValueExpressionWebScene",null),(0,o._)([(0,S.MZ)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],x.prototype,"valueRepresentation",void 0),(0,o._)([(0,S.MZ)({type:A.apiValues,json:{write:A.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],x.prototype,"valueUnit",void 0),(0,o._)([(0,T.w)("valueUnit")],x.prototype,"readValueUnit",null),x=ee=(0,o._)([(0,V.$)("esri.renderers.visualVariables.SizeVariable")],x);const W=x},35307:(ie,G,e)=>{e.d(G,{A:()=>$});var o=e(8189),p=e(49976),P=e(71065),L=e(35150),b=e(85211),S=e(48669),E=e(76576),T=e(55739),V=e(58742);const I=new p.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let w=class extends P.oY{constructor(N){super(N),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(N){return null==N?N:"function"==typeof N?(L.A.getLogger(this).error(".field: field must be a string value"),null):(0,T.GX)(N)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,o._)([(0,b.MZ)()],w.prototype,"index",void 0),(0,o._)([(0,b.MZ)({type:I.apiValues,readOnly:!0,json:{read:I.read,write:I.write}})],w.prototype,"type",void 0),(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],w.prototype,"field",void 0),(0,o._)([(0,S.w)("field")],w.prototype,"castField",null),(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],w.prototype,"valueExpression",void 0),(0,o._)([(0,b.MZ)({type:String,json:{write:!0}})],w.prototype,"valueExpressionTitle",void 0),(0,o._)([(0,b.MZ)({readOnly:!0})],w.prototype,"arcadeRequired",null),(0,o._)([(0,b.MZ)({type:V.A,json:{write:!0}})],w.prototype,"legendOptions",void 0),w=(0,o._)([(0,E.$)("esri.renderers.visualVariables.VisualVariable")],w);const $=w},5236:(ie,G,e)=>{e.d(G,{A:()=>$});var I,o=e(8189),p=e(68677),P=e(71065),L=e(85211),b=e(55739),T=(e(40707),e(3248),e(76576)),V=e(50305);let w=I=class extends P.oY{constructor(N){super(N),this.color=null,this.label=null,this.value=null}writeValue(N,q,k){q[k]=null!=N?N:0}clone(){return new I({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,o._)([(0,L.MZ)({type:p.A,json:{type:[b.jz],write:!0}})],w.prototype,"color",void 0),(0,o._)([(0,L.MZ)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,o._)([(0,L.MZ)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],w.prototype,"value",void 0),(0,o._)([(0,V.K)("value")],w.prototype,"writeValue",null),w=I=(0,o._)([(0,T.$)("esri.renderers.visualVariables.support.ColorStop")],w);const $=w},8042:(ie,G,e)=>{e.d(G,{A:()=>w});var V,o=e(8189),p=e(71065),P=e(67685),L=e(85211),T=(e(3248),e(35150),e(40707),e(76576));let I=V=class extends p.oY{constructor($){super($),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new V({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};(0,o._)([(0,L.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,o._)([(0,L.MZ)({type:Number,cast:P.cr,json:{write:!0}})],I.prototype,"size",void 0),(0,o._)([(0,L.MZ)({type:Number,json:{write:!0}})],I.prototype,"value",void 0),(0,o._)([(0,L.MZ)({type:Boolean,json:{write:!1}})],I.prototype,"useMinValue",void 0),(0,o._)([(0,L.MZ)({type:Boolean,json:{write:!1}})],I.prototype,"useMaxValue",void 0),I=V=(0,o._)([(0,T.$)("esri.renderers.visualVariables.support.SizeStop")],I);const w=I},58742:(ie,G,e)=>{e.d(G,{A:()=>I});var T,o=e(8189),p=e(85211),S=(e(3248),e(35150),e(40707),e(76576)),E=e(26768);let V=T=class extends E.q{constructor(){super(...arguments),this.showLegend=null}clone(){return new T({title:this.title,showLegend:this.showLegend})}};(0,o._)([(0,p.MZ)({type:Boolean,json:{write:!0}})],V.prototype,"showLegend",void 0),V=T=(0,o._)([(0,S.$)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],V);const I=V},64765:(ie,G,e)=>{var o,p,E;function P(E){return E&&"esri.renderers.visualVariables.SizeVariable"===E.declaredClass}function L(E){return null!=E&&!isNaN(E)&&isFinite(E)}function b(E){return E.valueExpression?o.Expression:E.field&&"string"==typeof E.field?o.Field:o.Unknown}function S(E,T){return(T||b(E))===o.Unknown?p.Constant:E.stops?p.Stops:null!=E.minSize&&null!=E.maxSize&&null!=E.minDataValue&&null!=E.maxDataValue?p.ClampedLinear:"unknown"===(E.valueUnit||"unknown")?null!=E.minSize&&null!=E.minDataValue?E.minSize&&E.minDataValue?p.Proportional:p.Additive:p.Identity:p.RealWorldSize}e.d(G,{KZ:()=>S,Yf:()=>o,_w:()=>p,eh:()=>b,gf:()=>L,of:()=>P}),(E=o||(o={})).Unknown="unknown",E.Expression="expression",E.Field="field",function(E){E.Unknown="unknown",E.Stops="stops",E.ClampedLinear="clamped-linear",E.Proportional="proportional",E.Additive="additive",E.Constant="constant",E.Identity="identity",E.RealWorldSize="real-world-size"}(p||(p={}))},77522:(ie,G,e)=>{e.r(G),e.d(G,{getAllSizes:()=>f,getColor:()=>w,getOpacity:()=>$,getRotationAngle:()=>N,getSize:()=>H,getSizeForValue:()=>x,getSizeFromNumberOrVariable:()=>J,getSizeRangeAtScale:()=>W,getVisualVariableValues:()=>_,viewScaleRE:()=>I});var o=e(68677),p=e(81098),P=e(69690),L=e(35150),b=e(48716),S=e(64765);const E=()=>L.A.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),T=new p.A,V=Math.PI,I=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function w(i,c,h){const u="visualVariables"in i&&i.visualVariables?i.visualVariables.find(D=>"color"===D.type):i;if(!u)return;if("esri.renderers.visualVariables.ColorVariable"!==u.declaredClass)return void E().warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const g="number"==typeof c,C=g?null:c,v=null==C?void 0:C.attributes;let F=g?c:null;const K=u.field,{ipData:O,hasExpression:s}=u.cache;let l=u.cache.compiledFunc;if(!K&&!s){const D=u.stops;return D&&D[0]&&D[0].color}if("number"!=typeof F)if(s){if(null==(null==h?void 0:h.arcade))return void E().error("Use of arcade expressions requires an arcade context");const Z=h.arcade.arcadeUtils,z=Z.getViewInfo({viewingMode:h.viewingMode,scale:h.scale,spatialReference:h.spatialReference}),oe=Z.createExecContext(C,z,h.timeZone);if(!l){const a=Z.createSyntaxTree(u.valueExpression);l=Z.createFunction(a),u.cache.compiledFunc=l}F=Z.executeFunction(l,oe)}else v&&(F=v[K]);const m=u.normalizationField,j=null!=v&&null!=m?parseFloat(v[m]):void 0;if(null!=F&&(!m||g||!isNaN(j)&&0!==j)){isNaN(j)||g||(F/=j);const D=d(F,O);if(D){const Z=D[0],z=D[1],oe=Z===z?u.stops[Z].color:o.A.blendColors(u.stops[Z].color,u.stops[z].color,D[2],null!=h?h.color:void 0);return new o.A(oe)}}}function $(i,c,h){const u="visualVariables"in i&&i.visualVariables?i.visualVariables.find(D=>"opacity"===D.type):i;if(!u)return;if("esri.renderers.visualVariables.OpacityVariable"!==u.declaredClass)return void E().warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const g="number"==typeof c,C=g?null:c,v=null==C?void 0:C.attributes;let F=g?c:null;const K=u.field,{ipData:O,hasExpression:s}=u.cache;let l=u.cache.compiledFunc;if(!K&&!s){const D=u.stops;return D&&D[0]&&D[0].opacity}if("number"!=typeof F)if(s){if(null==(null==h?void 0:h.arcade))return void E().error("Use of arcade expressions requires an arcade context");const Z=h.arcade.arcadeUtils,z=Z.getViewInfo({viewingMode:h.viewingMode,scale:h.scale,spatialReference:h.spatialReference}),oe=Z.createExecContext(C,z,h.timeZone);if(!l){const a=Z.createSyntaxTree(u.valueExpression);l=Z.createFunction(a),u.cache.compiledFunc=l}F=Z.executeFunction(l,oe)}else v&&(F=v[K]);const m=u.normalizationField,j=null!=v&&null!=m?parseFloat(v[m]):void 0;if(null!=F&&(!m||g||!isNaN(j)&&0!==j)){isNaN(j)||g||(F/=j);const D=d(F,O);if(D){const Z=D[0],z=D[1];if(Z===z)return u.stops[Z].opacity;{const oe=u.stops[Z].opacity;return oe+(u.stops[z].opacity-oe)*D[2]}}}}function N(i,c,h){const u="visualVariables"in i&&i.visualVariables?i.visualVariables.find(j=>"rotation"===j.type):i;if(!u)return;if("esri.renderers.visualVariables.RotationVariable"!==u.declaredClass)return void E().warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const g=u.axis||"heading",C="heading"===g&&"arithmetic"===u.rotationType?90:0,v="heading"===g&&"arithmetic"===u.rotationType?-1:1,F="number"==typeof c?null:c,K=null==F?void 0:F.attributes,O=u.field,{hasExpression:s}=u.cache;let l=u.cache.compiledFunc,m=0;if(!O&&!s)return m;if(s){if(null==(null==h?void 0:h.arcade))return void E().error("Use of arcade expressions requires an arcade context");const D=h.arcade.arcadeUtils,Z=D.getViewInfo({viewingMode:h.viewingMode,scale:h.scale,spatialReference:h.spatialReference}),z=D.createExecContext(F,Z,h.timeZone);if(!l){const oe=D.createSyntaxTree(u.valueExpression);l=D.createFunction(oe),u.cache.compiledFunc=l}m=D.executeFunction(l,z)}else K&&(m=K[O]||0);return m="number"!=typeof m||isNaN(m)?null:C+v*m,m}function H(i,c,h){const u="visualVariables"in i&&i.visualVariables?i.visualVariables.find(C=>"size"===C.type):i;if(!u)return;if("esri.renderers.visualVariables.SizeVariable"!==u.declaredClass)return void E().warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const g=x(function q(i,c,h){const u="number"==typeof c,g=u?null:c,C=null==g?void 0:g.attributes;let v=u?c:null;const{isScaleDriven:F}=i.cache;let K=i.cache.compiledFunc;if(F){const s=null!=h?h.scale:void 0;v=null==s||"3d"===(null!=h?h.view:void 0)?function k(i){let c=null,h=null;const u=i.stops;return u?(c=u[0].value,h=u[u.length-1].value):(c=i.minDataValue||0,h=i.maxDataValue||0),(c+h)/2}(i):s}else if(!u)switch(i.inputValueType){case S.Yf.Expression:{if(null==(null==h?void 0:h.arcade))return void E().error("Use of arcade expressions requires an arcade context");const l=h.arcade.arcadeUtils,m=l.getViewInfo({viewingMode:h.viewingMode,scale:h.scale,spatialReference:h.spatialReference}),j=l.createExecContext(g,m,h.timeZone);if(!K){const D=l.createSyntaxTree(i.valueExpression);K=l.createFunction(D),i.cache.compiledFunc=K}v=l.executeFunction(K,j);break}case S.Yf.Field:C&&(v=C[i.field]);break;case S.Yf.Unknown:v=null}if(!(0,S.gf)(v))return null;if(u||!i.normalizationField)return v;const O=C?parseFloat(C[i.normalizationField]):null;return(0,S.gf)(O)&&0!==O?v/O:null}(u,c,h),u,c,h,u.cache.ipData);return null==g||isNaN(g)?0:g}function J(i,c,h){return null==i?null:(0,S.of)(i)?H(i,c,h):(0,S.gf)(i)?i:null}function se(i,c,h){return(0,S.gf)(h)&&i>h?h:(0,S.gf)(c)&&i<c?c:i}function x(i,c,h,u,g){switch(c.transformationType){case S._w.Additive:return function te(i,c,h,u){var g;return i+(null!==(g=J(c.minSize,h,u)||c.minDataValue)&&void 0!==g?g:0)}(i,c,h,u);case S._w.Constant:return function re(i,c,h){const u=i.stops;let g=(null==u?void 0:u.length)&&u[0].size;return null==g&&(g=i.minSize),J(g,c,h)}(c,h,u);case S._w.ClampedLinear:return function ee(i,c,h,u){const g=(i-c.minDataValue)/(c.maxDataValue-c.minDataValue),C=J(c.minSize,h,u),v=J(c.maxSize,h,u),F=null!=u?u.shape:void 0;if(i<=c.minDataValue)return C;if(i>=c.maxDataValue)return v;if(null==C||null==v)return null;if("area"===c.scaleBy&&F){const K="circle"===F,O=K?V*(C/2)**2:C*C,s=O+g*((K?V*(v/2)**2:v*v)-O);return K?2*Math.sqrt(s/V):Math.sqrt(s)}return C+g*(v-C)}(i,c,h,u);case S._w.Proportional:return function B(i,c,h,u){const g=null!=u?u.shape:void 0,C=i/c.minDataValue,v=J(c.minSize,h,u),F=J(c.maxSize,h,u);let K=null;return K="circle"===g?2*Math.sqrt(C*(v/2)**2):"square"===g||"diamond"===g||"image"===g?Math.sqrt(C*v**2):C*v,se(K,v,F)}(i,c,h,u);case S._w.Stops:return function A(i,c,h,u,g){var C;const[v,F,K]=d(i,g);if(v===F)return J(null===(C=c.stops)||void 0===C?void 0:C[v].size,h,u);{var O,s;const l=J(null===(O=c.stops)||void 0===O?void 0:O[v].size,h,u);return l+(J(null===(s=c.stops)||void 0===s?void 0:s[F].size,h,u)-l)*K}}(i,c,h,u,g);case S._w.RealWorldSize:return function R(i,c,h,u){var g;const C=(null!==(g=null==u?void 0:u.resolution)&&void 0!==g?g:1)*b.j[c.valueUnit],v=J(c.minSize,h,u),F=J(c.maxSize,h,u),{valueRepresentation:K}=c;let O=null;return O="area"===K?2*Math.sqrt(i/V)/C:"radius"===K||"distance"===K?2*i/C:i/C,se(O,v,F)}(i,c,h,u);case S._w.Identity:return i;case S._w.Unknown:return null}}function W(i,c,h){const{isScaleDriven:u}=i.cache;if(!(u&&"3d"===h||c))return null;const g={scale:c,view:h};let C=J(i.minSize,T,g),v=J(i.maxSize,T,g);if(null!=C||null!=v){if(C>v){const F=v;v=C,C=F}return{minSize:C,maxSize:v}}}function _(i,c,h){if(!i.visualVariables)return;const u=[],g=[],C=[],v=[],F=[];for(const K of i.visualVariables)switch(K.type){case"color":g.push(K);break;case"opacity":C.push(K);break;case"rotation":F.push(K);break;case"size":v.push(K)}return g.forEach(K=>{const O=w(K,c,h);u.push({variable:K,value:O})}),C.forEach(K=>{const O=$(K,c,h);u.push({variable:K,value:O})}),F.forEach(K=>{const O=N(K,c,h);u.push({variable:K,value:O})}),v.forEach(K=>{const O=H(K,c,h);u.push({variable:K,value:O})}),u.filter(K=>null!=K.value)}function d(i,c){if(!c)return;let h=0,u=c.length-1;return c.some((g,C)=>i<g?(u=C,!0):(h=C,!1)),[h,u,(i-c[h])/(c[u]-c[h])]}function f(i,c,h){const u=["proportional","proportional","proportional"];for(const g of i){const C=g.useSymbolValue?"symbol-value":H(g,c,h);switch(g.axis){case"width":u[0]=C;break;case"depth":u[1]=C;break;case"height":u[2]=C;break;case"width-and-depth":u[0]=C,u[1]=C;break;case"all":case void 0:case null:u[0]=C,u[1]=C,u[2]=C;break;default:(0,P.Xb)(g.axis)}}return u}},11029:(ie,G,e)=>{e.d(G,{A:()=>w});var V,o=e(8189),p=e(68677),P=e(77806),L=e(85211),b=e(55739),S=e(15463),E=e(76576),T=e(3678);let I=V=class extends T.A{constructor($){super($),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new V({fromColor:(0,P.o8)(this.fromColor),toColor:(0,P.o8)(this.toColor),algorithm:this.algorithm})}};(0,o._)([(0,S.e)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],I.prototype,"algorithm",void 0),(0,o._)([(0,L.MZ)({type:p.A,json:{type:[b.jz],write:!0}})],I.prototype,"fromColor",void 0),(0,o._)([(0,L.MZ)({type:p.A,json:{type:[b.jz],write:!0}})],I.prototype,"toColor",void 0),(0,o._)([(0,L.MZ)({type:["algorithmic"]})],I.prototype,"type",void 0),I=V=(0,o._)([(0,E.$)("esri.rest.support.AlgorithmicColorRamp")],I);const w=I},3678:(ie,G,e)=>{e.d(G,{A:()=>V});var o=e(8189),p=e(71065),P=e(85211),E=(e(3248),e(35150),e(40707),e(76576));let T=class extends p.oY{constructor(I){super(I),this.type=null}};(0,o._)([(0,P.MZ)({readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=(0,o._)([(0,E.$)("esri.rest.support.ColorRamp")],T);const V=T},53754:(ie,G,e)=>{e.d(G,{A:()=>w});var V,o=e(8189),p=e(77806),P=e(85211),S=(e(3248),e(35150),e(76576)),E=e(11029),T=e(3678);let I=V=class extends T.A{constructor($){super($),this.colorRamps=null,this.type="multipart"}clone(){return new V({colorRamps:(0,p.o8)(this.colorRamps)})}};(0,o._)([(0,P.MZ)({type:[E.A],json:{write:!0}})],I.prototype,"colorRamps",void 0),(0,o._)([(0,P.MZ)({type:["multipart"]})],I.prototype,"type",void 0),I=V=(0,o._)([(0,S.$)("esri.rest.support.MultipartColorRamp")],I);const w=I},54485:(ie,G,e)=>{e.d(G,{g:()=>L,r:()=>b});var o=e(11029),p=e(3678),P=e(53754);const L={key:"type",base:p.A,typeMap:{algorithmic:o.A,multipart:P.A}};function b(S){return null!=S&&S.type?"algorithmic"===S.type?o.A.fromJSON(S):"multipart"===S.type?P.A.fromJSON(S):null:null}},12089:(ie,G,e)=>{e.d(G,{Vd:()=>p,Vo:()=>V});var o=e(3248);const p=()=>!!(0,o.A)("enable-feature:force-wosr"),V=()=>!!(0,o.A)("enable-feature:SceneLayer-editing");((N="i3s-patching")=>{switch(o.A.add("enable-i3s-patching",!1,!0,!0),o.A.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),o.A.add("enable-feature:SceneLayer-editing",!0,!0,!0),N){case"feature-layer-view":o.A.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":o.A.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},35564:(ie,G,e)=>{e.d(G,{rS:()=>B,M9:()=>se,oO:()=>te});var o=e(47280),p=e(5922),P=e(58443),L=e(32713),b=e(75549),S=e(25613),E=e(55417),T=e(18399),V=e(46602),I=e(65824),w=e(88521),$=e(64484),N=e(27093),q=e(47705),k=e(6241);const H={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function se(A,R,Y,x){const W=ee(A,{},{context:x,isLabelSymbol:!1});null!=W&&(R[Y]=W)}function te(A,R,Y,x){const W=ee(A,{},{context:x,isLabelSymbol:!0});null!=W&&(R[Y]=W)}function re(A){return A instanceof L.A||A instanceof b.A}function ee(A,R,Y){if(null==A)return null;const{context:x,isLabelSymbol:W}=Y,_=null==x?void 0:x.origin,d=null==x?void 0:x.messages;if("web-scene"===_&&!re(A)){const f=function J(A,R=H){if(!A)return{symbol:null};const{retainId:Y=H.retainId,ignoreDrivers:x=H.ignoreDrivers,hasLabelingContext:W=H.hasLabelingContext,retainCIM:_=H.retainCIM}=R;let d=null;if((0,o.wk)(A)||A instanceof b.A)d=A.clone();else if("cim"===A.type){var f;const i=null===(f=A.data)||void 0===f||null===(f=f.symbol)||void 0===f?void 0:f.type;if("CIMPointSymbol"!==i)return{error:new p.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${i||"unknown"}' is unsupported in 3D`,{symbol:A})};d=_?A.clone():S.A.fromCIMSymbol(A)}else if(A instanceof E.A)d=T.A.fromSimpleLineSymbol(A);else if(A instanceof V.A)d=S.A.fromSimpleMarkerSymbol(A);else if(A instanceof I.A)d=S.A.fromPictureMarkerSymbol(A);else if(A instanceof w.A)d=R.geometryType&&"mesh"===R.geometryType?$.A.fromSimpleFillSymbol(A):N.A.fromSimpleFillSymbol(A);else{if(!(A instanceof q.A))return{error:new p.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${A.type||A.declaredClass}' is unsupported in 3D`,{symbol:A})};d=W?k.A.fromTextSymbol(A):S.A.fromTextSymbol(A)}return Y&&d&&"cim"!==d.type&&(d.id=A.id),x&&(0,o.wk)(d)&&d.symbolLayers.forEach(i=>i.ignoreDrivers=!0),{symbol:d}}(A,{retainCIM:!0,hasLabelingContext:W});return null!=f.symbol?f.symbol.write(R,x):(null!=d&&d.push(new p.A("symbol:unsupported",`Symbols of type '${A.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:A,context:x,error:f.error})),null)}return("web-map"===_||"portal-item"===_&&!(0,P.TU)(null==x?void 0:x.layer))&&re(A)?(null!=d&&d.push(new p.A("symbol:unsupported",`Symbols of type '${A.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:A,context:x})),null):A.write(R,x)}function B(A,R){return(0,o.Bu)(A,null,R)}},90288:(ie,G,e)=>{e.d(G,{bo:()=>H,cF:()=>k,jg:()=>ee,o5:()=>J,yA:()=>se});var o=e(10467),p=e(89563),P=e(5922),L=e(56492),b=e(45272),S=e(73874),E=e(12629),T=e(12089);let V={};function w(){return(w=(0,o.A)(function*(B,A){try{return{data:(yield se(B,A)).data,baseUrl:(0,b.nM)(B),styleUrl:B}}catch(R){return(0,L.QP)(R),null}})).apply(this,arguments)}function k(B,A,R){return null!=(null==B?void 0:B.styleUrl)?function I(B,A){return w.apply(this,arguments)}(B.styleUrl,R):null!=(null==B?void 0:B.styleName)?function $(B,A,R){const Y=null!=A.portal?A.portal:S.A.getDefault();let x;const W=`${Y.url} - ${Y.user&&Y.user.username} - ${B}`;return V[W]||(V[W]=function q(B,A,R){return A.load(R).then(()=>{const Y=new E.A({disableExtraQuery:!0,query:`owner:${te} AND type:${re} AND typekeywords:"${B}"`});return A.queryItems(Y,R)}).then(({results:Y})=>{let x=null;const W=B.toLowerCase();if(Y&&Array.isArray(Y))for(const d of Y){var _;if((null===(_=d.typeKeywords)||void 0===_?void 0:_.some(i=>i.toLowerCase()===W))&&d.type===re&&d.owner===te){x=d;break}}if(!x)throw new P.A("symbolstyleutils:style-not-found",`The style '${B}' could not be found`,{styleName:B});return x.load(R)})}(B,Y,R).then(_=>(x=_,_.fetchData())).then(_=>{var d;return{data:_,baseUrl:null!==(d=x.itemUrl)&&void 0!==d?d:"",styleName:B}})),V[W]}(B.styleName,A,R):Promise.reject(new P.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function H(B){return null===B||"CIMSymbolReference"===B.type?B:{type:"CIMSymbolReference",symbol:B}}function J(B,A,R=["gltf"]){if("cimRef"===A)return B.cimRef;if(B.formatInfos&&!(0,T.Vd)())for(const Y of R){const x=B.formatInfos.find(W=>W.type===Y);if(x)return x.href}return B.webRef}function se(B,A){const R={responseType:"json",query:{f:"json"},...A};return(0,p.A)((0,b.S8)(B),R)}const te="esri_en",re="Style",ee="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"}}]);