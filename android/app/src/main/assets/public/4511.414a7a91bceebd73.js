"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4511],{94511:(U,Z,n)=>{n.r(Z),n.d(Z,{default:()=>$});var x=n(10467),e=n(8189),C=n(31555),y=n(68677),A=n(90660),j=n(71065),f=n(67685),i=n(85211),h=n(55739),m=(n(40707),n(3248),n(76576));let l=class extends((0,j.Te)(A.P)){constructor(t){super(t),this.type="simple",this.color=new y.A("black"),this.lineSize=2,this.fontSize=10,this.textColor=new y.A("black"),this.textBackgroundColor=new y.A([255,255,255,.6])}};(0,e._)([(0,i.MZ)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),(0,e._)([(0,i.MZ)({type:y.A,nonNullable:!0,json:{type:[h.jz],write:{isRequired:!0}}})],l.prototype,"color",void 0),(0,e._)([(0,i.MZ)({type:Number,cast:f.cr,nonNullable:!0,range:{min:(0,f.PN)(1)},json:{write:{isRequired:!0}}})],l.prototype,"lineSize",void 0),(0,e._)([(0,i.MZ)({type:Number,cast:f.cr,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,"fontSize",void 0),(0,e._)([(0,i.MZ)({type:y.A,nonNullable:!0,json:{type:[h.jz],write:{isRequired:!0}}})],l.prototype,"textColor",void 0),(0,e._)([(0,i.MZ)({type:y.A,nonNullable:!0,json:{type:[h.jz],write:{isRequired:!0}}})],l.prototype,"textBackgroundColor",void 0),l=(0,e._)([(0,m.$)("esri.analysis.DimensionSimpleStyle")],l);const M=l;var d,t;n(21152),(t=d||(d={})).Horizontal="horizontal",t.Vertical="vertical",t.Direct="direct";const D=[d.Horizontal,d.Vertical,d.Direct];var L=n(73596),E=n(48669),N=n(13303);let a=class extends((0,j.Te)(A.P)){constructor(t){super(t),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=d.Direct,this.offset=0,this.orientation=0}};(0,e._)([(0,i.MZ)({type:["length"],json:{write:{isRequired:!0}}})],a.prototype,"type",void 0),(0,e._)([(0,i.MZ)({type:N.A,json:{write:!0}})],a.prototype,"startPoint",void 0),(0,e._)([(0,i.MZ)({type:N.A,json:{write:!0}})],a.prototype,"endPoint",void 0),(0,e._)([(0,i.MZ)({type:D,nonNullable:!0,json:{write:{isRequired:!0}}})],a.prototype,"measureType",void 0),(0,e._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],a.prototype,"offset",void 0),(0,e._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,E.w)(t=>L.ie.normalize((0,h.GB)(t),0,!0))],a.prototype,"orientation",void 0),a=(0,e._)([(0,m.$)("esri.analysis.LengthDimension")],a);const R=a;var O=n(31178),w=n(5605),v=n(48900),S=(n(35150),n(28067)),T=n(11817);const P=O.A.ofType(R);let p=class extends C.A{constructor(t){super(t),this.type="dimension",this.style=new M,this.extent=null}initialize(){this.addHandles((0,v.wB)(()=>this._computeExtent(),t=>{null==(null==t?void 0:t.pending)&&this._set("extent",null!=t?t.extent:null)},v.pc))}get dimensions(){return this._get("dimensions")||new P}set dimensions(t){this._set("dimensions",(0,w.V)(t,this.dimensions,P))}get spatialReference(){for(const t of this.dimensions){if(null!=t.startPoint)return t.startPoint.spatialReference;if(null!=t.endPoint)return t.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce((t,o)=>(t.push(o.startPoint,o.endPoint),t),[])}waitComputeExtent(){var t=this;return(0,x.A)(function*(){const o=t._computeExtent();return null!=o?o.pending:Promise.resolve()})()}_computeExtent(){const t=this.spatialReference;if(null==t)return{pending:null,extent:null};const o=[];for(const r of this.dimensions)null!=r.startPoint&&o.push(r.startPoint),null!=r.endPoint&&o.push(r.endPoint);const u=(0,T.projectOrLoadMany)(o,t);if(null!=u.pending)return{pending:u.pending,extent:null};let g=null;return null!=u.geometries&&(g=u.geometries.reduce((r,c)=>null==r?null!=c?S.A.fromPoint(c):null:null!=c?r.union(S.A.fromPoint(c)):r,null)),{pending:null,extent:g}}clear(){this.dimensions.removeAll()}};(0,e._)([(0,i.MZ)({type:["dimension"]})],p.prototype,"type",void 0),(0,e._)([(0,i.MZ)({cast:w.H,type:P,nonNullable:!0})],p.prototype,"dimensions",null),(0,e._)([(0,i.MZ)({readOnly:!0})],p.prototype,"spatialReference",null),(0,e._)([(0,i.MZ)({types:{key:"type",base:null,typeMap:{simple:M}},nonNullable:!0})],p.prototype,"style",void 0),(0,e._)([(0,i.MZ)({value:null,readOnly:!0})],p.prototype,"extent",void 0),(0,e._)([(0,i.MZ)({readOnly:!0})],p.prototype,"requiredPropertiesForEditing",null),p=(0,e._)([(0,m.$)("esri.analysis.DimensionAnalysis")],p);const z=p;var B=n(39693),G=n(50305),H=n(95478),J=n(17049);let s=class extends((0,J.q)((0,B.P)(H.A))){constructor(t){if(super(t),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new z,this.opacity=1,t){const{source:o,style:u}=t;o&&u&&(o.style=u)}}initialize(){this.addHandles([(0,v.wB)(()=>this.source,(t,o)=>{null!=o&&o.parent===this&&(o.parent=null),null!=t&&(t.parent=this)},v.pc)])}load(){var t=this;return(0,x.A)(function*(){return t.addResolvingPromise(t.source.waitComputeExtent()),t})()}get spatialReference(){return this.source.spatialReference}get style(){return this.source.style}set style(t){this.source.style=t}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new z)}get analysis(){return this.source}set analysis(t){this.source=t}get dimensions(){return this.source.dimensions}set dimensions(t){this.source.dimensions=t}writeDimensions(t,o,u,g){o.dimensions=t.filter(({startPoint:r,endPoint:c})=>null!=r&&null!=c).map(r=>r.toJSON(g)).toJSON()}};(0,e._)([(0,i.MZ)({json:{read:!1},readOnly:!0})],s.prototype,"type",void 0),(0,e._)([(0,i.MZ)({type:["ArcGISDimensionLayer"]})],s.prototype,"operationalLayerType",void 0),(0,e._)([(0,i.MZ)({nonNullable:!0})],s.prototype,"source",void 0),(0,e._)([(0,i.MZ)({readOnly:!0})],s.prototype,"spatialReference",null),(0,e._)([(0,i.MZ)({types:{key:"type",base:null,typeMap:{simple:M}},json:{write:{ignoreOrigin:!0}}})],s.prototype,"style",null),(0,e._)([(0,i.MZ)({readOnly:!0})],s.prototype,"fullExtent",null),(0,e._)([(0,i.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],s.prototype,"opacity",void 0),(0,e._)([(0,i.MZ)({type:["show","hide"]})],s.prototype,"listMode",void 0),(0,e._)([(0,i.MZ)({type:O.A.ofType(R),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],s.prototype,"dimensions",null),(0,e._)([(0,G.K)("web-scene","dimensions")],s.prototype,"writeDimensions",null),s=(0,e._)([(0,m.$)("esri.layers.DimensionLayer")],s);const $=s}}]);